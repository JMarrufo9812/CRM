{"version":3,"sources":["webpack:///./node_modules/vuetify-loader/lib/runtime/installDirectives.js","webpack:///./src/components/contacts/ModalContact.vue?17d3","webpack:///src/components/contacts/ModalContact.vue","webpack:///./src/components/contacts/ModalContact.vue?6aaa","webpack:///./src/components/contacts/ModalContact.vue","webpack:///./src/mixins/customFieldsMixin.js","webpack:///./src/graphql/mutations/customFieldsMutations.js"],"names":["module","exports","component","directives","options","extendOptions","i","render","_vm","this","_h","$createElement","_c","_self","attrs","model","value","modalHandler","callback","$$v","$set","expression","staticClass","_v","$can","CUSTOM_FIELDS_MANAGEMENT","PERMISSIONS_SETTINGS","scopedSlots","_u","key","fn","ref","on","_g","$event","modalHandlerCustomFields","isOpen","isLoading","isEdit","_e","close","name","rawName","modifiers","isValidate","_l","input","index","isScrolled","scrolled","outData","modalCustomField","createCustomField","staticRenderFns","props","required","type","Object","default","inputs","Array","components","Fields","ModalCustomField","mixins","customFieldsMixin","data","contact","watch","resetValues","methods","onScroll","existCustomFields","cleanInputs","push","$refs","formContact","validate","$emit","resetValidation","reset","VBtn","VCard","VCardActions","VCardText","VCardTitle","VCol","VDialog","VForm","VIcon","VList","VListItem","VMenu","VRow","Scroll","isUpdateInputs","forForm","label","items","isRequired","$apollo","mutate","mutation","CREATE_CUSTOM_FIELD","variables","isMultiple","update","store","isImportModal","id","typeInput","labelInput","newCustomInput","isSelect","isDefault","then","catch","error","modalHandlerError","gql","UPDATE_ORDER_INPUTS","UPDATE_INPUT","DELETE_INPUT"],"mappings":"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","file":"js/chunk-980fca3c.9ae578d1.js","sourcesContent":["// IMPORTANT: Do NOT use ES2015 features in this file (except for modules).\n// This module is a runtime utility for cleaner component module output and will\n// be included in the final webpack user bundle.\n\nmodule.exports = function installDirectives (component, directives) {\n  var options = typeof component.exports === 'function'\n    ? component.exports.extendOptions\n    : component.options\n\n  if (typeof component.exports === 'function') {\n    options.directives = component.exports.options.directives\n  }\n\n  options.directives = options.directives || {}\n\n  for (var i in directives) {\n    options.directives[i] = options.directives[i] || directives[i]\n  }\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-row',[_c('v-dialog',{attrs:{\"width\":\"400\",\"scrollable\":\"\",\"persistent\":\"\"},model:{value:(_vm.modalHandler.isOpen),callback:function ($$v) {_vm.$set(_vm.modalHandler, \"isOpen\", $$v)},expression:\"modalHandler.isOpen\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"primary d-flex justify-space-between py-6\"},[_c('span',{staticClass:\"white--text ml-9\"},[_vm._v(\" Agregar Contacto \")]),_c('div',[(_vm.$can(_vm.CUSTOM_FIELDS_MANAGEMENT, _vm.PERMISSIONS_SETTINGS))?_c('v-menu',{scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-icon',_vm._g({staticClass:\"white--text mr-4\",attrs:{\"small\":\"\"}},on),[_vm._v(\" mdi-cog \")])]}}],null,false,1915171085)},[_c('v-list',[_c('v-list-item',{on:{\"click\":function($event){return _vm.modalHandlerCustomFields({\n                    isOpen: true,\n                    isLoading: false,\n                    isEdit: false,\n                  })}}},[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\"mdi-text-box-plus-outline\")]),_vm._v(\" Agregar campo \")],1),_c('v-list-item',{attrs:{\"to\":\"/settings/enterprise/custom-fields/contacts\"}},[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\"mdi-clipboard-edit-outline\")]),_vm._v(\" Editar campos \")],1)],1)],1):_vm._e(),_c('v-icon',{staticClass:\"white--text\",on:{\"click\":_vm.close}},[_vm._v(\" mdi-close \")])],1)]),_c('v-card-text',{directives:[{name:\"scroll\",rawName:\"v-scroll.self\",value:(_vm.onScroll),expression:\"onScroll\",modifiers:{\"self\":true}}],staticClass:\"pt-6\"},[_c('v-form',{ref:\"formContact\",model:{value:(_vm.isValidate),callback:function ($$v) {_vm.isValidate=$$v},expression:\"isValidate\"}},[_c('v-row',_vm._l((_vm.inputs),function(input,index){return _c('v-col',{key:index,attrs:{\"cols\":\"12\"}},[_c('Fields',{attrs:{\"field\":input,\"resetHandler\":_vm.modalHandler.isOpen,\"isScrolled\":_vm.isScrolled},on:{\"scrolled\":_vm.scrolled}})],1)}),1)],1)],1),_c('v-card-actions',{staticClass:\"d-flex justify-space-between mx-2 my-2\"},[_c('v-btn',{attrs:{\"width\":\"45%\",\"large\":\"\",\"outlined\":\"\",\"color\":\"primary\"},on:{\"click\":_vm.close}},[_vm._v(\" Cancelar \")]),_c('v-btn',{attrs:{\"width\":\"45%\",\"large\":\"\",\"normal\":\"\",\"color\":\"secondary\",\"loading\":_vm.modalHandler.isLoading},on:{\"click\":_vm.outData}},[_vm._v(\" Agregar \")])],1)],1)],1),_c('ModalCustomField',{attrs:{\"forForm\":'CONTACT',\"modalHandler\":_vm.modalCustomField},on:{\"outData\":_vm.createCustomField,\"close\":_vm.modalHandlerCustomFields}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-row>\n    <v-dialog v-model=\"modalHandler.isOpen\" width=\"400\" scrollable persistent>\n      <v-card>\n        <v-card-title class=\"primary d-flex justify-space-between py-6\">\n          <span class=\"white--text ml-9\">\n            Agregar Contacto\n          </span>\n          <div>\n            <v-menu v-if=\"$can(CUSTOM_FIELDS_MANAGEMENT, PERMISSIONS_SETTINGS)\">\n              <template v-slot:activator=\"{ on }\">\n                <v-icon small class=\"white--text mr-4\" v-on=\"on\">\n                  mdi-cog\n                </v-icon>\n              </template>\n              <v-list>\n                <v-list-item\n                  @click=\"\n                    modalHandlerCustomFields({\n                      isOpen: true,\n                      isLoading: false,\n                      isEdit: false,\n                    })\n                  \"\n                >\n                  <v-icon left>mdi-text-box-plus-outline</v-icon>\n                  Agregar campo\n                </v-list-item>\n                <v-list-item to=\"/settings/enterprise/custom-fields/contacts\">\n                  <v-icon left>mdi-clipboard-edit-outline</v-icon>\n                  Editar campos\n                </v-list-item>\n              </v-list>\n            </v-menu>\n\n            <v-icon @click=\"close\" class=\"white--text\">\n              mdi-close\n            </v-icon>\n          </div>\n        </v-card-title>\n        <v-card-text class=\"pt-6\" v-scroll.self=\"onScroll\">\n          <v-form ref=\"formContact\" v-model=\"isValidate\">\n            <v-row>\n              <v-col cols=\"12\" v-for=\"(input, index) in inputs\" :key=\"index\">\n                <Fields\n                  :field=\"input\"\n                  :resetHandler=\"modalHandler.isOpen\"\n                  :isScrolled=\"isScrolled\"\n                  @scrolled=\"scrolled\"\n                />\n              </v-col>\n            </v-row>\n          </v-form>\n        </v-card-text>\n        <v-card-actions class=\"d-flex justify-space-between mx-2 my-2\">\n          <v-btn width=\"45%\" large outlined color=\"primary\" @click=\"close\">\n            Cancelar\n          </v-btn>\n          <v-btn\n            width=\"45%\"\n            large\n            normal\n            color=\"secondary\"\n            @click=\"outData\"\n            :loading=\"modalHandler.isLoading\"\n          >\n            Agregar\n          </v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n    <ModalCustomField\n      :forForm=\"'CONTACT'\"\n      :modalHandler=\"modalCustomField\"\n      @outData=\"createCustomField\"\n      @close=\"modalHandlerCustomFields\"\n    />\n  </v-row>\n</template>\n\n<script>\nimport { customFieldsMixin } from '@/mixins/customFieldsMixin';\nimport { CUSTOM_FIELDS_MANAGEMENT } from '@/constants/methods';\nimport { PERMISSIONS_SETTINGS } from '@/constants/permissions';\n\nexport default {\n  name: 'ModalContact',\n  props: {\n    modalHandler: {\n      required: true,\n      type: Object,\n      default: () => {\n        return { isOpen: false, isLoading: false };\n      },\n    },\n    inputs: {\n      required: true,\n      type: Array,\n      default: () => {\n        return {};\n      },\n    },\n  },\n  components: {\n    Fields: () => import('@/components/fields/Fields.vue'),\n    ModalCustomField: () =>\n      import('@/components/customFields/ModalCustomField.vue'),\n  },\n  mixins: [customFieldsMixin],\n  data() {\n    return {\n      isValidate: '',\n      contact: {},\n      isScrolled: false,\n      PERMISSIONS_SETTINGS,\n      CUSTOM_FIELDS_MANAGEMENT,\n    };\n  },\n  watch: {\n    modalHandler(value) {\n      if (!value.isOpen) {\n        this.resetValues();\n      } else {\n        this.isScrolled = false;\n      }\n    },\n  },\n  methods: {\n    scrolled(value) {\n      this.isScrolled = value;\n    },\n    onScroll() {\n      this.isScrolled = true;\n    },\n    outData() {\n      let inputs = [...this.inputs];\n      const existCustomFields = this.inputs.some((input) => !input.keyInput);\n      if (existCustomFields) {\n        const customForms = inputs\n          .filter((input) => !input.keyInput)\n          .map(({ id, value }) => {\n            return { id, value };\n          });\n        const cleanInputs = inputs.filter((input) => input.keyInput);\n        // eslint-disable-next-line\n        inputs = cleanInputs;\n        inputs.push({ keyInput: 'customForms', value: customForms });\n      }\n      // arma un nuevo Arreglo con el keyInput y el value\n      inputs\n        .filter(({ value }) => value !== undefined && value !== '')\n        .forEach(({ keyInput, value }) => {\n          this.contact[keyInput] = value;\n        });\n      this.$refs.formContact.validate();\n      if (this.isValidate) {\n        this.$emit('outData', this.contact);\n      }\n    },\n    close() {\n      this.$emit('close', { isOpen: false, isLoading: false });\n    },\n    resetValues() {\n      this.contact = {};\n      this.$refs.formContact.resetValidation();\n      this.$refs.formContact.reset();\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/@vue/cli-plugin-babel/node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ModalContact.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/@vue/cli-plugin-babel/node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ModalContact.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ModalContact.vue?vue&type=template&id=214fd4de&\"\nimport script from \"./ModalContact.vue?vue&type=script&lang=js&\"\nexport * from \"./ModalContact.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\nimport { VRow } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VCardTitle,VCol,VDialog,VForm,VIcon,VList,VListItem,VMenu,VRow})\n\n\n/* vuetify-loader */\nimport installDirectives from \"!../../../node_modules/vuetify-loader/lib/runtime/installDirectives.js\"\nimport Scroll from 'vuetify/lib/directives/scroll'\ninstallDirectives(component, {Scroll})\n","import { CREATE_CUSTOM_FIELD } from '@/graphql/mutations/customFieldsMutations';\n// import { GET_FORM } from '@/graphql/querys/formsQuery';\n\nexport const customFieldsMixin = {\n  data() {\n    return {\n      isUpdateInputs: false,\n      modalCustomField: {\n        isOpen: false,\n        isLoading: false,\n        isEdit: false,\n      },\n    };\n  },\n  components: {\n    Fields: () => import('@/components/fields/Fields.vue'),\n    ModalCustomField: () =>\n      import('@/components/customFields/ModalCustomField.vue'),\n  },\n  methods: {\n    modalHandlerCustomFields({ isOpen, isLoading, isEdit }) {\n      this.modalCustomField = { isOpen, isLoading, isEdit };\n    },\n    createCustomField(forForm, { type, label, items, isRequired }) {\n      this.modalHandlerCustomFields({\n        isOpen: true,\n        isLoading: true,\n        isEdit: false,\n      });\n      this.$apollo\n        .mutate({\n          mutation: CREATE_CUSTOM_FIELD,\n          variables: {\n            forForm,\n            input: {\n              type,\n              label,\n              items,\n              isRequired,\n              isMultiple: false,\n            },\n          },\n          update: (store, { data: { createCustomField } }) => {\n            // const data = store.readQuery({\n            //   query: GET_FORM,\n            //   variables: {\n            //     type: forForm,\n            //   },\n            // });\n            // if (!data.getForm.customForm.inputs)\n            //   data.getForm.customForm.inputs = [];\n            // data.getForm.customForm.inputs.push(createCustomField);\n            // store.writeQuery({\n            //   query: GET_FORM,\n            //   variables: {\n            //     type: forForm,\n            //   },\n            //   data,\n            // });\n            // update array inputs modals\n            if (this.inputs && !this.isImportModal) {\n              this.inputs.push(createCustomField);\n            }\n            if (this.inputs && this.isImportModal) {\n              const {\n                id,\n                type: typeInput,\n                label: labelInput,\n              } = createCustomField;\n\n              const newCustomInput = {\n                label: labelInput,\n                key: id,\n                isSelect: false,\n                isDefault: false,\n                type: typeInput,\n              };\n\n              this.inputs.push(newCustomInput);\n            }\n          },\n        })\n        .then(() => {\n          this.modalHandlerCustomFields({\n            isOpen: false,\n            isLoading: false,\n            isEdit: false,\n          });\n          this.isUpdateInputs = true;\n        })\n        .catch(() => {\n          const error =\n            'No se pudo actualizar los campos, intente de nuevo o contacte a soporte';\n          this.modalHandlerError({ isOpen: true, error });\n        });\n    },\n  },\n};\n","import gql from 'graphql-tag';\n\nexport const CREATE_CUSTOM_FIELD = gql`\n  mutation CreateCustomFields($forForm: typeForm!, $input: CreateCustomInput!) {\n    createCustomField(forForm: $forForm, input: $input) {\n      id\n      order\n      label\n      icon\n      type\n      items\n      isRequired\n      isMultiple\n    }\n  }\n`;\n\nexport const UPDATE_ORDER_INPUTS = gql`\n  mutation UpdateOrderInputs($forForm: typeForm!, $inputs: [UpdateOrder!]!) {\n    updateOrderInputs(forForm: $forForm, inputs: $inputs) {\n      forForm\n      defaultForm {\n        id\n        inputs {\n          id\n          label\n          order\n        }\n      }\n      customForm {\n        id\n        inputs {\n          id\n          label\n          order\n        }\n      }\n    }\n  }\n`;\n\nexport const UPDATE_INPUT = gql`\n  mutation UpdateCustomField($input: UpdateCustomInput!) {\n    updateCustomField(input: $input) {\n      id\n      type\n      icon\n      label\n      items\n      order\n      isRequired\n      isMultiple\n    }\n  }\n`;\n\nexport const DELETE_INPUT = gql`\n  mutation DeleteInput($input: ID!) {\n    deleteCustomField(input: $input) {\n      forForm\n      defaultForm {\n        id\n        inputs {\n          id\n          order\n        }\n      }\n      customForm {\n        id\n        inputs {\n          id\n          order\n          label\n          icon\n          type\n          items\n          isRequired\n          isMultiple\n        }\n      }\n    }\n  }\n`;\n"],"sourceRoot":""}