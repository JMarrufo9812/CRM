(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5cbba8ff"],{"2c64":function(n,e,t){},"3d86":function(n,e,t){},"43a6":function(n,e,t){"use strict";t("ec29"),t("3d86");var a=t("c37a"),i=t("604c"),o=t("8547"),r=t("58df");const s=Object(r["a"])(o["a"],i["a"],a["a"]);e["a"]=s.extend({name:"v-radio-group",provide(){return{radioGroup:this}},props:{column:{type:Boolean,default:!0},height:{type:[Number,String],default:"auto"},name:String,row:Boolean,value:null},computed:{classes(){return{...a["a"].options.computed.classes.call(this),"v-input--selection-controls v-input--radio-group":!0,"v-input--radio-group--column":this.column&&!this.row,"v-input--radio-group--row":this.row}}},methods:{genDefaultSlot(){return this.$createElement("div",{staticClass:"v-input--radio-group__input",attrs:{id:this.id,role:"radiogroup","aria-labelledby":this.computedId}},a["a"].options.methods.genDefaultSlot.call(this))},genInputSlot(){const n=a["a"].options.methods.genInputSlot.call(this);return delete n.data.on.click,n},genLabel(){const n=a["a"].options.methods.genLabel.call(this);return n?(n.data.attrs.id=this.computedId,delete n.data.attrs.for,n.tag="legend",n):null},onClick:i["a"].options.methods.onClick}})},"53ca":function(n,e,t){"use strict";t.d(e,"a",(function(){return a}));t("a4d3"),t("e01a"),t("d3b7"),t("d28b"),t("3ca3"),t("ddb0");function a(n){return a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"===typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},a(n)}},"55df":function(n,e,t){"use strict";t.r(e);var a=function(){var n=this,e=n.$createElement,a=n._self._c||e;return a("v-dialog",{attrs:{width:"450",persistent:""},model:{value:n.modalHandler.isOpen,callback:function(e){n.$set(n.modalHandler,"isOpen",e)},expression:"modalHandler.isOpen"}},[a("v-card",[a("v-card-title",{staticClass:"primary white--text pl-10"},[n._v(" Exportar "+n._s(n.typeItems.name)+" "),a("v-spacer"),a("v-btn",{attrs:{icon:"",color:"white"},on:{click:n.close}},[a("v-icon",[n._v("mdi-close")])],1)],1),a("v-card-text",[n.isDocumentReady?n._e():a("div",{staticClass:"pt-4"},[a("p",[n._v("Tipo de ExportaciÃ³n")]),a("v-radio-group",{attrs:{mandatory:"",dense:""},model:{value:n.formatDocument,callback:function(e){n.formatDocument=e},expression:"formatDocument"}},[a("v-radio",{attrs:{label:"Archivo XLS (Excel)",value:"xls"}}),a("v-radio",{attrs:{label:"CSV (valores separados por comas) ",value:"csv"}})],1)],1),n.isDocumentReady?n._e():a("div",{staticClass:"pt-4"},[a("p",[n._v("Datos a exportar")]),a("v-radio-group",{attrs:{mandatory:"",dense:""},model:{value:n.isExportViewData,callback:function(e){n.isExportViewData=e},expression:"isExportViewData"}},[a("v-radio",{attrs:{label:"Vista actual (Los datos que se muestran en la tabla)",value:!0}}),a("v-radio",{attrs:{label:"Todos(Todos los datos)",value:!1}})],1)],1),a("downloadexcel",{directives:[{name:"show",rawName:"v-show",value:n.isDocumentReady,expression:"isDocumentReady"}],attrs:{data:n.dataExport,type:n.formatDocument,fields:n.dataHeaders,worksheet:n.typeItems.name,name:n.typeItems.name+"."+n.formatDocument}},[a("v-card",{staticClass:"mt-4",attrs:{outlined:""}},[a("v-row",[a("v-col",{attrs:{cols:"12",align:"center",justify:"center"}},[a("img",{directives:[{name:"show",rawName:"v-show",value:"xls"===n.formatDocument,expression:"formatDocument === 'xls'"}],staticStyle:{width:"100px",height:"120px"},attrs:{src:t("8379"),alt:"Excel"}}),a("img",{directives:[{name:"show",rawName:"v-show",value:"csv"===n.formatDocument,expression:"formatDocument === 'csv'"}],staticStyle:{width:"85px",height:"85px"},attrs:{src:t("f8c8"),alt:"Excel"}})]),a("v-col",{attrs:{cols:"12",align:"center",justify:"center"}},[a("v-btn",{staticClass:"mb-4",attrs:{outlined:"",large:""}},[a("v-icon",[n._v("mdi-download")]),n._v(" Descargar ")],1)],1)],1)],1)],1),a("BaseModalError",{attrs:{modalHandler:n.modalError},on:{close:n.modalHandlerError}})],1),n.isDocumentReady?n._e():a("v-card-actions",{staticClass:"pa-5 justify-end"},[a("v-btn",{staticClass:"mr-8",attrs:{large:"",tile:"",outlined:"",color:"primary"},on:{click:n.close}},[n._v(" Cancelar ")]),a("v-btn",{attrs:{large:"",tile:"",normal:"",color:"secondary",loading:n.isLoadingExport},on:{click:n.exportHandler}},[n._v(" Exportar ")])],1)],1)],1)},i=[],o=t("53ca"),r=t("1da1"),s=(t("d81d"),t("159b"),t("a15b"),t("b0c0"),t("99af"),t("96cf"),t("f2d9")),d=t("1e6d"),c=t("7029"),l=t("8b3e"),u=t("6675"),m={name:"ModalExportData",mixins:[d["a"]],components:{downloadexcel:s["a"]},props:{modalHandler:{required:!0,type:Object,default:function(){return{isOpen:!1}}},typeItems:{required:!0,type:Object},items:{required:!0,type:[Array,Object],default:function(){return[]}},headers:{required:!0,type:[Array,Object],default:function(){return[]}},form:{isRequired:!0,type:Object}},data:function(){return{formatDocument:"xls",isExportViewData:!0,isLoadingExport:!1,isDocumentReady:!1,dataExport:[],dataHeaders:{},filters:{orderBy:"desc",isDelete:!1}}},watch:{modalHandler:function(n){var e=n.isOpen;e||this.resetValues()}},methods:{exportHandler:function(){var n=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var t,a,i,o,r,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n.isLoadingExport=!0,n.getHeaders(),!n.isExportViewData){e.next=8;break}n.dataExport=JSON.parse(JSON.stringify(n.items)),n.formatData(),n.isDocumentReady=!0,e.next=23;break;case 8:if("CONTACT"!==n.typeItems.type){e.next=13;break}return e.next=11,n.getAllContacts();case 11:t=e.sent,null!==t?(n.dataExport=t,n.formatData(),n.isDocumentReady=!0):(a="No se pudieron exportar los contactos, intente de nuevo o contacte a soporte",n.modalHandlerError({isOpen:!0,error:a}));case 13:if("COMPANY"!==n.typeItems.type){e.next=18;break}return e.next=16,n.getAllCompanies();case 16:i=e.sent,null!==i?(n.dataExport=i,n.formatData(),n.isDocumentReady=!0):(o="No se pudieron exportar las empresas, intente de nuevo o contacte a soporte",n.modalHandlerError({isOpen:!0,error:o}));case 18:if("DEAL"!==n.typeItems.type){e.next=23;break}return e.next=21,n.getAllDeals();case 21:r=e.sent,null!==r?(n.dataExport=r,n.formatData(),n.isDocumentReady=!0):(s="No se pudieron exportar los tratos, intente de nuevo o contacte a soporte",n.modalHandlerError({isOpen:!0,error:s}));case 23:n.isLoadingExport=!1;case 24:case"end":return e.stop()}}),e)})))()},formatData:function(){var n=this;this.dataExport=this.dataExport.map((function(e){for(var t in e){var a=e[t],i=Object(o["a"])(a);if("object"===i&&(i=Array.isArray(a)?"array":a?"object":"null"),"array"===i&&("customForms"!==t||n.isExportViewData||e[t].forEach((function(n){var t=n.id,a=n.value;e[t]=a})),"phones"===t&&(e[t]=e[t].map((function(n){var e=n.number;return e})).join(",")),"tags"===t&&(e[t]=e[t].map((function(n){var e=n.name;return e})).join(",")),"companies"!==t&&"contacts"!==t||(e[t]=e[t].map((function(n){var e=n.name;return e})).join(",")),"socialMedias"===t&&(e[t]=e[t].map((function(n){var e=n.url;return e})).join(","))),"object"===i&&("owner"!==t&&"createdBy"!==t||(e[t]="".concat(e[t].user.name," ").concat(e[t].user.lastName)),"contact"!==t&&"company"!==t&&"pipeline"!==t&&"stage"!==t||(e[t]=e[t].name)),"boolean"===i&&"isClient"===t&&(e[t]=e[t]?"Antiguo":"Nuevo"),"status"===t){var r=function(n){return"WON"===n?"Ganado":"LOST"===n?"Perdido":"OPEN"===n?"Abierto":"error"};e[t]=r(e[t])}}return e}))},getHeaders:function(){var n=this;this.headers.forEach((function(e){var t=e.text,a=e.value;n.dataHeaders[t]=a}))},getAllContacts:function(){var n=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",n.$apollo.query({query:c["b"],fetchPolicy:"no-cache",variables:{filters:n.filters}}).then((function(n){var e=n.data.contacts;return e.list})).catch((function(){return null})));case 1:case"end":return e.stop()}}),e)})))()},getAllCompanies:function(){var n=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",n.$apollo.query({query:l["a"],fetchPolicy:"no-cache",variables:{filters:n.filters}}).then((function(n){var e=n.data.companies;return e.list})).catch((function(){return null})));case 1:case"end":return e.stop()}}),e)})))()},getAllDeals:function(){var n=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",n.$apollo.query({query:u["b"],fetchPolicy:"no-cache",variables:{filters:n.filters}}).then((function(n){var e=n.data.deals;return e.list})).catch((function(){return null})));case 1:case"end":return e.stop()}}),e)})))()},close:function(){this.$emit("close",{isOpen:!1})},resetValues:function(){this.isLoadingExport=!1,this.isDocumentReady=!1,this.dataExport=[],this.dataHeaders={},this.isExportViewData=!0,this.formatDocument="xls"}}},p=m,f=t("0c7c"),h=t("6544"),y=t.n(h),b=t("8336"),v=t("b0af"),g=t("99d9"),x=t("62ad"),w=t("169a"),D=t("132d"),C=t("67b6"),O=t("43a6"),j=t("0fd9"),$=t("2fa4"),I=Object(f["a"])(p,a,i,!1,null,null,null);e["default"]=I.exports;y()(I,{VBtn:b["a"],VCard:v["a"],VCardActions:g["a"],VCardText:g["c"],VCardTitle:g["d"],VCol:x["a"],VDialog:w["a"],VIcon:D["a"],VRadio:C["a"],VRadioGroup:O["a"],VRow:j["a"],VSpacer:$["a"]})},6675:function(n,e,t){"use strict";t.d(e,"b",(function(){return u})),t.d(e,"f",(function(){return m})),t.d(e,"a",(function(){return p})),t.d(e,"d",(function(){return f})),t.d(e,"e",(function(){return h})),t.d(e,"c",(function(){return y}));var a,i,o,r,s,d,c=t("8785"),l=t("5184"),u=Object(l["a"])(a||(a=Object(c["a"])(["\n  query GetDeals($filters: FilterDeals, $importId: ID) {\n    deals(filters: $filters, importId: $importId) {\n      count\n      informationBar {\n        openDeals\n        wonDealsSum\n        predictionSales\n        predictionIncome\n      }\n      list {\n        id\n        title\n        value\n        status\n        expectedCloseDate\n        dateStatus\n        activity\n        files\n        customForms\n        rottenTime\n        changeTime\n        createdAt\n        updatedAt\n        wonTime\n        lostTime\n        customForms\n        createdBy {\n          id\n          user {\n            id\n            name\n            lastName\n          }\n        }\n        dealCounts {\n          files\n          notes\n          emailMessages\n          activities {\n            total\n            done\n            undone\n          }\n        }\n        lostDeal {\n          id\n          lostReason {\n            id\n            reason\n          }\n        }\n        exchangeCurrency {\n          id\n          name\n          code\n          icon\n        }\n        company {\n          id\n          name\n        }\n        contact {\n          id\n          name\n        }\n        owner {\n          id\n          user {\n            name\n            lastName\n          }\n        }\n        stage {\n          id\n          name\n          order\n        }\n        pipeline {\n          id\n          name\n          stages {\n            id\n            name\n            order\n          }\n        }\n        tags {\n          id\n          name\n          color\n          order\n        }\n      }\n    }\n  }\n"]))),m=Object(l["a"])(i||(i=Object(c["a"])(["\n  query GetDeals($filters: FilterDeals) {\n    deals(filters: $filters) {\n      count\n      list {\n        id\n        title\n        stage {\n          id\n          name\n        }\n        company {\n          id\n          name\n        }\n        contact {\n          id\n          name\n        }\n        pipeline {\n          id\n          name\n        }\n        owner {\n          id\n        }\n      }\n    }\n  }\n"]))),p=Object(l["a"])(o||(o=Object(c["a"])(["\n  query getDeal($dealId: ID!) {\n    deal(dealId: $dealId) {\n      id\n      title\n      value\n      status\n      expectedCloseDate\n      dateStatus\n      activity\n      files\n      customForms\n      rottenTime\n      lostDeal {\n        id\n        lostReason {\n          id\n          reason\n        }\n      }\n      exchangeCurrency {\n        id\n        name\n        code\n        icon\n      }\n      company {\n        id\n        name\n        isDelete\n        owner {\n          id\n        }\n      }\n      contact {\n        id\n        name\n        email\n        isDelete\n        owner {\n          id\n        }\n      }\n      owner {\n        id\n        user {\n          id\n          name\n          lastName\n          config {\n            profileUrl\n          }\n        }\n      }\n      stage {\n        id\n        name\n        order\n      }\n      pipeline {\n        id\n        name\n        stages {\n          id\n          name\n          order\n          daysInStage\n        }\n      }\n      tags {\n        id\n        name\n        color\n        order\n      }\n      isDelete\n    }\n  }\n"]))),f=Object(l["a"])(r||(r=Object(c["a"])(["\n  query getDealHistory($dealId: ID!) {\n    dealHistory: deal(dealId: $dealId) {\n      id\n      title\n      files\n      import {\n        id\n      }\n      activityStream {\n        id\n        flow\n        customs {\n          id\n          label\n        }\n        users {\n          id\n          user {\n            id\n            name\n            lastName\n          }\n        }\n        companies {\n          id\n          name\n        }\n        contacts {\n          id\n          name\n        }\n        stages {\n          id\n          name\n        }\n        pipelines {\n          id\n          name\n        }\n      }\n      notes {\n        id\n        content\n        type\n        userTags {\n          id\n          user {\n            id\n            name\n            lastName\n          }\n        }\n        createdBy {\n          id\n          user {\n            id\n            name\n            lastName\n          }\n        }\n        createdAt\n        comments {\n          id\n          comment\n          userTags {\n            id\n          }\n          createdBy {\n            id\n            user {\n              id\n              name\n              lastName\n            }\n          }\n          createdAt\n        }\n      }\n      activities {\n        id\n        title\n        status\n        start\n        end\n        location\n        description\n        deal {\n          id\n          title\n        }\n        contacts {\n          id\n          name\n        }\n        companies {\n          id\n          name\n        }\n        type {\n          id\n          name\n          color\n        }\n        owner {\n          id\n          user {\n            id\n            name\n            lastName\n          }\n        }\n        notes {\n          id\n          content\n          type\n          userTags {\n            id\n            user {\n              id\n              name\n              lastName\n            }\n          }\n          createdBy {\n            id\n            user {\n              id\n              name\n              lastName\n            }\n          }\n          createdAt\n          comments {\n            id\n            comment\n            userTags {\n              id\n            }\n            createdBy {\n              id\n              user {\n                id\n                name\n                lastName\n              }\n            }\n            createdAt\n          }\n        }\n        completedDate\n        createdAt\n        isAllDay\n        guests\n      }\n    }\n  }\n"]))),h=Object(l["a"])(s||(s=Object(c["a"])(["\n  query readLostReasons($filters: Filter) {\n    lostReasons(filters: $filters) {\n      id\n      reason\n    }\n  }\n"]))),y=Object(l["a"])(d||(d=Object(c["a"])(["\n  query getDealsToActivity($filters: FilterDeals) {\n    deals(filters: $filters) {\n      count\n      list {\n        id\n        title\n        pipeline {\n          id\n          name\n        }\n        stage {\n          id\n          name\n        }\n      }\n    }\n  }\n"])))},"67b6":function(n,e,t){"use strict";t("2c64");var a=t("ba87"),i=t("9d26"),o=t("c37a"),r=t("7e2b"),s=t("a9ad"),d=t("4e82"),c=t("5311"),l=t("7560"),u=t("fe09"),m=t("80d2"),p=t("58df"),f=t("d9f7");const h=Object(p["a"])(r["a"],s["a"],c["a"],Object(d["a"])("radioGroup"),l["a"]);e["a"]=h.extend().extend({name:"v-radio",inheritAttrs:!1,props:{disabled:Boolean,id:String,label:String,name:String,offIcon:{type:String,default:"$radioOff"},onIcon:{type:String,default:"$radioOn"},readonly:Boolean,value:{default:null}},data:()=>({isFocused:!1}),computed:{classes(){return{"v-radio--is-disabled":this.isDisabled,"v-radio--is-focused":this.isFocused,...this.themeClasses,...this.groupClasses}},computedColor(){return u["a"].options.computed.computedColor.call(this)},computedIcon(){return this.isActive?this.onIcon:this.offIcon},computedId(){return o["a"].options.computed.computedId.call(this)},hasLabel:o["a"].options.computed.hasLabel,hasState(){return(this.radioGroup||{}).hasState},isDisabled(){return this.disabled||!!this.radioGroup&&this.radioGroup.isDisabled},isReadonly(){return this.readonly||!!this.radioGroup&&this.radioGroup.isReadonly},computedName(){return this.name||!this.radioGroup?this.name:this.radioGroup.name||"radio-"+this.radioGroup._uid},rippleState(){return u["a"].options.computed.rippleState.call(this)},validationState(){return(this.radioGroup||{}).validationState||this.computedColor}},methods:{genInput(n){return u["a"].options.methods.genInput.call(this,"radio",n)},genLabel(){return this.hasLabel?this.$createElement(a["a"],{on:{click:u["b"]},attrs:{for:this.computedId},props:{color:this.validationState,focused:this.hasState}},Object(m["t"])(this,"label")||this.label):null},genRadio(){const{title:n,...e}=this.attrs$;return this.$createElement("div",{staticClass:"v-input--selection-controls__input"},[this.$createElement(i["a"],this.setTextColor(this.validationState,{props:{dense:this.radioGroup&&this.radioGroup.dense}}),this.computedIcon),this.genInput({name:this.computedName,value:this.value,...e}),this.genRipple(this.setTextColor(this.rippleState))])},onFocus(n){this.isFocused=!0,this.$emit("focus",n)},onBlur(n){this.isFocused=!1,this.$emit("blur",n)},onChange(){this.isDisabled||this.isReadonly||this.isActive||this.toggle()},onKeydown:()=>{}},render(n){const e={staticClass:"v-radio",class:this.classes,on:Object(f["c"])({click:this.onChange},this.listeners$),attrs:{title:this.attrs$.title}};return n("div",e,[this.genRadio(),this.genLabel()])}})},7029:function(n,e,t){"use strict";t.d(e,"b",(function(){return m})),t.d(e,"g",(function(){return p})),t.d(e,"a",(function(){return f})),t.d(e,"e",(function(){return h})),t.d(e,"c",(function(){return y})),t.d(e,"d",(function(){return b})),t.d(e,"f",(function(){return v}));var a,i,o,r,s,d,c,l=t("8785"),u=t("5184"),m=Object(u["a"])(a||(a=Object(l["a"])(["\n  query getContacts($filters: FilterContacts, $importId: ID) {\n    contacts(filters: $filters, importId: $importId) {\n      count\n      informationBar {\n        totalCount\n        contactsWithOpenDeals\n        contactsWithWonDeals\n      }\n      list {\n        id\n        name\n        email\n        phones\n        isClient\n        socialMedias\n        birthday\n        createdAt\n        updatedAt\n        customForms\n        createdBy {\n          id\n          user {\n            id\n            name\n            lastName\n          }\n        }\n        contactCounts {\n          openDeals\n          closedDeals\n          lostDeals\n          wonDeals\n          emailMessages\n          totalActivities\n          doneActivities\n          undoneActivities\n          files\n          notes\n        }\n        owner {\n          id\n          user {\n            id\n            name\n            lastName\n          }\n        }\n        tags {\n          id\n          name\n          color\n          order\n        }\n        companies {\n          id\n          name\n        }\n      }\n    }\n  }\n"]))),p=Object(u["a"])(i||(i=Object(l["a"])(["\n  query getContacts($filters: FilterContacts, $importId: ID) {\n    searchContacts: contacts(filters: $filters, importId: $importId) {\n      list {\n        id\n        name\n        companies {\n          id\n          name\n        }\n        owner {\n          id\n        }\n      }\n    }\n  }\n"]))),f=Object(u["a"])(o||(o=Object(l["a"])(["\n  query GetContact($contactId: ID!) {\n    contact(contactId: $contactId) {\n      id\n      name\n      email\n      phones\n      isClient\n      socialMedias\n      birthday\n      customForms\n      owner {\n        id\n        user {\n          id\n          name\n          lastName\n        }\n      }\n      enterprise {\n        id\n        name\n      }\n      tags {\n        id\n        name\n        color\n        order\n      }\n      companies {\n        id\n        name\n        owner {\n          id\n        }\n      }\n      deals {\n        id\n        title\n        value\n        status\n        contact {\n          id\n          name\n        }\n        company {\n          id\n          name\n        }\n        stage {\n          id\n        }\n        pipeline {\n          id\n          stages {\n            id\n          }\n        }\n        owner {\n          id\n        }\n      }\n      createdAt\n      isDelete\n    }\n  }\n"]))),h=Object(u["a"])(r||(r=Object(l["a"])(["\n  query GetContactHistory($contactId: ID!) {\n    contactHistory: contact(contactId: $contactId) {\n      id\n      name\n      email\n      files\n      import {\n        id\n      }\n      activityEmailStream {\n        id\n        flow\n        users {\n          id\n          user {\n            id\n            name\n            lastName\n          }\n        }\n      }\n      activityStream {\n        id\n        flow\n        users {\n          id\n          user {\n            id\n            name\n            lastName\n          }\n        }\n        companies {\n          id\n          name\n        }\n        deals {\n          id\n          title\n        }\n        customs {\n          id\n          label\n        }\n      }\n      notes {\n        id\n        content\n        type\n        createdAt\n        userTags {\n          id\n          user {\n            id\n            name\n            lastName\n          }\n        }\n        createdBy {\n          id\n          user {\n            id\n            name\n            lastName\n          }\n        }\n        comments {\n          id\n          comment\n          createdAt\n          createdBy {\n            id\n            user {\n              id\n              name\n              lastName\n            }\n          }\n          userTags {\n            id\n            user {\n              id\n              name\n              lastName\n            }\n          }\n        }\n      }\n      activities {\n        id\n        title\n        status\n        start\n        end\n        location\n        description\n        deal {\n          id\n          title\n        }\n        contacts {\n          id\n          name\n        }\n        companies {\n          id\n          name\n        }\n        type {\n          id\n          name\n          color\n        }\n        owner {\n          id\n          user {\n            id\n            name\n            lastName\n          }\n        }\n        notes {\n          id\n          content\n          type\n          userTags {\n            id\n            user {\n              id\n              name\n              lastName\n            }\n          }\n          createdBy {\n            id\n            user {\n              id\n              name\n              lastName\n            }\n          }\n          createdAt\n          comments {\n            id\n            comment\n            userTags {\n              id\n            }\n            createdBy {\n              id\n              user {\n                id\n                name\n                lastName\n              }\n            }\n            createdAt\n          }\n        }\n        completedDate\n        createdAt\n        isAllDay\n        guests\n      }\n    }\n  }\n"]))),y=Object(u["a"])(s||(s=Object(l["a"])(["\n  query getContactsToEmail($filters: FilterContacts) {\n    contacts(filters: $filters) {\n      list {\n        id\n        name\n        email\n        birthday\n        companies {\n          id\n          name\n        }\n      }\n    }\n  }\n"]))),b=Object(u["a"])(d||(d=Object(l["a"])(["\n  query getContactsToInvites($filters: FilterContacts) {\n    contacts(filters: $filters) {\n      list {\n        id\n        name\n        email\n      }\n    }\n  }\n"]))),v=Object(u["a"])(c||(c=Object(l["a"])(["\n  query DuplicateContacts {\n    duplicateContacts {\n      list {\n        id\n        name\n        email\n        phones\n        companies {\n          id\n          name\n        }\n        contactCounts {\n          openDeals\n          totalActivities\n        }\n        owner {\n          id\n          user {\n            id\n            name\n            lastName\n          }\n        }\n        createdBy {\n          id\n          user {\n            id\n            name\n            lastName\n          }\n        }\n        createdAt\n      }\n    }\n  }\n"])))},8379:function(n,e,t){n.exports=t.p+"img/excel-icon.52a7798f.png"},"8b3e":function(n,e,t){"use strict";t.d(e,"a",(function(){return u})),t.d(e,"f",(function(){return m})),t.d(e,"c",(function(){return p})),t.d(e,"d",(function(){return f})),t.d(e,"b",(function(){return h})),t.d(e,"e",(function(){return y}));var a,i,o,r,s,d,c=t("8785"),l=t("5184"),u=Object(l["a"])(a||(a=Object(c["a"])(["\n  query getCompanies($filters: FilterCompanies, $importId: ID) {\n    companies(filters: $filters, importId: $importId) {\n      count\n      informationBar {\n        totalCount\n        companiesWithOpenDeals\n        companiesWithWonDeals\n      }\n      list {\n        id\n        name\n        address\n        website\n        phones\n        socialMedias\n        createdAt\n        updatedAt\n        customForms\n        createdBy {\n          id\n          user {\n            id\n            name\n            lastName\n          }\n        }\n        companyCounts {\n          openDeals\n          closedDeals\n          lostDeals\n          wonDeals\n          emailMessages\n          totalActivities\n          doneActivities\n          undoneActivities\n          files\n          notes\n        }\n        owner {\n          id\n          user {\n            id\n            name\n            lastName\n          }\n        }\n        tags {\n          id\n          name\n          color\n          order\n        }\n        contacts {\n          id\n          name\n        }\n      }\n    }\n  }\n"]))),m=Object(l["a"])(i||(i=Object(c["a"])(["\n  query getCompanies($filters: FilterCompanies) {\n    searchCompanies: companies(filters: $filters) {\n      count\n      list {\n        id\n        name\n        owner {\n          id\n        }\n      }\n    }\n  }\n"]))),p=Object(l["a"])(o||(o=Object(c["a"])(["\n  query getCompany($companyId: ID!) {\n    company(companyId: $companyId) {\n      id\n      name\n      address\n      website\n      phones\n      customForms\n      socialMedias\n      files\n      isDelete\n      tags {\n        id\n        name\n        color\n        order\n      }\n      owner {\n        id\n        user {\n          id\n          name\n          lastName\n        }\n      }\n      contacts {\n        id\n        name\n        owner {\n          id\n        }\n      }\n      deals {\n        id\n        title\n        value\n        status\n        contact {\n          id\n          name\n        }\n        company {\n          id\n          name\n        }\n        stage {\n          id\n        }\n        pipeline {\n          id\n          stages {\n            id\n          }\n        }\n        owner {\n          id\n        }\n      }\n    }\n  }\n"]))),f=Object(l["a"])(r||(r=Object(c["a"])(["\n  query getCompanyHistory($companyId: ID!) {\n    companyHistory: company(companyId: $companyId) {\n      id\n      name\n      files\n      import {\n        id\n      }\n      activityStream {\n        id\n        flow\n        users {\n          id\n          user {\n            id\n            name\n            lastName\n          }\n        }\n        contacts {\n          id\n          name\n        }\n        deals {\n          id\n          title\n        }\n        customs {\n          id\n          label\n        }\n      }\n      notes {\n        id\n        content\n        type\n        userTags {\n          id\n          user {\n            id\n            name\n            lastName\n          }\n        }\n        comments {\n          id\n          comment\n          createdBy {\n            id\n            user {\n              id\n              name\n              lastName\n            }\n          }\n          createdAt\n          userTags {\n            id\n            user {\n              id\n              name\n              lastName\n            }\n          }\n        }\n        createdBy {\n          id\n          user {\n            id\n            name\n            lastName\n          }\n        }\n        createdAt\n      }\n      activities {\n        id\n        title\n        status\n        start\n        end\n        location\n        description\n        deal {\n          id\n          title\n        }\n        contacts {\n          id\n          name\n        }\n        companies {\n          id\n          name\n        }\n        type {\n          id\n          name\n          color\n        }\n        owner {\n          id\n          user {\n            id\n            name\n            lastName\n          }\n        }\n        notes {\n          id\n          content\n          type\n          userTags {\n            id\n            user {\n              id\n              name\n              lastName\n            }\n          }\n          createdBy {\n            id\n            user {\n              id\n              name\n              lastName\n            }\n          }\n          createdAt\n          comments {\n            id\n            comment\n            userTags {\n              id\n            }\n            createdBy {\n              id\n              user {\n                id\n                name\n                lastName\n              }\n            }\n            createdAt\n          }\n        }\n        completedDate\n        createdAt\n        isAllDay\n        guests\n      }\n    }\n  }\n"]))),h=Object(l["a"])(s||(s=Object(c["a"])(["\n  query getCompaniesToActivity($filters: FilterCompanies) {\n    companies(filters: $filters) {\n      count\n      list {\n        id\n        name\n      }\n    }\n  }\n"]))),y=Object(l["a"])(d||(d=Object(c["a"])(["\n  query DuplicateCompanies {\n    duplicateCompanies {\n      list {\n        id\n        name\n        address\n        contacts {\n          id\n          name\n        }\n        companyCounts {\n          openDeals\n          totalActivities\n        }\n        owner {\n          id\n          user {\n            id\n            name\n            lastName\n          }\n        }\n        createdBy {\n          id\n          user {\n            id\n            name\n            lastName\n          }\n        }\n        createdAt\n      }\n    }\n  }\n"])))},a15b:function(n,e,t){"use strict";var a=t("23e7"),i=t("44ad"),o=t("fc6a"),r=t("a640"),s=[].join,d=i!=Object,c=r("join",",");a({target:"Array",proto:!0,forced:d||!c},{join:function(n){return s.call(o(this),void 0===n?",":n)}})},f2d9:function(n,e,t){"use strict";(function(n){"undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n||"undefined"!==typeof self&&self;function t(n,e){return e={exports:{}},n(e,e.exports),e.exports}var a=t((function(n,e){(function(e,t){n.exports=t()})(0,(function(){return function n(e,t,a){var i,o,r=window,s="application/octet-stream",d=a||s,c=e,l=!t&&!a&&c,u=document.createElement("a"),m=function(n){return String(n)},p=r.Blob||r.MozBlob||r.WebKitBlob||m,f=t||"download";if(p=p.call?p.bind(r):Blob,"true"===String(this)&&(c=[c,d],d=c[0],c=c[1]),l&&l.length<2048&&(f=l.split("/").pop().split("?")[0],u.href=l,-1!==u.href.indexOf(l))){var h=new XMLHttpRequest;return h.open("GET",l,!0),h.responseType="blob",h.onload=function(e){n(e.target.response,f,s)},setTimeout((function(){h.send()}),0),h}if(/^data:([\w+-]+\/[\w+.-]+)?[,;]/.test(c)){if(!(c.length>2096103.424&&p!==m))return navigator.msSaveBlob?navigator.msSaveBlob(g(c),f):x(c);c=g(c),d=c.type||s}else if(/([\x80-\xff])/.test(c)){var y=0,b=new Uint8Array(c.length),v=b.length;for(y;y<v;++y)b[y]=c.charCodeAt(y);c=new p([b],{type:d})}function g(n){var e=n.split(/[:;,]/),t=e[1],a="base64"==e[2]?atob:decodeURIComponent,i=a(e.pop()),o=i.length,r=0,s=new Uint8Array(o);for(r;r<o;++r)s[r]=i.charCodeAt(r);return new p([s],{type:t})}function x(n,e){if("download"in u)return u.href=n,u.setAttribute("download",f),u.className="download-js-link",u.innerHTML="downloading...",u.style.display="none",document.body.appendChild(u),setTimeout((function(){u.click(),document.body.removeChild(u),!0===e&&setTimeout((function(){r.URL.revokeObjectURL(u.href)}),250)}),66),!0;if(/(Version)\/(\d+)\.(\d+)(?:\.(\d+))?.*Safari\//.test(navigator.userAgent))return/^data:/.test(n)&&(n="data:"+n.replace(/^data:([\w\/\-\+]+)/,s)),window.open(n)||confirm("Displaying New Document\n\nUse Save As... to download, then click back to return to this page.")&&(location.href=n),!0;var t=document.createElement("iframe");document.body.appendChild(t),!e&&/^data:/.test(n)&&(n="data:"+n.replace(/^data:([\w\/\-\+]+)/,s)),t.src=n,setTimeout((function(){document.body.removeChild(t)}),333)}if(i=c instanceof p?c:new p([c],{type:d}),navigator.msSaveBlob)return navigator.msSaveBlob(i,f);if(r.URL)x(r.URL.createObjectURL(i),!0);else{if("string"===typeof i||i.constructor===m)try{return x("data:"+d+";base64,"+r.btoa(i))}catch(w){return x("data:"+d+","+encodeURIComponent(i))}o=new FileReader,o.onload=function(n){x(this.result)},o.readAsDataURL(i)}return!0}}))})),i={props:{type:{type:String,default:"xls"},data:{type:Array,required:!1,default:null},fields:{type:Object,default:()=>null},exportFields:{type:Object,default:()=>null},defaultValue:{type:String,required:!1,default:""},header:{default:null},footer:{default:null},name:{type:String,default:"data.xls"},fetch:{type:Function},meta:{type:Array,default:()=>[]},worksheet:{type:String,default:"Sheet1"},beforeGenerate:{type:Function},beforeFinish:{type:Function},escapeCsv:{type:Boolean,default:!0},stringifyLongNum:{type:Boolean,default:!1}},computed:{idName(){var n=(new Date).getTime();return"export_"+n},downloadFields(){return this.fields?this.fields:this.exportFields?this.exportFields:void 0}},methods:{async generate(){"function"===typeof this.beforeGenerate&&await this.beforeGenerate();let n=this.data;if("function"!==typeof this.fetch&&n||(n=await this.fetch()),!n||!n.length)return;let e=this.getProcessedJson(n,this.downloadFields);return"html"===this.type?this.export(this.jsonToXLS(e),this.name.replace(".xls",".html"),"text/html"):"csv"===this.type?this.export(this.jsonToCSV(e),this.name.replace(".xls",".csv"),"application/csv"):this.export(this.jsonToXLS(e),this.name,"application/vnd.ms-excel")},export:async function(n,e,t){let i=this.base64ToBlob(n,t);"function"===typeof this.beforeFinish&&await this.beforeFinish(),a(i,e,t)},jsonToXLS(n){let e='<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns="http://www.w3.org/TR/REC-html40"><head><meta name=ProgId content=Excel.Sheet> <meta name=Generator content="Microsoft Excel 11"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">\x3c!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>${worksheet}</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--\x3e<style>br {mso-data-placement: same-cell;}</style></head><body><table>${table}</table></body></html>',t="<thead>";const a=Object.keys(n[0]).length;let i=this;const o=this.header||this.$attrs.title;o&&(t+=this.parseExtraData(o,'<tr><th colspan="'+a+'">${data}</th></tr>')),t+="<tr>";for(let r in n[0])t+="<th>"+r+"</th>";return t+="</tr>",t+="</thead>",t+="<tbody>",n.map((function(n,e){t+="<tr>";for(let a in n)t+="<td>"+i.preprocessLongNum(i.valueReformattedForMultilines(n[a]))+"</td>";t+="</tr>"})),t+="</tbody>",null!=this.footer&&(t+="<tfoot>",t+=this.parseExtraData(this.footer,'<tr><td colspan="'+a+'">${data}</td></tr>'),t+="</tfoot>"),e.replace("${table}",t).replace("${worksheet}",this.worksheet)},jsonToCSV(n){let e=this;var t=[];const a=this.header||this.$attrs.title;a&&t.push(this.parseExtraData(a,"${data}\r\n"));for(let i in n[0])t.push(i),t.push(",");return t.pop(),t.push("\r\n"),n.map((function(n){for(let a in n){let i=n[a]+"";e.escapeCsv&&(i='="'+i+'"',i.match(/[,"\n]/)&&(i='"'+i.replace(/\"/g,'""')+'"')),t.push(i),t.push(",")}t.pop(),t.push("\r\n")})),null!=this.footer&&t.push(this.parseExtraData(this.footer,"${data}\r\n")),t.join("")},getProcessedJson(n,e){let t=this.getKeys(n,e),a=[],i=this;return n.map((function(n,e){let o={};for(let a in t){let e=t[a];o[a]=i.getValue(e,n)}a.push(o)})),a},getKeys(n,e){if(e)return e;let t={};for(let a in n[0])t[a]=a;return t},parseExtraData(n,e){let t="";if(Array.isArray(n))for(var a=0;a<n.length;a++)n[a]&&(t+=e.replace("${data}",n[a]));else t+=e.replace("${data}",n);return t},getValue(n,e){const t="object"!==typeof n?n:n.field;let a="string"!==typeof t?[]:t.split("."),i=this.defaultValue;return i=t?a.length>1?this.getValueFromNestedItem(e,a):this.parseValue(e[t]):e,n.hasOwnProperty("callback")&&(i=this.getValueFromCallback(i,n.callback)),i},valueReformattedForMultilines(n){return"string"==typeof n?n.replace(/\n/gi,"<br/>"):n},preprocessLongNum(n){if(this.stringifyLongNum){if(String(n).startsWith("0x"))return n;if(!isNaN(n)&&""!=n&&(n>99999999999||n<1e-13))return'="'+n+'"'}return n},getValueFromNestedItem(n,e){let t=n;for(let a of e)t&&(t=t[a]);return this.parseValue(t)},getValueFromCallback(n,e){if("function"!==typeof e)return this.defaultValue;const t=e(n);return this.parseValue(t)},parseValue(n){return n||0===n||"boolean"===typeof n?n:this.defaultValue},base64ToBlob(n,e){let t=window.btoa(window.unescape(encodeURIComponent(n))),a=atob(t),i=a.length,o=new Uint8ClampedArray(i);while(i--)o[i]=a.charCodeAt(i);return new Blob([o],{type:e})}}};function o(n,e,t,a,i,o,r,s,d,c){"boolean"!==typeof r&&(d=s,s=r,r=!1);var l,u="function"===typeof t?t.options:t;if(n&&n.render&&(u.render=n.render,u.staticRenderFns=n.staticRenderFns,u._compiled=!0,i&&(u.functional=!0)),a&&(u._scopeId=a),o?(l=function(n){n=n||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,n||"undefined"===typeof __VUE_SSR_CONTEXT__||(n=__VUE_SSR_CONTEXT__),e&&e.call(this,d(n)),n&&n._registeredComponents&&n._registeredComponents.add(o)},u._ssrRegister=l):e&&(l=r?function(){e.call(this,c(this.$root.$options.shadowRoot))}:function(n){e.call(this,s(n))}),l)if(u.functional){var m=u.render;u.render=function(n,e){return l.call(e),m(n,e)}}else{var p=u.beforeCreate;u.beforeCreate=p?[].concat(p,l):[l]}return t}var r=o;const s=i;var d=function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",{attrs:{id:n.idName},on:{click:n.generate}},[n._t("default",[n._v(" Download "+n._s(n.name)+" ")])],2)},c=[];d._withStripped=!0;const l=void 0,u=void 0,m=void 0,p=!1;var f=r({render:d,staticRenderFns:c},l,s,u,p,m,void 0,void 0);e["a"]=f}).call(this,t("24aa"))},f8c8:function(n,e,t){n.exports=t.p+"img/csv-icon.5c142718.png"}}]);
//# sourceMappingURL=chunk-5cbba8ff.dd8b7f10.js.map