(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1d4eab96"],{"27c6":function(t,e,a){"use strict";a("4239")},2812:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pipeline"},[t.isLoading?a("v-progress-linear",{staticClass:"mb-7",attrs:{height:"12",indeterminate:"",color:"secondary"}}):a("div",{staticClass:"Pipeline__stages open"},[a("ul",t._l(t.listStages,(function(e){return a("li",{key:e.id,staticClass:"Stage",class:{active:e.done,desactive:"LOST"===t.deal.status&&e.done,"cursor-pointer":(t.canEdit||t.canEditOthers)&&!t.deal.isDelete},on:{click:function(a){return t.updateStage(e)}}},[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,s=e.attrs;return[a("div",t._g(t._b({staticClass:"Stage__content"},"div",s,!1),n),[a("div",{staticClass:"Stage__name"}),a("span",{staticClass:"Stage__separator"})])]}}],null,!0)},[a("span",{staticClass:"d-block font-weight-bold"},[t._v(" "+t._s(e.name?e.name:"")+" ")]),a("span",{staticClass:"d-block"},[t._v(" "+t._s(t.daysInStage(e.daysInStage))+" ")])])],1)})),0)])],1)},s=[],i=(a("d81d"),a("b0c0"),a("4b58")),o=a("9685"),d=a("ee2e"),c=a("891c"),r=a("a2b6"),l={name:"Stages",props:{ownerId:{type:String,required:!0},deal:{type:Object,required:!0},isLoading:{type:Boolean}},data:function(){return{subject:i["b"],PERMISSIONS_DEALS:d["f"],UPDATE:c["r"]}},computed:{listStages:function(){var t,e,a=this.deal.stage,n=Object(r["a"])({listItems:null===(t=this.deal)||void 0===t||null===(e=t.pipeline)||void 0===e?void 0:e.stages,orderBy:"ASC",nextElement:"order"}),s=n.map((function(t,e){return t.done=e<=(null===a||void 0===a?void 0:a.order)-1,t}));return s},canEdit:function(){return o["a"].can(c["r"],Object(i["b"])(d["f"],{authorId:this.ownerId||""}))},canEditOthers:function(){return this.canEdit?o["a"].can(c["s"],d["f"]):o["a"].can(c["s"],d["f"])&&!o["a"].can(c["s"],Object(i["b"])(d["f"],{authorId:this.ownerId||""}))}},methods:{updateStage:function(t){var e=t.id,a=t.name;!this.canEdit&&!this.canEditOthers||this.deal.isDelete||this.deal.stage.id!==e&&this.$emit("updateStage",{id:e,name:a})},daysInStage:function(t){return t?1===t?"Estuvo 1 dia":"Estuvo ".concat(t," dias"):0===t?"Estuvo menos de un dia":"Nunca ha estado"}}},u=l,p=(a("27c6"),a("0c7c")),f=a("6544"),g=a.n(f),v=a("8e36"),h=a("3a2f"),b=Object(p["a"])(u,n,s,!1,null,"9a0df8fa",null);e["default"]=b.exports;g()(b,{VProgressLinear:v["a"],VTooltip:h["a"]})},4239:function(t,e,a){}}]);
//# sourceMappingURL=chunk-1d4eab96.1cd3dd26.js.map