(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-10b2a19e"],{"0846":function(e,t,i){},"157d":function(e,t,i){"use strict";var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.subreportsActivities.list,"items-per-page":5},scopedSlots:e._u([{key:"item.start",fn:function(t){var i=t.item;return[e._v(" "+e._s(e._f("formatDate")(i.start))+" ")]}},{key:"item.end",fn:function(t){var i=t.item;return[e._v(" "+e._s(e._f("formatDate")(i.end))+" ")]}},{key:"item.status",fn:function(t){var r=t.item;return[i("v-chip",{attrs:{color:e.getColor(r.status),dark:""}},[e._v(" "+e._s(e.getText(r.status))+" ")])]}}],null,!0)})},a=[],n=(i("4de4"),i("d81d"),i("8d7e")),o={name:"TableActivities",props:{defaultFilter:{type:Object,default:function(){return{users:[],pipelines:[],periodRange:{start:"",end:""},dealStatus:"",activitiesStatus:"",activityTypes:[],fromReportStatus:""}}}},data:function(){return{subreportsActivities:{count:0,list:[]},headers:[{text:"Título",value:"title",sortable:!1},{text:"Inicio",value:"start",sortable:!1},{text:"Final",value:"end",sortable:!1},{text:"Estado",value:"status",sortable:!1}],filter:{users:[],pipelines:[],periodRange:{start:"",end:""},dealStatus:"",activityTypes:[],fromReportStatus:""}}},created:function(){this.filter=this.noReactive(this.defaultFilter)},watch:{defaultFilter:{handler:function(){this.filter=this.noReactive(this.defaultFilter)},immediate:!0,deep:!0}},computed:{pipelinesFilter:function(){return this.filter.pipelines.length?this.filter.pipelines.map((function(e){return{id:e.id}})):[]},ownersFilter:function(){return this.filter.users.length?this.filter.users.map((function(e){return{id:e.id}})):[]},activityTypes:function(){return this.filter.activityTypes.length?this.filter.activityTypes.map((function(e){return{id:e.id}})):[]}},methods:{getColor:function(e){return"PENDING"===e?"#2E2E2F":"INEFFECTIVE"===e?"#88141":"EFFECTIVE"===e?"#396A5D":"#2E2E2F"},getText:function(e){return"PENDING"===e?"Pendiente":"INEFFECTIVE"===e?"Inefectivo":"EFFECTIVE"===e?"Efectivo":"Pendiente"}},apollo:{subreportsActivities:{query:n["D"],fetchPolicy:"no-cache",client:"charts",variables:function(){return{filters:{dateRange:{dateStart:this.filter.periodRange.start,dateEnd:this.filter.periodRange.end},owners:this.ownersFilter,pipelines:this.pipelinesFilter,dealStatus:this.filter.dealStatus,activitiesStatus:this.filter.activitiesStatus,activityTypes:this.activityTypes,fromReportStatus:this.filter.fromReportStatus}}}}}},s=o,l=i("0c7c"),d=i("6544"),p=i.n(d),c=i("cc20"),f=i("8fea"),u=Object(l["a"])(s,r,a,!1,null,"b3f0498c",null);t["a"]=u.exports;p()(u,{VChip:c["a"],VDataTable:f["a"]})},"15d3":function(e,t,i){"use strict";i("2d41")},"2d41":function(e,t,i){},3494:function(e,t,i){"use strict";i("ff01")},"3c11":function(e,t,i){"use strict";i("e869")},4838:function(e,t,i){"use strict";i.r(t);var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-row",[i("v-col",{attrs:{cols:"4"}},[i("CardBookedActivitiesInDayPreview",{attrs:{defaultPeriod:e.defaultPeriod,filtersGlobal:e.filtersChartsGlobal}})],1),i("v-col",{attrs:{cols:"4"}},[i("CardCompletedActivitiesPreview",{attrs:{defaultPeriod:e.defaultPeriod,filtersGlobal:e.filtersChartsGlobal}})],1),i("v-col",{attrs:{cols:"4"}},[i("CardEffectiveActivitiesPreview",{attrs:{defaultPeriod:e.defaultPeriod,filtersGlobal:e.filtersChartsGlobal}})],1),i("v-col",{attrs:{cols:"4"}},[i("CardRebookedActivitiesPreview",{attrs:{defaultPeriod:e.defaultPeriod,filtersGlobal:e.filtersChartsGlobal}})],1),i("v-col",{attrs:{cols:"4"}},[i("CardExpiredActivitiesPreview",{attrs:{defaultPeriod:e.defaultPeriod,filtersGlobal:e.filtersChartsGlobal}})],1),i("v-col",{attrs:{cols:"4"}},[i("CardIneffectiveActivitiesPreview",{attrs:{defaultPeriod:e.defaultPeriod,filtersGlobal:e.filtersChartsGlobal}})],1),i("v-col",{attrs:{cols:"4"}},[i("CardSentEmailsPreview",{attrs:{defaultPeriod:e.defaultPeriod,filtersGlobal:e.filtersChartsGlobal}})],1),i("v-col",{attrs:{cols:"4"}},[i("CardOpenEmailsPreview",{attrs:{defaultPeriod:e.defaultPeriod,filtersGlobal:e.filtersChartsGlobal}})],1),i("v-col",{attrs:{cols:"4"}},[i("CardOpenRateEmailsPreview",{attrs:{defaultPeriod:e.defaultPeriod,filtersGlobal:e.filtersChartsGlobal}})],1),i("v-col",{attrs:{cols:"4"}},[i("CardTotalOpenDealsPreview",{attrs:{defaultPeriod:e.defaultPeriod,filtersGlobal:e.filtersChartsGlobal}})],1),i("v-col",{attrs:{cols:"4"}},[i("CardNewDealsPreview",{attrs:{defaultPeriod:e.defaultPeriod,filtersGlobal:e.filtersChartsGlobal}})],1),i("v-col",{attrs:{cols:"4"}},[i("CardAdvancedDealsPreview",{attrs:{defaultPeriod:e.defaultPeriod,filtersGlobal:e.filtersChartsGlobal}})],1)],1)},a=[],n=i("0b15"),o=i("cdc1"),s=i("a635"),l=i("ea8d"),d=i("cbd3"),p=i("f362"),c=i("58a7"),f=i("f73a"),u=i("ac4d"),h=i("49b3"),v=i("7502"),m=i("cad0"),C=i("c953"),g={name:"DashboardDaily",components:{CardBookedActivitiesInDayPreview:o["a"],CardCompletedActivitiesPreview:s["a"],CardEffectiveActivitiesPreview:l["a"],CardRebookedActivitiesPreview:d["a"],CardExpiredActivitiesPreview:p["a"],CardIneffectiveActivitiesPreview:c["a"],CardSentEmailsPreview:f["a"],CardOpenEmailsPreview:u["a"],CardOpenRateEmailsPreview:h["a"],CardTotalOpenDealsPreview:v["a"],CardNewDealsPreview:C["a"],CardAdvancedDealsPreview:m["a"]},mixins:[n["a"]],data:function(){return{defaultPeriod:"TODAY"}}},R=g,T=(i("3494"),i("0c7c")),P=i("6544"),y=i.n(P),b=i("62ad"),F=i("0fd9"),O=Object(T["a"])(R,r,a,!1,null,"e63a93c8",null);t["default"]=O.exports;y()(O,{VCol:b["a"],VRow:F["a"]})},"49b3":function(e,t,i){"use strict";var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseCardChart",{attrs:{title:e.title,titleRegular:e.titleRegular,settings:e.filtersConfig},on:{updateRefetch:function(t){e.isRefetch=!0}},scopedSlots:e._u([{key:"modal",fn:function(){return[i("CardOpenRateEmailsFilter",{attrs:{defaultFilter:e.filtersConfig,isIcon:"",isPreview:""}})]},proxy:!0}])},[i("div",{staticClass:"hoverClick",on:{click:e.openModal}},[i("CardOpenRateEmailsData",{attrs:{defaultFilter:e.filtersConfig,isPreview:"",isRefetch:e.isRefetch},on:{updateRefetch:function(t){e.isRefetch=!1}}})],1),i("CardOpenRateEmailsModal",{attrs:{isOpen:e.isOpenModal,filters:{filtersConfig:e.filtersConfig,filtersTable:e.filtersTable},title:e.title,titleRegular:e.titleRegular},on:{close:e.closeModal}})],1)},a=[],n=i("3835"),o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalChart",{attrs:{title:e.title,titleRegular:e.titleRegular,isOpen:e.isOpen},on:{close:e.closeModal},scopedSlots:e._u([{key:"filters",fn:function(){return[i("CardOpenRateEmailsFilter",{attrs:{defaultFilter:e.filters.filtersConfig}})]},proxy:!0},{key:"chart",fn:function(){return[i("CardOpenRateEmailsData",{attrs:{defaultFilter:e.filters.filtersConfig}})]},proxy:!0},{key:"table",fn:function(){return[i("TableEmails",{attrs:{defaultFilter:e.filters.filtersTable}})]},proxy:!0}])})},s=[],l=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.isPreview?e._e():i("ListFilters",{attrs:{settings:e.settings}}),i("BaseCardNumber",{attrs:{information:{numberMain:e.generalConvertionRateFormat+"%",textMain:e.textMain,valueMain:e.valueMain,textMainType:e.textChart,isCompare:!e.isPreview&&e.settings.periodRangeToCompare.period.length>0,numberCompare:e.generalConvertionRateCompare+"%",textCompare:e.textCompare,valueCompare:e.valueCompare,numberDifferenceCompare:e.comparePercentage}}}),e.isPreview?e._e():i("CardOpenRateEmailsInformation",{attrs:{information:e.openedRateEmailsCard.informationBar,filterBy:e.settings.filterBy}})],1)},d=[],p=(i("b680"),i("99af"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-card",{staticClass:"mt-5",attrs:{flat:""}},[i("v-container",[i("v-row",[i("v-col",{attrs:{cols:"3"}},[e._l(e.information.usersOpenedRateEmails,(function(t,r){return[i("span",{key:r,staticClass:"d-block"},[i("b",[e._v(e._s(t.name))]),e._v(" : "+e._s(t[e.filterBy])+"% ")])]}))],2),i("v-col",{attrs:{cols:"3"}},[e._l(e.information.periodsOpenedRateEmails,(function(t,r){return[i("span",{key:r,staticClass:"d-block"},[i("b",[e._v(e._s(e.rowOne[r]))]),e._v(" : "+e._s(t.count)+"% ")])]}))],2),i("v-col",{attrs:{cols:"3"}},[e._l(e.information.pastPeriodsOpenedRateEmails,(function(t,r){return[i("span",{key:r,staticClass:"d-block"},[i("b",[e._v(e._s(e.rowTwo[r]))]),e._v(" : "+e._s(t.count)+"% ")])]}))],2)],1)],1)],1)}),c=[],f={name:"CardOpenRateEmailsInformation",props:{information:{type:Object,default:function(){return{}}},filterBy:{type:String,default:"count"}},data:function(){return{rowOne:["Promedio anual","Promedio trimestral","Promedio mensual"],rowTwo:["Este período","Período pasado","Mismo período el mes anterior"]}}},u=f,h=i("0c7c"),v=i("6544"),m=i.n(v),C=i("b0af"),g=i("62ad"),R=i("a523"),T=i("0fd9"),P=Object(h["a"])(u,p,c,!1,null,null,null),y=P.exports;m()(P,{VCard:C["a"],VCol:g["a"],VContainer:R["a"],VRow:T["a"]});var b=i("8d7e"),F=i("0db6"),O={name:"CardOpenRateEmailsData",mixins:[F["a"]],components:{CardOpenRateEmailsInformation:y},props:{defaultFilter:{type:Object,default:function(){return{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""}}}},isPreview:{type:Boolean,default:!1}},data:function(){return{openedRateEmailsCard:{},modalSettings:{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:[],periodRangeToCompare:{period:"",start:"",end:""}},settings:{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:[],periodRangeToCompare:{period:"",start:"",end:""}}}},computed:{comparePercentage:function(){return"0"===this.generalConvertionRateCompare?"100":(100*this.generalConvertionRateFormat/this.generalConvertionRateCompare-100).toFixed(2)},generalConvertionRateFormat:function(){var e,t,i;return this.openedRateEmailsCard&&void 0!==(null===(e=this.openedRateEmailsCard)||void 0===e||null===(t=e.mainOpenedRate)||void 0===t?void 0:t.count)?null===(i=this.openedRateEmailsCard)||void 0===i?void 0:i.mainOpenedRate[this.settings.filterBy]:"0"},generalConvertionRateCompare:function(){var e,t;if(this.openedRateEmailsCard&&void 0!==(null===(e=this.openedRateEmailsCard)||void 0===e||null===(t=e.secondOpenedRate)||void 0===t?void 0:t.count)){var i,r=null===(i=this.openedRateEmailsCard)||void 0===i?void 0:i.secondOpenedRate[this.settings.filterBy];return r||"0"}return"0"},textCompare:function(){return"PREVIOUS_PERIOD"===this.settings.periodRangeToCompare.period?this.settings.periodPredefined[3]:"PREVIOUS_YEAR"===this.settings.periodRangeToCompare.period?"Año anterior":"CUSTOM"===this.settings.periodRangeToCompare.period?"Personalizado":""},valueCompare:function(){return this.isPreview||"CUSTOM"!==this.settings.periodRangeToCompare.period?"":"".concat(this.formatDate(this.filters.dateRangeToCompare.dateStart)," - ").concat(this.formatDate(this.filters.dateRangeToCompare.dateEnd))},textMain:function(){return this.isPreview?"":this.settings.periodPredefined[2]},valueMain:function(){return!this.isPreview&&this.settings.periodPredefined.length>0&&"CUSTOM"===this.settings.periodPredefined[0]?"".concat(this.formatDate(this.filters.dateRange.dateStart)," - ").concat(this.formatDate(this.filters.dateRange.dateEnd)):""},filters:function(){var e={dateRange:{dateStart:this.dateStart,dateEnd:this.dateEnd},owners:this.ownersFilter,pipeline:this.pipelineFilter};return this.dateRangeToCompare&&""!==this.dateRangeToCompare.dateStart&&""!==this.dateRangeToCompare.dateEnd&&(e.dateRangeToCompare=this.dateRangeToCompare),e}},methods:{update:function(){this.$apollo.queries.openedRateEmailsCard.refetch()}},apollo:{openedRateEmailsCard:{query:b["x"],fetchPolicy:"no-cache",client:"charts",variables:function(){return{filters:this.filters}},skip:function(){return""===this.dateStart||""===this.dateEnd||!this.pipelineFilter.id||0===this.ownersFilter.length},loadingKey:"isLoading"}}},S=O,_=Object(h["a"])(S,l,d,!1,null,"cc33b12e",null),E=_.exports,M=i("6c94"),D=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalFilters",{attrs:{isOpen:e.isOpenModalFilter,isIcon:e.isIcon},on:{save:e.saveFilter,statusModal:e.statusModal}},[i("v-row",[i("v-col",{attrs:{cols:"12"}},[i("SelectUsers",{attrs:{all:"",defaultSelect:e.defaultFilter.users},on:{change:e.changeUsers}})],1),i("v-col",{attrs:{cols:"12"}},[i("SelectPipeline",{attrs:{defaultSelect:e.defaultFilter.pipeline},on:{change:e.changePipeline}})],1),i("v-col",{attrs:{cols:"12"}},[i("PeriodPredefined",{attrs:{defaultSelect:e.defaultFilter.periodPredefined},on:{change:e.changePeriodPredefined}})],1),e.isPreview?e._e():i("v-col",{attrs:{cols:"12"}},[i("ComparePeriod",{attrs:{periodPredefined:e.filters.periodPredefined[0]},on:{change:e.changeComparePeriod}})],1)],1)],1)},w=[],A=i("5530"),B=i("740f"),x=i("6321"),I={name:"CardOpenRateEmailsFilter",components:{SelectUsers:B["a"],SelectPipeline:x["a"]},mixins:[F["b"]],props:{defaultFilter:{type:Object,default:function(){return{users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""}}}},isIcon:{type:Boolean,default:!1},isPreview:{type:Boolean,default:!1}},data:function(){return{filters:{users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""}}}},methods:{changeComparePeriod:function(e){var t=e.isCompare,i=e.periodCompare;if(t){if(i&&(this.filters.periodRangeToCompare.period=i.periodSelected,i.periodRange.length>0)){var r=Object(n["a"])(i.periodRange,2);this.filters.periodRangeToCompare.start=r[0],this.filters.periodRangeToCompare.end=r[1]}}else this.filters.periodRangeToCompare.period="",this.filters.periodRangeToCompare.start="",this.filters.periodRangeToCompare.end=""},saveFilter:function(){this.changeChart({id:"card-openRateEmails",filtersFull:Object(A["a"])(Object(A["a"])({},this.noReactive(this.filters)),{},{periodRange:Object(A["a"])({__typename:"PeriodRange"},this.filters.periodRange)})}),this.isOpenModalFilter=!1}}},k=I,j=Object(h["a"])(k,D,w,!1,null,"acefcabe",null),H=j.exports;m()(j,{VCol:g["a"],VRow:T["a"]});var N={name:"CardOpenRateEmailsModal",components:{CardOpenRateEmailsData:E,CardOpenRateEmailsFilter:H,TableEmails:M["a"]},mixins:[F["c"]],props:{isOpen:{type:Boolean,default:!1},title:{type:String,default:"Sin título"},titleRegular:{type:String,default:""},filters:{type:Object,default:function(){return{filtersConfig:{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""}},filtersTable:{users:[],pipelines:[],periodRange:{start:"",end:""}}}}}}},U=N,V=Object(h["a"])(U,o,s,!1,null,"5b05024c",null),G=V.exports,$={name:"CardOpenRateEmailsPreview",components:{CardOpenRateEmailsData:E,CardOpenRateEmailsModal:G,CardOpenRateEmailsFilter:H},mixins:[F["d"]],props:{defaultPeriod:{type:String,default:"THIS_MONTH"}},data:function(){return{title:"Tasa de correos",titleRegular:"abiertos",isOpenModal:!1,chartId:"card-openRateEmails",filtersChartsDefault:{},initFilter:{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""}}}},computed:{filtersConfig:function(){var e,t,i,r,a,n;return{filterBy:(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.filterBy)||this.initFilter.filterBy,users:this.usersGlobal||(null===(t=this.chart.filtersFull)||void 0===t?void 0:t.users)||this.initUsers,pipeline:(null===(i=this.chart.filtersFull)||void 0===i?void 0:i.pipeline)||this.initPipeline,periodRange:this.periodRangeGlobal||(null===(r=this.chart.filtersFull)||void 0===r?void 0:r.periodRange)||this.periodRange,periodPredefined:this.periodPredefinedGlobal||(null===(a=this.chart.filtersFull)||void 0===a?void 0:a.periodPredefined)||[this.defaultPeriod]||this.initFilter.periodPredefined,periodRangeToCompare:(null===(n=this.chart.filtersFull)||void 0===n?void 0:n.periodRangeToCompare)||this.initFilter.periodRangeToCompare}},filtersTable:function(){var e,t=this.getPeriod(this.initFilter.periodPredefined[0]).get(),i=Object(n["a"])(t,2),r=i[0],a=i[1];return{users:this.usersGlobal||this.users||this.initUsers,pipelines:this.pipelines||this.filtersChartsDefault.pipelines,periodRange:this.periodRangeGlobal||(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.periodRange)||{start:r,end:a},emailStatus:"ALL"}}}},L=$,q=(i("a052"),Object(h["a"])(L,r,a,!1,null,"3c15f024",null));t["a"]=q.exports},"58a7":function(e,t,i){"use strict";var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseCardChart",{attrs:{title:e.title,titleRegular:e.titleRegular,settings:e.filtersConfig},on:{updateRefetch:function(t){e.isRefetch=!0}},scopedSlots:e._u([{key:"modal",fn:function(){return[i("CardIneffectiveActivitiesFilter",{attrs:{defaultFilter:e.filtersConfig,isIcon:"",isPreview:""}})]},proxy:!0}])},[i("div",{staticClass:"hoverClick",on:{click:e.openModal}},[i("CardIneffectiveActivitiesData",{attrs:{defaultFilter:e.filtersConfig,isPreview:"",isRefetch:e.isRefetch},on:{updateRefetch:function(t){e.isRefetch=!1}}})],1),i("CardIneffectiveActivitiesModal",{attrs:{isOpen:e.isOpenModal,filters:{filtersConfig:e.filtersConfig,filtersTable:e.filtersTable},title:e.title,titleRegular:e.titleRegular},on:{close:e.closeModal}})],1)},a=[],n=i("3835"),o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalChart",{attrs:{title:e.title,titleRegular:e.titleRegular,isOpen:e.isOpen},on:{close:e.closeModal},scopedSlots:e._u([{key:"filters",fn:function(){return[i("CardIneffectiveActivitiesFilter",{attrs:{defaultFilter:e.filters.filtersConfig}})]},proxy:!0},{key:"chart",fn:function(){return[i("CardIneffectiveActivitiesData",{attrs:{defaultFilter:e.filters.filtersConfig}})]},proxy:!0},{key:"table",fn:function(){return[i("TableActivities",{attrs:{defaultFilter:e.filters.filtersTable}})]},proxy:!0}])})},s=[],l=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.isPreview?e._e():i("ListFilters",{attrs:{settings:e.settings}}),i("BaseCardNumber",{attrs:{information:{numberMain:""+e.generalConvertionRateFormat,textMain:e.textMain,valueMain:e.valueMain,textMainType:e.textChart,isCompare:!e.isPreview&&e.settings.periodRangeToCompare.period.length>0,numberCompare:""+e.generalConvertionRateCompare,textCompare:e.textCompare,valueCompare:e.valueCompare,numberDifferenceCompare:e.comparePercentage}}}),e.isPreview?e._e():i("CardIneffectiveActivitiesInformation",{attrs:{information:e.ineffectiveActivitiesCard.informationBar,filterBy:e.settings.filterBy}})],1)},d=[],p=(i("b680"),i("99af"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-card",{staticClass:"mt-5",attrs:{flat:""}},[i("v-container",[i("v-row",{staticClass:"justify-center"},[i("v-col",{attrs:{cols:"3"}},[e._l(e.information.usersIneffectiveActivities,(function(t,r){return[i("span",{key:r,staticClass:"d-block"},[i("b",[e._v(e._s(t.name))]),e._v(" : "+e._s(t[e.filterBy])+" ")])]}))],2),e._l(e.information.periodsIneffectiveActivities,(function(t,r){return[i("v-col",{key:r,attrs:{cols:"3"}},[i("span",{staticClass:"d-block"},[i("b",[e._v(e._s(e.rowOne[r]))]),e._v(" : "+e._s(t.count)+" ")])])]}))],2)],1)],1)}),c=[],f={name:"CardIneffectiveActivitiesInformation",props:{information:{type:Object,default:function(){return{}}},filterBy:{type:String,default:"count"}},data:function(){return{rowOne:["Este período","Período pasado","Mismo período el mes anterior"]}}},u=f,h=i("0c7c"),v=i("6544"),m=i.n(v),C=i("b0af"),g=i("62ad"),R=i("a523"),T=i("0fd9"),P=Object(h["a"])(u,p,c,!1,null,null,null),y=P.exports;m()(P,{VCard:C["a"],VCol:g["a"],VContainer:R["a"],VRow:T["a"]});var b=i("8d7e"),F=i("0db6"),O={name:"CardIneffectiveActivitiesData",mixins:[F["a"]],components:{CardIneffectiveActivitiesInformation:y},props:{defaultFilter:{type:Object,default:function(){return{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""}}}},isPreview:{type:Boolean,default:!1}},data:function(){return{ineffectiveActivitiesCard:{},modalSettings:{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:[],periodRangeToCompare:{period:"",start:"",end:""}},settings:{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:[],periodRangeToCompare:{period:"",start:"",end:""}}}},computed:{comparePercentage:function(){return"0"===this.generalConvertionRateCompare?"100":(100*this.generalConvertionRateFormat/this.generalConvertionRateCompare-100).toFixed(2)},generalConvertionRateFormat:function(){var e,t,i;return this.ineffectiveActivitiesCard&&void 0!==(null===(e=this.ineffectiveActivitiesCard)||void 0===e||null===(t=e.mainIneffectiveActivities)||void 0===t?void 0:t.count)&&(null===(i=this.ineffectiveActivitiesCard)||void 0===i?void 0:i.mainIneffectiveActivities.count)||"0"},generalConvertionRateCompare:function(){var e,t,i;return this.ineffectiveActivitiesCard&&void 0!==(null===(e=this.ineffectiveActivitiesCard)||void 0===e||null===(t=e.secondIneffectiveActivities)||void 0===t?void 0:t.count)&&(null===(i=this.ineffectiveActivitiesCard)||void 0===i?void 0:i.secondIneffectiveActivities.count)||"0"},textCompare:function(){return"PREVIOUS_PERIOD"===this.settings.periodRangeToCompare.period?this.settings.periodPredefined[3]:"PREVIOUS_YEAR"===this.settings.periodRangeToCompare.period?"Año anterior":"CUSTOM"===this.settings.periodRangeToCompare.period?"Personalizado":""},valueCompare:function(){return this.isPreview||"CUSTOM"!==this.settings.periodRangeToCompare.period?"":"".concat(this.formatDate(this.filters.dateRangeToCompare.dateStart)," - ").concat(this.formatDate(this.filters.dateRangeToCompare.dateEnd))},textMain:function(){return this.isPreview?"":this.settings.periodPredefined[2]},valueMain:function(){return!this.isPreview&&this.settings.periodPredefined.length>0&&"CUSTOM"===this.settings.periodPredefined[0]?"".concat(this.formatDate(this.filters.dateRange.dateStart)," - ").concat(this.formatDate(this.filters.dateRange.dateEnd)):""},filters:function(){var e={dateRange:{dateStart:this.dateStart,dateEnd:this.dateEnd},owners:this.ownersFilter,pipeline:this.pipelineFilter};return this.dateRangeToCompare&&""!==this.dateRangeToCompare.dateStart&&""!==this.dateRangeToCompare.dateEnd&&(e.dateRangeToCompare=this.dateRangeToCompare),e}},methods:{update:function(){this.$apollo.queries.ineffectiveActivitiesCard.refetch()}},apollo:{ineffectiveActivitiesCard:{query:b["q"],fetchPolicy:"no-cache",client:"charts",variables:function(){return{filters:this.filters}},skip:function(){return""===this.dateStart||""===this.dateEnd||!this.pipelineFilter.id||0===this.ownersFilter.length},loadingKey:"isLoading"}}},S=O,_=Object(h["a"])(S,l,d,!1,null,"4537b388",null),E=_.exports,M=i("157d"),D=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalFilters",{attrs:{isOpen:e.isOpenModalFilter,isIcon:e.isIcon},on:{save:e.saveFilter,statusModal:e.statusModal}},[i("v-row",[i("v-col",{attrs:{cols:"12"}},[i("SelectUsers",{attrs:{all:"",defaultSelect:e.defaultFilter.users},on:{change:e.changeUsers}})],1),i("v-col",{attrs:{cols:"12"}},[i("SelectPipeline",{attrs:{defaultSelect:e.defaultFilter.pipeline},on:{change:e.changePipeline}})],1),i("v-col",{attrs:{cols:"12"}},[i("PeriodPredefined",{attrs:{defaultSelect:e.defaultFilter.periodPredefined},on:{change:e.changePeriodPredefined}})],1),e.isPreview?e._e():i("v-col",{attrs:{cols:"12"}},[i("ComparePeriod",{attrs:{periodPredefined:e.filters.periodPredefined[0]},on:{change:e.changeComparePeriod}})],1)],1)],1)},w=[],A=i("5530"),B=i("740f"),x=i("6321"),I={name:"CardIneffectiveActivitiesFilter",components:{SelectUsers:B["a"],SelectPipeline:x["a"]},mixins:[F["b"]],props:{defaultFilter:{type:Object,default:function(){return{users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""}}}},isIcon:{type:Boolean,default:!1},isPreview:{type:Boolean,default:!1}},data:function(){return{filters:{users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""}}}},methods:{changeComparePeriod:function(e){var t=e.isCompare,i=e.periodCompare;if(t){if(i&&(this.filters.periodRangeToCompare.period=i.periodSelected,i.periodRange.length>0)){var r=Object(n["a"])(i.periodRange,2);this.filters.periodRangeToCompare.start=r[0],this.filters.periodRangeToCompare.end=r[1]}}else this.filters.periodRangeToCompare.period="",this.filters.periodRangeToCompare.start="",this.filters.periodRangeToCompare.end=""},saveFilter:function(){this.changeChart({id:"card-ineffectiveActivities",filtersFull:Object(A["a"])(Object(A["a"])({},this.noReactive(this.filters)),{},{periodRange:Object(A["a"])({__typename:"PeriodRange"},this.filters.periodRange)})}),this.isOpenModalFilter=!1}}},k=I,j=Object(h["a"])(k,D,w,!1,null,"dee32992",null),H=j.exports;m()(j,{VCol:g["a"],VRow:T["a"]});var N={name:"CardIneffectiveActivitiesModal",components:{CardIneffectiveActivitiesData:E,CardIneffectiveActivitiesFilter:H,TableActivities:M["a"]},mixins:[F["c"]],props:{isOpen:{type:Boolean,default:!1},title:{type:String,default:"Sin título"},titleRegular:{type:String,default:""},filters:{type:Object,default:function(){return{filtersConfig:{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""}},filtersTable:{users:[],pipelines:[],periodRange:{start:"",end:""},dealStatus:"",stages:[],activityTypes:[],fromReportStatus:"ACTIVITIESBYSTAGE"}}}}}},U=N,V=Object(h["a"])(U,o,s,!1,null,"35f67611",null),G=V.exports,$={name:"CardIneffectiveActivitiesPreview",components:{CardIneffectiveActivitiesData:E,CardIneffectiveActivitiesModal:G,CardIneffectiveActivitiesFilter:H},mixins:[F["d"]],props:{defaultPeriod:{type:String,default:"THIS_MONTH"}},data:function(){return{title:"Actividades",titleRegular:"inefectivas",isOpenModal:!1,chartId:"card-ineffectiveActivities",filtersChartsDefault:{},initFilter:{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""},activitiesFilter:"INEFFECTIVE",activityTypes:[],fromReportStatus:"ACTIVITIES_CARD"}}},computed:{filtersConfig:function(){var e,t,i,r,a,n;return{filterBy:(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.filterBy)||this.initFilter.filterBy,users:this.usersGlobal||(null===(t=this.chart.filtersFull)||void 0===t?void 0:t.users)||this.initUsers,pipeline:(null===(i=this.chart.filtersFull)||void 0===i?void 0:i.pipeline)||this.initPipeline,periodRange:this.periodRangeGlobal||(null===(r=this.chart.filtersFull)||void 0===r?void 0:r.periodRange)||this.periodRange,periodPredefined:this.periodPredefinedGlobal||(null===(a=this.chart.filtersFull)||void 0===a?void 0:a.periodPredefined)||[this.defaultPeriod]||this.initFilter.periodPredefined,periodRangeToCompare:(null===(n=this.chart.filtersFull)||void 0===n?void 0:n.periodRangeToCompare)||this.initFilter.periodRangeToCompare}},filtersTable:function(){var e,t=this.getPeriod(this.initFilter.periodPredefined[0]).get(),i=Object(n["a"])(t,2),r=i[0],a=i[1];return{users:this.usersGlobal||this.users||this.initUsers,pipelines:this.pipelines||[this.initPipeline],periodRange:this.periodRangeGlobal||(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.periodRange)||{start:r,end:a},activitiesStatus:this.initFilter.activitiesFilter,activityTypes:this.filtersChartsDefault.activityTypes||this.initFilter.activityTypes,fromReportStatus:this.initFilter.fromReportStatus}}}},L=$,q=(i("804c"),Object(h["a"])(L,r,a,!1,null,"e6e8141e",null));t["a"]=q.exports},"5cb2":function(e,t,i){"use strict";i("92c9")},"65ac":function(e,t,i){},"69fa":function(e,t,i){},"6c94":function(e,t,i){"use strict";var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.list,"items-per-page":5},scopedSlots:e._u([{key:"item.tracking",fn:function(t){var r=t.item;return[i("v-chip",{attrs:{color:e.getColor(r.tracking),dark:""}},[e._v(" "+e._s(e.getText(r.tracking))+" ")])]}},{key:"item.openingTime",fn:function(t){var i=t.item;return[e._v(" "+e._s(e._f("formatDate")(i.openingTime))+" ")]}}],null,!0)})},a=[],n=(i("4de4"),i("d81d"),i("b0c0"),i("8d7e")),o={name:"TableEmails",props:{defaultFilter:{type:Object,default:function(){return{users:[],pipelines:[],periodRange:{start:"",end:""},emailStatus:"ALL"}}}},data:function(){return{subreportsEmails:{count:0,list:[]},headers:[{text:"Asunto",value:"subject",sortable:!1},{text:"Correo electrónico",value:"address",sortable:!1},{text:"Contacto",value:"contact",sortable:!1},{text:"Seguimiento",value:"tracking",sortable:!1},{text:"Fecha de apertura",value:"openingTime",sortable:!1}],filter:{users:[],pipelines:[],periodRange:{start:"",end:""},emailStatus:"ALL"}}},created:function(){this.filter=this.noReactive(this.defaultFilter)},watch:{defaultFilter:{handler:function(){this.filter=this.noReactive(this.defaultFilter)},immediate:!0,deep:!0}},computed:{list:function(){return this.subreportsEmails.list.map((function(e){var t;return{subject:e.subject,address:e.address,contact:(null===e||void 0===e||null===(t=e.contact)||void 0===t?void 0:t.name)||"Sin contacto",tracking:e.tracking,openingTime:e.openingTime}}))},pipelinesFilter:function(){return this.filter.pipelines.length?this.filter.pipelines.map((function(e){return{id:e.id}})):[]},ownersFilter:function(){return this.filter.users.length?this.filter.users.map((function(e){return{id:e.id}})):[]}},methods:{getColor:function(e){return"OPEN"===e?"#2E2E2F":"NOT_OPEN"===e?"#881414":"NO_TRACK"===e?"#396A5D":"#2E2E2F"},getText:function(e){return"OPEN"===e?"Abierto":"NOT_OPEN"===e?"No abierto":"NO_TRACK"===e?"Sin seguimiento":"Abierto"}},apollo:{subreportsEmails:{query:n["F"],fetchPolicy:"no-cache",client:"charts",variables:function(){return{filters:{dateRange:{dateStart:this.filter.periodRange.start,dateEnd:this.filter.periodRange.end},owners:this.ownersFilter,pipelines:this.pipelinesFilter,emailStatus:this.filter.emailStatus}}}}}},s=o,l=i("0c7c"),d=i("6544"),p=i.n(d),c=i("cc20"),f=i("8fea"),u=Object(l["a"])(s,r,a,!1,null,"08178f74",null);t["a"]=u.exports;p()(u,{VChip:c["a"],VDataTable:f["a"]})},7502:function(e,t,i){"use strict";var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseCardChart",{attrs:{title:e.title,titleRegular:e.titleRegular,settings:e.filtersConfig},on:{updateRefetch:function(t){e.isRefetch=!0}},scopedSlots:e._u([{key:"modal",fn:function(){return[i("CardTotalOpenDealsFilter",{attrs:{defaultFilter:e.filtersConfig,isIcon:"",isPreview:""}})]},proxy:!0}])},[i("div",{staticClass:"hoverClick",on:{click:e.openModal}},[i("CardTotalOpenDealsData",{attrs:{defaultFilter:e.filtersConfig,isPreview:"",isRefetch:e.isRefetch},on:{updateRefetch:function(t){e.isRefetch=!1}}})],1),i("CardTotalOpenDealsModal",{attrs:{isOpen:e.isOpenModal,filters:{filtersConfig:e.filtersConfig,filtersTable:e.filtersTable},title:e.title,titleRegular:e.titleRegular},on:{close:e.closeModal}})],1)},a=[],n=i("3835"),o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalChart",{attrs:{title:e.title,titleRegular:e.titleRegular,isOpen:e.isOpen},on:{close:e.closeModal},scopedSlots:e._u([{key:"filters",fn:function(){return[i("CardTotalOpenDealsFilter",{attrs:{defaultFilter:e.filters.filtersConfig}})]},proxy:!0},{key:"chart",fn:function(){return[i("CardTotalOpenDealsData",{attrs:{defaultFilter:e.filters.filtersConfig}})]},proxy:!0},{key:"table",fn:function(){return[i("TableDeals",{attrs:{defaultFilter:e.filters.filtersTable}})]},proxy:!0}])})},s=[],l=i("8b70"),d=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalFilters",{attrs:{isOpen:e.isOpenModalFilter,isIcon:e.isIcon},on:{save:e.saveFilter,statusModal:e.statusModal}},[i("v-row",[i("v-col",{attrs:{cols:"12"}},[i("Select",{attrs:{name:"Filtrar por",defaultSelect:e.defaultFilter.filterBy,list:e.listFilterBy},on:{change:e.changeFilterBy}})],1),i("v-col",{attrs:{cols:"12"}},[i("SelectUsers",{attrs:{all:"",defaultSelect:e.defaultFilter.users},on:{change:e.changeUsers}})],1),i("v-col",{attrs:{cols:"12"}},[i("SelectPipeline",{attrs:{defaultSelect:e.defaultFilter.pipeline},on:{change:e.changePipeline}})],1),i("v-col",{attrs:{cols:"12"}},[i("PeriodPredefined",{attrs:{defaultSelect:e.defaultFilter.periodPredefined},on:{change:e.changePeriodPredefined}})],1),e.isPreview?e._e():i("v-col",{attrs:{cols:"12"}},[i("ComparePeriod",{attrs:{periodPredefined:e.filters.periodPredefined[0]},on:{change:e.changeComparePeriod}})],1)],1)],1)},p=[],c=i("5530"),f=i("740f"),u=i("d344"),h=i("6321"),v=i("c065"),m=i("0db6"),C={name:"CardTotalOpenDealsFilter",components:{SelectUsers:f["a"],SelectPipeline:h["a"],Select:u["a"]},mixins:[m["b"]],props:{defaultFilter:{type:Object,default:function(){return{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""}}}},isIcon:{type:Boolean,default:!1},isPreview:{type:Boolean,default:!1}},data:function(){return{listTime:v["d"],listFilterBy:v["e"],filters:{filterBy:"count",filterTime:"WEEKS",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""}}}},methods:{changeComparePeriod:function(e){var t=e.isCompare,i=e.periodCompare;if(t){if(i&&(this.filters.periodRangeToCompare.period=i.periodSelected,i.periodRange.length>0)){var r=Object(n["a"])(i.periodRange,2);this.filters.periodRangeToCompare.start=r[0],this.filters.periodRangeToCompare.end=r[1]}}else this.filters.periodRangeToCompare.period="",this.filters.periodRangeToCompare.start="",this.filters.periodRangeToCompare.end=""},saveFilter:function(){this.changeChart({id:"card-totalOpenDeals",filtersFull:Object(c["a"])(Object(c["a"])({},this.noReactive(this.filters)),{},{periodRange:Object(c["a"])({__typename:"PeriodRange"},this.filters.periodRange)})}),this.isOpenModalFilter=!1}}},g=C,R=i("0c7c"),T=i("6544"),P=i.n(T),y=i("62ad"),b=i("0fd9"),F=Object(R["a"])(g,d,p,!1,null,"3062d75e",null),O=F.exports;P()(F,{VCol:y["a"],VRow:b["a"]});var S=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.isPreview?e._e():i("ListFilters",{attrs:{settings:e.settings}}),i("BaseCardNumber",{attrs:{information:{numberMain:""+("count"===e.settings.filterBy?e.generalConvertionRateFormat:e.formatPrice(e.generalConvertionRateFormat)),textMain:e.textMain,valueMain:e.valueMain,textMainType:e.textChart,isCompare:!e.isPreview&&e.settings.periodRangeToCompare.period.length>0,numberCompare:""+("count"===e.settings.filterBy?e.generalConvertionRateCompare:e.formatPrice(e.generalConvertionRateCompare)),textCompare:e.textCompare,valueCompare:e.valueCompare,numberDifferenceCompare:e.comparePercentage}}}),e.isPreview?e._e():i("CardTotalOpenDealsInformation",{attrs:{information:e.totalOpenDealsCard.informationBar,filterBy:e.settings.filterBy}})],1)},_=[],E=(i("b680"),i("99af"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-card",{staticClass:"mt-5",attrs:{flat:""}},[i("v-container",[i("v-row",[i("v-col",{attrs:{cols:"3"}},[e._l(e.information.usersOpenDeals,(function(t,r){return[i("span",{key:r,staticClass:"d-block"},[i("b",[e._v(e._s(t.name))]),e._v(" : "+e._s("count"===e.filterBy?t[e.filterBy]:e.formatPrice(t[e.filterBy]))+" ")])]}))],2),e._l(e.information.periodsOpenDeals,(function(t,r){return[i("v-col",{key:r,attrs:{cols:"3"}},[i("span",{staticClass:"d-block"},[i("b",[e._v(e._s(e.periods[r]))]),e._v(" : "+e._s("count"===e.filterBy?t[e.filterBy]:e.formatPrice(t[e.filterBy]))+" ")])])]}))],2)],1)],1)}),M=[],D={name:"CardTotalOpenDealsInformation",props:{information:{type:Object,default:function(){return{}}},filterBy:{type:String,default:"count"}},data:function(){return{periods:["Promedio anual","Promedio trimestral","Promedio mensual"],pastPeriods:["Este período","Período pasado","Mismo período el mes anterior"]}}},w=D,A=i("b0af"),B=i("a523"),x=Object(R["a"])(w,E,M,!1,null,null,null),I=x.exports;P()(x,{VCard:A["a"],VCol:y["a"],VContainer:B["a"],VRow:b["a"]});var k=i("8d7e"),j={name:"CardConvertionRateData",mixins:[m["a"]],components:{CardTotalOpenDealsInformation:I},props:{defaultFilter:{type:Object,default:function(){return{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""}}}},isPreview:{type:Boolean,default:!1}},data:function(){return{totalOpenDealsCard:{},modalSettings:{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:[],periodRangeToCompare:{period:"",start:"",end:""}},settings:{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:[],periodRangeToCompare:{period:"",start:"",end:""}}}},computed:{comparePercentage:function(){return"0"===this.generalConvertionRateCompare?"100":(100*this.generalConvertionRateFormat/this.generalConvertionRateCompare-100).toFixed(2)},generalConvertionRateFormat:function(){var e,t,i,r,a;return this.totalOpenDealsCard&&void 0!==(null===(e=this.totalOpenDealsCard)||void 0===e||null===(t=e.mainOpenDeals)||void 0===t?void 0:t.count)&&void 0!==(null===(i=this.totalOpenDealsCard)||void 0===i||null===(r=i.mainOpenDeals)||void 0===r?void 0:r.sum)&&(null===(a=this.totalOpenDealsCard)||void 0===a?void 0:a.mainOpenDeals[this.settings.filterBy])||"0"},generalConvertionRateCompare:function(){var e,t,i,r;if(this.totalOpenDealsCard&&void 0!==(null===(e=this.totalOpenDealsCard)||void 0===e||null===(t=e.secondOpenDeals)||void 0===t?void 0:t.count)&&void 0!==(null===(i=this.totalOpenDealsCard)||void 0===i||null===(r=i.secondOpenDeals)||void 0===r?void 0:r.sum)){var a,n=null===(a=this.totalOpenDealsCard)||void 0===a?void 0:a.secondOpenDeals[this.settings.filterBy];return n?n.toFixed(2):"0"}return"0"},textCompare:function(){return"PREVIOUS_PERIOD"===this.settings.periodRangeToCompare.period?this.settings.periodPredefined[3]:"PREVIOUS_YEAR"===this.settings.periodRangeToCompare.period?"Año anterior":"CUSTOM"===this.settings.periodRangeToCompare.period?"Personalizado":""},valueCompare:function(){return this.isPreview||"CUSTOM"!==this.settings.periodRangeToCompare.period?"":"".concat(this.formatDate(this.filters.dateRangeToCompare.dateStart)," - ").concat(this.formatDate(this.filters.dateRangeToCompare.dateEnd))},textMain:function(){return this.isPreview?"":this.settings.periodPredefined[2]},valueMain:function(){return!this.isPreview&&this.settings.periodPredefined.length>0&&"CUSTOM"===this.settings.periodPredefined[0]?"".concat(this.formatDate(this.filters.dateRange.dateStart)," - ").concat(this.formatDate(this.filters.dateRange.dateEnd)):""},filters:function(){var e={dateRange:{dateStart:this.dateStart,dateEnd:this.dateEnd},owners:this.ownersFilter,pipeline:this.pipelineFilter};return this.dateRangeToCompare&&""!==this.dateRangeToCompare.dateStart&&""!==this.dateRangeToCompare.dateEnd&&(e.dateRangeToCompare=this.dateRangeToCompare),e}},methods:{update:function(){this.$apollo.queries.totalOpenDealsCard.refetch()}},apollo:{totalOpenDealsCard:{query:k["R"],fetchPolicy:"no-cache",client:"charts",variables:function(){return{filters:this.filters}},skip:function(){return""===this.dateStart||""===this.dateEnd||!this.pipelineFilter.id||0===this.ownersFilter.length},loadingKey:"isLoading"}}},H=j,N=Object(R["a"])(H,S,_,!1,null,"edd679b0",null),U=N.exports,V={name:"CardTotalOpenDealsModal",components:{TableDeals:l["a"],CardTotalOpenDealsFilter:O,CardTotalOpenDealsData:U},mixins:[m["c"]],props:{isOpen:{type:Boolean,default:!1},title:{type:String,default:"Sin título"},titleRegular:{type:String,default:""},filters:{type:Object,default:function(){return{filtersConfig:{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""}},filtersTable:{users:[],pipelines:[],periodRange:{start:"",end:""},dealStatus:""}}}}}},G=V,$=Object(R["a"])(G,o,s,!1,null,"692ff88e",null),L=$.exports,q={name:"CardTotalOpenDealsPreview",components:{CardTotalOpenDealsData:U,CardTotalOpenDealsModal:L,CardTotalOpenDealsFilter:O},mixins:[m["d"]],props:{defaultPeriod:{type:String,default:"THIS_MONTH"}},data:function(){return{chartId:"card-totalOpenDeals",title:"Tratos",titleRegular:"abiertos totales",isOpenModal:!1,filtersChartsDefault:{},initFilter:{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""},dealStatus:"OPEN"}}},computed:{filtersConfig:function(){var e,t,i,r,a,n;return{filterBy:(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.filterBy)||this.initFilter.filterBy,users:this.usersGlobal||(null===(t=this.chart.filtersFull)||void 0===t?void 0:t.users)||this.initUsers,pipeline:(null===(i=this.chart.filtersFull)||void 0===i?void 0:i.pipeline)||this.initPipeline,periodRange:this.periodRangeGlobal||(null===(r=this.chart.filtersFull)||void 0===r?void 0:r.periodRange)||this.periodRange,periodPredefined:this.periodPredefinedGlobal||(null===(a=this.chart.filtersFull)||void 0===a?void 0:a.periodPredefined)||[this.defaultPeriod]||this.initFilter.periodPredefined,periodRangeToCompare:(null===(n=this.chart.filtersFull)||void 0===n?void 0:n.periodRangeToCompare)||this.initFilter.periodRangeToCompare}},filtersTable:function(){var e,t=this.getPeriod(this.initFilter.periodPredefined[0]).get(),i=Object(n["a"])(t,2),r=i[0],a=i[1];return{users:this.usersGlobal||this.users||this.initUsers,pipelines:this.pipelines||this.filtersChartsDefault.pipelines,periodRange:this.periodRangeGlobal||(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.periodRange)||{start:r,end:a},dealStatus:this.initFilter.dealStatus}}}},Y=q,K=(i("c22d"),Object(R["a"])(Y,r,a,!1,null,"49f71226",null));t["a"]=K.exports},7695:function(e,t,i){"use strict";i("e5d2")},"7fdf":function(e,t,i){"use strict";i("c607")},"804c":function(e,t,i){"use strict";i("d1a8")},"896c":function(e,t,i){},"899a":function(e,t,i){"use strict";i("69fa")},"8e7f":function(e,t,i){},"92c9":function(e,t,i){},9786:function(e,t,i){"use strict";i("896c")},a052:function(e,t,i){"use strict";i("65ac")},a635:function(e,t,i){"use strict";var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseCardChart",{attrs:{title:e.title,titleRegular:e.titleRegular,settings:e.filtersConfig},on:{updateRefetch:function(t){e.isRefetch=!0}},scopedSlots:e._u([{key:"modal",fn:function(){return[i("CardCompletedActivitiesFilter",{attrs:{defaultFilter:e.filtersConfig,isIcon:"",isPreview:""}})]},proxy:!0}])},[i("div",{staticClass:"hoverClick",on:{click:e.openModal}},[i("CardCompletedActivitiesData",{attrs:{defaultFilter:e.filtersConfig,isPreview:"",isRefetch:e.isRefetch},on:{updateRefetch:function(t){e.isRefetch=!1}}})],1),i("CardCompletedActivitiesModal",{attrs:{isOpen:e.isOpenModal,filters:{filtersConfig:e.filtersConfig,filtersTable:e.filtersTable},title:e.title,titleRegular:e.titleRegular},on:{close:e.closeModal}})],1)},a=[],n=i("3835"),o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalChart",{attrs:{title:e.title,titleRegular:e.titleRegular,isOpen:e.isOpen},on:{close:e.closeModal},scopedSlots:e._u([{key:"filters",fn:function(){return[i("CardCompletedActivitiesFilter",{attrs:{defaultFilter:e.filters.filtersConfig}})]},proxy:!0},{key:"chart",fn:function(){return[i("CardCompletedActivitiesData",{attrs:{defaultFilter:e.filters.filtersConfig}})]},proxy:!0},{key:"table",fn:function(){return[i("TableActivities",{attrs:{defaultFilter:e.filters.filtersTable}})]},proxy:!0}])})},s=[],l=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.isPreview?e._e():i("ListFilters",{attrs:{settings:e.settings}}),i("BaseCardNumber",{attrs:{information:{numberMain:""+e.generalConvertionRateFormat,textMain:e.textMain,valueMain:e.valueMain,textMainType:e.textChart,isCompare:!e.isPreview&&e.settings.periodRangeToCompare.period.length>0,numberCompare:""+e.generalConvertionRateCompare,textCompare:e.textCompare,valueCompare:e.valueCompare,numberDifferenceCompare:e.comparePercentage}}}),e.isPreview?e._e():i("CardCompletedActivitiesInformation",{attrs:{information:e.completedActivitiesCard.informationBar,filterBy:e.settings.filterBy}})],1)},d=[],p=(i("b680"),i("99af"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-card",{staticClass:"mt-5",attrs:{flat:""}},[i("v-container",[i("v-row",{staticClass:"justify-center"},[i("v-col",{attrs:{cols:"3"}},[e._l(e.information.usersCompletedActivities,(function(t,r){return[i("span",{key:r,staticClass:"d-block"},[i("b",[e._v(e._s(t.name))]),e._v(" : "+e._s(t[e.filterBy])+" ")])]}))],2),e._l(e.information.periodsCompletedActivities,(function(t,r){return[i("v-col",{key:r,attrs:{cols:"3"}},[i("span",{staticClass:"d-block"},[i("b",[e._v(e._s(e.rowOne[r]))]),e._v(" : "+e._s(t.count)+" ")])])]}))],2)],1)],1)}),c=[],f={name:"CardBookedActivitiesInDayInformation",props:{information:{type:Object,default:function(){return{}}},filterBy:{type:String,default:"count"}},data:function(){return{rowOne:["Este período","Período pasado","Mismo período el mes anterior"]}}},u=f,h=i("0c7c"),v=i("6544"),m=i.n(v),C=i("b0af"),g=i("62ad"),R=i("a523"),T=i("0fd9"),P=Object(h["a"])(u,p,c,!1,null,null,null),y=P.exports;m()(P,{VCard:C["a"],VCol:g["a"],VContainer:R["a"],VRow:T["a"]});var b=i("8d7e"),F=i("0db6"),O={name:"CardCompletedActivitiesData",mixins:[F["a"]],components:{CardCompletedActivitiesInformation:y},props:{defaultFilter:{type:Object,default:function(){return{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""}}}},isPreview:{type:Boolean,default:!1}},data:function(){return{completedActivitiesCard:{},modalSettings:{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:[],periodRangeToCompare:{period:"",start:"",end:""}},settings:{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:[],periodRangeToCompare:{period:"",start:"",end:""}}}},computed:{comparePercentage:function(){return"0"===this.generalConvertionRateCompare?"100":(100*this.generalConvertionRateFormat/this.generalConvertionRateCompare-100).toFixed(2)},generalConvertionRateFormat:function(){var e,t,i;return this.completedActivitiesCard&&void 0!==(null===(e=this.completedActivitiesCard)||void 0===e||null===(t=e.mainCompletedActivities)||void 0===t?void 0:t.count)&&(null===(i=this.completedActivitiesCard)||void 0===i?void 0:i.mainCompletedActivities.count)||"0"},generalConvertionRateCompare:function(){var e,t,i;return this.completedActivitiesCard&&void 0!==(null===(e=this.completedActivitiesCard)||void 0===e||null===(t=e.secondCompletedActivities)||void 0===t?void 0:t.count)&&(null===(i=this.completedActivitiesCard)||void 0===i?void 0:i.secondCompletedActivities.count)||"0"},textCompare:function(){return"PREVIOUS_PERIOD"===this.settings.periodRangeToCompare.period?this.settings.periodPredefined[3]:"PREVIOUS_YEAR"===this.settings.periodRangeToCompare.period?"Año anterior":"CUSTOM"===this.settings.periodRangeToCompare.period?"Personalizado":""},valueCompare:function(){return this.isPreview||"CUSTOM"!==this.settings.periodRangeToCompare.period?"":"".concat(this.formatDate(this.filters.dateRangeToCompare.dateStart)," - ").concat(this.formatDate(this.filters.dateRangeToCompare.dateEnd))},textMain:function(){return this.isPreview?"":this.settings.periodPredefined[2]},valueMain:function(){return!this.isPreview&&this.settings.periodPredefined.length>0&&"CUSTOM"===this.settings.periodPredefined[0]?"".concat(this.formatDate(this.filters.dateRange.dateStart)," - ").concat(this.formatDate(this.filters.dateRange.dateEnd)):""},filters:function(){var e={dateRange:{dateStart:this.dateStart,dateEnd:this.dateEnd},owners:this.ownersFilter,pipeline:this.pipelineFilter};return this.dateRangeToCompare&&""!==this.dateRangeToCompare.dateStart&&""!==this.dateRangeToCompare.dateEnd&&(e.dateRangeToCompare=this.dateRangeToCompare),e}},methods:{update:function(){this.$apollo.queries.completedActivitiesCard.refetch()}},apollo:{completedActivitiesCard:{query:b["j"],fetchPolicy:"no-cache",client:"charts",variables:function(){return{filters:this.filters}},skip:function(){return""===this.dateStart||""===this.dateEnd||!this.pipelineFilter.id||0===this.ownersFilter.length},loadingKey:"isLoading"}}},S=O,_=Object(h["a"])(S,l,d,!1,null,"dfa5718a",null),E=_.exports,M=i("157d"),D=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalFilters",{attrs:{isOpen:e.isOpenModalFilter,isIcon:e.isIcon},on:{save:e.saveFilter,statusModal:e.statusModal}},[i("v-row",[i("v-col",{attrs:{cols:"12"}},[i("SelectUsers",{attrs:{all:"",defaultSelect:e.defaultFilter.users},on:{change:e.changeUsers}})],1),i("v-col",{attrs:{cols:"12"}},[i("SelectPipeline",{attrs:{defaultSelect:e.defaultFilter.pipeline},on:{change:e.changePipeline}})],1),i("v-col",{attrs:{cols:"12"}},[i("PeriodPredefined",{attrs:{defaultSelect:e.defaultFilter.periodPredefined},on:{change:e.changePeriodPredefined}})],1),e.isPreview?e._e():i("v-col",{attrs:{cols:"12"}},[i("ComparePeriod",{attrs:{periodPredefined:e.filters.periodPredefined[0]},on:{change:e.changeComparePeriod}})],1)],1)],1)},w=[],A=i("5530"),B=i("740f"),x=i("6321"),I={name:"CardCompletedActivitiesFilter",components:{SelectUsers:B["a"],SelectPipeline:x["a"]},mixins:[F["b"]],props:{defaultFilter:{type:Object,default:function(){return{users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""}}}},isIcon:{type:Boolean,default:!1},isPreview:{type:Boolean,default:!1}},data:function(){return{filters:{users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""}}}},methods:{changeComparePeriod:function(e){var t=e.isCompare,i=e.periodCompare;if(t){if(i&&(this.filters.periodRangeToCompare.period=i.periodSelected,i.periodRange.length>0)){var r=Object(n["a"])(i.periodRange,2);this.filters.periodRangeToCompare.start=r[0],this.filters.periodRangeToCompare.end=r[1]}}else this.filters.periodRangeToCompare.period="",this.filters.periodRangeToCompare.start="",this.filters.periodRangeToCompare.end=""},saveFilter:function(){this.changeChart({id:"card-completedActivities",filtersFull:Object(A["a"])(Object(A["a"])({},this.noReactive(this.filters)),{},{periodRange:Object(A["a"])({__typename:"PeriodRange"},this.filters.periodRange)})}),this.isOpenModalFilter=!1}}},k=I,j=Object(h["a"])(k,D,w,!1,null,"762ff6ce",null),H=j.exports;m()(j,{VCol:g["a"],VRow:T["a"]});var N={name:"CardCompletedActivitiesModal",components:{CardCompletedActivitiesData:E,CardCompletedActivitiesFilter:H,TableActivities:M["a"]},mixins:[F["c"]],props:{isOpen:{type:Boolean,default:!1},title:{type:String,default:"Sin título"},titleRegular:{type:String,default:""},filters:{type:Object,default:function(){return{filtersConfig:{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""}},filtersTable:{users:[],pipelines:[],periodRange:{start:"",end:""},dealStatus:"",stages:[],activityTypes:[],fromReportStatus:"ACTIVITIESBYSTAGE"}}}}}},U=N,V=Object(h["a"])(U,o,s,!1,null,"7151618a",null),G=V.exports,$={name:"CardCompletedActivitiesPreview",components:{CardCompletedActivitiesData:E,CardCompletedActivitiesModal:G,CardCompletedActivitiesFilter:H},mixins:[F["d"]],props:{defaultPeriod:{type:String,default:"THIS_MONTH"}},data:function(){return{title:"Actividades",titleRegular:"completadas",isOpenModal:!1,chartId:"card-completedActivities",filtersChartsDefault:{},initFilter:{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""},activitiesFilter:"COMPLETED",activityTypes:[],fromReportStatus:"ACTIVITIES_CARD"}}},computed:{filtersConfig:function(){var e,t,i,r,a,n;return{filterBy:(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.filterBy)||this.initFilter.filterBy,users:this.usersGlobal||(null===(t=this.chart.filtersFull)||void 0===t?void 0:t.users)||this.initUsers,pipeline:(null===(i=this.chart.filtersFull)||void 0===i?void 0:i.pipeline)||this.initPipeline,periodRange:this.periodRangeGlobal||(null===(r=this.chart.filtersFull)||void 0===r?void 0:r.periodRange)||this.periodRange,periodPredefined:this.periodPredefinedGlobal||(null===(a=this.chart.filtersFull)||void 0===a?void 0:a.periodPredefined)||[this.defaultPeriod]||this.initFilter.periodPredefined,periodRangeToCompare:(null===(n=this.chart.filtersFull)||void 0===n?void 0:n.periodRangeToCompare)||this.initFilter.periodRangeToCompare}},filtersTable:function(){var e,t=this.getPeriod(this.initFilter.periodPredefined[0]).get(),i=Object(n["a"])(t,2),r=i[0],a=i[1];return{users:this.usersGlobal||this.users||this.initUsers,pipelines:this.pipelines||[this.initPipeline],periodRange:this.periodRangeGlobal||(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.periodRange)||{start:r,end:a},activitiesStatus:this.initFilter.activitiesFilter,activityTypes:this.filtersChartsDefault.activityTypes||this.initFilter.activityTypes,fromReportStatus:this.initFilter.fromReportStatus}}}},L=$,q=(i("a989"),Object(h["a"])(L,r,a,!1,null,"4972a1cc",null));t["a"]=q.exports},a989:function(e,t,i){"use strict";i("8e7f")},ac4d:function(e,t,i){"use strict";var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseCardChart",{attrs:{title:e.title,titleRegular:e.titleRegular,settings:e.filtersConfig},on:{updateRefetch:function(t){e.isRefetch=!0}},scopedSlots:e._u([{key:"modal",fn:function(){return[i("CardOpenEmailsFilter",{attrs:{defaultFilter:e.filtersConfig,isIcon:"",isPreview:""}})]},proxy:!0}])},[i("div",{staticClass:"hoverClick",on:{click:e.openModal}},[i("CardOpenEmailsData",{attrs:{defaultFilter:e.filtersConfig,isPreview:"",isRefetch:e.isRefetch},on:{updateRefetch:function(t){e.isRefetch=!1}}})],1),i("CardOpenEmailsModal",{attrs:{isOpen:e.isOpenModal,filters:{filtersConfig:e.filtersConfig,filtersTable:e.filtersTable},title:e.title,titleRegular:e.titleRegular},on:{close:e.closeModal}})],1)},a=[],n=i("3835"),o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalChart",{attrs:{title:e.title,titleRegular:e.titleRegular,isOpen:e.isOpen},on:{close:e.closeModal},scopedSlots:e._u([{key:"filters",fn:function(){return[i("CardOpenEmailsFilter",{attrs:{defaultFilter:e.filters.filtersConfig}})]},proxy:!0},{key:"chart",fn:function(){return[i("CardOpenEmailsData",{attrs:{defaultFilter:e.filters.filtersConfig}})]},proxy:!0},{key:"table",fn:function(){return[i("TableEmails",{attrs:{defaultFilter:e.filters.filtersTable}})]},proxy:!0}])})},s=[],l=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.isPreview?e._e():i("ListFilters",{attrs:{settings:e.settings}}),i("BaseCardNumber",{attrs:{information:{numberMain:""+e.generalConvertionRateFormat,textMain:e.textMain,valueMain:e.valueMain,textMainType:e.textChart,isCompare:!e.isPreview&&e.settings.periodRangeToCompare.period.length>0,numberCompare:""+e.generalConvertionRateCompare,textCompare:e.textCompare,valueCompare:e.valueCompare,numberDifferenceCompare:e.comparePercentage}}}),e.isPreview?e._e():i("CardOpenEmailsInformation",{attrs:{information:e.openEmailsCard.informationBar,filterBy:e.settings.filterBy}})],1)},d=[],p=(i("b680"),i("99af"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-card",{staticClass:"mt-5",attrs:{flat:""}},[i("v-container",[i("v-row",{staticClass:"justify-center"},[i("v-col",{attrs:{cols:"3"}},[e._l(e.information.usersOpenedEmails,(function(t,r){return[i("span",{key:r,staticClass:"d-block"},[i("b",[e._v(e._s(t.name))]),e._v(" : "+e._s(t[e.filterBy])+" ")])]}))],2),e._l(e.information.periodsOpenedEmails,(function(t,r){return[i("v-col",{key:r,attrs:{cols:"3"}},[i("span",{staticClass:"d-block"},[i("b",[e._v(e._s(e.rowOne[r]))]),e._v(" : "+e._s(t.count)+" ")])])]}))],2)],1)],1)}),c=[],f={name:"CardOpenEmailsInformation",props:{information:{type:Object,default:function(){return{}}},filterBy:{type:String,default:"count"}},data:function(){return{rowOne:["Este período","Período pasado","Mismo período el mes anterior"]}}},u=f,h=i("0c7c"),v=i("6544"),m=i.n(v),C=i("b0af"),g=i("62ad"),R=i("a523"),T=i("0fd9"),P=Object(h["a"])(u,p,c,!1,null,null,null),y=P.exports;m()(P,{VCard:C["a"],VCol:g["a"],VContainer:R["a"],VRow:T["a"]});var b=i("8d7e"),F=i("0db6"),O={name:"CardOpenEmailsData",mixins:[F["a"]],components:{CardOpenEmailsInformation:y},props:{defaultFilter:{type:Object,default:function(){return{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""}}}},isPreview:{type:Boolean,default:!1}},data:function(){return{openEmailsCard:{},modalSettings:{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:[],periodRangeToCompare:{period:"",start:"",end:""}},settings:{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:[],periodRangeToCompare:{period:"",start:"",end:""}}}},computed:{comparePercentage:function(){return"0"===this.generalConvertionRateCompare?"100":(100*this.generalConvertionRateFormat/this.generalConvertionRateCompare-100).toFixed(2)},generalConvertionRateFormat:function(){var e,t,i;return this.openEmailsCard&&void 0!==(null===(e=this.openEmailsCard)||void 0===e||null===(t=e.mainOpenedEmails)||void 0===t?void 0:t.count)&&(null===(i=this.openEmailsCard)||void 0===i?void 0:i.mainOpenedEmails[this.settings.filterBy])||"0"},generalConvertionRateCompare:function(){var e,t;if(this.openEmailsCard&&void 0!==(null===(e=this.openEmailsCard)||void 0===e||null===(t=e.secondOpenedEmails)||void 0===t?void 0:t.count)){var i,r=null===(i=this.openEmailsCard)||void 0===i?void 0:i.secondOpenedEmails[this.settings.filterBy];return r||"0"}return"0"},textCompare:function(){return"PREVIOUS_PERIOD"===this.settings.periodRangeToCompare.period?this.settings.periodPredefined[3]:"PREVIOUS_YEAR"===this.settings.periodRangeToCompare.period?"Año anterior":"CUSTOM"===this.settings.periodRangeToCompare.period?"Personalizado":""},valueCompare:function(){return this.isPreview||"CUSTOM"!==this.settings.periodRangeToCompare.period?"":"".concat(this.formatDate(this.filters.dateRangeToCompare.dateStart)," - ").concat(this.formatDate(this.filters.dateRangeToCompare.dateEnd))},textMain:function(){return this.isPreview?"":this.settings.periodPredefined[2]},valueMain:function(){return!this.isPreview&&this.settings.periodPredefined.length>0&&"CUSTOM"===this.settings.periodPredefined[0]?"".concat(this.formatDate(this.filters.dateRange.dateStart)," - ").concat(this.formatDate(this.filters.dateRange.dateEnd)):""},filters:function(){var e={dateRange:{dateStart:this.dateStart,dateEnd:this.dateEnd},owners:this.ownersFilter,pipeline:this.pipelineFilter};return this.dateRangeToCompare&&""!==this.dateRangeToCompare.dateStart&&""!==this.dateRangeToCompare.dateEnd&&(e.dateRangeToCompare=this.dateRangeToCompare),e}},methods:{update:function(){this.$apollo.queries.openEmailsCard.refetch()}},apollo:{openEmailsCard:{query:b["w"],fetchPolicy:"no-cache",client:"charts",variables:function(){return{filters:this.filters}},skip:function(){return""===this.dateStart||""===this.dateEnd||!this.pipelineFilter.id||0===this.ownersFilter.length},loadingKey:"isLoading"}}},S=O,_=Object(h["a"])(S,l,d,!1,null,"61da3018",null),E=_.exports,M=i("6c94"),D=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalFilters",{attrs:{isOpen:e.isOpenModalFilter,isIcon:e.isIcon},on:{save:e.saveFilter,statusModal:e.statusModal}},[i("v-row",[i("v-col",{attrs:{cols:"12"}},[i("SelectUsers",{attrs:{all:"",defaultSelect:e.defaultFilter.users},on:{change:e.changeUsers}})],1),i("v-col",{attrs:{cols:"12"}},[i("SelectPipeline",{attrs:{defaultSelect:e.defaultFilter.pipeline},on:{change:e.changePipeline}})],1),i("v-col",{attrs:{cols:"12"}},[i("PeriodPredefined",{attrs:{defaultSelect:e.defaultFilter.periodPredefined},on:{change:e.changePeriodPredefined}})],1),e.isPreview?e._e():i("v-col",{attrs:{cols:"12"}},[i("ComparePeriod",{attrs:{periodPredefined:e.filters.periodPredefined[0]},on:{change:e.changeComparePeriod}})],1)],1)],1)},w=[],A=i("5530"),B=i("740f"),x=i("6321"),I={name:"CardOpenEmailsFilter",components:{SelectUsers:B["a"],SelectPipeline:x["a"]},mixins:[F["b"]],props:{defaultFilter:{type:Object,default:function(){return{users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""}}}},isIcon:{type:Boolean,default:!1},isPreview:{type:Boolean,default:!1}},data:function(){return{filters:{users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""}}}},methods:{changeComparePeriod:function(e){var t=e.isCompare,i=e.periodCompare;if(t){if(i&&(this.filters.periodRangeToCompare.period=i.periodSelected,i.periodRange.length>0)){var r=Object(n["a"])(i.periodRange,2);this.filters.periodRangeToCompare.start=r[0],this.filters.periodRangeToCompare.end=r[1]}}else this.filters.periodRangeToCompare.period="",this.filters.periodRangeToCompare.start="",this.filters.periodRangeToCompare.end=""},saveFilter:function(){this.changeChart({id:"card-openEmails",filtersFull:Object(A["a"])(Object(A["a"])({},this.noReactive(this.filters)),{},{periodRange:Object(A["a"])({__typename:"PeriodRange"},this.filters.periodRange)})}),this.isOpenModalFilter=!1}}},k=I,j=Object(h["a"])(k,D,w,!1,null,"4174cfa1",null),H=j.exports;m()(j,{VCol:g["a"],VRow:T["a"]});var N={name:"CardOpenEmailsModal",components:{CardOpenEmailsData:E,CardOpenEmailsFilter:H,TableEmails:M["a"]},mixins:[F["c"]],props:{isOpen:{type:Boolean,default:!1},title:{type:String,default:"Sin título"},titleRegular:{type:String,default:""},filters:{type:Object,default:function(){return{filtersConfig:{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""}},filtersTable:{users:[],pipelines:[],periodRange:{start:"",end:""}}}}}}},U=N,V=Object(h["a"])(U,o,s,!1,null,"0975a6da",null),G=V.exports,$={name:"CardOpenEmailsPreview",components:{CardOpenEmailsData:E,CardOpenEmailsModal:G,CardOpenEmailsFilter:H},mixins:[F["d"]],props:{defaultPeriod:{type:String,default:"THIS_MONTH"}},data:function(){return{title:"Correos",titleRegular:"abiertos",isOpenModal:!1,chartId:"card-openEmails",filtersChartsDefault:{},initFilter:{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""}}}},computed:{filtersConfig:function(){var e,t,i,r,a,n;return{filterBy:(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.filterBy)||this.initFilter.filterBy,users:this.usersGlobal||(null===(t=this.chart.filtersFull)||void 0===t?void 0:t.users)||this.initUsers,pipeline:(null===(i=this.chart.filtersFull)||void 0===i?void 0:i.pipeline)||this.initPipeline,periodRange:this.periodRangeGlobal||(null===(r=this.chart.filtersFull)||void 0===r?void 0:r.periodRange)||this.periodRange,periodPredefined:this.periodPredefinedGlobal||(null===(a=this.chart.filtersFull)||void 0===a?void 0:a.periodPredefined)||[this.defaultPeriod]||this.initFilter.periodPredefined,periodRangeToCompare:(null===(n=this.chart.filtersFull)||void 0===n?void 0:n.periodRangeToCompare)||this.initFilter.periodRangeToCompare}},filtersTable:function(){var e,t=this.getPeriod(this.initFilter.periodPredefined[0]).get(),i=Object(n["a"])(t,2),r=i[0],a=i[1];return{users:this.usersGlobal||this.users||this.initUsers,pipelines:this.pipelines||this.filtersChartsDefault.pipelines,periodRange:this.periodRangeGlobal||(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.periodRange)||{start:r,end:a},emailStatus:"ALL"}}}},L=$,q=(i("899a"),Object(h["a"])(L,r,a,!1,null,"0502ff48",null));t["a"]=q.exports},ae8a:function(e,t,i){"use strict";i("0846")},c22d:function(e,t,i){"use strict";i("dbb1f")},c607:function(e,t,i){},c953:function(e,t,i){"use strict";var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseCardChart",{attrs:{title:e.title,titleRegular:e.titleRegular,settings:e.filtersConfig},on:{updateRefetch:function(t){e.isRefetch=!0}},scopedSlots:e._u([{key:"modal",fn:function(){return[i("CardNewDealsFilter",{attrs:{defaultFilter:e.filtersConfig,isIcon:"",isPreview:""}})]},proxy:!0}])},[i("div",{staticClass:"hoverClick",on:{click:e.openModal}},[i("CardNewDealsData",{attrs:{defaultFilter:e.filtersConfig,isPreview:"",isRefetch:e.isRefetch},on:{updateRefetch:function(t){e.isRefetch=!1}}})],1),i("CardNewDealsModal",{attrs:{isOpen:e.isOpenModal,filters:{filtersConfig:e.filtersConfig,filtersTable:e.filtersTable},title:e.title,titleRegular:e.titleRegular},on:{close:e.closeModal}})],1)},a=[],n=i("3835"),o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalChart",{attrs:{title:e.title,titleRegular:e.titleRegular,isOpen:e.isOpen},on:{close:e.closeModal},scopedSlots:e._u([{key:"filters",fn:function(){return[i("CardNewDealsFilter",{attrs:{defaultFilter:e.filters.filtersConfig}})]},proxy:!0},{key:"chart",fn:function(){return[i("CardNewDealsData",{attrs:{defaultFilter:e.filters.filtersConfig}})]},proxy:!0},{key:"table",fn:function(){return[i("TableDeals",{attrs:{defaultFilter:e.filters.filtersTable}})]},proxy:!0}])})},s=[],l=i("8b70"),d=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalFilters",{attrs:{isOpen:e.isOpenModalFilter,isIcon:e.isIcon},on:{save:e.saveFilter,statusModal:e.statusModal}},[i("v-row",[i("v-col",{attrs:{cols:"12"}},[i("Select",{attrs:{name:"Filtrar por",defaultSelect:e.defaultFilter.filterBy,list:e.listFilterBy},on:{change:e.changeFilterBy}})],1),i("v-col",{attrs:{cols:"12"}},[i("SelectUsers",{attrs:{all:"",defaultSelect:e.defaultFilter.users},on:{change:e.changeUsers}})],1),i("v-col",{attrs:{cols:"12"}},[i("SelectPipeline",{attrs:{defaultSelect:e.defaultFilter.pipeline},on:{change:e.changePipeline}})],1),i("v-col",{attrs:{cols:"12"}},[i("PeriodPredefined",{attrs:{defaultSelect:e.defaultFilter.periodPredefined},on:{change:e.changePeriodPredefined}})],1),e.isPreview?e._e():i("v-col",{attrs:{cols:"12"}},[i("ComparePeriod",{attrs:{periodPredefined:e.filters.periodPredefined[0]},on:{change:e.changeComparePeriod}})],1)],1)],1)},p=[],c=i("5530"),f=i("740f"),u=i("d344"),h=i("6321"),v=i("c065"),m=i("0db6"),C={name:"CardNewDealsFilter",components:{SelectUsers:f["a"],SelectPipeline:h["a"],Select:u["a"]},mixins:[m["b"]],props:{defaultFilter:{type:Object,default:function(){return{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""}}}},isIcon:{type:Boolean,default:!1},isPreview:{type:Boolean,default:!1}},data:function(){return{listTime:v["d"],listFilterBy:v["e"],filters:{filterBy:"count",filterTime:"WEEKS",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""}}}},methods:{changeComparePeriod:function(e){var t=e.isCompare,i=e.periodCompare;if(t){if(i&&(this.filters.periodRangeToCompare.period=i.periodSelected,i.periodRange.length>0)){var r=Object(n["a"])(i.periodRange,2);this.filters.periodRangeToCompare.start=r[0],this.filters.periodRangeToCompare.end=r[1]}}else this.filters.periodRangeToCompare.period="",this.filters.periodRangeToCompare.start="",this.filters.periodRangeToCompare.end=""},saveFilter:function(){this.changeChart({id:"card-newDeals",filtersFull:Object(c["a"])(Object(c["a"])({},this.noReactive(this.filters)),{},{periodRange:Object(c["a"])({__typename:"PeriodRange"},this.filters.periodRange)})}),this.isOpenModalFilter=!1}}},g=C,R=i("0c7c"),T=i("6544"),P=i.n(T),y=i("62ad"),b=i("0fd9"),F=Object(R["a"])(g,d,p,!1,null,"7b5b0d3b",null),O=F.exports;P()(F,{VCol:y["a"],VRow:b["a"]});var S=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.isPreview?e._e():i("ListFilters",{attrs:{settings:e.settings}}),i("BaseCardNumber",{attrs:{information:{numberMain:""+("count"===e.settings.filterBy?e.generalConvertionRateFormat:e.formatPrice(e.generalConvertionRateFormat)),textMain:e.textMain,valueMain:e.valueMain,textMainType:e.textChart,isCompare:!e.isPreview&&e.settings.periodRangeToCompare.period.length>0,numberCompare:""+("count"===e.settings.filterBy?e.generalConvertionRateCompare:e.formatPrice(e.generalConvertionRateCompare)),textCompare:e.textCompare,valueCompare:e.valueCompare,numberDifferenceCompare:e.comparePercentage}}}),e.isPreview?e._e():i("CardNewDealsInformation",{attrs:{information:e.newDealsCard.informationBar,filterBy:e.settings.filterBy}})],1)},_=[],E=(i("b680"),i("99af"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-card",{staticClass:"mt-5",attrs:{flat:""}},[i("v-container",[i("v-row",[i("v-col",{attrs:{cols:"3"}},[e._l(e.information.userNewDeals,(function(t,r){return[i("span",{key:r,staticClass:"d-block"},[i("b",[e._v(e._s(t.name))]),e._v(" : "+e._s("count"===e.filterBy?t[e.filterBy]:e.formatPrice(t[e.filterBy]))+" ")])]}))],2),e._l(e.information.periodsNewDeals,(function(t,r){return[i("v-col",{key:r,attrs:{cols:"3"}},[i("span",{staticClass:"d-block"},[i("b",[e._v(e._s(e.periods[r]))]),e._v(" : "+e._s("count"===e.filterBy?t[e.filterBy]:e.formatPrice(t[e.filterBy]))+" ")])])]}))],2)],1)],1)}),M=[],D={name:"CardNewDealsInformation",props:{information:{type:Object,default:function(){return{}}},filterBy:{type:String,default:"count"}},data:function(){return{periods:["Promedio anual","Promedio trimestral","Promedio mensual"],pastPeriods:["Este período","Período pasado","Mismo período el mes anterior"]}}},w=D,A=i("b0af"),B=i("a523"),x=Object(R["a"])(w,E,M,!1,null,null,null),I=x.exports;P()(x,{VCard:A["a"],VCol:y["a"],VContainer:B["a"],VRow:b["a"]});var k=i("8d7e"),j={name:"CardNewDealsData",mixins:[m["a"]],components:{CardNewDealsInformation:I},props:{defaultFilter:{type:Object,default:function(){return{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""}}}},isPreview:{type:Boolean,default:!1}},data:function(){return{newDealsCard:{},modalSettings:{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:[],periodRangeToCompare:{period:"",start:"",end:""}},settings:{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:[],periodRangeToCompare:{period:"",start:"",end:""}}}},computed:{comparePercentage:function(){return"0"===this.generalConvertionRateCompare?"100":(100*this.generalConvertionRateFormat/this.generalConvertionRateCompare-100).toFixed(2)},generalConvertionRateFormat:function(){var e,t,i,r,a;return this.newDealsCard&&void 0!==(null===(e=this.newDealsCard)||void 0===e||null===(t=e.mainNewDeals)||void 0===t?void 0:t.count)&&void 0!==(null===(i=this.newDealsCard)||void 0===i||null===(r=i.mainNewDeals)||void 0===r?void 0:r.sum)&&(null===(a=this.newDealsCard)||void 0===a?void 0:a.mainNewDeals[this.settings.filterBy])||"0"},generalConvertionRateCompare:function(){var e,t,i,r;if(this.newDealsCard&&void 0!==(null===(e=this.newDealsCard)||void 0===e||null===(t=e.secondNewDeals)||void 0===t?void 0:t.count)&&void 0!==(null===(i=this.newDealsCard)||void 0===i||null===(r=i.secondNewDeals)||void 0===r?void 0:r.sum)){var a,n=null===(a=this.newDealsCard)||void 0===a?void 0:a.secondNewDeals[this.settings.filterBy];return n?n.toFixed(2):"0"}return"0"},textCompare:function(){return"PREVIOUS_PERIOD"===this.settings.periodRangeToCompare.period?this.settings.periodPredefined[3]:"PREVIOUS_YEAR"===this.settings.periodRangeToCompare.period?"Año anterior":"CUSTOM"===this.settings.periodRangeToCompare.period?"Personalizado":""},valueCompare:function(){return this.isPreview||"CUSTOM"!==this.settings.periodRangeToCompare.period?"":"".concat(this.formatDate(this.filters.dateRangeToCompare.dateStart)," - ").concat(this.formatDate(this.filters.dateRangeToCompare.dateEnd))},textMain:function(){return this.isPreview?"":this.settings.periodPredefined[2]},valueMain:function(){return!this.isPreview&&this.settings.periodPredefined.length>0&&"CUSTOM"===this.settings.periodPredefined[0]?"".concat(this.formatDate(this.filters.dateRange.dateStart)," - ").concat(this.formatDate(this.filters.dateRange.dateEnd)):""},filters:function(){var e={dateRange:{dateStart:this.dateStart,dateEnd:this.dateEnd},owners:this.ownersFilter,pipeline:this.pipelineFilter};return this.dateRangeToCompare&&""!==this.dateRangeToCompare.dateStart&&""!==this.dateRangeToCompare.dateEnd&&(e.dateRangeToCompare=this.dateRangeToCompare),e}},methods:{update:function(){this.$apollo.queries.newDealsCard.refetch()}},apollo:{newDealsCard:{query:k["v"],fetchPolicy:"no-cache",client:"charts",variables:function(){return{filters:this.filters}},skip:function(){return""===this.dateStart||""===this.dateEnd||!this.pipelineFilter.id||0===this.ownersFilter.length},loadingKey:"isLoading"}}},H=j,N=Object(R["a"])(H,S,_,!1,null,"83119946",null),U=N.exports,V={name:"CardNewDealsModal",components:{TableDeals:l["a"],CardNewDealsFilter:O,CardNewDealsData:U},mixins:[m["c"]],props:{isOpen:{type:Boolean,default:!1},title:{type:String,default:"Sin título"},titleRegular:{type:String,default:""},filters:{type:Object,default:function(){return{filtersConfig:{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""}},filtersTable:{users:[],pipelines:[],periodRange:{start:"",end:""},dealStatus:""}}}}}},G=V,$=Object(R["a"])(G,o,s,!1,null,"026cb42c",null),L=$.exports,q={name:"CardNewDealsPreview",components:{CardNewDealsData:U,CardNewDealsModal:L,CardNewDealsFilter:O},mixins:[m["d"]],props:{defaultPeriod:{type:String,default:"THIS_MONTH"}},data:function(){return{chartId:"card-newDeals",title:"Tratos",titleRegular:"nuevos",isOpenModal:!1,filtersChartsDefault:{},initFilter:{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""},dealStatus:"ALL"}}},computed:{filtersConfig:function(){var e,t,i,r,a,n;return{filterBy:(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.filterBy)||this.initFilter.filterBy,users:this.usersGlobal||(null===(t=this.chart.filtersFull)||void 0===t?void 0:t.users)||this.initUsers,pipeline:(null===(i=this.chart.filtersFull)||void 0===i?void 0:i.pipeline)||this.initPipeline,periodRange:this.periodRangeGlobal||(null===(r=this.chart.filtersFull)||void 0===r?void 0:r.periodRange)||this.periodRange,periodPredefined:this.periodPredefinedGlobal||(null===(a=this.chart.filtersFull)||void 0===a?void 0:a.periodPredefined)||[this.defaultPeriod]||this.initFilter.periodPredefined,periodRangeToCompare:(null===(n=this.chart.filtersFull)||void 0===n?void 0:n.periodRangeToCompare)||this.initFilter.periodRangeToCompare}},filtersTable:function(){var e,t=this.getPeriod(this.initFilter.periodPredefined[0]).get(),i=Object(n["a"])(t,2),r=i[0],a=i[1];return{users:this.usersGlobal||this.users||this.initUsers,pipelines:this.pipelines||this.filtersChartsDefault.pipelines,periodRange:this.periodRangeGlobal||(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.periodRange)||{start:r,end:a},dealStatus:this.initFilter.dealStatus}}}},Y=q,K=(i("15d3"),Object(R["a"])(Y,r,a,!1,null,"ad1d328e",null));t["a"]=K.exports},cad0:function(e,t,i){"use strict";var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseCardChart",{attrs:{title:e.title,titleRegular:e.titleRegular,settings:e.filtersConfig},on:{updateRefetch:function(t){e.isRefetch=!0}},scopedSlots:e._u([{key:"modal",fn:function(){return[i("CardAdvancedDealsFilter",{attrs:{defaultFilter:e.filtersConfig,isIcon:"",isPreview:""}})]},proxy:!0}])},[i("div",{staticClass:"hoverClick",on:{click:e.openModal}},[i("CardAdvancedDealsData",{attrs:{defaultFilter:e.filtersConfig,isPreview:"",isRefetch:e.isRefetch},on:{updateRefetch:function(t){e.isRefetch=!1}}})],1),i("CardAdvancedDealsModal",{attrs:{isOpen:e.isOpenModal,filters:{filtersConfig:e.filtersConfig,filtersTable:e.filtersTable},title:e.title,titleRegular:e.titleRegular},on:{close:e.closeModal}})],1)},a=[],n=i("3835"),o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalChart",{attrs:{title:e.title,titleRegular:e.titleRegular,isOpen:e.isOpen},on:{close:e.closeModal},scopedSlots:e._u([{key:"filters",fn:function(){return[i("CardAdvancedDealsFilter",{attrs:{defaultFilter:e.filters.filtersConfig}})]},proxy:!0},{key:"chart",fn:function(){return[i("CardAdvancedDealsData",{attrs:{defaultFilter:e.filters.filtersConfig}})]},proxy:!0},{key:"table",fn:function(){return[i("TableDeals",{attrs:{defaultFilter:e.filters.filtersTable}})]},proxy:!0}])})},s=[],l=i("8b70"),d=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalFilters",{attrs:{isOpen:e.isOpenModalFilter,isIcon:e.isIcon},on:{save:e.saveFilter,statusModal:e.statusModal}},[i("v-row",[i("v-col",{attrs:{cols:"12"}},[i("Select",{attrs:{name:"Filtrar por",defaultSelect:e.defaultFilter.filterBy,list:e.listFilterBy},on:{change:e.changeFilterBy}})],1),i("v-col",{attrs:{cols:"12"}},[i("SelectUsers",{attrs:{all:"",defaultSelect:e.defaultFilter.users},on:{change:e.changeUsers}})],1),i("v-col",{attrs:{cols:"12"}},[i("SelectPipeline",{attrs:{defaultSelect:e.defaultFilter.pipeline},on:{change:e.changePipeline}})],1),i("v-col",{attrs:{cols:"12"}},[i("PeriodPredefined",{attrs:{defaultSelect:e.defaultFilter.periodPredefined},on:{change:e.changePeriodPredefined}})],1),e.isPreview?e._e():i("v-col",{attrs:{cols:"12"}},[i("ComparePeriod",{attrs:{periodPredefined:e.filters.periodPredefined[0]},on:{change:e.changeComparePeriod}})],1)],1)],1)},p=[],c=i("5530"),f=i("740f"),u=i("d344"),h=i("6321"),v=i("c065"),m=i("0db6"),C={name:"CardAdvancedDealsFilter",components:{SelectUsers:f["a"],SelectPipeline:h["a"],Select:u["a"]},mixins:[m["b"]],props:{defaultFilter:{type:Object,default:function(){return{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""}}}},isIcon:{type:Boolean,default:!1},isPreview:{type:Boolean,default:!1}},data:function(){return{listTime:v["d"],listFilterBy:v["e"],filters:{filterBy:"count",filterTime:"WEEKS",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""}}}},methods:{changeComparePeriod:function(e){var t=e.isCompare,i=e.periodCompare;if(t){if(i&&(this.filters.periodRangeToCompare.period=i.periodSelected,i.periodRange.length>0)){var r=Object(n["a"])(i.periodRange,2);this.filters.periodRangeToCompare.start=r[0],this.filters.periodRangeToCompare.end=r[1]}}else this.filters.periodRangeToCompare.period="",this.filters.periodRangeToCompare.start="",this.filters.periodRangeToCompare.end=""},saveFilter:function(){this.changeChart({id:"card-advancedDeals",filtersFull:Object(c["a"])(Object(c["a"])({},this.noReactive(this.filters)),{},{periodRange:Object(c["a"])({__typename:"PeriodRange"},this.filters.periodRange)})}),this.isOpenModalFilter=!1}}},g=C,R=i("0c7c"),T=i("6544"),P=i.n(T),y=i("62ad"),b=i("0fd9"),F=Object(R["a"])(g,d,p,!1,null,"01ef0109",null),O=F.exports;P()(F,{VCol:y["a"],VRow:b["a"]});var S=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.isPreview?e._e():i("ListFilters",{attrs:{settings:e.settings}}),i("BaseCardNumber",{attrs:{information:{numberMain:""+("count"===e.settings.filterBy?e.generalConvertionRateFormat:e.formatPrice(e.generalConvertionRateFormat)),textMain:e.textMain,valueMain:e.valueMain,textMainType:e.textChart,isCompare:!e.isPreview&&e.settings.periodRangeToCompare.period.length>0,numberCompare:""+("count"===e.settings.filterBy?e.generalConvertionRateCompare:e.formatPrice(e.generalConvertionRateCompare)),textCompare:e.textCompare,valueCompare:e.valueCompare,numberDifferenceCompare:e.comparePercentage}}}),e.isPreview?e._e():i("CardAdvancedDealsInformation",{attrs:{information:e.advancedDealsCard.informationBar,filterBy:e.settings.filterBy}})],1)},_=[],E=(i("b680"),i("99af"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-card",{staticClass:"mt-5",attrs:{flat:""}},[i("v-container",[i("v-row",[i("v-col",{attrs:{cols:"3"}},[e._l(e.information.usersAdvancedDeals,(function(t,r){return[i("span",{key:r,staticClass:"d-block"},[i("b",[e._v(e._s(t.name))]),e._v(" : "+e._s("count"===e.filterBy?t[e.filterBy]:e.formatPrice(t[e.filterBy]))+" ")])]}))],2),e._l(e.information.periodsAdvancedDeals,(function(t,r){return[i("v-col",{key:r,attrs:{cols:"3"}},[i("span",{staticClass:"d-block"},[i("b",[e._v(e._s(e.periods[r]))]),e._v(" : "+e._s("count"===e.filterBy?t[e.filterBy]:e.formatPrice(t[e.filterBy]))+" ")])])]}))],2)],1)],1)}),M=[],D={name:"CardAdvancedDealsInformation",props:{information:{type:Object,default:function(){return{}}},filterBy:{type:String,default:"count"}},data:function(){return{periods:["Promedio anual","Promedio trimestral","Promedio mensual"],pastPeriods:["Este período","Período pasado","Mismo período el mes anterior"]}}},w=D,A=i("b0af"),B=i("a523"),x=Object(R["a"])(w,E,M,!1,null,null,null),I=x.exports;P()(x,{VCard:A["a"],VCol:y["a"],VContainer:B["a"],VRow:b["a"]});var k=i("8d7e"),j={name:"CardAdvancedDealsData",mixins:[m["a"]],components:{CardAdvancedDealsInformation:I},props:{defaultFilter:{type:Object,default:function(){return{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""}}}},isPreview:{type:Boolean,default:!1}},data:function(){return{advancedDealsCard:{},modalSettings:{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:[],periodRangeToCompare:{period:"",start:"",end:""}},settings:{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:[],periodRangeToCompare:{period:"",start:"",end:""}}}},computed:{comparePercentage:function(){return"0"===this.generalConvertionRateCompare?"100":(100*this.generalConvertionRateFormat/this.generalConvertionRateCompare-100).toFixed(2)},generalConvertionRateFormat:function(){var e,t,i,r,a;return this.advancedDealsCard&&void 0!==(null===(e=this.advancedDealsCard)||void 0===e||null===(t=e.mainAdvancedDeals)||void 0===t?void 0:t.count)&&void 0!==(null===(i=this.advancedDealsCard)||void 0===i||null===(r=i.mainAdvancedDeals)||void 0===r?void 0:r.sum)&&(null===(a=this.advancedDealsCard)||void 0===a?void 0:a.mainAdvancedDeals[this.settings.filterBy])||"0"},generalConvertionRateCompare:function(){var e,t,i,r;if(this.advancedDealsCard&&void 0!==(null===(e=this.advancedDealsCard)||void 0===e||null===(t=e.secondAdvancedDeals)||void 0===t?void 0:t.count)&&void 0!==(null===(i=this.advancedDealsCard)||void 0===i||null===(r=i.secondAdvancedDeals)||void 0===r?void 0:r.sum)){var a,n=null===(a=this.advancedDealsCard)||void 0===a?void 0:a.secondAdvancedDeals[this.settings.filterBy];return n?n.toFixed(2):"0"}return"0"},textCompare:function(){return"PREVIOUS_PERIOD"===this.settings.periodRangeToCompare.period?this.settings.periodPredefined[3]:"PREVIOUS_YEAR"===this.settings.periodRangeToCompare.period?"Año anterior":"CUSTOM"===this.settings.periodRangeToCompare.period?"Personalizado":""},valueCompare:function(){return this.isPreview||"CUSTOM"!==this.settings.periodRangeToCompare.period?"":"".concat(this.formatDate(this.filters.dateRangeToCompare.dateStart)," - ").concat(this.formatDate(this.filters.dateRangeToCompare.dateEnd))},textMain:function(){return this.isPreview?"":this.settings.periodPredefined[2]},valueMain:function(){return!this.isPreview&&this.settings.periodPredefined.length>0&&"CUSTOM"===this.settings.periodPredefined[0]?"".concat(this.formatDate(this.filters.dateRange.dateStart)," - ").concat(this.formatDate(this.filters.dateRange.dateEnd)):""},filters:function(){var e={dateRange:{dateStart:this.dateStart,dateEnd:this.dateEnd},owners:this.ownersFilter,pipeline:this.pipelineFilter};return this.dateRangeToCompare&&""!==this.dateRangeToCompare.dateStart&&""!==this.dateRangeToCompare.dateEnd&&(e.dateRangeToCompare=this.dateRangeToCompare),e}},methods:{update:function(){this.$apollo.queries.advancedDealsCard.refetch()}},apollo:{advancedDealsCard:{query:k["d"],fetchPolicy:"no-cache",client:"charts",variables:function(){return{filters:this.filters}},skip:function(){return""===this.dateStart||""===this.dateEnd||!this.pipelineFilter.id||0===this.ownersFilter.length},loadingKey:"isLoading"}}},H=j,N=Object(R["a"])(H,S,_,!1,null,"085fa648",null),U=N.exports,V={name:"CardAdvancedDealsModal",components:{TableDeals:l["a"],CardAdvancedDealsFilter:O,CardAdvancedDealsData:U},mixins:[m["c"]],props:{isOpen:{type:Boolean,default:!1},title:{type:String,default:"Sin título"},titleRegular:{type:String,default:""},filters:{type:Object,default:function(){return{filtersConfig:{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""}},filtersTable:{users:[],pipelines:[],periodRange:{start:"",end:""},dealStatus:""}}}}}},G=V,$=Object(R["a"])(G,o,s,!1,null,"21df61f2",null),L=$.exports,q={name:"CardAdvancedDealsPreview",components:{CardAdvancedDealsData:U,CardAdvancedDealsModal:L,CardAdvancedDealsFilter:O},mixins:[m["d"]],props:{defaultPeriod:{type:String,default:"THIS_MONTH"}},data:function(){return{chartId:"card-advancedDeals",title:"Tratos",titleRegular:"avanzados",isOpenModal:!1,filtersChartsDefault:{},initFilter:{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""},dealStatus:"ADVANCED_DEALS_CARD"}}},computed:{filtersConfig:function(){var e,t,i,r,a,n;return{filterBy:(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.filterBy)||this.initFilter.filterBy,users:this.usersGlobal||(null===(t=this.chart.filtersFull)||void 0===t?void 0:t.users)||this.initUsers,pipeline:(null===(i=this.chart.filtersFull)||void 0===i?void 0:i.pipeline)||this.initPipeline,periodRange:this.periodRangeGlobal||(null===(r=this.chart.filtersFull)||void 0===r?void 0:r.periodRange)||this.periodRange,periodPredefined:this.periodPredefinedGlobal||(null===(a=this.chart.filtersFull)||void 0===a?void 0:a.periodPredefined)||[this.defaultPeriod]||this.initFilter.periodPredefined,periodRangeToCompare:(null===(n=this.chart.filtersFull)||void 0===n?void 0:n.periodRangeToCompare)||this.initFilter.periodRangeToCompare}},filtersTable:function(){var e,t=this.getPeriod(this.initFilter.periodPredefined[0]).get(),i=Object(n["a"])(t,2),r=i[0],a=i[1];return{users:this.usersGlobal||this.users||this.initUsers,pipelines:this.pipelines||this.filtersChartsDefault.pipelines,periodRange:this.periodRangeGlobal||(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.periodRange)||{start:r,end:a},dealStatus:this.initFilter.dealStatus}}}},Y=q,K=(i("3c11"),Object(R["a"])(Y,r,a,!1,null,"d5148998",null));t["a"]=K.exports},cbd3:function(e,t,i){"use strict";var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseCardChart",{attrs:{title:e.title,titleRegular:e.titleRegular,settings:e.filtersConfig},on:{updateRefetch:function(t){e.isRefetch=!0}},scopedSlots:e._u([{key:"modal",fn:function(){return[i("CardRebookedActivitiesFilter",{attrs:{defaultFilter:e.filtersConfig,isIcon:"",isPreview:""}})]},proxy:!0}])},[i("div",{staticClass:"hoverClick",on:{click:e.openModal}},[i("CardRebookedActivitiesData",{attrs:{defaultFilter:e.filtersConfig,isPreview:"",isRefetch:e.isRefetch},on:{updateRefetch:function(t){e.isRefetch=!1}}})],1),i("CardRebookedActivitiesModal",{attrs:{isOpen:e.isOpenModal,filters:{filtersConfig:e.filtersConfig,filtersTable:e.filtersTable},title:e.title,titleRegular:e.titleRegular},on:{close:e.closeModal}})],1)},a=[],n=i("3835"),o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalChart",{attrs:{title:e.title,titleRegular:e.titleRegular,isOpen:e.isOpen},on:{close:e.closeModal},scopedSlots:e._u([{key:"filters",fn:function(){return[i("CardRebookedActivitiesFilter",{attrs:{defaultFilter:e.filters.filtersConfig}})]},proxy:!0},{key:"chart",fn:function(){return[i("CardRebookedActivitiesData",{attrs:{defaultFilter:e.filters.filtersConfig}})]},proxy:!0},{key:"table",fn:function(){return[i("TableActivities",{attrs:{defaultFilter:e.filters.filtersTable}})]},proxy:!0}])})},s=[],l=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.isPreview?e._e():i("ListFilters",{attrs:{settings:e.settings}}),i("BaseCardNumber",{attrs:{information:{numberMain:""+e.generalConvertionRateFormat,textMain:e.textMain,valueMain:e.valueMain,textMainType:e.textChart,isCompare:!e.isPreview&&e.settings.periodRangeToCompare.period.length>0,numberCompare:""+e.generalConvertionRateCompare,textCompare:e.textCompare,valueCompare:e.valueCompare,numberDifferenceCompare:e.comparePercentage}}}),e.isPreview?e._e():i("CardRebookedActivitiesInformation",{attrs:{information:e.rebookedActivitiesCard.informationBar,filterBy:e.settings.filterBy}})],1)},d=[],p=(i("b680"),i("99af"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-card",{staticClass:"mt-5",attrs:{flat:""}},[i("v-container",[i("v-row",{staticClass:"justify-center"},[i("v-col",{attrs:{cols:"3"}},[e._l(e.information.usersRebookedActivities,(function(t,r){return[i("span",{key:r,staticClass:"d-block"},[i("b",[e._v(e._s(t.name))]),e._v(" : "+e._s(t[e.filterBy])+" ")])]}))],2),e._l(e.information.periodsRebookedActivities,(function(t,r){return[i("v-col",{key:r,attrs:{cols:"3"}},[i("span",{staticClass:"d-block"},[i("b",[e._v(e._s(e.rowOne[r]))]),e._v(" : "+e._s(t.count)+" ")])])]}))],2)],1)],1)}),c=[],f={name:"CardRebookedActivitiesInformation",props:{information:{type:Object,default:function(){return{}}},filterBy:{type:String,default:"count"}},data:function(){return{rowOne:["Este período","Período pasado","Mismo período el mes anterior"]}}},u=f,h=i("0c7c"),v=i("6544"),m=i.n(v),C=i("b0af"),g=i("62ad"),R=i("a523"),T=i("0fd9"),P=Object(h["a"])(u,p,c,!1,null,null,null),y=P.exports;m()(P,{VCard:C["a"],VCol:g["a"],VContainer:R["a"],VRow:T["a"]});var b=i("8d7e"),F=i("0db6"),O={name:"CardRebookedActivitiesData",mixins:[F["a"]],components:{CardRebookedActivitiesInformation:y},props:{defaultFilter:{type:Object,default:function(){return{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""}}}},isPreview:{type:Boolean,default:!1}},data:function(){return{rebookedActivitiesCard:{},modalSettings:{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:[],periodRangeToCompare:{period:"",start:"",end:""}},settings:{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:[],periodRangeToCompare:{period:"",start:"",end:""}}}},computed:{comparePercentage:function(){return"0"===this.generalConvertionRateCompare?"100":(100*this.generalConvertionRateFormat/this.generalConvertionRateCompare-100).toFixed(2)},generalConvertionRateFormat:function(){var e,t,i;return this.rebookedActivitiesCard&&void 0!==(null===(e=this.rebookedActivitiesCard)||void 0===e||null===(t=e.mainRebookedActivities)||void 0===t?void 0:t.count)&&(null===(i=this.rebookedActivitiesCard)||void 0===i?void 0:i.mainRebookedActivities.count)||"0"},generalConvertionRateCompare:function(){var e,t,i;return this.rebookedActivitiesCard&&void 0!==(null===(e=this.rebookedActivitiesCard)||void 0===e||null===(t=e.secondRebookedActivities)||void 0===t?void 0:t.count)&&(null===(i=this.rebookedActivitiesCard)||void 0===i?void 0:i.secondRebookedActivities.count)||"0"},textCompare:function(){return"PREVIOUS_PERIOD"===this.settings.periodRangeToCompare.period?this.settings.periodPredefined[3]:"PREVIOUS_YEAR"===this.settings.periodRangeToCompare.period?"Año anterior":"CUSTOM"===this.settings.periodRangeToCompare.period?"Personalizado":""},valueCompare:function(){return this.isPreview||"CUSTOM"!==this.settings.periodRangeToCompare.period?"":"".concat(this.formatDate(this.filters.dateRangeToCompare.dateStart)," - ").concat(this.formatDate(this.filters.dateRangeToCompare.dateEnd))},textMain:function(){return this.isPreview?"":this.settings.periodPredefined[2]},valueMain:function(){return!this.isPreview&&this.settings.periodPredefined.length>0&&"CUSTOM"===this.settings.periodPredefined[0]?"".concat(this.formatDate(this.filters.dateRange.dateStart)," - ").concat(this.formatDate(this.filters.dateRange.dateEnd)):""},filters:function(){var e={dateRange:{dateStart:this.dateStart,dateEnd:this.dateEnd},owners:this.ownersFilter,pipeline:this.pipelineFilter};return this.dateRangeToCompare&&""!==this.dateRangeToCompare.dateStart&&""!==this.dateRangeToCompare.dateEnd&&(e.dateRangeToCompare=this.dateRangeToCompare),e}},methods:{update:function(){this.$apollo.queries.rebookedActivitiesCard.refetch()}},apollo:{rebookedActivitiesCard:{query:b["C"],fetchPolicy:"no-cache",client:"charts",variables:function(){return{filters:this.filters}},skip:function(){return""===this.dateStart||""===this.dateEnd||!this.pipelineFilter.id||0===this.ownersFilter.length},loadingKey:"isLoading"}}},S=O,_=Object(h["a"])(S,l,d,!1,null,"659e825a",null),E=_.exports,M=i("157d"),D=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalFilters",{attrs:{isOpen:e.isOpenModalFilter,isIcon:e.isIcon},on:{save:e.saveFilter,statusModal:e.statusModal}},[i("v-row",[i("v-col",{attrs:{cols:"12"}},[i("SelectUsers",{attrs:{all:"",defaultSelect:e.defaultFilter.users},on:{change:e.changeUsers}})],1),i("v-col",{attrs:{cols:"12"}},[i("SelectPipeline",{attrs:{defaultSelect:e.defaultFilter.pipeline},on:{change:e.changePipeline}})],1),i("v-col",{attrs:{cols:"12"}},[i("PeriodPredefined",{attrs:{defaultSelect:e.defaultFilter.periodPredefined},on:{change:e.changePeriodPredefined}})],1),e.isPreview?e._e():i("v-col",{attrs:{cols:"12"}},[i("ComparePeriod",{attrs:{periodPredefined:e.filters.periodPredefined[0]},on:{change:e.changeComparePeriod}})],1)],1)],1)},w=[],A=i("5530"),B=i("740f"),x=i("6321"),I={name:"CardRebookedActivitiesFilter",components:{SelectUsers:B["a"],SelectPipeline:x["a"]},mixins:[F["b"]],props:{defaultFilter:{type:Object,default:function(){return{users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""}}}},isIcon:{type:Boolean,default:!1},isPreview:{type:Boolean,default:!1}},data:function(){return{filters:{users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""}}}},methods:{changeComparePeriod:function(e){var t=e.isCompare,i=e.periodCompare;if(t){if(i&&(this.filters.periodRangeToCompare.period=i.periodSelected,i.periodRange.length>0)){var r=Object(n["a"])(i.periodRange,2);this.filters.periodRangeToCompare.start=r[0],this.filters.periodRangeToCompare.end=r[1]}}else this.filters.periodRangeToCompare.period="",this.filters.periodRangeToCompare.start="",this.filters.periodRangeToCompare.end=""},saveFilter:function(){this.changeChart({id:"card-rebookedActivities",filtersFull:Object(A["a"])(Object(A["a"])({},this.noReactive(this.filters)),{},{periodRange:Object(A["a"])({__typename:"PeriodRange"},this.filters.periodRange)})}),this.isOpenModalFilter=!1}}},k=I,j=Object(h["a"])(k,D,w,!1,null,"1fe33b48",null),H=j.exports;m()(j,{VCol:g["a"],VRow:T["a"]});var N={name:"CardRebookedActivitiesModal",components:{CardRebookedActivitiesData:E,CardRebookedActivitiesFilter:H,TableActivities:M["a"]},mixins:[F["c"]],props:{isOpen:{type:Boolean,default:!1},title:{type:String,default:"Sin título"},titleRegular:{type:String,default:""},filters:{type:Object,default:function(){return{filtersConfig:{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""}},filtersTable:{users:[],pipelines:[],periodRange:{start:"",end:""},dealStatus:"",stages:[],activityTypes:[],fromReportStatus:"ACTIVITIESBYSTAGE"}}}}}},U=N,V=Object(h["a"])(U,o,s,!1,null,"d6e95c12",null),G=V.exports,$={name:"CardRebookedActivitiesPreview",components:{CardRebookedActivitiesData:E,CardRebookedActivitiesModal:G,CardRebookedActivitiesFilter:H},mixins:[F["d"]],props:{defaultPeriod:{type:String,default:"THIS_MONTH"}},data:function(){return{title:"Actividades",titleRegular:"reagendadas",isOpenModal:!1,chartId:"card-rebookedActivities",filtersChartsDefault:{},initFilter:{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""},activitiesFilter:"REBOOKED",activityTypes:[],fromReportStatus:"ACTIVITIES_CARD"}}},computed:{filtersConfig:function(){var e,t,i,r,a,n;return{filterBy:(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.filterBy)||this.initFilter.filterBy,users:this.usersGlobal||(null===(t=this.chart.filtersFull)||void 0===t?void 0:t.users)||this.initUsers,pipeline:(null===(i=this.chart.filtersFull)||void 0===i?void 0:i.pipeline)||this.initPipeline,periodRange:this.periodRangeGlobal||(null===(r=this.chart.filtersFull)||void 0===r?void 0:r.periodRange)||this.periodRange,periodPredefined:this.periodPredefinedGlobal||(null===(a=this.chart.filtersFull)||void 0===a?void 0:a.periodPredefined)||[this.defaultPeriod]||this.initFilter.periodPredefined,periodRangeToCompare:(null===(n=this.chart.filtersFull)||void 0===n?void 0:n.periodRangeToCompare)||this.initFilter.periodRangeToCompare}},filtersTable:function(){var e,t=this.getPeriod(this.initFilter.periodPredefined[0]).get(),i=Object(n["a"])(t,2),r=i[0],a=i[1];return{users:this.usersGlobal||this.users||this.initUsers,pipelines:this.pipelines||[this.initPipeline],periodRange:this.periodRangeGlobal||(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.periodRange)||{start:r,end:a},activitiesStatus:this.initFilter.activitiesFilter,activityTypes:this.filtersChartsDefault.activityTypes||this.initFilter.activityTypes,fromReportStatus:this.initFilter.fromReportStatus}}}},L=$,q=(i("7fdf"),Object(h["a"])(L,r,a,!1,null,"7e11a3b2",null));t["a"]=q.exports},cdc1:function(e,t,i){"use strict";var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseCardChart",{attrs:{title:e.title,titleRegular:e.titleRegular,settings:e.filtersConfig},on:{updateRefetch:function(t){e.isRefetch=!0}},scopedSlots:e._u([{key:"modal",fn:function(){return[i("CardBookedActivitiesInDayFilter",{attrs:{defaultFilter:e.filtersConfig,isIcon:"",isPreview:""}})]},proxy:!0}])},[i("div",{staticClass:"hoverClick",on:{click:e.openModal}},[i("CardBookedActivitiesInDayData",{attrs:{defaultFilter:e.filtersConfig,isPreview:"",isRefetch:e.isRefetch},on:{updateRefetch:function(t){e.isRefetch=!1}}})],1),i("CardBookedActivitiesInDayModal",{attrs:{isOpen:e.isOpenModal,filters:{filtersConfig:e.filtersConfig,filtersTable:e.filtersTable},title:e.title,titleRegular:e.titleRegular},on:{close:e.closeModal}})],1)},a=[],n=i("3835"),o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalChart",{attrs:{title:e.title,titleRegular:e.titleRegular,isOpen:e.isOpen},on:{close:e.closeModal},scopedSlots:e._u([{key:"filters",fn:function(){return[i("CardBookedActivitiesInDayFilter",{attrs:{defaultFilter:e.filters.filtersConfig}})]},proxy:!0},{key:"chart",fn:function(){return[i("CardBookedActivitiesInDayData",{attrs:{defaultFilter:e.filters.filtersConfig}})]},proxy:!0},{key:"table",fn:function(){return[i("TableActivities",{attrs:{defaultFilter:e.filters.filtersTable}})]},proxy:!0}])})},s=[],l=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.isPreview?e._e():i("ListFilters",{attrs:{settings:e.settings}}),i("BaseCardNumber",{attrs:{information:{numberMain:""+e.generalConvertionRateFormat,textMain:e.textMain,valueMain:e.valueMain,textMainType:e.textChart,isCompare:!e.isPreview&&e.settings.periodRangeToCompare.period.length>0,numberCompare:""+e.generalConvertionRateCompare,textCompare:e.textCompare,valueCompare:e.valueCompare,numberDifferenceCompare:e.comparePercentage}}}),e.isPreview?e._e():i("CardBookedActivitiesInDayInformation",{attrs:{information:e.bookedActivitiesInDayCard.informationBar,filterBy:e.settings.filterBy}})],1)},d=[],p=(i("b680"),i("99af"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-card",{staticClass:"mt-5",attrs:{flat:""}},[i("v-container",[i("v-row",{staticClass:"justify-center"},[i("v-col",{attrs:{cols:"3"}},[e._l(e.information.usersBookedActivities,(function(t,r){return[i("span",{key:r,staticClass:"d-block"},[i("b",[e._v(e._s(t.name))]),e._v(" : "+e._s(t[e.filterBy])+" ")])]}))],2),e._l(e.information.periodsBookedActivities,(function(t,r){return[i("v-col",{key:r,attrs:{cols:"3"}},[i("span",{staticClass:"d-block"},[i("b",[e._v(e._s(e.rowOne[r]))]),e._v(" : "+e._s(t.count)+" ")])])]}))],2)],1)],1)}),c=[],f={name:"CardBookedActivitiesInDayInformation",props:{information:{type:Object,default:function(){return{}}},filterBy:{type:String,default:"count"}},data:function(){return{rowOne:["Este período","Período pasado","Mismo período el mes anterior"]}}},u=f,h=i("0c7c"),v=i("6544"),m=i.n(v),C=i("b0af"),g=i("62ad"),R=i("a523"),T=i("0fd9"),P=Object(h["a"])(u,p,c,!1,null,null,null),y=P.exports;m()(P,{VCard:C["a"],VCol:g["a"],VContainer:R["a"],VRow:T["a"]});var b=i("8d7e"),F=i("0db6"),O={name:"CardBookedActivitiesInDayData",mixins:[F["a"]],components:{CardBookedActivitiesInDayInformation:y},props:{defaultFilter:{type:Object,default:function(){return{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""}}}},isPreview:{type:Boolean,default:!1}},data:function(){return{bookedActivitiesInDayCard:{},modalSettings:{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:[],periodRangeToCompare:{period:"",start:"",end:""}},settings:{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:[],periodRangeToCompare:{period:"",start:"",end:""}}}},computed:{comparePercentage:function(){return"0"===this.generalConvertionRateCompare?"100":(100*this.generalConvertionRateFormat/this.generalConvertionRateCompare-100).toFixed(2)},generalConvertionRateFormat:function(){var e,t,i;return this.bookedActivitiesInDayCard&&void 0!==(null===(e=this.bookedActivitiesInDayCard)||void 0===e||null===(t=e.mainBookedActivities)||void 0===t?void 0:t.count)&&(null===(i=this.bookedActivitiesInDayCard)||void 0===i?void 0:i.mainBookedActivities.count)||"0"},generalConvertionRateCompare:function(){var e,t,i;return this.bookedActivitiesInDayCard&&void 0!==(null===(e=this.bookedActivitiesInDayCard)||void 0===e||null===(t=e.secondBookedActivities)||void 0===t?void 0:t.count)&&(null===(i=this.bookedActivitiesInDayCard)||void 0===i?void 0:i.secondBookedActivities.count)||"0"},textCompare:function(){return"PREVIOUS_PERIOD"===this.settings.periodRangeToCompare.period?this.settings.periodPredefined[3]:"PREVIOUS_YEAR"===this.settings.periodRangeToCompare.period?"Año anterior":"CUSTOM"===this.settings.periodRangeToCompare.period?"Personalizado":""},valueCompare:function(){return this.isPreview||"CUSTOM"!==this.settings.periodRangeToCompare.period?"":"".concat(this.formatDate(this.filters.dateRangeToCompare.dateStart)," - ").concat(this.formatDate(this.filters.dateRangeToCompare.dateEnd))},textMain:function(){return this.isPreview?"":this.settings.periodPredefined[2]},valueMain:function(){return!this.isPreview&&this.settings.periodPredefined.length>0&&"CUSTOM"===this.settings.periodPredefined[0]?"".concat(this.formatDate(this.filters.dateRange.dateStart)," - ").concat(this.formatDate(this.filters.dateRange.dateEnd)):""},filters:function(){var e={dateRange:{dateStart:this.dateStart,dateEnd:this.dateEnd},owners:this.ownersFilter,pipeline:this.pipelineFilter};return this.dateRangeToCompare&&""!==this.dateRangeToCompare.dateStart&&""!==this.dateRangeToCompare.dateEnd&&(e.dateRangeToCompare=this.dateRangeToCompare),e}},methods:{update:function(){this.$apollo.queries.bookedActivitiesInDayCard.refetch()}},apollo:{bookedActivitiesInDayCard:{query:b["f"],fetchPolicy:"no-cache",client:"charts",variables:function(){return{filters:this.filters}},skip:function(){return""===this.dateStart||""===this.dateEnd||!this.pipelineFilter.id||0===this.ownersFilter.length},loadingKey:"isLoading"}}},S=O,_=Object(h["a"])(S,l,d,!1,null,"51e6f9a5",null),E=_.exports,M=i("157d"),D=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalFilters",{attrs:{isOpen:e.isOpenModalFilter,isIcon:e.isIcon},on:{save:e.saveFilter,statusModal:e.statusModal}},[i("v-row",[i("v-col",{attrs:{cols:"12"}},[i("SelectUsers",{attrs:{all:"",defaultSelect:e.defaultFilter.users},on:{change:e.changeUsers}})],1),i("v-col",{attrs:{cols:"12"}},[i("SelectPipeline",{attrs:{defaultSelect:e.defaultFilter.pipeline},on:{change:e.changePipeline}})],1),i("v-col",{attrs:{cols:"12"}},[i("PeriodPredefined",{attrs:{defaultSelect:e.defaultFilter.periodPredefined},on:{change:e.changePeriodPredefined}})],1),e.isPreview?e._e():i("v-col",{attrs:{cols:"12"}},[i("ComparePeriod",{attrs:{periodPredefined:e.filters.periodPredefined[0]},on:{change:e.changeComparePeriod}})],1)],1)],1)},w=[],A=i("5530"),B=i("740f"),x=i("6321"),I={name:"CardBookedActivitiesInDayFilter",components:{SelectUsers:B["a"],SelectPipeline:x["a"]},mixins:[F["b"]],props:{defaultFilter:{type:Object,default:function(){return{users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""}}}},isIcon:{type:Boolean,default:!1},isPreview:{type:Boolean,default:!1}},data:function(){return{filters:{users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""}}}},methods:{changeComparePeriod:function(e){var t=e.isCompare,i=e.periodCompare;if(t){if(i&&(this.filters.periodRangeToCompare.period=i.periodSelected,i.periodRange.length>0)){var r=Object(n["a"])(i.periodRange,2);this.filters.periodRangeToCompare.start=r[0],this.filters.periodRangeToCompare.end=r[1]}}else this.filters.periodRangeToCompare.period="",this.filters.periodRangeToCompare.start="",this.filters.periodRangeToCompare.end=""},saveFilter:function(){this.changeChart({id:"card-bookedActivities",filtersFull:Object(A["a"])(Object(A["a"])({},this.noReactive(this.filters)),{},{periodRange:Object(A["a"])({__typename:"PeriodRange"},this.filters.periodRange)})}),this.isOpenModalFilter=!1}}},k=I,j=Object(h["a"])(k,D,w,!1,null,"f1b0e192",null),H=j.exports;m()(j,{VCol:g["a"],VRow:T["a"]});var N={name:"CardBookedActivitiesInDayModal",components:{CardBookedActivitiesInDayData:E,CardBookedActivitiesInDayFilter:H,TableActivities:M["a"]},mixins:[F["c"]],props:{isOpen:{type:Boolean,default:!1},title:{type:String,default:"Sin título"},titleRegular:{type:String,default:""},filters:{type:Object,default:function(){return{filtersConfig:{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""}},filtersTable:{users:[],pipelines:[],periodRange:{start:"",end:""},dealStatus:"",stages:[],activityTypes:[],fromReportStatus:"ACTIVITIESBYSTAGE"}}}}}},U=N,V=Object(h["a"])(U,o,s,!1,null,"04169b3f",null),G=V.exports,$={name:"CardBookedActivitiesInDayPreview",components:{CardBookedActivitiesInDayData:E,CardBookedActivitiesInDayModal:G,CardBookedActivitiesInDayFilter:H},mixins:[F["d"]],props:{defaultPeriod:{type:String,default:"THIS_MONTH"}},data:function(){return{title:"Actividades",titleRegular:"agendadas",isOpenModal:!1,chartId:"card-bookedActivities",filtersChartsDefault:{},initFilter:{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""},activitiesFilter:"ALL",activityTypes:[],fromReportStatus:"ACTIVITIES_CARD"}}},computed:{filtersConfig:function(){var e,t,i,r,a,n;return{filterBy:(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.filterBy)||this.initFilter.filterBy,users:this.usersGlobal||(null===(t=this.chart.filtersFull)||void 0===t?void 0:t.users)||this.initUsers,pipeline:(null===(i=this.chart.filtersFull)||void 0===i?void 0:i.pipeline)||this.initPipeline,periodRange:this.periodRangeGlobal||(null===(r=this.chart.filtersFull)||void 0===r?void 0:r.periodRange)||this.periodRange,periodPredefined:this.periodPredefinedGlobal||(null===(a=this.chart.filtersFull)||void 0===a?void 0:a.periodPredefined)||[this.defaultPeriod]||this.initFilter.periodPredefined,periodRangeToCompare:(null===(n=this.chart.filtersFull)||void 0===n?void 0:n.periodRangeToCompare)||this.initFilter.periodRangeToCompare}},filtersTable:function(){var e,t=this.getPeriod(this.initFilter.periodPredefined[0]).get(),i=Object(n["a"])(t,2),r=i[0],a=i[1];return{users:this.usersGlobal||this.users||this.initUsers,pipelines:this.pipelines||[this.initPipeline],periodRange:this.periodRangeGlobal||(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.periodRange)||{start:r,end:a},activitiesStatus:this.initFilter.activitiesFilter,activityTypes:this.filtersChartsDefault.activityTypes||this.initFilter.activityTypes,fromReportStatus:this.initFilter.fromReportStatus}}}},L=$,q=(i("9786"),Object(h["a"])(L,r,a,!1,null,"d5a7cf70",null));t["a"]=q.exports},d1a8:function(e,t,i){},dbb1f:function(e,t,i){},e5d2:function(e,t,i){},e869:function(e,t,i){},ea8d:function(e,t,i){"use strict";var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseCardChart",{attrs:{title:e.title,titleRegular:e.titleRegular,settings:e.filtersConfig},on:{updateRefetch:function(t){e.isRefetch=!0}},scopedSlots:e._u([{key:"modal",fn:function(){return[i("CardEffectiveActivitiesFilter",{attrs:{defaultFilter:e.filtersConfig,isIcon:"",isPreview:""}})]},proxy:!0}])},[i("div",{staticClass:"hoverClick",on:{click:e.openModal}},[i("CardEffectiveActivitiesData",{attrs:{defaultFilter:e.filtersConfig,isPreview:"",isRefetch:e.isRefetch},on:{updateRefetch:function(t){e.isRefetch=!1}}})],1),i("CardEffectiveActivitiesModal",{attrs:{isOpen:e.isOpenModal,filters:{filtersConfig:e.filtersConfig,filtersTable:e.filtersTable},title:e.title,titleRegular:e.titleRegular},on:{close:e.closeModal}})],1)},a=[],n=i("3835"),o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalChart",{attrs:{title:e.title,titleRegular:e.titleRegular,isOpen:e.isOpen},on:{close:e.closeModal},scopedSlots:e._u([{key:"filters",fn:function(){return[i("CardEffectiveActivitiesFilter",{attrs:{defaultFilter:e.filters.filtersConfig}})]},proxy:!0},{key:"chart",fn:function(){return[i("CardEffectiveActivitiesData",{attrs:{defaultFilter:e.filters.filtersConfig}})]},proxy:!0},{key:"table",fn:function(){return[i("TableActivities",{attrs:{defaultFilter:e.filters.filtersTable}})]},proxy:!0}])})},s=[],l=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.isPreview?e._e():i("ListFilters",{attrs:{settings:e.settings}}),i("BaseCardNumber",{attrs:{information:{numberMain:""+e.generalConvertionRateFormat,textMain:e.textMain,valueMain:e.valueMain,textMainType:e.textChart,isCompare:!e.isPreview&&e.settings.periodRangeToCompare.period.length>0,numberCompare:""+e.generalConvertionRateCompare,textCompare:e.textCompare,valueCompare:e.valueCompare,numberDifferenceCompare:e.comparePercentage}}}),e.isPreview?e._e():i("CardEffectiveActivitiesInformation",{attrs:{information:e.effectiveActivitiesCard.informationBar,filterBy:e.settings.filterBy}})],1)},d=[],p=(i("b680"),i("99af"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-card",{staticClass:"mt-5",attrs:{flat:""}},[i("v-container",[i("v-row",{staticClass:"justify-center"},[i("v-col",{attrs:{cols:"3"}},[e._l(e.information.usersEffectiveActivities,(function(t,r){return[i("span",{key:r,staticClass:"d-block"},[i("b",[e._v(e._s(t.name))]),e._v(" : "+e._s(t[e.filterBy])+" ")])]}))],2),e._l(e.information.periodsEffectiveActivities,(function(t,r){return[i("v-col",{key:r,attrs:{cols:"3"}},[i("span",{staticClass:"d-block"},[i("b",[e._v(e._s(e.rowOne[r]))]),e._v(" : "+e._s(t.count)+" ")])])]}))],2)],1)],1)}),c=[],f={name:"CardEffectiveActivitiesInformation",props:{information:{type:Object,default:function(){return{}}},filterBy:{type:String,default:"count"}},data:function(){return{rowOne:["Este período","Período pasado","Mismo período el mes anterior"]}}},u=f,h=i("0c7c"),v=i("6544"),m=i.n(v),C=i("b0af"),g=i("62ad"),R=i("a523"),T=i("0fd9"),P=Object(h["a"])(u,p,c,!1,null,null,null),y=P.exports;m()(P,{VCard:C["a"],VCol:g["a"],VContainer:R["a"],VRow:T["a"]});var b=i("8d7e"),F=i("0db6"),O={name:"CardEffectiveActivitiesData",mixins:[F["a"]],components:{CardEffectiveActivitiesInformation:y},props:{defaultFilter:{type:Object,default:function(){return{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""}}}},isPreview:{type:Boolean,default:!1}},data:function(){return{effectiveActivitiesCard:{},modalSettings:{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:[],periodRangeToCompare:{period:"",start:"",end:""}},settings:{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:[],periodRangeToCompare:{period:"",start:"",end:""}}}},computed:{comparePercentage:function(){return"0"===this.generalConvertionRateCompare?"100":(100*this.generalConvertionRateFormat/this.generalConvertionRateCompare-100).toFixed(2)},generalConvertionRateFormat:function(){var e,t,i;return this.effectiveActivitiesCard&&void 0!==(null===(e=this.effectiveActivitiesCard)||void 0===e||null===(t=e.mainEffectiveActivities)||void 0===t?void 0:t.count)&&(null===(i=this.effectiveActivitiesCard)||void 0===i?void 0:i.mainEffectiveActivities.count)||"0"},generalConvertionRateCompare:function(){var e,t,i;return this.effectiveActivitiesCard&&void 0!==(null===(e=this.effectiveActivitiesCard)||void 0===e||null===(t=e.secondEffectiveActivities)||void 0===t?void 0:t.count)&&(null===(i=this.effectiveActivitiesCard)||void 0===i?void 0:i.secondEffectiveActivities.count)||"0"},textCompare:function(){return"PREVIOUS_PERIOD"===this.settings.periodRangeToCompare.period?this.settings.periodPredefined[3]:"PREVIOUS_YEAR"===this.settings.periodRangeToCompare.period?"Año anterior":"CUSTOM"===this.settings.periodRangeToCompare.period?"Personalizado":""},valueCompare:function(){return this.isPreview||"CUSTOM"!==this.settings.periodRangeToCompare.period?"":"".concat(this.formatDate(this.filters.dateRangeToCompare.dateStart)," - ").concat(this.formatDate(this.filters.dateRangeToCompare.dateEnd))},textMain:function(){return this.isPreview?"":this.settings.periodPredefined[2]},valueMain:function(){return!this.isPreview&&this.settings.periodPredefined.length>0&&"CUSTOM"===this.settings.periodPredefined[0]?"".concat(this.formatDate(this.filters.dateRange.dateStart)," - ").concat(this.formatDate(this.filters.dateRange.dateEnd)):""},filters:function(){var e={dateRange:{dateStart:this.dateStart,dateEnd:this.dateEnd},owners:this.ownersFilter,pipeline:this.pipelineFilter};return this.dateRangeToCompare&&""!==this.dateRangeToCompare.dateStart&&""!==this.dateRangeToCompare.dateEnd&&(e.dateRangeToCompare=this.dateRangeToCompare),e}},methods:{update:function(){this.$apollo.queries.effectiveActivitiesCard.refetch()}},apollo:{effectiveActivitiesCard:{query:b["m"],fetchPolicy:"no-cache",client:"charts",variables:function(){return{filters:this.filters}},skip:function(){return""===this.dateStart||""===this.dateEnd||!this.pipelineFilter.id||0===this.ownersFilter.length},loadingKey:"isLoading"}}},S=O,_=Object(h["a"])(S,l,d,!1,null,"e383cdd2",null),E=_.exports,M=i("157d"),D=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalFilters",{attrs:{isOpen:e.isOpenModalFilter,isIcon:e.isIcon},on:{save:e.saveFilter,statusModal:e.statusModal}},[i("v-row",[i("v-col",{attrs:{cols:"12"}},[i("SelectUsers",{attrs:{all:"",defaultSelect:e.defaultFilter.users},on:{change:e.changeUsers}})],1),i("v-col",{attrs:{cols:"12"}},[i("SelectPipeline",{attrs:{defaultSelect:e.defaultFilter.pipeline},on:{change:e.changePipeline}})],1),i("v-col",{attrs:{cols:"12"}},[i("PeriodPredefined",{attrs:{defaultSelect:e.defaultFilter.periodPredefined},on:{change:e.changePeriodPredefined}})],1),e.isPreview?e._e():i("v-col",{attrs:{cols:"12"}},[i("ComparePeriod",{attrs:{periodPredefined:e.filters.periodPredefined[0]},on:{change:e.changeComparePeriod}})],1)],1)],1)},w=[],A=i("5530"),B=i("740f"),x=i("6321"),I={name:"CardEffectiveActivitiesFilter",components:{SelectUsers:B["a"],SelectPipeline:x["a"]},mixins:[F["b"]],props:{defaultFilter:{type:Object,default:function(){return{users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""}}}},isIcon:{type:Boolean,default:!1},isPreview:{type:Boolean,default:!1}},data:function(){return{filters:{users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""}}}},methods:{changeComparePeriod:function(e){var t=e.isCompare,i=e.periodCompare;if(t){if(i&&(this.filters.periodRangeToCompare.period=i.periodSelected,i.periodRange.length>0)){var r=Object(n["a"])(i.periodRange,2);this.filters.periodRangeToCompare.start=r[0],this.filters.periodRangeToCompare.end=r[1]}}else this.filters.periodRangeToCompare.period="",this.filters.periodRangeToCompare.start="",this.filters.periodRangeToCompare.end=""},saveFilter:function(){this.changeChart({id:"card-effectiveActivities",filtersFull:Object(A["a"])(Object(A["a"])({},this.noReactive(this.filters)),{},{periodRange:Object(A["a"])({__typename:"PeriodRange"},this.filters.periodRange)})}),this.isOpenModalFilter=!1}}},k=I,j=Object(h["a"])(k,D,w,!1,null,"48f8af1c",null),H=j.exports;m()(j,{VCol:g["a"],VRow:T["a"]});var N={name:"CardEffectiveActivitiesModal",components:{CardEffectiveActivitiesData:E,CardEffectiveActivitiesFilter:H,TableActivities:M["a"]},mixins:[F["c"]],props:{isOpen:{type:Boolean,default:!1},title:{type:String,default:"Sin título"},titleRegular:{type:String,default:""},filters:{type:Object,default:function(){return{filtersConfig:{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""}},filtersTable:{users:[],pipelines:[],periodRange:{start:"",end:""},dealStatus:"",stages:[],activityTypes:[],fromReportStatus:"ACTIVITIESBYSTAGE"}}}}}},U=N,V=Object(h["a"])(U,o,s,!1,null,"50904a93",null),G=V.exports,$={name:"CardEffectiveActivitiesPreview",components:{CardEffectiveActivitiesData:E,CardEffectiveActivitiesModal:G,CardEffectiveActivitiesFilter:H},mixins:[F["d"]],props:{defaultPeriod:{type:String,default:"THIS_MONTH"}},data:function(){return{title:"Actividades",titleRegular:"efectivas",isOpenModal:!1,chartId:"card-effectiveActivities",filtersChartsDefault:{},initFilter:{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""},activitiesFilter:"EFFECTIVE",activityTypes:[],fromReportStatus:"ACTIVITIES_CARD"}}},computed:{filtersConfig:function(){var e,t,i,r,a,n;return{filterBy:(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.filterBy)||this.initFilter.filterBy,users:this.usersGlobal||(null===(t=this.chart.filtersFull)||void 0===t?void 0:t.users)||this.initUsers,pipeline:(null===(i=this.chart.filtersFull)||void 0===i?void 0:i.pipeline)||this.initPipeline,periodRange:this.periodRangeGlobal||(null===(r=this.chart.filtersFull)||void 0===r?void 0:r.periodRange)||this.periodRange,periodPredefined:this.periodPredefinedGlobal||(null===(a=this.chart.filtersFull)||void 0===a?void 0:a.periodPredefined)||[this.defaultPeriod]||this.initFilter.periodPredefined,periodRangeToCompare:(null===(n=this.chart.filtersFull)||void 0===n?void 0:n.periodRangeToCompare)||this.initFilter.periodRangeToCompare}},filtersTable:function(){var e,t=this.getPeriod(this.initFilter.periodPredefined[0]).get(),i=Object(n["a"])(t,2),r=i[0],a=i[1];return{users:this.usersGlobal||this.users||this.initUsers,pipelines:this.pipelines||[this.initPipeline],periodRange:this.periodRangeGlobal||(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.periodRange)||{start:r,end:a},activitiesStatus:this.initFilter.activitiesFilter,activityTypes:this.filtersChartsDefault.activityTypes||this.initFilter.activityTypes,fromReportStatus:this.initFilter.fromReportStatus}}}},L=$,q=(i("7695"),Object(h["a"])(L,r,a,!1,null,"de51ec4a",null));t["a"]=q.exports},f362:function(e,t,i){"use strict";var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseCardChart",{attrs:{title:e.title,titleRegular:e.titleRegular,settings:e.filtersConfig},on:{updateRefetch:function(t){e.isRefetch=!0}},scopedSlots:e._u([{key:"modal",fn:function(){return[i("CardExpiredActivitiesFilter",{attrs:{defaultFilter:e.filtersConfig,isIcon:"",isPreview:""}})]},proxy:!0}])},[i("div",{staticClass:"hoverClick",on:{click:e.openModal}},[i("CardExpiredActivitiesData",{attrs:{defaultFilter:e.filtersConfig,isPreview:"",isRefetch:e.isRefetch},on:{updateRefetch:function(t){e.isRefetch=!1}}})],1),i("CardExpiredActivitiesModal",{attrs:{isOpen:e.isOpenModal,filters:{filtersConfig:e.filtersConfig,filtersTable:e.filtersTable},title:e.title,titleRegular:e.titleRegular},on:{close:e.closeModal}})],1)},a=[],n=i("3835"),o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalChart",{attrs:{title:e.title,titleRegular:e.titleRegular,isOpen:e.isOpen},on:{close:e.closeModal},scopedSlots:e._u([{key:"filters",fn:function(){return[i("CardExpiredActivitiesFilter",{attrs:{defaultFilter:e.filters.filtersConfig}})]},proxy:!0},{key:"chart",fn:function(){return[i("CardExpiredActivitiesData",{attrs:{defaultFilter:e.filters.filtersConfig}})]},proxy:!0},{key:"table",fn:function(){return[i("TableActivities",{attrs:{defaultFilter:e.filters.filtersTable}})]},proxy:!0}])})},s=[],l=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.isPreview?e._e():i("ListFilters",{attrs:{settings:e.settings}}),i("BaseCardNumber",{attrs:{information:{numberMain:""+e.generalConvertionRateFormat,textMain:e.textMain,valueMain:e.valueMain,textMainType:e.textChart,isCompare:!e.isPreview&&e.settings.periodRangeToCompare.period.length>0,numberCompare:""+e.generalConvertionRateCompare,textCompare:e.textCompare,valueCompare:e.valueCompare,numberDifferenceCompare:e.comparePercentage}}}),e.isPreview?e._e():i("CardExpiredActivitiesInformation",{attrs:{information:e.expiredActivitiesCard.informationBar,filterBy:e.settings.filterBy}})],1)},d=[],p=(i("b680"),i("b0c0"),i("99af"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-card",{staticClass:"mt-5",attrs:{flat:""}},[i("v-container",[i("v-row",{staticClass:"justify-center"},[i("v-col",{attrs:{cols:"3"}},[e._l(e.information.usersExpiredActivities,(function(t,r){return[i("span",{key:r,staticClass:"d-block"},[i("b",[e._v(e._s(t.name))]),e._v(" : "+e._s(t[e.filterBy])+" ")])]}))],2),e._l(e.information.periodsExpiredActivities,(function(t,r){return[i("v-col",{key:r,attrs:{cols:"3"}},[i("span",{staticClass:"d-block"},[i("b",[e._v(e._s(e.rowOne[r]))]),e._v(" : "+e._s(t.count)+" ")])])]}))],2)],1)],1)}),c=[],f={name:"CardExpiredActivitiesInformation",props:{information:{type:Object,default:function(){return{}}},filterBy:{type:String,default:"count"}},data:function(){return{rowOne:["Este período","Período pasado","Mismo período el mes anterior"]}}},u=f,h=i("0c7c"),v=i("6544"),m=i.n(v),C=i("b0af"),g=i("62ad"),R=i("a523"),T=i("0fd9"),P=Object(h["a"])(u,p,c,!1,null,null,null),y=P.exports;m()(P,{VCard:C["a"],VCol:g["a"],VContainer:R["a"],VRow:T["a"]});var b=i("8d7e"),F=i("0db6"),O={name:"CardExpiredActivitiesData",mixins:[F["a"]],components:{CardExpiredActivitiesInformation:y},props:{defaultFilter:{type:Object,default:function(){return{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""}}}},isPreview:{type:Boolean,default:!1}},data:function(){return{expiredActivitiesCard:{},modalSettings:{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:[],periodRangeToCompare:{period:"",start:"",end:""}},settings:{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:[],periodRangeToCompare:{period:"",start:"",end:""}}}},computed:{comparePercentage:function(){return"0"===this.generalConvertionRateCompare?"100":(100*this.generalConvertionRateFormat/this.generalConvertionRateCompare-100).toFixed(2)},generalConvertionRateFormat:function(){var e,t,i;return this.expiredActivitiesCard&&void 0!==(null===(e=this.expiredActivitiesCard)||void 0===e||null===(t=e.mainExpiredActivities)||void 0===t?void 0:t.count)&&(null===(i=this.expiredActivitiesCard)||void 0===i?void 0:i.mainExpiredActivities.count)||"0"},generalConvertionRateCompare:function(){var e,t,i;return this.expiredActivitiesCard&&void 0!==(null===(e=this.expiredActivitiesCard)||void 0===e||null===(t=e.secondExpiredActivities)||void 0===t?void 0:t.count)&&(null===(i=this.expiredActivitiesCard)||void 0===i?void 0:i.secondExpiredActivities.count)||"0"},textCompare:function(){return"PREVIOUS_PERIOD"===this.settings.periodRangeToCompare.period?this.settings.periodPredefined[3]:"PREVIOUS_YEAR"===this.settings.periodRangeToCompare.period?"Año anterior":"CUSTOM"===this.settings.periodRangeToCompare.period?"Personalizado":""},valueCompare:function(){if(!this.isPreview){var e,t;if(this.isCompareUser)return null===(e=this.expiredActivitiesCard)||void 0===e||null===(t=e.secondExpiredActivities)||void 0===t?void 0:t.name;if("CUSTOM"===this.settings.periodRangeToCompare.period)return"".concat(this.formatDate(this.filters.dateRangeToCompare.dateStart)," - ").concat(this.formatDate(this.filters.dateRangeToCompare.dateEnd))}return""},textMain:function(){return this.isPreview?"":(this.isCompareUser,this.settings.periodPredefined[2])},valueMain:function(){if(!this.isPreview){var e,t;if(this.isCompareUser)return null===(e=this.expiredActivitiesCard)||void 0===e||null===(t=e.mainExpiredActivities)||void 0===t?void 0:t.name;if(this.settings.periodPredefined.length>0&&"CUSTOM"===this.settings.periodPredefined[0])return"".concat(this.formatDate(this.filters.dateRange.dateStart)," - ").concat(this.formatDate(this.filters.dateRange.dateEnd))}return""},filters:function(){var e={dateRange:{dateStart:this.dateStart,dateEnd:this.dateEnd},owners:this.ownersFilter,pipeline:this.pipelineFilter};return this.dateRangeToCompare&&""!==this.dateRangeToCompare.dateStart&&""!==this.dateRangeToCompare.dateEnd&&(e.dateRangeToCompare=this.dateRangeToCompare),e}},methods:{update:function(){this.$apollo.queries.expiredActivitiesCard.refetch()}},apollo:{expiredActivitiesCard:{query:b["o"],fetchPolicy:"no-cache",client:"charts",variables:function(){return{filters:this.filters}},skip:function(){return""===this.dateStart||""===this.dateEnd||!this.pipelineFilter.id||0===this.ownersFilter.length},loadingKey:"isLoading"}}},S=O,_=Object(h["a"])(S,l,d,!1,null,"67f38eb2",null),E=_.exports,M=i("157d"),D=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalFilters",{attrs:{isOpen:e.isOpenModalFilter,isIcon:e.isIcon},on:{save:e.saveFilter,statusModal:e.statusModal}},[i("v-row",[i("v-col",{attrs:{cols:"12"}},[i("SelectUsers",{attrs:{all:"",defaultSelect:e.defaultFilter.users},on:{change:e.changeUsers}})],1),i("v-col",{attrs:{cols:"12"}},[i("SelectPipeline",{attrs:{defaultSelect:e.defaultFilter.pipeline},on:{change:e.changePipeline}})],1),i("v-col",{attrs:{cols:"12"}},[i("PeriodPredefined",{attrs:{defaultSelect:e.defaultFilter.periodPredefined},on:{change:e.changePeriodPredefined}})],1),e.isPreview?e._e():i("v-col",{attrs:{cols:"12"}},[i("ComparePeriod",{attrs:{periodPredefined:e.filters.periodPredefined[0]},on:{change:e.changeComparePeriod}})],1)],1)],1)},w=[],A=i("5530"),B=i("740f"),x=i("6321"),I={name:"CardExpiredActivitiesFilter",components:{SelectUsers:B["a"],SelectPipeline:x["a"]},mixins:[F["b"]],props:{defaultFilter:{type:Object,default:function(){return{users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""}}}},isIcon:{type:Boolean,default:!1},isPreview:{type:Boolean,default:!1}},data:function(){return{filters:{users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""}}}},methods:{changeComparePeriod:function(e){var t=e.isCompare,i=e.periodCompare;if(t){if(i&&(this.filters.periodRangeToCompare.period=i.periodSelected,i.periodRange.length>0)){var r=Object(n["a"])(i.periodRange,2);this.filters.periodRangeToCompare.start=r[0],this.filters.periodRangeToCompare.end=r[1]}}else this.filters.periodRangeToCompare.period="",this.filters.periodRangeToCompare.start="",this.filters.periodRangeToCompare.end=""},saveFilter:function(){this.changeChart({id:"card-expiredActivities",filtersFull:Object(A["a"])(Object(A["a"])({},this.noReactive(this.filters)),{},{periodRange:Object(A["a"])({__typename:"PeriodRange"},this.filters.periodRange)})}),this.isOpenModalFilter=!1}}},k=I,j=Object(h["a"])(k,D,w,!1,null,"60252834",null),H=j.exports;m()(j,{VCol:g["a"],VRow:T["a"]});var N={name:"CardCompletedActivitiesModal",components:{CardExpiredActivitiesData:E,CardExpiredActivitiesFilter:H,TableActivities:M["a"]},mixins:[F["c"]],props:{isOpen:{type:Boolean,default:!1},title:{type:String,default:"Sin título"},titleRegular:{type:String,default:""},filters:{type:Object,default:function(){return{filtersConfig:{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""}},filtersTable:{users:[],pipelines:[],periodRange:{start:"",end:""},dealStatus:"",stages:[],activityTypes:[],fromReportStatus:"ACTIVITIESBYSTAGE"}}}}}},U=N,V=Object(h["a"])(U,o,s,!1,null,"5d75bd0e",null),G=V.exports,$={name:"CardExpiredActivitiesPreview",components:{CardExpiredActivitiesData:E,CardExpiredActivitiesModal:G,CardExpiredActivitiesFilter:H},mixins:[F["d"]],props:{defaultPeriod:{type:String,default:"THIS_MONTH"}},data:function(){return{title:"Actividades",titleRegular:"vencidas",isOpenModal:!1,chartId:"card-expiredActivities",filtersChartsDefault:{},initFilter:{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""},activitiesFilter:"EXPIRED",activityTypes:[],fromReportStatus:"ACTIVITIES_CARD"}}},computed:{filtersConfig:function(){var e,t,i,r,a,n;return{filterBy:(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.filterBy)||this.initFilter.filterBy,users:this.usersGlobal||(null===(t=this.chart.filtersFull)||void 0===t?void 0:t.users)||this.initUsers,pipeline:(null===(i=this.chart.filtersFull)||void 0===i?void 0:i.pipeline)||this.initPipeline,periodRange:this.periodRangeGlobal||(null===(r=this.chart.filtersFull)||void 0===r?void 0:r.periodRange)||this.periodRange,periodPredefined:this.periodPredefinedGlobal||(null===(a=this.chart.filtersFull)||void 0===a?void 0:a.periodPredefined)||[this.defaultPeriod]||this.initFilter.periodPredefined,periodRangeToCompare:(null===(n=this.chart.filtersFull)||void 0===n?void 0:n.periodRangeToCompare)||this.initFilter.periodRangeToCompare}},filtersTable:function(){var e,t=this.getPeriod(this.initFilter.periodPredefined[0]).get(),i=Object(n["a"])(t,2),r=i[0],a=i[1];return{users:this.usersGlobal||this.users||this.initUsers,pipelines:this.pipelines||[this.initPipeline],periodRange:this.periodRangeGlobal||(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.periodRange)||{start:r,end:a},activitiesStatus:this.initFilter.activitiesFilter,activityTypes:this.filtersChartsDefault.activityTypes||this.initFilter.activityTypes,fromReportStatus:this.initFilter.fromReportStatus}}}},L=$,q=(i("ae8a"),Object(h["a"])(L,r,a,!1,null,"5d623b3c",null));t["a"]=q.exports},f73a:function(e,t,i){"use strict";var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseCardChart",{attrs:{title:e.title,titleRegular:e.titleRegular,settings:e.filtersConfig},on:{updateRefetch:function(t){e.isRefetch=!0}},scopedSlots:e._u([{key:"modal",fn:function(){return[i("CardSentEmailsFilter",{attrs:{defaultFilter:e.filtersConfig,isIcon:"",isPreview:""}})]},proxy:!0}])},[i("div",{staticClass:"hoverClick",on:{click:e.openModal}},[i("CardSentEmailsData",{attrs:{defaultFilter:e.filtersConfig,isPreview:"",isRefetch:e.isRefetch},on:{updateRefetch:function(t){e.isRefetch=!1}}})],1),i("CardSentEmailsModal",{attrs:{isOpen:e.isOpenModal,filters:{filtersConfig:e.filtersConfig,filtersTable:e.filtersTable},title:e.title,titleRegular:e.titleRegular},on:{close:e.closeModal}})],1)},a=[],n=i("3835"),o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalChart",{attrs:{title:e.title,titleRegular:e.titleRegular,isOpen:e.isOpen},on:{close:e.closeModal},scopedSlots:e._u([{key:"filters",fn:function(){return[i("CardSentEmailsFilter",{attrs:{defaultFilter:e.filters.filtersConfig}})]},proxy:!0},{key:"chart",fn:function(){return[i("CardSentEmailsData",{attrs:{defaultFilter:e.filters.filtersConfig}})]},proxy:!0},{key:"table",fn:function(){return[i("TableEmails",{attrs:{defaultFilter:e.filters.filtersTable}})]},proxy:!0}])})},s=[],l=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.isPreview?e._e():i("ListFilters",{attrs:{settings:e.settings}}),i("BaseCardNumber",{attrs:{information:{numberMain:""+e.generalConvertionRateFormat,textMain:e.textMain,valueMain:e.valueMain,textMainType:e.textChart,isCompare:!e.isPreview&&(e.settings.periodRangeToCompare.period.length>0||e.isCompareUser),numberCompare:""+e.generalConvertionRateCompare,textCompare:e.textCompare,valueCompare:e.valueCompare,numberDifferenceCompare:e.comparePercentage}}}),e.isPreview?e._e():i("CardSentEmailsInformation",{attrs:{information:e.sentEmailsInDayCard.informationBar,filterBy:e.settings.filterBy}})],1)},d=[],p=(i("b680"),i("b0c0"),i("99af"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-card",{staticClass:"mt-5",attrs:{flat:""}},[i("v-container",[i("v-row",{staticClass:"justify-center"},[i("v-col",{attrs:{cols:"3"}},[e._l(e.information.usersSentEmails,(function(t,r){return[i("span",{key:r,staticClass:"d-block"},[i("b",[e._v(e._s(t.name))]),e._v(" : "+e._s(t[e.filterBy])+" ")])]}))],2),e._l(e.information.periodsSentEmails,(function(t,r){return[i("v-col",{key:r,attrs:{cols:"3"}},[i("span",{staticClass:"d-block"},[i("b",[e._v(e._s(e.rowOne[r]))]),e._v(" : "+e._s(t.count)+" ")])])]}))],2)],1)],1)}),c=[],f={name:"CardSentEmailsInformation",props:{information:{type:Object,default:function(){return{}}},filterBy:{type:String,default:"count"}},data:function(){return{rowOne:["Este período","Período pasado","Mismo período el mes anterior"]}}},u=f,h=i("0c7c"),v=i("6544"),m=i.n(v),C=i("b0af"),g=i("62ad"),R=i("a523"),T=i("0fd9"),P=Object(h["a"])(u,p,c,!1,null,null,null),y=P.exports;m()(P,{VCard:C["a"],VCol:g["a"],VContainer:R["a"],VRow:T["a"]});var b=i("8d7e"),F=i("0db6"),O={name:"CardSentEmailsData",mixins:[F["a"]],components:{CardSentEmailsInformation:y},props:{defaultFilter:{type:Object,default:function(){return{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{id:""}}}},isPreview:{type:Boolean,default:!1}},data:function(){return{sentEmailsInDayCard:{},modalSettings:{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:[],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{id:""}},settings:{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:[],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{id:""}}}},computed:{isCompareUser:function(){var e,t,i,r,a,n;return(null===(e=this.sentEmailsInDayCard)||void 0===e||null===(t=e.mainSentMails)||void 0===t?void 0:t.id)!==(null===(i=this.sentEmailsInDayCard)||void 0===i||null===(r=i.secondSentMails)||void 0===r?void 0:r.id)&&""!==(null===(a=this.settings)||void 0===a||null===(n=a.ownerToCompare)||void 0===n?void 0:n.id)},comparePercentage:function(){return"0"===this.generalConvertionRateCompare?"0.00":(100*this.generalConvertionRateFormat/this.generalConvertionRateCompare-100).toFixed(2)},generalConvertionRateFormat:function(){var e,t;if(this.sentEmailsInDayCard&&void 0!==(null===(e=this.sentEmailsInDayCard)||void 0===e||null===(t=e.mainSentMails)||void 0===t?void 0:t.count)){var i,r;if("count"===this.settings.filterBy)return(null===(i=this.sentEmailsInDayCard)||void 0===i?void 0:i.mainSentMails.count)||"0";if("sum"===this.settings.filterBy)return"$".concat(null===(r=this.sentEmailsInDayCard)||void 0===r?void 0:r.mainSentMails.sum)||!1}return"0"},generalConvertionRateCompare:function(){var e,t;if(this.sentEmailsInDayCard&&void 0!==(null===(e=this.sentEmailsInDayCard)||void 0===e||null===(t=e.secondSentMails)||void 0===t?void 0:t.count)){var i,r=null===(i=this.sentEmailsInDayCard)||void 0===i?void 0:i.secondSentMails[this.settings.filterBy];return r||"0"}return"0"},textCompare:function(){return"PREVIOUS_PERIOD"===this.settings.periodRangeToCompare.period?this.settings.periodPredefined[3]:"PREVIOUS_YEAR"===this.settings.periodRangeToCompare.period?"Año anterior":"CUSTOM"===this.settings.periodRangeToCompare.period?"Personalizado":""},valueCompare:function(){if(!this.isPreview){var e,t;if(this.isCompareUser)return null===(e=this.sentEmailsInDayCard)||void 0===e||null===(t=e.secondSentMails)||void 0===t?void 0:t.name;if("CUSTOM"===this.settings.periodRangeToCompare.period)return"".concat(this.formatDate(this.filters.dateRangeToCompare.dateStart)," - ").concat(this.formatDate(this.filters.dateRangeToCompare.dateEnd))}return""},textMain:function(){return this.isPreview?"":(this.isCompareUser,this.settings.periodPredefined[2])},valueMain:function(){if(!this.isPreview){var e,t;if(this.isCompareUser)return null===(e=this.sentEmailsInDayCard)||void 0===e||null===(t=e.mainSentMails)||void 0===t?void 0:t.name;if(this.settings.periodPredefined.length>0&&"CUSTOM"===this.settings.periodPredefined[0])return"".concat(this.formatDate(this.filters.dateRange.dateStart)," - ").concat(this.formatDate(this.filters.dateRange.dateEnd))}return""},filters:function(){var e={dateRange:{dateStart:this.dateStart,dateEnd:this.dateEnd},owners:this.ownersFilter,pipeline:this.pipelineFilter};return this.ownerToCompare&&""!==this.ownerToCompare.id&&(e.ownerToCompare=this.ownerToCompare),this.dateRangeToCompare&&""!==this.dateRangeToCompare.dateStart&&""!==this.dateRangeToCompare.dateEnd&&(e.dateRangeToCompare=this.dateRangeToCompare),e}},methods:{update:function(){this.$apollo.queries.sentEmailsInDayCard.refetch()}},apollo:{sentEmailsInDayCard:{query:b["L"],fetchPolicy:"no-cache",client:"charts",variables:function(){return{filters:this.filters}},skip:function(){return""===this.dateStart||""===this.dateEnd||!this.pipelineFilter.id||0===this.ownersFilter.length},loadingKey:"isLoading"}}},S=O,_=Object(h["a"])(S,l,d,!1,null,"477c58a0",null),E=_.exports,M=i("6c94"),D=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalFilters",{attrs:{isOpen:e.isOpenModalFilter,isIcon:e.isIcon},on:{save:e.saveFilter,statusModal:e.statusModal}},[i("v-row",[i("v-col",{attrs:{cols:"12"}},[i("SelectUsers",{attrs:{all:"",defaultSelect:e.defaultFilter.users},on:{change:e.changeUsers}})],1),i("v-col",{attrs:{cols:"12"}},[i("SelectPipeline",{attrs:{defaultSelect:e.defaultFilter.pipeline},on:{change:e.changePipeline}})],1),i("v-col",{attrs:{cols:"12"}},[i("PeriodPredefined",{attrs:{defaultSelect:e.defaultFilter.periodPredefined},on:{change:e.changePeriodPredefined}})],1),e.isPreview?e._e():i("v-col",{attrs:{cols:"12"}},[i("ComparePeriod",{attrs:{periodPredefined:e.filters.periodPredefined[0]},on:{change:e.changeComparePeriod}})],1)],1)],1)},w=[],A=i("5530"),B=i("740f"),x=i("6321"),I={name:"CartSendEmailsFilter",components:{SelectUsers:B["a"],SelectPipeline:x["a"]},mixins:[F["b"]],props:{defaultFilter:{type:Object,default:function(){return{users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{id:""}}}},isIcon:{type:Boolean,default:!1},isPreview:{type:Boolean,default:!1}},data:function(){return{filters:{users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{id:""}}}},methods:{changeComparePeriod:function(e){var t=e.isCompare,i=e.periodCompare,r=e.ownerCompare;if(t){if(r&&r.id&&(this.filters.ownerToCompare.id=r.id,this.filters.periodRangeToCompare.period="",this.filters.periodRangeToCompare.start="",this.filters.periodRangeToCompare.end=""),i){if(this.filters.periodRangeToCompare.period=i.periodSelected,i.periodRange.length>0){var a=Object(n["a"])(i.periodRange,2);this.filters.periodRangeToCompare.start=a[0],this.filters.periodRangeToCompare.end=a[1]}this.filters.ownerToCompare.id=""}}else this.filters.periodRangeToCompare.period="",this.filters.periodRangeToCompare.start="",this.filters.periodRangeToCompare.end="",this.filters.ownerToCompare.id=""},saveFilter:function(){this.changeChart({id:"card-sentEmails",filtersFull:Object(A["a"])(Object(A["a"])({},this.noReactive(this.filters)),{},{periodRange:Object(A["a"])({__typename:"PeriodRange"},this.filters.periodRange),ownerToCompare:Object(A["a"])({__typename:"OwnerToCompare"},this.filters.ownerToCompare)})}),this.isOpenModalFilter=!1}}},k=I,j=Object(h["a"])(k,D,w,!1,null,"e3197484",null),H=j.exports;m()(j,{VCol:g["a"],VRow:T["a"]});var N={name:"CardSentEmailsModal",components:{CardSentEmailsData:E,CardSentEmailsFilter:H,TableEmails:M["a"]},mixins:[F["c"]],props:{isOpen:{type:Boolean,default:!1},title:{type:String,default:"Sin título"},titleRegular:{type:String,default:""},filters:{type:Object,default:function(){return{filtersConfig:{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{id:""}},filtersTable:{users:[],pipelines:[],periodRange:{start:"",end:""}}}}}}},U=N,V=Object(h["a"])(U,o,s,!1,null,"4824f040",null),G=V.exports,$={name:"CardSentEmailsPreview",components:{CardSentEmailsData:E,CardSentEmailsModal:G,CardSentEmailsFilter:H},mixins:[F["d"]],props:{defaultPeriod:{type:String,default:"THIS_MONTH"}},data:function(){return{title:"Correos",titleRegular:"enviados",isOpenModal:!1,chartId:"card-sentEmails",filtersChartsDefault:{},initFilter:{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{id:""}}}},computed:{filtersConfig:function(){var e,t,i,r,a,n,o;return{filterBy:(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.filterBy)||this.initFilter.filterBy,users:this.usersGlobal||(null===(t=this.chart.filtersFull)||void 0===t?void 0:t.users)||this.initUsers,pipeline:(null===(i=this.chart.filtersFull)||void 0===i?void 0:i.pipeline)||this.initPipeline,periodRange:this.periodRangeGlobal||(null===(r=this.chart.filtersFull)||void 0===r?void 0:r.periodRange)||this.periodRange,periodPredefined:this.periodPredefinedGlobal||(null===(a=this.chart.filtersFull)||void 0===a?void 0:a.periodPredefined)||[this.defaultPeriod]||this.initFilter.periodPredefined,periodRangeToCompare:(null===(n=this.chart.filtersFull)||void 0===n?void 0:n.periodRangeToCompare)||this.initFilter.periodRangeToCompare,ownerToCompare:(null===(o=this.chart.filtersFull)||void 0===o?void 0:o.ownerToCompare)||this.initFilter.ownerToCompare}},filtersTable:function(){var e,t=this.getPeriod(this.initFilter.periodPredefined[0]).get(),i=Object(n["a"])(t,2),r=i[0],a=i[1];return{users:this.usersGlobal||this.users||this.initUsers,pipelines:this.pipelines||this.filtersChartsDefault.pipelines,periodRange:this.periodRangeGlobal||(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.periodRange)||{start:r,end:a},emailStatus:"ALL"}}}},L=$,q=(i("5cb2"),Object(h["a"])(L,r,a,!1,null,"06662b5c",null));t["a"]=q.exports},ff01:function(e,t,i){}}]);
//# sourceMappingURL=chunk-10b2a19e.ae0474d1.js.map