(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d5dfc656"],{"0cb2":function(t,e,a){var n=a("7b0b"),r=Math.floor,i="".replace,s=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,o=/\$([$&'`]|\d{1,2})/g;t.exports=function(t,e,a,l,c,u){var d=a+t.length,f=l.length,p=o;return void 0!==c&&(c=n(c),p=s),i.call(u,p,(function(n,i){var s;switch(i.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,a);case"'":return e.slice(d);case"<":s=c[i.slice(1,-1)];break;default:var o=+i;if(0===o)return n;if(o>f){var u=r(o/10);return 0===u?n:u<=f?void 0===l[u-1]?i.charAt(1):l[u-1]+i.charAt(1):n}s=l[o-1]}return void 0===s?"":s}))}},2532:function(t,e,a){"use strict";var n=a("23e7"),r=a("5a34"),i=a("1d80"),s=a("ab13");n({target:"String",proto:!0,forced:!s("includes")},{includes:function(t){return!!~String(i(this)).indexOf(r(t),arguments.length>1?arguments[1]:void 0)}})},3398:function(t,e,a){"use strict";a.d(e,"a",(function(){return r}));var n=a("3835"),r=(a("caad"),a("2532"),a("d81d"),a("ac1f"),a("466d"),a("5319"),{methods:{getBestColor:function(t){if(t&&t.includes("#")){var e=t.replace("#","").match(/.{1,2}/g).map((function(t){return parseInt(t,16)})),a=Object(n["a"])(e,3),r=a[0],i=a[1],s=a[2],o=Math.sqrt(r*r*.299+i*i*.587+s*s*.114);return o>135?"dark":"white"}return""}}})},"466d":function(t,e,a){"use strict";var n=a("d784"),r=a("825a"),i=a("50c4"),s=a("1d80"),o=a("8aa5"),l=a("14c3");n("match",(function(t,e,a){return[function(e){var a=s(this),n=void 0==e?void 0:e[t];return void 0!==n?n.call(e,a):new RegExp(e)[t](String(a))},function(t){var n=a(e,this,t);if(n.done)return n.value;var s=r(this),c=String(t);if(!s.global)return l(s,c);var u=s.unicode;s.lastIndex=0;var d,f=[],p=0;while(null!==(d=l(s,c))){var v=String(d[0]);f[p]=v,""===v&&(s.lastIndex=o(c,i(s.lastIndex),u)),p++}return 0===p?null:f}]}))},5319:function(t,e,a){"use strict";var n=a("d784"),r=a("d039"),i=a("825a"),s=a("50c4"),o=a("a691"),l=a("1d80"),c=a("8aa5"),u=a("0cb2"),d=a("14c3"),f=a("b622"),p=f("replace"),v=Math.max,m=Math.min,h=function(t){return void 0===t?t:String(t)},g=function(){return"$0"==="a".replace(/./,"$0")}(),_=function(){return!!/./[p]&&""===/./[p]("a","$0")}(),y=!r((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}));n("replace",(function(t,e,a){var n=_?"$":"$0";return[function(t,a){var n=l(this),r=void 0==t?void 0:t[p];return void 0!==r?r.call(t,n,a):e.call(String(n),t,a)},function(t,r){if("string"===typeof r&&-1===r.indexOf(n)&&-1===r.indexOf("$<")){var l=a(e,this,t,r);if(l.done)return l.value}var f=i(this),p=String(t),g="function"===typeof r;g||(r=String(r));var _=f.global;if(_){var y=f.unicode;f.lastIndex=0}var b=[];while(1){var x=d(f,p);if(null===x)break;if(b.push(x),!_)break;var k=String(x[0]);""===k&&(f.lastIndex=c(p,s(f.lastIndex),y))}for(var w="",S=0,C=0;C<b.length;C++){x=b[C];for(var D=String(x[0]),P=v(m(o(x.index),p.length),0),$=[],I=1;I<x.length;I++)$.push(h(x[I]));var T=x.groups;if(g){var A=[D].concat($,P,p);void 0!==T&&A.push(T);var B=String(r.apply(void 0,A))}else B=u(D,p,P,$,T,r);P>=S&&(w+=p.slice(S,P)+B,S=P+D.length)}return w+p.slice(S)}]}),!y||!g||_)},"554b":function(t,e,a){},"5a34":function(t,e,a){var n=a("44e7");t.exports=function(t){if(n(t))throw TypeError("The method doesn't accept regular expressions");return t}},ab13:function(t,e,a){var n=a("b622"),r=n("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(a){try{return e[r]=!1,"/./"[t](e)}catch(n){}}return!1}},caad:function(t,e,a){"use strict";var n=a("23e7"),r=a("4d64").includes,i=a("44d2");n({target:"Array",proto:!0},{includes:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),i("includes")},d966:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"data-table-container"},[a("v-card",{staticClass:"mx-12",attrs:{outlined:""}},[a("v-data-table",{staticClass:"deals-data-table",attrs:{headers:0!==t.totalDeals?t.headers:[],items:t.listDeals,"item-key":"id",options:t.options,"server-items-length":t.totalDeals,loading:t.isLoadingDeals,"loading-text":"Cargando tratos...","hide-default-footer":"","show-select":"","disable-sort":"","hide-default-header":""},on:{"update:options":function(e){t.options=e},"click:row":t.clickRow},scopedSlots:t._u([{key:"no-data",fn:function(){return[a("BaseErrorComponent",{attrs:{info:t.infoError}})]},proxy:!0},{key:"header",fn:function(e){var n=e.props,r=e.on;return[0!==t.totalDeals?a("thead",[a("draggable",{attrs:{group:{name:"headers",put:!0},animation:200,tag:"tr",draggable:".item"},on:{change:function(e){return t.ChangeHeaderOrder(n.headers)}},model:{value:n.headers,callback:function(e){t.$set(n,"headers",e)},expression:"props.headers"}},t._l(n.headers,(function(e,i){return a("th",{key:e.value,staticClass:"table-headers-interactive",class:0===i?"first":"item",style:0!==i?"min-width: 150px;":"min-width: 40px;"},[0===i?a("v-simple-checkbox",{staticClass:"my-4",attrs:{indeterminate:n.someItems&&!n.everyItem,dark:"","hide-details":"auto",color:"secondary"},on:{input:r["toggle-select-all"]},model:{value:n.everyItem,callback:function(e){t.$set(n,"everyItem",e)},expression:"props.everyItem"}}):t._e(),a("div",{staticClass:"d-flex  justify-center"},[a("div",[t._v(" "+t._s(e.text)+" ")]),a("div",{staticClass:"ml-2"},[0!==i&&t.validateSort(e.value)?a("v-icon",{staticClass:"white--text",attrs:{"x-small":""},on:{click:function(t){return r["sort"](e.value)}}},[t._v(" "+t._s(n.options.sortBy[0]===e.value&&"boolean"===typeof n.options.sortDesc[0]?n.options.sortDesc[0]?"mdi-sort-ascending":"mdi-sort-descending":"mdi-sort")+" ")]):t._e()],1)])],1)})),0)],1):t._e()]}},{key:"item.title",fn:function(e){var n=e.item;return[a("span",{staticClass:"select-text-underline",on:{click:function(e){return e.stopPropagation(),t.goToProfile("deal",n.id)}}},[t._v(" "+t._s(n.title)+" ")])]}},{key:"item.tags",fn:function(e){var n=e.item.tags,r=n[0],i=n.slice(1);return[a("v-chip",{attrs:{outlined:!r,small:"",color:r?r.color:"grey","text-color":r?t.getBestColor(r.color):""}},[a("v-icon",{staticClass:"mr-1",attrs:{small:""}},[t._v(" "+t._s(r?"mdi-tag":"mdi-tag-off")+" ")]),t._v(" "+t._s(r?r.name:"Sin etiqueta")+" ")],1),a("v-tooltip",{attrs:{color:"white",right:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,r=e.attrs;return[a("v-chip",t._g(t._b({directives:[{name:"show",rawName:"v-show",value:i.length>0,expression:"tags.length > 0"}],staticClass:"ml-1 pa-1",attrs:{outlined:"","x-small":""}},"v-chip",r,!1),n),[a("v-icon",{attrs:{small:""}},[t._v("mdi-tag-multiple")]),t._v(" + "+t._s(i.length)+" ")],1)]}}],null,!0)},[a("ul",{staticClass:"pa-0"},t._l(i,(function(e){return a("li",{key:e.id},[a("v-chip",{staticClass:"mb-2",attrs:{"text-color":t.getBestColor(e.color),color:e.color,small:""}},[a("v-icon",{staticClass:"mr-1",attrs:{"x-small":""}},[t._v(" mdi-tag ")]),t._v(" "+t._s(e.name)+" ")],1)],1)})),0)])]}},{key:"item.owner",fn:function(e){var n=e.item;return[a("span",{class:n.owner?"":"red--text"},[a("v-icon",{class:n.owner?"":"red--text",attrs:{small:""}},[t._v(" "+t._s(n.owner?"mdi-account":"mdi-alert")+" ")]),t._v(" "+t._s(n.owner?n.owner.user.name:"Sin Propietario")+" ")],1)]}},{key:"item.contact",fn:function(e){var n=e.item;return[n.contact?a("span",{staticClass:"select-text-underline",on:{click:function(e){return e.stopPropagation(),t.goToProfile("contact",n.contact.id)}}},[a("v-icon",{attrs:{small:""}},[t._v(" mdi-account-tie ")]),t._v(" "+t._s(n.contact.name)+" ")],1):t._e()]}},{key:"item.company",fn:function(e){var n=e.item;return[n.company?a("span",{staticClass:"select-text-underline",on:{click:function(e){return e.stopPropagation(),t.goToProfile("company",n.company.id)}}},[a("v-icon",{attrs:{small:""}},[t._v(" mdi-domain ")]),t._v(" "+t._s(n.company.name)+" ")],1):t._e()]}},{key:"item.pipeline",fn:function(e){var n=e.item;return[n.pipeline?a("span",[a("v-icon",{attrs:{small:""}},[t._v(" mdi-view-column ")]),t._v(" "+t._s(n.pipeline.name)+" ")],1):t._e()]}},{key:"item.value",fn:function(e){var n=e.item;return[n.value?a("span",[t._v(t._s(n.value)+" MXN")]):a("span",[t._v("0 MXN")])]}},{key:"item.stage",fn:function(e){var n=e.item;return[n.stage?a("span",[a("v-icon",{attrs:{small:""}},[t._v(" mdi-view-carousel-outline ")]),t._v(" "+t._s(n.stage.name)+" ")],1):t._e()]}},{key:"item.status",fn:function(e){var n=e.item;return[a("span",[t._v(" "+t._s(t.formatStatus(n.status))+" ")])]}},{key:"item.createdAt",fn:function(e){var n=e.item;return[a("span",[t._v(t._s(t._f("timeZone")(n.createdAt,"lll")))])]}},{key:"item.updatedAt",fn:function(e){var n=e.item;return[a("span",[t._v(t._s(t._f("timeZone")(n.updatedAt,"lll")))])]}},{key:"item.createdBy",fn:function(e){var n=e.item;return[a("span",[a("v-icon",{attrs:{small:""}},[t._v("mdi-account")]),t._v(" "+t._s(n.createdBy.user.name+n.createdBy.user.lastName)+" ")],1)]}}],null,!0),model:{value:t.dealsSelected,callback:function(e){t.dealsSelected=e},expression:"dealsSelected"}}),t.totalDeals>10?a("v-data-footer",{attrs:{options:t.options,pagination:{page:t.options.page,pageStart:t.options.page*t.options.itemsPerPage-t.options.itemsPerPage,pageStop:t.options.itemsPerPage*t.options.page,itemsPerPage:t.options.itemsPerPage,itemsLength:t.totalDeals},"items-per-page-options":[10,20,30,40,50]},on:{"update:options":function(e){t.options=e}}}):t._e()],1)],1)},r=[],i=(a("d3b7"),a("3ca3"),a("ddb0"),a("99af"),a("a434"),a("d81d"),a("b76a")),s=a.n(i),o=a("3398"),l=a("0491"),c={name:"DealsDataTable",mixins:[o["a"],l["a"]],components:{BaseErrorComponent:function(){return a.e("chunk-2d0abe3b").then(a.bind(null,"16cc"))},draggable:s.a},data:function(){return{options:{},dealsSelected:[],isErrorDeals:!1}},props:{updateData:{type:Boolean,default:!1},headers:{type:[Object,Array]},importId:{type:String}},watch:{options:{handler:function(t){this.filters.sortBy=t.sortBy,this.filters.sortDesc=t.sortDesc,-1===t.itemsPerPage?this.filters.take=this.totalDeals:this.filters.take=t.itemsPerPage,this.filters.skip=(t.page-1)*t.itemsPerPage,this.getDeals()},deep:!0},updateData:function(t){t?this.getDeals():this.dealsSelected=[]},dealsSelected:function(){this.$emit("selectDeals",this.dealsSelected)},$route:{handler:function(t){this.dealsSelected=[],t.query.filterId&&this.getDeals(),t.query.recyclebin?(this.filters.isDelete=!0,this.getDeals()):(this.filters.isDelete=!1,this.getDeals())},immediate:!0}},methods:{validateSort:function(t){return"title"===t||"value"===t||"expectedCloseDate"===t||"createdAt"===t||"updatedAt"===t||"status"===t||"lostTime"===t||"closeTime"===t||"wonTime"===t},clickRow:function(t){var e=t.id;this.$router.push("deal/".concat(e),(function(){}))},goToProfile:function(t,e){this.$router.push("".concat(t,"/").concat(e),(function(){}))},formatStatus:function(t){return"OPEN"===t?"Abierto":"WON"===t?"Ganado":"LOST"===t?"Perdido":""},ChangeHeaderOrder:function(t){t.splice(0,1);var e=t.map((function(t){return{key:t.value,label:t.text,type:t.type}}));this.$emit("changeHeaderOrder",e)}}},u=c,d=(a("fcd9"),a("0c7c")),f=a("6544"),p=a.n(f),v=a("b0af"),m=a("cc20"),h=a("f41f"),g=a("8fea"),_=a("132d"),y=a("9e88"),b=a("3a2f"),x=Object(d["a"])(u,n,r,!1,null,"71349f80",null);e["default"]=x.exports;p()(x,{VCard:v["a"],VChip:m["a"],VDataFooter:h["a"],VDataTable:g["a"],VIcon:_["a"],VSimpleCheckbox:y["a"],VTooltip:b["a"]})},fcd9:function(t,e,a){"use strict";a("554b")}}]);
//# sourceMappingURL=chunk-d5dfc656.98f9077e.js.map