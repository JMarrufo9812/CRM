{"version":3,"sources":["webpack:///./src/components/users/ModalSelectUser.vue?2b64","webpack:///src/components/users/ModalSelectUser.vue","webpack:///./src/components/users/ModalSelectUser.vue?9812","webpack:///./src/components/users/ModalSelectUser.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","model","value","modalHandler","callback","$$v","$set","expression","staticClass","_v","on","close","users","ref","user","id","userSelected","isLoading","outData","staticRenderFns","props","required","type","Object","default","data","getMyUsers","userCurrent","computed","info","filter","watch","isOpen","resetHandler","methods","$emit","role","group","apollo","query","fetchPolicy","component","VBtn","VCard","VCardActions","VCardText","VCardTitle","VCol","VDialog","VIcon","VSelect"],"mappings":"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","file":"js/chunk-2d0b9804.16aaa080.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-dialog',{attrs:{\"persistent\":\"\",\"max-width\":\"480px\",\"scrollable\":\"\"},model:{value:(_vm.modalHandler.isOpen),callback:function ($$v) {_vm.$set(_vm.modalHandler, \"isOpen\", $$v)},expression:\"modalHandler.isOpen\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"d-flex justify-space-between primary white--text \"},[_c('span',[_vm._v(\" selecciona el usuario que deseas mover \")]),_c('v-icon',{attrs:{\"color\":\"white\"},on:{\"click\":_vm.close}},[_vm._v(\" mdi-close \")])],1),_c('v-card-text',{staticClass:\"pt-10\"},[_c('v-select',{attrs:{\"outlined\":\"\",\"label\":\"usuarios\",\"items\":_vm.users,\"item-text\":function (ref) {\n\tvar user = ref.user;\n\n\treturn (user ? ((user.name) + \" \" + (user.lastName)) : '');\n},\"item-value\":function (user) { return user.id; }},model:{value:(_vm.userSelected),callback:function ($$v) {_vm.userSelected=$$v},expression:\"userSelected\"}})],1),_c('v-card-actions',[_c('v-col',{attrs:{\"align\":\"end\"}},[_c('v-btn',{staticClass:\"mr-8\",attrs:{\"large\":\"\",\"tile\":\"\",\"outlined\":\"\",\"color\":\"primary\"},on:{\"click\":_vm.close}},[_vm._v(\" cancelar \")]),_c('v-btn',{attrs:{\"large\":\"\",\"tile\":\"\",\"normal\":\"\",\"color\":\"secondary\",\"loading\":_vm.modalHandler.isLoading,\"disabled\":!_vm.userSelected},on:{\"click\":_vm.outData}},[_vm._v(\" Guardar \")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-dialog\n    v-model=\"modalHandler.isOpen\"\n    persistent\n    max-width=\"480px\"\n    scrollable\n  >\n    <v-card>\n      <v-card-title class=\"d-flex justify-space-between primary white--text \">\n        <span>\n          selecciona el usuario que deseas mover\n        </span>\n        <v-icon @click=\"close\" color=\"white\">\n          mdi-close\n        </v-icon>\n      </v-card-title>\n      <v-card-text class=\"pt-10\">\n        <v-select\n          v-model=\"userSelected\"\n          outlined\n          label=\"usuarios\"\n          :items=\"users\"\n          :item-text=\"\n            ({ user }) => (user ? `${user.name} ${user.lastName}` : '')\n          \"\n          :item-value=\"(user) => user.id\"\n        ></v-select>\n      </v-card-text>\n      <v-card-actions>\n        <v-col align=\"end\">\n          <v-btn\n            @click=\"close\"\n            class=\"mr-8\"\n            large\n            tile\n            outlined\n            color=\"primary\"\n          >\n            cancelar\n          </v-btn>\n          <v-btn\n            @click=\"outData\"\n            large\n            tile\n            normal\n            color=\"secondary\"\n            :loading=\"modalHandler.isLoading\"\n            :disabled=\"!userSelected\"\n          >\n            Guardar\n          </v-btn>\n        </v-col>\n      </v-card-actions>\n    </v-card>\n  </v-dialog>\n</template>\n\n<script>\nimport { GET_USER_LOGGED } from '@/graphql/local-state/queries';\nimport { GET_MY_USERS } from '@/graphql/querys/usersQuery';\n\nexport default {\n  props: {\n    // manejador de modal\n    modalHandler: {\n      required: true,\n      type: Object,\n      default: () => {\n        return { isOpen: false, isLoading: false, info: {} };\n      },\n    },\n  },\n  data() {\n    return {\n      userSelected: '',\n      getMyUsers: [],\n      userCurrent: {},\n    };\n  },\n  computed: {\n    users() {\n      if (this.modalHandler.info.type === 'GROUP') {\n        return this.getMyUsers;\n      }\n      return this.getMyUsers.filter(({ id }) => id !== this.userCurrent.id);\n    },\n  },\n  watch: {\n    modalHandler({ isOpen }) {\n      if (!isOpen) {\n        this.resetHandler();\n      }\n    },\n  },\n  methods: {\n    outData() {\n      if (this.modalHandler.info.type === 'GROUP') {\n        this.$emit('outData', {\n          id: this.userSelected,\n          role: {},\n          group: { id: this.modalHandler.info?.id },\n        });\n      }\n      if (this.modalHandler.info.type === 'ROLE') {\n        this.$emit('outData', {\n          id: this.userSelected,\n          group: {},\n          role: { id: this.modalHandler.info?.id },\n        });\n      }\n    },\n    // cierra el modal\n    close() {\n      this.$emit('close', { isOpen: false, isLoading: false, info: {} });\n    },\n    resetHandler() {\n      this.userSelected = '';\n    },\n  },\n  apollo: {\n    getMyUsers: {\n      query: GET_MY_USERS,\n      fetchPolicy: 'no-cache',\n    },\n    userCurrent: {\n      query: GET_USER_LOGGED,\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/@vue/cli-plugin-babel/node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ModalSelectUser.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/@vue/cli-plugin-babel/node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ModalSelectUser.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ModalSelectUser.vue?vue&type=template&id=7912f4ae&\"\nimport script from \"./ModalSelectUser.vue?vue&type=script&lang=js&\"\nexport * from \"./ModalSelectUser.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VCardTitle,VCol,VDialog,VIcon,VSelect})\n"],"sourceRoot":""}