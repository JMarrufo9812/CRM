(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2ceff495"],{"0321":function(e,t,a){"use strict";a.d(t,"a",(function(){return f}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-text-field",{attrs:{label:e.label,placeholder:e.placeholder,readonly:e.readonly,disabled:e.disabled,outlined:e.outlined,dense:e.dense,"hide-details":e.hideDetails,error:e.error,rules:e.rules,clearable:e.clearable,backgroundColor:e.backgroundColor,prefix:e.options.prefix,suffix:e.options.suffix,"prepend-icon":e.prependIcon},on:{keypress:e.keyPress},model:{value:e.cmpValue,callback:function(t){e.cmpValue=t},expression:"cmpValue"}})],1)},i=[],l=(a("a9e3"),a("d3b7"),a("25f0"),a("4d90"),a("ac1f"),a("1276"),a("8ba4"),{model:{prop:"value",event:"input"},props:{value:{type:[String,Number],default:"0"},label:{type:String,default:""},placeholder:{type:String,default:void 0},prependIcon:{type:String,default:void 0},readonly:{type:Boolean,default:!1},dense:{type:Boolean,default:!1},error:{type:Boolean,default:!1},hideDetails:{type:[Boolean,String],default:!1},rules:{type:[Array,String],default:function(){return[]}},disabled:{type:Boolean,default:!1},outlined:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},backgroundColor:{type:String,default:"white"},valueWhenIsEmpty:{type:String,default:""},options:{type:Object,default:function(){return{locale:"pt-BR",prefix:"",suffix:"",length:11,precision:2}}}},data:function(){return{}},computed:{cmpValue:{get:function(){return null!==this.value&&""!==this.value?this.humanFormat(this.value.toString()):this.valueWhenIsEmpty},set:function(e){this.$emit("input",this.machineFormat(e))}}},methods:{humanFormat:function(e){return e=isNaN(e)?"":Number(e).toLocaleString(this.options.locale,{maximumFractionDigits:this.options.precision,minimumFractionDigits:this.options.precision}),e},machineFormat:function(e){return e?(e=this.cleanNumber(e),e=e.padStart(parseInt(this.options.precision)+1,"0"),e=e.substring(0,e.length-parseInt(this.options.precision))+"."+e.substring(e.length-parseInt(this.options.precision),e.length),isNaN(e)&&(e=this.valueWhenIsEmpty)):e=this.valueWhenIsEmpty,0===this.options.precision&&(e=this.cleanNumber(e)),e},keyPress:function(e){var t=e.keyCode?e.keyCode:e.which;(t<48||t>57)&&e.preventDefault(),this.targetLength()&&e.preventDefault()},cleanNumber:function(e){var t="";if(e)for(var a=!1,n=e.toString().split(""),i=0;i<n.length;i++)this.isInteger(n[i])&&(a?t+=n[i]:"0"!==n[i]&&(t+=n[i],a=!0));return t},isInteger:function(e){var t=!1;return Number.isInteger(parseInt(e))&&(t=!0),t},targetLength:function(){return Number(this.cleanNumber(this.value).length)>=Number(this.options.length)}}}),o=l,r=a("0c7c"),s=a("6544"),u=a.n(s),c=a("8654"),d=Object(r["a"])(o,n,i,!1,null,null,null),p=d.exports;u()(d,{VTextField:c["a"]});var f={components:{VuetifyMoney:p},data:function(){return{inputMoneyOptions:{locale:"en-US",prefix:"$",suffix:"MXN",length:9,precision:2}}}}},"4baa":function(e,t,a){"use strict";a("69e6")},"5bf6":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-width":250,"offset-x":"",disabled:!((e.canEdit||e.canEditOthers)&&!e.deal.isDelete)},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,i=t.attrs;return[a("v-icon",{staticClass:"mb-1",attrs:{color:"primary"}},[e._v("mdi-cash-multiple")]),a("span",e._g(e._b({staticClass:"font-weight-bold",class:{normalCursor:!((e.canEdit||e.canEditOthers)&&!e.deal.isDelete)}},"span",i,!1),n),[e._v(" "+e._s(e.deal.value?e.deal.value.toFixed(2):0)+" MXN ")])]}}]),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[a("v-card",[a("v-card-title",{staticClass:"py-1 font-weight-bold"},[e._v(" Cambiar valor ")]),a("v-card-text",{staticClass:"pb-4"},[a("VuetifyMoney",{attrs:{dense:!0,"hide-details":!0,outlined:!0,options:e.inputMoneyOptions},model:{value:e.value,callback:function(t){e.value=e._n(t)},expression:"value"}})],1),a("v-divider"),a("v-card-actions",[e.canEdit||e.canEditOthers?a("v-btn",{staticClass:"mr-auto",attrs:{icon:"",disabled:!e.deal.value,color:"error"},on:{click:function(t){return e.outData("delete")}}},[a("v-icon",[e._v("mdi-delete")])],1):e._e(),a("v-spacer"),a("v-btn",{staticClass:"mr-3",attrs:{outlined:"",color:"primary",small:""},on:{click:function(t){e.menu=!1}}},[e._v(" Cancelar ")]),e.canEdit||e.canEditOthers?a("v-btn",{attrs:{color:"secondary",small:"",loading:e.isLoading,disabled:e.validateSameValue},on:{click:function(t){return e.outData("add")}}},[e._v(" Guardar ")]):e._e()],1)],1)],1)},i=[],l=a("4b58"),o=a("9685"),r=a("891c"),s=a("ee2e"),u=a("0321"),c={name:"ModalValueDeal",props:{isLoading:{required:!0,type:Boolean,default:!1},deal:{required:!0,type:Object,default:function(){}}},mixins:[u["a"]],data:function(){return{subject:l["b"],UPDATE:r["r"],UPDATE_OTHERS:r["s"],PERMISSIONS_DEALS:s["f"],menu:!1,value:0}},watch:{menu:function(e){e&&(this.value=this.deal.value)},isLoading:function(e){e||(this.menu=!1)}},computed:{validateSameValue:function(){return this.deal.value===this.value||this.value<=0||null===this.value||void 0===this.value},canEdit:function(){var e,t;return o["a"].can(r["r"],Object(l["b"])(s["f"],{authorId:(null===this||void 0===this||null===(e=this.deal)||void 0===e||null===(t=e.owner)||void 0===t?void 0:t.id)||""}))},canEditOthers:function(){var e,t;return this.canEdit?o["a"].can(r["s"],s["f"]):o["a"].can(r["s"],s["f"])&&!o["a"].can(r["s"],Object(l["b"])(s["f"],{authorId:(null===this||void 0===this||null===(e=this.deal)||void 0===e||null===(t=e.owner)||void 0===t?void 0:t.id)||""}))}},methods:{outData:function(e){o["a"].can(r["r"],s["f"])&&("delete"===e&&this.$emit("outData",{id:this.deal.id,value:0}),"add"===e&&this.$emit("outData",{id:this.deal.id,value:this.value}))}}},d=c,p=(a("4baa"),a("0c7c")),f=a("6544"),h=a.n(f),v=a("8336"),m=a("b0af"),b=a("99d9"),g=a("ce7e"),y=a("132d"),E=a("e449"),S=a("2fa4"),x=Object(p["a"])(d,n,i,!1,null,"17306c14",null);t["default"]=x.exports;h()(x,{VBtn:v["a"],VCard:m["a"],VCardActions:b["a"],VCardText:b["c"],VCardTitle:b["d"],VDivider:g["a"],VIcon:y["a"],VMenu:E["a"],VSpacer:S["a"]})},"69e6":function(e,t,a){}}]);
//# sourceMappingURL=chunk-2ceff495.1043e562.js.map