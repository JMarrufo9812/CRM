{"version":3,"sources":["webpack:///./src/components/users/ModalDeleteUserEnterprise.vue?1467","webpack:///src/components/users/ModalDeleteUserEnterprise.vue","webpack:///./src/components/users/ModalDeleteUserEnterprise.vue?cbad","webpack:///./src/components/users/ModalDeleteUserEnterprise.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","model","value","modalHandler","callback","$$v","$set","expression","staticClass","_v","on","close","info","_l","key","index","_s","_e","usersList","ref","user","id","isLoading","outData","staticRenderFns","name","props","required","type","Object","default","data","watch","isOpen","existData","getUserCurrent","getListUsers","methods","$apollo","$emit","resetValues","component","VBtn","VCard","VCardActions","VCardTitle","VDialog","VIcon","VList","VListItem","VListItemContent","VListItemTitle","VSelect"],"mappings":"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","file":"js/chunk-2d0dd015.70d3f9a8.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-dialog',{attrs:{\"scrollable\":\"\",\"width\":\"40em\"},model:{value:(_vm.modalHandler.isOpen),callback:function ($$v) {_vm.$set(_vm.modalHandler, \"isOpen\", $$v)},expression:\"modalHandler.isOpen\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"primary d-flex justify-space-between py-6\"},[_c('span',{staticClass:\"white--text ml-2\"},[_vm._v(\" Eliminar usuario \")]),_c('div',[_c('v-icon',{staticClass:\"white--text\",on:{\"click\":_vm.close}},[_vm._v(\" mdi-close \")])],1)]),(_vm.modalHandler.info.existData)?_c('div',[_c('v-icon',{staticClass:\"justify-center\",attrs:{\"x-large\":\"\"}},[_vm._v(\" mdi-alert-outline \")]),_c('p',[_vm._v(\" El usuario sera eliminado de la empresa esto significa que no podra acceder a la empresa y sus datos. Seleccione a continuacion a quien desea traspasar sus datos para que no sean eliminados. Si usted desea puede eliminarlos en el futuro. Esto se hace como medida de seguridad \")]),_c('v-list',[_c('p',[_vm._v(\"Datos del usuario:\")]),_vm._l((_vm.modalHandler.info.countList),function(value,key,index){return _c('v-list-item',{key:index},[_c('v-list-item-content',[(key === 'contacts')?_c('v-list-item-title',[_vm._v(\" Contactos \"),_c('span',{staticClass:\"ml-6\"},[_vm._v(_vm._s(value))])]):_vm._e(),(key === 'companies')?_c('v-list-item-title',[_vm._v(\" Empresas \"),_c('span',{staticClass:\"ml-6\"},[_vm._v(_vm._s(value))])]):_vm._e(),(key === 'deals')?_c('v-list-item-title',[_vm._v(\" Tratos \"),_c('span',{staticClass:\"ml-12\"},[_vm._v(_vm._s(value))])]):_vm._e(),(key === 'activities')?_c('v-list-item-title',[_vm._v(\" Actividades \"),_c('span',{staticClass:\"ml-2\"},[_vm._v(_vm._s(value))])]):_vm._e()],1)],1)})],2),_c('v-select',{staticClass:\"pt-4\",attrs:{\"label\":\"Transferir a:\",\"items\":_vm.usersList,\"item-text\":function (ref) {\n\tvar user = ref.user;\n\n\treturn ((user.name) + \" \" + (user.lastName));\n},\"item-value\":function (user) { return user.id; },\"persistent-hint\":\"\",\"hide-details\":\"auto\",\"outlined\":\"\"},model:{value:(_vm.modalHandler.info.toUser),callback:function ($$v) {_vm.$set(_vm.modalHandler.info, \"toUser\", $$v)},expression:\"modalHandler.info.toUser\"}})],1):_c('div',[_c('div',{staticClass:\"d-flex justify-center py-2\"},[_c('v-icon',{attrs:{\"color\":\"warning\",\"x-large\":\"\"}},[_vm._v(\" mdi-alert-outline \")])],1),_c('p',{staticClass:\"text-center mb-8\"},[_vm._v(\" El usuario será eliminado de la empresa esto significa que no podrá acceder a la empresa en el futuro. Este usuario aún no ha creado datos dentro de la empresa puede proceder a eliminarlo de manera segura \")])]),_c('v-card-actions',{staticClass:\"d-flex justify-space-between\"},[_c('v-btn',{attrs:{\"large\":\"\",\"tile\":\"\",\"outlined\":\"\",\"color\":\"primary\"},on:{\"click\":_vm.close}},[_vm._v(\" cancelar \")]),_c('v-btn',{staticClass:\"mr-2\",attrs:{\"large\":\"\",\"tile\":\"\",\"color\":\"secondary\",\"loading\":_vm.modalHandler.isLoading},on:{\"click\":_vm.outData}},[_vm._v(\" Eliminar \")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-dialog v-model=\"modalHandler.isOpen\" scrollable width=\"40em\">\n    <v-card>\n      <v-card-title class=\"primary d-flex justify-space-between py-6\">\n        <span class=\"white--text ml-2\">\n          Eliminar usuario\n        </span>\n        <div>\n          <v-icon @click=\"close\" class=\"white--text\">\n            mdi-close\n          </v-icon>\n        </div>\n      </v-card-title>\n      <div v-if=\"modalHandler.info.existData\">\n        <v-icon x-large class=\"justify-center\">\n          mdi-alert-outline\n        </v-icon>\n        <p>\n          El usuario sera eliminado de la empresa esto significa que no podra\n          acceder a la empresa y sus datos. Seleccione a continuacion a quien\n          desea traspasar sus datos para que no sean eliminados. Si usted desea\n          puede eliminarlos en el futuro. Esto se hace como medida de seguridad\n        </p>\n\n        <v-list>\n          <p>Datos del usuario:</p>\n          <v-list-item\n            v-for=\"(value, key, index) in modalHandler.info.countList\"\n            :key=\"index\"\n          >\n            <v-list-item-content>\n              <v-list-item-title v-if=\"key === 'contacts'\">\n                Contactos\n                <span class=\"ml-6\">{{ value }}</span>\n              </v-list-item-title>\n              <v-list-item-title v-if=\"key === 'companies'\">\n                Empresas\n                <span class=\"ml-6\">{{ value }}</span>\n              </v-list-item-title>\n              <v-list-item-title v-if=\"key === 'deals'\">\n                Tratos\n                <span class=\"ml-12\">{{ value }}</span>\n              </v-list-item-title>\n              <v-list-item-title v-if=\"key === 'activities'\">\n                Actividades\n                <span class=\"ml-2\">{{ value }}</span>\n              </v-list-item-title>\n            </v-list-item-content>\n          </v-list-item>\n        </v-list>\n        <v-select\n          v-model=\"modalHandler.info.toUser\"\n          label=\"Transferir a:\"\n          :items=\"usersList\"\n          :item-text=\"({ user }) => `${user.name} ${user.lastName}`\"\n          :item-value=\"(user) => user.id\"\n          persistent-hint\n          hide-details=\"auto\"\n          class=\"pt-4\"\n          outlined\n        ></v-select>\n      </div>\n      <div v-else>\n        <div class=\"d-flex justify-center py-2\">\n          <v-icon color=\"warning\" x-large>\n            mdi-alert-outline\n          </v-icon>\n        </div>\n        <p class=\"text-center mb-8\">\n          El usuario será eliminado de la empresa esto significa que no podrá\n          acceder a la empresa en el futuro. Este usuario aún no ha creado datos\n          dentro de la empresa puede proceder a eliminarlo de manera segura\n        </p>\n      </div>\n      <v-card-actions class=\"d-flex justify-space-between\">\n        <v-btn large tile outlined color=\"primary\" @click=\"close\">\n          cancelar\n        </v-btn>\n        <v-btn\n          large\n          tile\n          color=\"secondary\"\n          @click=\"outData\"\n          class=\"mr-2\"\n          :loading=\"modalHandler.isLoading\"\n        >\n          Eliminar\n        </v-btn>\n      </v-card-actions>\n    </v-card>\n  </v-dialog>\n</template>\n\n<script>\nimport { USERS_LIST } from '@/graphql/querys/usersQuery';\nimport { GET_USER_LOGGED } from '@/graphql/local-state/queries';\n\nexport default {\n  name: 'ModalDeleteUserEnterprise',\n  props: {\n    modalHandler: {\n      required: true,\n      type: Object,\n      default: () => {\n        return { isOpen: false, isLoading: false, user: {} };\n      },\n    },\n  },\n  data() {\n    return {\n      usersList: [],\n    };\n  },\n  watch: {\n    modalHandler({ isOpen, info }) {\n      if (isOpen && info.existData) {\n        this.getUserCurrent();\n        this.getListUsers();\n      }\n    },\n  },\n  methods: {\n    getListUsers() {\n      this.$apollo\n        .query({\n          query: USERS_LIST,\n        })\n        .then(({ data: { ownersList } }) => {\n          this.usersList = ownersList.filter(\n            (userEnterprise) =>\n              userEnterprise.id !== this.modalHandler.info.fromUser,\n          );\n        });\n      // .catch((error) => {\n      //   console.log(error);\n      // });\n    },\n    getUserCurrent() {\n      this.$apollo\n        .query({\n          query: GET_USER_LOGGED,\n        })\n        .then(({ data: { userCurrent } }) => {\n          this.modalHandler.info.toUser = userCurrent.id;\n        });\n      // .catch((error) => {\n      //   console.log(error);\n      // });\n    },\n    outData() {\n      this.$emit('outData', {\n        isOpen: true,\n        isLoading: true,\n        info: this.modalHandler.info,\n      });\n    },\n    close() {\n      this.$emit('close', { isOpen: false, isLoading: false, info: {} });\n      this.resetValues();\n    },\n    resetValues() {\n      this.usersList = [];\n    },\n  },\n};\n</script>\n\n<style></style>\n","import mod from \"-!../../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/@vue/cli-plugin-babel/node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ModalDeleteUserEnterprise.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/@vue/cli-plugin-babel/node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ModalDeleteUserEnterprise.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ModalDeleteUserEnterprise.vue?vue&type=template&id=3e2fbd62&\"\nimport script from \"./ModalDeleteUserEnterprise.vue?vue&type=script&lang=js&\"\nexport * from \"./ModalDeleteUserEnterprise.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardTitle,VDialog,VIcon,VList,VListItem,VListItemContent,VListItemTitle,VSelect})\n"],"sourceRoot":""}