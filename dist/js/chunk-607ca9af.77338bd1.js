(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-607ca9af","chunk-7859f8ee","chunk-7859f8ee"],{"0538":function(t,e,n){"use strict";var r=n("1c0b"),o=n("861d"),a=[].slice,c={},i=function(t,e,n){if(!(e in c)){for(var r=[],o=0;o<e;o++)r[o]="a["+o+"]";c[e]=Function("C,a","return new C("+r.join(",")+")")}return c[e](t,n)};t.exports=Function.bind||function(t){var e=r(this),n=a.call(arguments,1),c=function(){var r=n.concat(a.call(arguments));return this instanceof c?i(e,r.length,r):e.apply(t,r)};return o(e.prototype)&&(c.prototype=e.prototype),c}},"129f":function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},"131a":function(t,e,n){var r=n("23e7"),o=n("d2bb");r({target:"Object",stat:!0},{setPrototypeOf:o})},"20b0":function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("d4ec"),o=n("bee2"),a=n("262e"),c=n("2caf"),i=n("cd42"),s=function(t){Object(a["a"])(n,t);var e=Object(c["a"])(n);function n(){return Object(r["a"])(this,n),e.apply(this,arguments)}return Object(o["a"])(n,[{key:"name",get:function(){return"maxSize"}},{key:"defaultOptions",get:function(){return{maxSize:null}}},{key:"plugins",get:function(){var t=this;return[new i["h"]({filterTransaction:function(e){if(!e.docChanged||!t.options.maxSize)return!0;var n=e.doc&&e.doc.textContent.length,r=n>t.options.maxSize;return!r}})]}}]),n}(i["e"])},"262e":function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));n("131a");function r(t,e){return r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},r(t,e)}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}},"2caf":function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));n("4ae1"),n("131a"),n("3410");function r(t){return r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},r(t)}function o(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}var a=n("7037"),c=n.n(a);function i(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s(t,e){return!e||"object"!==c()(e)&&"function"!==typeof e?i(t):e}function u(t){var e=o();return function(){var n,o=r(t);if(e){var a=r(this).constructor;n=Reflect.construct(o,arguments,a)}else n=o.apply(this,arguments);return s(this,n)}}},3410:function(t,e,n){var r=n("23e7"),o=n("d039"),a=n("7b0b"),c=n("e163"),i=n("e177"),s=o((function(){c(1)}));r({target:"Object",stat:!0,forced:s,sham:!i},{getPrototypeOf:function(t){return c(a(t))}})},"4ae1":function(t,e,n){var r=n("23e7"),o=n("d066"),a=n("1c0b"),c=n("825a"),i=n("861d"),s=n("7c73"),u=n("0538"),f=n("d039"),l=o("Reflect","construct"),d=f((function(){function t(){}return!(l((function(){}),[],t)instanceof t)})),p=!f((function(){l((function(){}))})),m=d||p;r({target:"Reflect",stat:!0,forced:m,sham:m},{construct:function(t,e){a(t),c(e);var n=arguments.length<3?t:a(arguments[2]);if(p&&!d)return l(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var r=[null];return r.push.apply(r,e),new(u.apply(t,r))}var o=n.prototype,f=s(i(o)?o:Object.prototype),m=Function.apply.call(t,f,e);return i(m)?m:f}})},7037:function(t,e,n){function r(e){return"function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?(t.exports=r=function(t){return typeof t},t.exports["default"]=t.exports,t.exports.__esModule=!0):(t.exports=r=function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports["default"]=t.exports,t.exports.__esModule=!0),r(e)}n("a4d3"),n("e01a"),n("d3b7"),n("d28b"),n("3ca3"),n("ddb0"),t.exports=r,t.exports["default"]=t.exports,t.exports.__esModule=!0},"841c":function(t,e,n){"use strict";var r=n("d784"),o=n("825a"),a=n("1d80"),c=n("129f"),i=n("14c3");r("search",(function(t,e,n){return[function(e){var n=a(this),r=void 0==e?void 0:e[t];return void 0!==r?r.call(e,n):new RegExp(e)[t](String(n))},function(t){var r=n(e,this,t);if(r.done)return r.value;var a=o(this),s=String(t),u=a.lastIndex;c(u,0)||(a.lastIndex=0);var f=i(a,s);return c(a.lastIndex,u)||(a.lastIndex=u),null===f?-1:f.index}]}))},bee2:function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}n.d(e,"a",(function(){return o}))},c9f3:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",{staticClass:"mx-4",attrs:{flat:""}},[n("v-list",{attrs:{"three-line":""}},[[n("v-list-item",{attrs:{dense:""}},[n("v-list-item-avatar",{staticClass:"justify-center",attrs:{color:"secondary"}},[n("span",{staticClass:"white--text"},[t._v(" "+t._s(t.nameAccount({name:this.userCurrent.user.name||"",lastName:this.userCurrent.user.lastName||""})||"")+" ")])]),n("v-list-item-content",[n("NoteEditor",{attrs:{typeItem:"COMMENT",reset:!t.isLoading},on:{updateMessage:t.updateMessage}})],1),n("v-list-item-action",[n("v-btn",{attrs:{color:"success",loading:t.isLoading,disabled:!t.isValidMessage},on:{click:t.createComment}},[t._v(" Comentar "),n("v-icon",{staticClass:"ml-2",attrs:{color:"white"}},[t._v("mdi-send")])],1)],1)],1)]],2),n("BaseModalError",{attrs:{modalHandler:t.modalError},on:{close:t.modalHandlerError}})],1)},o=[],a=(n("ac1f"),n("5319"),n("99af"),n("b0c0"),n("85a1")),c=n("62f2"),i=n("1e6d"),s={name:"NoteAddComment",mixins:[i["a"]],components:{NoteEditor:a["default"]},props:{note:{type:Object,defult:function(){return{}}},userCurrent:{type:Object,defult:function(){return{}}}},data:function(){return{isLoading:!1,comment:"",isValidMessage:!1}},computed:{filters:function(){return{filters:{noteId:this.note.id}}}},watch:{comment:function(t){this.validMessage(t)}},methods:{validMessage:function(t){this.isValidMessage=!this.isEmptyEditor(t)},isEmptyEditor:function(t){return""===t||"<div></div>"===t},getUserTags:function(t){var e=[];return t.replace(/<span\s(?:class="mention")\s(?:data-mention-id="(.*?)")>(.*?)<\/span>/gi,(function(t,n){return e.push({id:n}),"".concat(n)})),e.length?e:null},getToday:function(){var t=new Date,e="".concat(t.getDate(),"/").concat(t.getMonth()+1,"/").concat(t.getFullYear()),n="".concat(t.getHours(),":").concat(t.getMinutes(),":").concat(t.getSeconds());return"".concat(e," ").concat(n)},nameAccount:function(t){var e=t.name,n=t.lastName;return!e&&n?"SN":"".concat(e.charAt(0).toUpperCase()).concat(n.charAt(0).toUpperCase())},updateMessage:function(t){this.comment=t},createComment:function(){var t=this;if(this.validMessage(this.comment),this.isValidMessage){var e=this.note,n=this.comment,r=this.getUserTags(n);this.isLoading=!0,this.$apollo.mutate({mutation:c["a"],variables:{noteCommentInput:{note:{id:e.id},comment:n,userTags:r}}}).then((function(){t.$emit("updateHistory"),t.isLoading=!1,t.isValidMessage=!1})).catch((function(){t.isLoading=!1;var e="No se pudo comentar la nota, intente de nuevo o contacte a soporte";t.modalHandlerError({isOpen:!0,error:e})}))}}}},u=s,f=n("0c7c"),l=n("6544"),d=n.n(l),p=n("8336"),m=n("b0af"),h=n("132d"),b=n("8860"),v=n("da13"),g=n("1800"),y=n("8270"),O=n("5d23"),x=Object(f["a"])(u,r,o,!1,null,"e222a652",null);e["default"]=x.exports;d()(x,{VBtn:p["a"],VCard:m["a"],VIcon:h["a"],VList:b["a"],VListItem:v["a"],VListItemAction:g["a"],VListItemAvatar:y["a"],VListItemContent:O["a"]})},d4ec:function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",(function(){return r}))},e207:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n("5530"),o=n("d4ec"),a=n("bee2"),c=n("262e"),i=n("2caf"),s=n("3f38"),u=function(t){Object(c["a"])(n,t);var e=Object(i["a"])(n);function n(t){var a;return Object(o["a"])(this,n),a=e.call(this,Object(r["a"])({},t)),a.target="_blank",a}return Object(a["a"])(n,[{key:"schema",get:function(){var t=this;return{attrs:{href:{default:null},target:{default:"_blank"}},inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs:function(t){return{href:t.getAttribute("href"),target:t.getAttribute("target")}}}],toDOM:function(e){return["a",Object(r["a"])(Object(r["a"])({},e.attrs),{},{target:t.target}),0]}}}}]),n}(s["h"])}}]);
//# sourceMappingURL=chunk-607ca9af.77338bd1.js.map