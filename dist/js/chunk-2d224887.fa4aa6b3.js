(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d224887"],{e116:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r(e.dynamicComponent,{tag:"component",attrs:{info:e.error,isUpdate:e.isUpdateData,userEnterprise:e.userEnterprise},on:{outData:e.updateUser}})},o=[],i=(r("d3b7"),r("3ca3"),r("ddb0"),r("b0c0"),r("f0ff")),s={name:"confirm",components:{CompleteSignUpForm:function(){return r.e("chunk-2d0bd96a").then(r.bind(null,"2d46"))},WelcomeEnterprise:function(){return r.e("chunk-dbd7d764").then(r.bind(null,"99fe"))},BaseError:function(){return r.e("chunk-74934c4e").then(r.bind(null,"6784a"))},BaseLoading:function(){return r.e("chunk-2d225fc3").then(r.bind(null,"e772"))}},data:function(){return{isUpdateData:!1,error:{icon:"",tittle:"",message:""},type:"",userEnterprise:{}}},computed:{dynamicComponent:function(){switch(this.type){case"isNewUser":return"CompleteSignUpForm";case"isOldUser":return"WelcomeEnterprise";case"isError":return"BaseError";default:return"BaseLoading"}}},beforeMount:function(){var e=this;this.$apollo.mutate({mutation:i["b"],variables:{input:{token:this.$route.query.id}},update:function(t,r){var n=r.data.confirmUser;e.type=n.user.name?"isOldUser":"isNewUser",console.log(e.type),e.userEnterprise=n}}).catch((function(t){var r,n=t.graphQLErrors,o=401===(null===(r=n[0])||void 0===r?void 0:r.statusCode);e.type="isError",e.error={icon:"mdi-shield-alert-outline",tittle:o?"¡Lo sentimos, el link ha expirado!":"¡Lo sentimos, ha ocurrido un error de servidor!",message:o?"Pídele al administrador de la empresa que reenvíe la invitación a tu correo":"Contacte con soporte"}}))},methods:{updateUser:function(e){var t=this,r=e.password,n=e.name,o=e.lastName,s=e.phones,a={userEnterpriseId:this.userEnterprise.id,password:r,name:n,lastName:o};s.length>0&&10===s[0].number.length&&(a.phones=s),this.$apollo.mutate({mutation:i["g"],variables:{input:a},update:function(){t.type="isOldUser",t.isUpdateData=!0}}).catch((function(){t.error={icon:"mdi-shield-alert-outline",tittle:"¡Lo sentimos, ha ocurrido un error en el registro!",message:"Contacte con soporte"},t.type="isError"}))}}},a=s,u=r("0c7c"),c=Object(u["a"])(a,n,o,!1,null,null,null);t["default"]=c.exports}}]);
//# sourceMappingURL=chunk-2d224887.fa4aa6b3.js.map