(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0d8170ba"],{"04d1":function(t,i,e){var n=e("342f"),a=n.match(/firefox\/(\d+)/i);t.exports=!!a&&+a[1]},"4e827":function(t,i,e){"use strict";var n=e("23e7"),a=e("1c0b"),o=e("7b0b"),r=e("50c4"),c=e("d039"),s=e("addb"),u=e("a640"),d=e("04d1"),l=e("d998"),f=e("2d00"),m=e("512c"),v=[],p=v.sort,h=c((function(){v.sort(void 0)})),T=c((function(){v.sort(null)})),g=u("sort"),C=!c((function(){if(f)return f<70;if(!(d&&d>3)){if(l)return!0;if(m)return m<603;var t,i,e,n,a="";for(t=65;t<76;t++){switch(i=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:e=3;break;case 68:case 71:e=4;break;default:e=2}for(n=0;n<47;n++)v.push({k:i+n,v:e})}for(v.sort((function(t,i){return i.v-t.v})),n=0;n<v.length;n++)i=v[n].k.charAt(0),a.charAt(a.length-1)!==i&&(a+=i);return"DGBEFHACIJK"!==a}})),b=h||!T||!g||!C,A=function(t){return function(i,e){return void 0===e?-1:void 0===i?1:void 0!==t?+t(i,e)||0:String(i)>String(e)?1:-1}};n({target:"Array",proto:!0,forced:b},{sort:function(t){void 0!==t&&a(t);var i=o(this);if(C)return void 0===t?p.call(i):p.call(i,t);var e,n,c=[],u=r(i.length);for(n=0;n<u;n++)n in i&&c.push(i[n]);c=s(c,A(t)),e=c.length,n=0;while(n<e)i[n]=c[n++];while(n<u)delete i[n++];return i}})},"512c":function(t,i,e){var n=e("342f"),a=n.match(/AppleWebKit\/(\d+)\./);t.exports=!!a&&+a[1]},6789:function(t,i,e){},a3bf:function(t,i,e){"use strict";e.r(i);var n=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("v-card",[e("v-card-title",{staticClass:"title-notifications justify-center"},[t._v(" Notificaciones ")]),e("v-divider"),t.notifications.flow&&t.notifications.flow.length?e("v-card",{staticClass:"ma-0 pa-2 scroll",attrs:{"max-height":"600"}},[t._l(t.notificationsOrdered,(function(i){return e("v-card",{key:i.id,staticClass:"mb-6",attrs:{hover:"",tile:""},on:{click:function(e){return t.goToSection(i)}}},[e("v-card-title",{staticClass:"title-notifications pb-0 d-flex"},[e("p",{staticClass:"text-truncate ma-0 d-inline"},[e("v-icon",{staticClass:"pr-1"},[t._v(" "+t._s(t.getIcon(i.type))+" ")]),t._v(" "+t._s(t.getTittle(i))+" ")],1)]),e("v-card-text",{staticClass:"description-notification py-0 pl-12"},[t._v(" "+t._s(t.getContent(i))+" ")]),e("v-card-actions",{staticClass:"d-flex justify-space-between py-0"},[e("div",{staticClass:"ml-2"},[e("span",{staticClass:"time-notification"},[t._v(" "+t._s(t._f("timeZoneFromNow")(i.createdAt))+" ")])]),e("div",[e("v-btn",{attrs:{icon:""},on:{click:function(e){return e.stopPropagation(),t.deleteNotificationConfirmation(i.id)}}},[e("v-icon",{attrs:{color:"secondary"}},[t._v("mdi-delete")])],1)],1)])],1)})),t._t("moreButton")],2):e("v-card-text",[e("v-card",{attrs:{outlined:""}},[e("v-card-title",{staticClass:"title-notificationsjustify-center"},[e("v-avatar",[e("v-icon",[t._v("mdi-bell-off")])],1),t._v(" Sin notificaciones ")],1)],1)],1),e("BaseModalDelete",{attrs:{modalHandler:t.modalDelete},on:{cancel:t.modalHandlerDelete,confirm:t.deleteNotification}}),e("BaseModalError",{attrs:{modalHandler:t.modalError},on:{close:t.modalHandlerError}})],1)},a=[],o=(e("4e827"),e("fb6a"),e("7db0"),e("99af"),e("b0c0"),e("1e6d")),r=e("6113"),c={props:{notifications:{isRequired:!0,type:Object,default:function(){return{flow:[]}}}},mixins:[o["a"]],computed:{notificationsOrdered:function(){return this.notifications.flow.slice(0).sort((function(t,i){return new Date(i.createdAt)-new Date(t.createdAt)}))}},methods:{getActivity:function(t){var i=this.notifications.activities.some((function(i){return t===i.id}));if(i){var e=this.notifications.activities.find((function(i){return t===i.id})),n=e.title;return n}return"actividad eliminada"},getUser:function(t){var i=this.notifications.users.some((function(i){return i.id===t}));if(i){var e=this.notifications.users.find((function(i){var e=i.id;return e===t})),n=e.user;return"".concat(n.name,"  ").concat(n.lastName)}return"usuario eliminado"},getIcon:function(t){return"IMPORT"===t?"mdi-file-import-outline":"ACTIVITY"===t?"mdi-calendar":"SISTEM"===t?"mdi-robot-happy-outline ":"TAG_COMMENT"===t?"mdi-chat-processing-outline ":"TAG_NOTE"===t?"mdi-note-outline":"ASSING"===t?"mdi-account-switch":"mdi-bell-ring"},getTypeImport:function(t){var i=this.notifications.imports.find((function(i){return i.id===t}));return"CONTACT"===i.table?"contactos":"COMPANY"===i.table?"empresas":"DEAL"===i.table?"tratos":"datos"},getTittle:function(t){var i=t.type,e=t.status,n=void 0===e?null:e,a=t.to,o=t.by,r=t.from;if("IMPORT"===i){if("PENDING"===n)return"Se inició la importación de ".concat(this.getTypeImport(a));if("COMPLETE"===n)return"Se terminó la importación de ".concat(this.getTypeImport(a))}if("TAG_COMMENT"===i)return"".concat(this.getUser(o)," te etiquetó en un comentario");if("TAG_NOTE"===i)return"".concat(this.getUser(o)," te etiquetó en una nota");if("ACTIVITY"===i){if("START"===n)return"Actividad ".concat(this.getActivity(a)," comienza ahora");if("PREVIUS"===n)return"Actividad ".concat(this.getActivity(a)," comienza en 10 minutos")}if("SISTEM"===i&&"WELCOME"===n)return"Bienvenido a la beta del producto cervus";if("ASSING"===i){var c="";return"DEALS"===r&&(c="Tratos"),"CONTACTS"===r&&(c="Contactos"),"COMPANIES"===r&&(c="Empresas"),"Se ha finalizado el cambio de propietario en ".concat(c,". Recargue la página para visualizar los cambios.")}return""},getTo:function(t,i){if("CONTACT"===t){var e=this.notifications.contacts.some((function(t){var e=t.id;return e===i}));if(e){var n=this.notifications.contacts.find((function(t){var e=t.id;return e===i})),a=n.name;return"en el contacto ".concat(a)}return"en un contacto eliminado"}if("COMPANY"===t){var o=this.notifications.companies.some((function(t){var e=t.id;return e===i}));if(o){var r=this.notifications.companies.find((function(t){var e=t.id;return e===i})),c=r.name;return"en la empresa ".concat(c)}return"en una empresa eliminada"}if("DEAL"===t){var s=this.notifications.deals.some((function(t){var e=t.id;return e===i}));if(s){var u=this.notifications.deals.find((function(t){var e=t.id;return e===i})),d=u.title;return"en el trato ".concat(d)}return"en un trato eliminado"}return"en un elemento eliminado"},getContent:function(t){var i=t.type,e=t.status,n=t.to,a=t.from;if("IMPORT"===i){if("PENDING"===e)return"Tus ".concat(this.getTypeImport(n)," se estan importando, te avisaremos cuando se complete la importación");if("COMPLETE"===e)return"Tus ".concat(this.getTypeImport(n)," se han importado, accede al historial para ver más detalles")}if("TAG_COMMENT"===i)return"Se te mencionó en un comentario de una nota ".concat(this.getTo(a,n));if("TAG_NOTE"===i)return"Se te mencionó en una nota  ".concat(this.getTo(a,n));if("ACTIVITY"===i){if("START"===e)return"Tienes una actividad programada para esta hora";if("PREVIUS"===e)return"La actividad ".concat(this.getActivity(n)," comenzará en 10 minutos")}return"SISTEM"===i&&"WELCOME"===e?"Hey bienvenido a la beta, aquì podràs probar las funciones en su version mas basica, recuerda informarle a los programadores sobre los bugs o errores que encuentres en tu recorrido":""},goToSection:function(t){this.$emit("goToSection",t)},deleteNotificationConfirmation:function(t){this.modalHandlerDelete({isOpen:!0,isLoading:!1,message:{nameItem:"La notificacion",text:"será eliminada"},infoDelete:{id:t}})},deleteNotification:function(t){var i=this,e=t.isOpen,n=t.isLoading,a=t.message,o=t.infoDelete;this.modalHandlerDelete({isOpen:e,isLoading:n,message:a,infoDelete:o}),this.$apollo.mutate({mutation:r["a"],variables:{notificationId:o.id}}).then((function(){i.$emit("updateNotifications"),i.modalHandlerDelete({isOpen:!1,isLoading:n,message:a,infoDelete:o})})).catch((function(){var t="No se pudo eliminar la notificacion, intente de nuevo o contacte a soporte";i.modalHandlerError({isOpen:!0,error:t})}))}}},s=c,u=(e("d9fd"),e("0c7c")),d=e("6544"),l=e.n(d),f=e("8212"),m=e("8336"),v=e("b0af"),p=e("99d9"),h=e("ce7e"),T=e("132d"),g=Object(u["a"])(s,n,a,!1,null,null,null);i["default"]=g.exports;l()(g,{VAvatar:f["a"],VBtn:m["a"],VCard:v["a"],VCardActions:p["a"],VCardText:p["c"],VCardTitle:p["d"],VDivider:h["a"],VIcon:T["a"]})},addb:function(t,i){var e=Math.floor,n=function(t,i){var r=t.length,c=e(r/2);return r<8?a(t,i):o(n(t.slice(0,c),i),n(t.slice(c),i),i)},a=function(t,i){var e,n,a=t.length,o=1;while(o<a){n=o,e=t[o];while(n&&i(t[n-1],e)>0)t[n]=t[--n];n!==o++&&(t[n]=e)}return t},o=function(t,i,e){var n=t.length,a=i.length,o=0,r=0,c=[];while(o<n||r<a)o<n&&r<a?c.push(e(t[o],i[r])<=0?t[o++]:i[r++]):c.push(o<n?t[o++]:i[r++]);return c};t.exports=n},d998:function(t,i,e){var n=e("342f");t.exports=/MSIE|Trident/.test(n)},d9fd:function(t,i,e){"use strict";e("6789")}}]);
//# sourceMappingURL=chunk-0d8170ba.588ca453.js.map