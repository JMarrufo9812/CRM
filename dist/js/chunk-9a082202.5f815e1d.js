(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9a082202"],{"04d1":function(t,e,n){var i=n("342f"),a=i.match(/firefox\/(\d+)/i);t.exports=!!a&&+a[1]},4099:function(t,e,n){"use strict";n("e0c0")},"4e827":function(t,e,n){"use strict";var i=n("23e7"),a=n("1c0b"),s=n("7b0b"),o=n("50c4"),c=n("d039"),r=n("addb"),l=n("a640"),d=n("04d1"),u=n("d998"),m=n("2d00"),v=n("512c"),f=[],p=f.sort,h=c((function(){f.sort(void 0)})),g=c((function(){f.sort(null)})),y=l("sort"),_=!c((function(){if(m)return m<70;if(!(d&&d>3)){if(u)return!0;if(v)return v<603;var t,e,n,i,a="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(i=0;i<47;i++)f.push({k:e+i,v:n})}for(f.sort((function(t,e){return e.v-t.v})),i=0;i<f.length;i++)e=f[i].k.charAt(0),a.charAt(a.length-1)!==e&&(a+=e);return"DGBEFHACIJK"!==a}})),b=h||!g||!y||!_,D=function(t){return function(e,n){return void 0===n?-1:void 0===e?1:void 0!==t?+t(e,n)||0:String(e)>String(n)?1:-1}};i({target:"Array",proto:!0,forced:b},{sort:function(t){void 0!==t&&a(t);var e=s(this);if(_)return void 0===t?p.call(e):p.call(e,t);var n,i,c=[],l=o(e.length);for(i=0;i<l;i++)i in e&&c.push(e[i]);c=r(c,D(t)),n=c.length,i=0;while(i<n)e[i]=c[i++];while(i<l)delete e[i++];return e}})},"512c":function(t,e,n){var i=n("342f"),a=i.match(/AppleWebKit\/(\d+)\./);t.exports=!!a&&+a[1]},6675:function(t,e,n){"use strict";n.d(e,"b",(function(){return u})),n.d(e,"f",(function(){return m})),n.d(e,"a",(function(){return v})),n.d(e,"d",(function(){return f})),n.d(e,"e",(function(){return p})),n.d(e,"c",(function(){return h}));var i,a,s,o,c,r,l=n("8785"),d=n("5184"),u=Object(d["a"])(i||(i=Object(l["a"])(["\n  query GetDeals($filters: FilterDeals, $importId: ID) {\n    deals(filters: $filters, importId: $importId) {\n      count\n      informationBar {\n        openDeals\n        wonDealsSum\n        predictionSales\n        predictionIncome\n      }\n      list {\n        id\n        title\n        value\n        status\n        expectedCloseDate\n        dateStatus\n        activity\n        files\n        customForms\n        rottenTime\n        changeTime\n        createdAt\n        updatedAt\n        wonTime\n        lostTime\n        customForms\n        createdBy {\n          id\n          user {\n            id\n            name\n            lastName\n          }\n        }\n        dealCounts {\n          files\n          notes\n          emailMessages\n          activities {\n            total\n            done\n            undone\n          }\n        }\n        lostDeal {\n          id\n          lostReason {\n            id\n            reason\n          }\n        }\n        exchangeCurrency {\n          id\n          name\n          code\n          icon\n        }\n        company {\n          id\n          name\n        }\n        contact {\n          id\n          name\n        }\n        owner {\n          id\n          user {\n            name\n            lastName\n          }\n        }\n        stage {\n          id\n          name\n          order\n        }\n        pipeline {\n          id\n          name\n          stages {\n            id\n            name\n            order\n          }\n        }\n        tags {\n          id\n          name\n          color\n          order\n        }\n      }\n    }\n  }\n"]))),m=Object(d["a"])(a||(a=Object(l["a"])(["\n  query GetDeals($filters: FilterDeals) {\n    deals(filters: $filters) {\n      count\n      list {\n        id\n        title\n        stage {\n          id\n          name\n        }\n        company {\n          id\n          name\n        }\n        contact {\n          id\n          name\n        }\n        pipeline {\n          id\n          name\n        }\n        owner {\n          id\n        }\n      }\n    }\n  }\n"]))),v=Object(d["a"])(s||(s=Object(l["a"])(["\n  query getDeal($dealId: ID!) {\n    deal(dealId: $dealId) {\n      id\n      title\n      value\n      status\n      expectedCloseDate\n      dateStatus\n      activity\n      files\n      customForms\n      rottenTime\n      lostDeal {\n        id\n        lostReason {\n          id\n          reason\n        }\n      }\n      exchangeCurrency {\n        id\n        name\n        code\n        icon\n      }\n      company {\n        id\n        name\n        isDelete\n        owner {\n          id\n        }\n      }\n      contact {\n        id\n        name\n        email\n        isDelete\n        owner {\n          id\n        }\n      }\n      owner {\n        id\n        user {\n          id\n          name\n          lastName\n          config {\n            profileUrl\n          }\n        }\n      }\n      stage {\n        id\n        name\n        order\n      }\n      pipeline {\n        id\n        name\n        stages {\n          id\n          name\n          order\n          daysInStage\n        }\n      }\n      tags {\n        id\n        name\n        color\n        order\n      }\n      isDelete\n    }\n  }\n"]))),f=Object(d["a"])(o||(o=Object(l["a"])(["\n  query getDealHistory($dealId: ID!) {\n    dealHistory: deal(dealId: $dealId) {\n      id\n      title\n      files\n      import {\n        id\n      }\n      activityStream {\n        id\n        flow\n        customs {\n          id\n          label\n        }\n        users {\n          id\n          user {\n            id\n            name\n            lastName\n          }\n        }\n        companies {\n          id\n          name\n        }\n        contacts {\n          id\n          name\n        }\n        stages {\n          id\n          name\n        }\n        pipelines {\n          id\n          name\n        }\n      }\n      notes {\n        id\n        content\n        type\n        userTags {\n          id\n          user {\n            id\n            name\n            lastName\n          }\n        }\n        createdBy {\n          id\n          user {\n            id\n            name\n            lastName\n          }\n        }\n        createdAt\n        comments {\n          id\n          comment\n          userTags {\n            id\n          }\n          createdBy {\n            id\n            user {\n              id\n              name\n              lastName\n            }\n          }\n          createdAt\n        }\n      }\n      activities {\n        id\n        title\n        status\n        start\n        end\n        location\n        description\n        deal {\n          id\n          title\n        }\n        contacts {\n          id\n          name\n        }\n        companies {\n          id\n          name\n        }\n        type {\n          id\n          name\n          color\n        }\n        owner {\n          id\n          user {\n            id\n            name\n            lastName\n          }\n        }\n        notes {\n          id\n          content\n          type\n          userTags {\n            id\n            user {\n              id\n              name\n              lastName\n            }\n          }\n          createdBy {\n            id\n            user {\n              id\n              name\n              lastName\n            }\n          }\n          createdAt\n          comments {\n            id\n            comment\n            userTags {\n              id\n            }\n            createdBy {\n              id\n              user {\n                id\n                name\n                lastName\n              }\n            }\n            createdAt\n          }\n        }\n        completedDate\n        createdAt\n        isAllDay\n        guests\n      }\n    }\n  }\n"]))),p=Object(d["a"])(c||(c=Object(l["a"])(["\n  query readLostReasons($filters: Filter) {\n    lostReasons(filters: $filters) {\n      id\n      reason\n    }\n  }\n"]))),h=Object(d["a"])(r||(r=Object(l["a"])(["\n  query getDealsToActivity($filters: FilterDeals) {\n    deals(filters: $filters) {\n      count\n      list {\n        id\n        title\n        pipeline {\n          id\n          name\n        }\n        stage {\n          id\n          name\n        }\n      }\n    }\n  }\n"])))},"97e6":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-row",[n("v-col",{staticClass:"pb-0",attrs:{cols:"12"}},[n("v-sheet",{staticClass:"py-4",attrs:{height:"100%"}},[n("v-toolbar",{attrs:{flat:""}},[n("v-menu",{ref:"menuSelectorRange",attrs:{"close-on-content-click":!1,left:"",transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,a=e.attrs;return[n("v-btn",t._g(t._b({staticClass:"btnSelect ml-8 mr-2",attrs:{color:"primary",outlined:"",plain:""}},"v-btn",a,!1),i),[t._v(" "+t._s(t.dateRangeText)+" "),n("v-icon",{attrs:{right:""}},[t._v(" mdi-calendar ")])],1)]}}]),model:{value:t.menuSelectorRange,callback:function(e){t.menuSelectorRange=e},expression:"menuSelectorRange"}},[n("v-date-picker",{attrs:{range:"","no-title":"","show-current":!1,min:t.minDate},model:{value:t.datesSelected,callback:function(e){t.datesSelected=e},expression:"datesSelected"}},[n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){t.menuSelectorRange=!1}}},[n("v-icon",[t._v("mdi-close")]),t._v(" Cerrar ")],1),n("v-spacer"),n("v-btn",{attrs:{color:"error"},on:{click:t.clearSelectorRange}},[t._v(" Borrar ")])],1)],1),t.activitiesSelected.length>0?n("v-btn",{staticClass:"ml-2",attrs:{color:"error"},on:{click:t.deleteActivitiesConfirm}},[n("v-icon",[t._v("mdi-delete")])],1):t._e(),n("v-spacer"),n("v-btn",{attrs:{outlined:"/activities/calendar"!==t.$route.path,color:"/activities/calendar"===t.$route.path?"primary":""},on:{click:function(e){t.$router.push({name:"activities-calendar"},(function(){}))}}},[n("v-icon",[t._v("mdi-calendar")])],1),n("v-btn",{staticClass:"mr-6",attrs:{outlined:"/activities/list"!==t.$route.path,color:"/activities/list"===t.$route.path?"primary":""},on:{click:function(e){t.$router.push({name:"activities-table"},(function(){}))}}},[n("v-icon",[t._v(" mdi-table-large ")])],1),n("v-menu",{attrs:{bottom:"",right:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,a=e.attrs;return[n("v-btn",t._g(t._b({staticClass:"mr-6",attrs:{outlined:"",color:"primary"}},"v-btn",a,!1),i),[n("span",[t._v(t._s(t.getTextFilterDate(t.filterDate)))]),n("v-icon",{attrs:{right:""}},[t._v(" mdi-menu-down ")])],1)]}}])},[n("v-list",[n("v-list-item",{on:{click:function(e){return t.selectFilterDate("EXPIRED")}}},[n("v-list-item-title",[t._v("Vencidas")])],1),n("v-list-item",{on:{click:function(e){return t.selectFilterDate("TODAY")}}},[n("v-list-item-title",[t._v("Hoy")])],1),n("v-list-item",{on:{click:function(e){return t.selectFilterDate("TOMORROW")}}},[n("v-list-item-title",[t._v("Mañana")])],1),n("v-list-item",{on:{click:function(e){return t.selectFilterDate("THIS_WEEK")}}},[n("v-list-item-title",[t._v("Esta semana")])],1),n("v-list-item",{on:{click:function(e){return t.selectFilterDate("NEXT_WEEK")}}},[n("v-list-item-title",[t._v("Próxima semana")])],1)],1)],1),n("v-btn",{staticClass:"mr-10",attrs:{small:"",fab:"",depressed:"",color:"secondary"},on:{click:t.openModalActivity}},[n("v-icon",{attrs:{dark:""}},[t._v("mdi-plus")])],1)],1)],1),n("v-divider")],1),n("v-col",{staticClass:"pt-0",staticStyle:{"min-height":"40em"},attrs:{cols:"2"}},[n("v-divider"),n("v-sheet",{attrs:{height:"100%"}},[n("div",{staticClass:"pl-10 pt-10"},[n("span",[t._v(" Categorías ")]),n("v-checkbox",{staticClass:"pb-2",attrs:{"hide-details":"auto",label:"Ver todo"},model:{value:t.allFilters,callback:function(e){t.allFilters=e},expression:"allFilters"}}),t._l(t.listActivityTypes,(function(e,i){return n("v-checkbox",{key:e.id,staticClass:"pb-2",attrs:{value:i,"hide-details":"auto",color:e.color},scopedSlots:t._u([{key:"label",fn:function(){return[n("span",{style:"color: "+e.color},[t._v(" "+t._s(e.name)+" ")])]},proxy:!0}],null,!0),model:{value:t.filtersActivities,callback:function(e){t.filtersActivities=e},expression:"filtersActivities"}})}))],2)])],1),n("v-col",{attrs:{cols:"10"}},[n("v-card",{staticClass:"mt-12 mx-12",attrs:{outlined:""}},[n("v-data-table",{staticClass:"activities-table",attrs:{headers:t.headers,items:t.listActivities,"item-key":"id",loading:t.loading,"loading-text":"Cargando contactos...","show-select":"","disable-sort":"","server-items-length":t.activities.count,page:t.page,"items-per-page":t.itemsPerPage,"hide-default-footer":""},on:{"update:page":t.updatePage,"update:items-per-page":t.updateItems},scopedSlots:t._u([{key:"item.status",fn:function(e){var i=e.item;return[n("div",{staticClass:"text-center"},[n("v-tooltip",{attrs:{top:"",color:"primary"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,s=e.attrs;return[n("v-simple-checkbox",t._g(t._b({attrs:{color:i.isComplete&&"EFFECTIVE"===i.status?"success":"error","on-icon":"mdi-checkbox-marked-circle","off-icon":"mdi-checkbox-blank-circle-outline",value:i.isComplete},on:{click:function(e){return t.changeStatus(i.id,i.isComplete)}}},"v-simple-checkbox",s,!1),a))]}}],null,!0)},[n("span",[t._v(" "+t._s(i.isComplete?"Desmarcar":"Completar")+" ")])])],1)]}},{key:"item.title",fn:function(e){var i=e.item;return[n("span",{class:{"text-decoration-line-through":i.isComplete}},[t._v(" "+t._s(i.title)+" ")])]}},{key:"item.start",fn:function(e){var i=e.item;return[n("span",[t._v(t._s(t.formatDateActivity(i.start)))])]}},{key:"item.companies",fn:function(e){var i=e.item.companies,a=i[0],s=i.slice(1);return[n("span",{staticClass:"cursorStyle font-weight-bold",on:{click:function(e){return t.goToProfile("company",a.id)}}},[n("v-icon",{staticClass:"mr-1",attrs:{small:""}},[t._v(" "+t._s(a?"mdi-domain":"")+" ")]),t._v(" "+t._s(a?a.name:"")+" ")],1),n("v-menu",{attrs:{"allow-overflow":""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,a=e.attrs;return[n("v-tooltip",{attrs:{top:"",color:"white"},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[n("v-chip",t._g(t._b({directives:[{name:"show",rawName:"v-show",value:s.length>0,expression:"companies.length > 0"}],staticClass:"ml-1 pa-1",attrs:{outlined:"","x-small":""}},"v-chip",a,!1),Object.assign({},o,i)),[n("v-icon",{staticClass:"mr-1",attrs:{"x-small":""}},[t._v(" mdi-domain ")]),t._v(" + "+t._s(s.length)+" ")],1)]}}],null,!0)},[n("span",{staticClass:"black--text"},[t._v(" Este contacto cuenta con más de una empresa, has click para ver ")])])]}}],null,!0)},[n("v-list",t._l(s,(function(e,i){return n("v-list-item",{key:i,attrs:{dense:""},on:{click:function(n){return t.goToProfile("company",e.id)}}},[n("v-icon",{staticClass:"mr-2",attrs:{small:""}},[t._v("mdi-domain")]),n("v-list-item-title",[t._v(t._s(e.name))])],1)})),1)],1)]}},{key:"item.contacts",fn:function(e){var i=e.item.contacts,a=i[0],s=i.slice(1);return[n("span",{staticClass:"cursorStyle font-weight-bold",on:{click:function(e){return t.goToProfile("contact",a.id)}}},[n("v-icon",{staticClass:"mr-1",attrs:{small:""}},[t._v(" "+t._s(a?"mdi-account":"")+" ")]),t._v(" "+t._s(a?a.name:"")+" ")],1),n("v-menu",{attrs:{"allow-overflow":""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,a=e.attrs;return[n("v-tooltip",{attrs:{top:"",color:"white"},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[n("v-chip",t._g(t._b({directives:[{name:"show",rawName:"v-show",value:s.length>0,expression:"contacts.length > 0"}],staticClass:"ml-1 pa-1",attrs:{outlined:"","x-small":""}},"v-chip",a,!1),Object.assign({},o,i)),[n("v-icon",{staticClass:"mr-1",attrs:{"x-small":""}},[t._v(" mdi-account ")]),t._v(" + "+t._s(s.length)+" ")],1)]}}],null,!0)},[n("span",{staticClass:"black--text"},[t._v(" Esta actividad cuenta con más de un contacto, has click para ver ")])])]}}],null,!0)},[n("v-list",t._l(s,(function(e,i){return n("v-list-item",{key:i,attrs:{dense:""},on:{click:function(n){return t.goToProfile("company",e.id)}}},[n("v-icon",{staticClass:"mr-2",attrs:{small:""}},[t._v("mdi-domain")]),n("v-list-item-title",[t._v(t._s(e.name))])],1)})),1)],1)]}},{key:"item.deal",fn:function(e){var i=e.item;return[n("span",[n("v-icon",[t._v(" "+t._s(i.deal?"mdi-handshake":"")+" ")]),t._v(" "+t._s(i.deal?i.deal.title:"")+" ")],1)]}},{key:"item.actions",fn:function(e){var i=e.item;return[n("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,s=e.attrs;return[n("v-btn",t._g(t._b({attrs:{icon:"",color:"secondary"},on:{click:function(e){return t.editEvent(i)}}},"v-btn",s,!1),a),[n("v-icon",[t._v("mdi-reload")])],1)]}}],null,!0)},[n("span",[t._v("Reagendar")])]),n("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,s=e.attrs;return[n("v-btn",t._g(t._b({attrs:{icon:"",color:"secondary"},on:{click:function(e){return t.deleteActivityConfirm(i)}}},"v-btn",s,!1),a),[n("v-icon",[t._v("mdi-delete")])],1)]}}],null,!0)},[n("span",[t._v("Eliminar")])])]}},{key:"footer",fn:function(e){var i=e.props;return[n("v-divider"),i.pagination.pageCount>1?n("div",{staticClass:"d-flex justify-center mt-4 mb-6"},[i.pagination.page>1?n("v-btn",{staticClass:"mr-6",attrs:{outlined:""},on:{click:function(e){return t.backPage()}}},[n("v-icon",{attrs:{large:""}},[t._v("mdi-chevron-left")])],1):t._e(),n("v-btn",{attrs:{outlined:""}},[t._v(" "+t._s(i.pagination.page)+" De "+t._s(i.pagination.pageCount)+" ")]),i.pagination.page!==i.pagination.pageCount&&i.pagination.pageCount>1?n("v-btn",{staticClass:"ml-6",attrs:{outlined:""},on:{click:function(e){return t.nextPage(i.pagination.pageCount)}}},[n("v-icon",{attrs:{large:""}},[t._v("mdi-chevron-right")])],1):t._e()],1):t._e()]}}],null,!0),model:{value:t.activitiesSelected,callback:function(e){t.activitiesSelected=e},expression:"activitiesSelected"}})],1)],1),n("BaseModalDelete",{attrs:{modalHandler:t.modalDelete},on:{cancel:t.modalHandlerDelete,confirm:t.deleteActivities}}),n("BaseModalDelete",{attrs:{modalHandler:t.modalDeleteActivity},on:{cancel:t.modalHandlerDeleteActivity,confirm:t.deleteActivity}}),n("ModalEffective",{attrs:{isLoading:t.isLoadingComplete,reset:!t.isLoadingComplete},on:{cancel:t.cancelComplete,save:t.saveComplete}}),n("ModalActivity",{on:{refetch:t.refetchActivities}})],1)},a=[],s=n("3835"),o=n("5530"),c=n("2909"),r=(n("d81d"),n("a15b"),n("4de4"),n("caad"),n("2532"),n("99af"),n("4e827"),n("c1df")),l=n.n(r),d=n("1e6d"),u=n("949a"),m=n("f9f5"),v=n("3398"),f=n("ffd2"),p=n("caab"),h=n("1891"),g=n("1675"),y={name:"ActivitiesTable",components:{ModalActivity:p["a"],ModalEffective:m["a"]},mixins:[h["b"],h["a"],v["a"],d["a"],g["a"]],data:function(){return{page:1,itemsPerPage:10,selectedEvent:{},isLoadingComplete:!1,datesSelected:[],start:null,end:null,focus:(new Date).toISOString().substr(0,10),filterDate:"THIS_WEEK",filtersActivities:[],menuSelectorRange:!1,searchContact:"",activitiesSelected:[],activities:{},loading:!1,dateType:{EXPIRED:"EXPIRED",TODAY:"TODAY",TOMORROW:"TOMORROW",THIS_WEEK:"THIS_WEEK",NEXT_WEEK:"NEXT_WEEK",RANGE:"RANGE"},activityTypes:[],modalDeleteActivity:{isOpen:!1,isLoading:!1,infoDelete:{}}}},watch:{datesSelected:function(t){t&&2===t.length?this.filterDate="RANGE":"RANGE"===this.filterDate&&(this.filterDate="")},filterDate:function(t){t!==this.dateType.RANGE&&(this.datesSelected=[])}},computed:{listActivityTypes:function(){var t=Object(c["a"])(this.activityTypes);return this.sortList(t)},listActivities:function(){return this.activities.list?this.activities.list.map((function(t){return Object(o["a"])(Object(o["a"])({},t),{},{isComplete:"PENDING"!==t.status})})):[]},minDate:function(){return this.datesSelected.length>0?this.datesSelected[0]:""},dateRangeText:function(){return this.datesSelected.length?this.datesSelected.join(" ~ "):"Rango de fecha"},headers:function(){return[{text:"Estatus",align:"center",value:"status"},{text:"Título",value:"title"},{text:"Fecha para hacer",value:"start"},{text:"Contactos",value:"contacts"},{text:"Empresas",value:"companies"},{text:"Trato",value:"deal"},{text:"Acciones",value:"actions"}]},filterTypeActivitiesSelected:function(){var t=this,e={dateStart:"",dateEnd:""},n=this.filterDate.length?this.filterDate:null,i=this.activityTypes?this.activityTypes.filter((function(e,n){return t.filtersActivities.includes(n)})).map((function(t){return{id:t.id}})):[],a={activityTypes:i,dateType:n,take:this.itemsPerPage,skip:(this.page-1)*this.itemsPerPage};if("RANGE"===this.filterDate&&2===this.datesSelected.length){var o=Object(s["a"])(this.datesSelected,2);e.dateStart=o[0],e.dateEnd=o[1],a.dateRange=e}return a},title:function(){var t=this.start,e=this.end;if(!t||!e)return"";var n=l()(t.date),i=l()(e.date);return n.year()===i.year()&&n.month()===i.month()?"".concat(n.format("D")," - ").concat(i.format("LL")):n.year()===i.year()&&n.month()!==i.month()?"".concat(n.format("D MMMM")," - ").concat(i.format("LL")):"".concat(n.format("LL")," - ").concat(i.format("LL"))},allFilters:{get:function(){return!(this.filtersActivities.length>0)},set:function(t){t&&(this.filtersActivities=[])}}},methods:{nextPage:function(t){t!==this.page&&(this.page+=1)},backPage:function(){1!==this.page&&(this.page-=1)},sortList:function(t){return t.sort((function(t,e){return t.order>e.order?1:-1}))},goToProfile:function(t,e){this.$router.push("/".concat(t,"/").concat(e),(function(){}))},editEvent:function(t){var e=t;e.isReschedule=!0,e.filters=this.filterTypeActivitiesSelected,this.changeModal({id:"createActivity",status:!0,isEdit:!0,item:e})},refetchActivities:function(){this.$apollo.queries.activities.refetch()},updatePage:function(t){this.page=t},updateItems:function(t){this.itemsPerPage=t},isComplete:function(t){return"PENDING"!==t},clearSelectorRange:function(){this.filterDate="",this.datesSelected=[]},openModalEffective:function(){this.changeModal({id:"modalEffective",status:!0})},cancelComplete:function(){this.selectedEventIsComplete=!1,this.selectedEvent.status="PENDING",this.selectedEvent.comments=""},saveComplete:function(t){var e=t.status,n=t.comments;this.isLoadingComplete=!0;var i=this.selectedEvent.id;e?this.saveCompleteMutation({id:i,status:"EFFECTIVE"}):this.saveCompleteMutation({id:i,status:"INEFFECTIVE",comments:n})},saveEventIncomplete:function(t){this.saveCompleteMutation({id:t,status:"PENDING"})},saveCompleteMutation:function(t){var e=this,n=t.id,i=t.status,a=t.comments;this.$apollo.mutate({mutation:u["h"],variables:{activityInput:{id:n,status:i,comments:a}}}).then((function(){e.isLoadingComplete=!1,e.refetchActivities()})).catch((function(){e.isLoadingComplete=!1;var t="No se pudo actualizar el estado de la actividad, intente de nuevo o contacte a soporte";e.modalHandlerError({isOpen:!0,error:t})}))},deleteActivitiesConfirm:function(){this.modalHandlerDelete({isOpen:!0,isLoading:!1,message:{text:"serán eliminados",nameItem:"Las actividades seleccionadas"},infoDelete:{}})},deleteActivityConfirm:function(t){this.modalHandlerDeleteActivity({isOpen:!0,isLoading:!1,message:{nameItem:"".concat(t.title),text:"será eliminada"},infoDelete:t})},deleteActivities:function(t){var e=this,n=t.isOpen,i=t.isLoading,a=t.message,s=t.infoDelete;this.modalHandlerDelete({isOpen:n,isLoading:i,message:a,infoDelete:s});var o=this.activitiesSelected.map((function(t){return{id:t.id}}));this.$apollo.mutate({mutation:u["c"],variables:{activities:o}}).then((function(){e.activitiesSelected=[],e.modalHandlerDelete({isOpen:!1,isLoading:i,message:a,infoDelete:s}),e.refetchActivities(),e.addSuccess("Se eliminaron las actividades correctamente.")})).catch((function(){e.activitiesSelected=[];var t="No se pudieron eliminar las actividades, intente de nuevo o contacte a soporte";e.modalHandlerError({isOpen:!0,error:t})}))},deleteActivity:function(t){var e=this,n=t.isOpen,i=t.isLoading,a=t.message,s=t.infoDelete;this.modalHandlerDeleteActivity({isOpen:n,isLoading:i,message:a,infoDelete:s});var o=[{id:s.id}];this.$apollo.mutate({mutation:u["c"],variables:{activities:o}}).then((function(){e.modalHandlerDeleteActivity({isOpen:!1,isLoading:i,message:a,infoDelete:s}),e.refetchActivities(),e.addSuccess("Se eliminó la actividad correctamente.")})).catch((function(){e.activitiesSelected=[];var t="No se pudo eliminar la actividad, intente de nuevo o contacte a soporte";e.modalHandlerError({isOpen:!0,error:t})}))},modalHandlerDeleteActivity:function(t){var e=t.isOpen,n=t.isLoading,i=t.message,a=t.infoDelete;this.modalDeleteActivity={isOpen:e,isLoading:n,message:i,infoDelete:a}},openModalActivity:function(){var t={};t.filters=this.filterTypeActivitiesSelected,this.changeModal({id:"createActivity",status:!0,item:t})},formatDateActivity:function(t){var e=l()(t);return e.format("DD/MM/YYYY hh:mma")},changeStatus:function(t,e){this.selectedEvent={id:t},e?this.saveEventIncomplete(t):this.openModalEffective()},selectFilterDate:function(t){this.filterDate=t},getTextFilterDate:function(t){return"THIS_WEEK"===t?"Esta semana":"EXPIRED"===t?"Vencidas":"TODAY"===t?"Hoy":"TOMORROW"===t?"Mañana":"NEXT_WEEK"===t?"Próxima semana":"Filtro de dias"}},apollo:{activityTypes:{query:f["c"],fetchPolicy:"no-cache"},activities:{query:f["b"],fetchPolicy:"no-cache",variables:function(){return{filters:this.filterTypeActivitiesSelected}}}}},_=y,b=(n("4099"),n("0c7c")),D=n("6544"),C=n.n(D),E=n("8336"),k=n("b0af"),S=n("ac7c"),A=n("cc20"),T=n("62ad"),x=n("8fea"),O=n("2e4b"),I=n("ce7e"),w=n("132d"),R=n("8860"),N=n("da13"),P=n("5d23"),L=n("e449"),M=n("0fd9"),F=n("8dd9"),$=n("9e88"),V=n("2fa4"),H=n("71d9"),j=n("3a2f"),W=Object(b["a"])(_,i,a,!1,null,"4fc48923",null);e["default"]=W.exports;C()(W,{VBtn:E["a"],VCard:k["a"],VCheckbox:S["a"],VChip:A["a"],VCol:T["a"],VDataTable:x["a"],VDatePicker:O["a"],VDivider:I["a"],VIcon:w["a"],VList:R["a"],VListItem:N["a"],VListItemTitle:P["c"],VMenu:L["a"],VRow:M["a"],VSheet:F["a"],VSimpleCheckbox:$["a"],VSpacer:V["a"],VToolbar:H["a"],VTooltip:j["a"]})},addb:function(t,e){var n=Math.floor,i=function(t,e){var o=t.length,c=n(o/2);return o<8?a(t,e):s(i(t.slice(0,c),e),i(t.slice(c),e),e)},a=function(t,e){var n,i,a=t.length,s=1;while(s<a){i=s,n=t[s];while(i&&e(t[i-1],n)>0)t[i]=t[--i];i!==s++&&(t[i]=n)}return t},s=function(t,e,n){var i=t.length,a=e.length,s=0,o=0,c=[];while(s<i||o<a)s<i&&o<a?c.push(n(t[s],e[o])<=0?t[s++]:e[o++]):c.push(s<i?t[s++]:e[o++]);return c};t.exports=i},d998:function(t,e,n){var i=n("342f");t.exports=/MSIE|Trident/.test(i)},e0c0:function(t,e,n){}}]);
//# sourceMappingURL=chunk-9a082202.5f815e1d.js.map