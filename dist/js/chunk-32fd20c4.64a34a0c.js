(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-32fd20c4"],{"024a":function(e,t,i){},"0416":function(e,t,i){},"0486":function(e,t,i){"use strict";var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseCardChart",{attrs:{title:e.title,titleRegular:e.titleRegular,settings:e.filtersConfig,isChart:""},on:{updateRefetch:function(t){e.isRefetch=!0}},scopedSlots:e._u([{key:"modal",fn:function(){return[i("LineTotalIncomeGoalFilter",{attrs:{defaultFilter:e.filtersConfig,isIcon:"",isPreview:""}})]},proxy:!0}])},[i("div",{staticClass:"hoverClick",on:{click:e.openModal}},[i("LineTotalIncomeGoalData",{attrs:{defaultFilter:e.filtersConfig,isPreview:"",isRefetch:e.isRefetch},on:{updateRefetch:function(t){e.isRefetch=!1}}})],1),i("LineTotalIncomeGoalModal",{attrs:{isOpen:e.isOpenModal,filters:{filtersConfig:e.filtersConfig,filtersConfig:e.filtersConfig,filtersTable:e.filtersTable},title:e.title,titleRegular:e.titleRegular},on:{close:e.closeModal}})],1)},o=[],a=i("3835"),n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalChart",{attrs:{title:e.title,titleRegular:e.titleRegular,isOpen:e.isOpen},on:{close:e.closeModal},scopedSlots:e._u([{key:"filters",fn:function(){return[i("LineTotalIncomeGoalFilter",{attrs:{defaultFilter:e.filters.filtersConfig}})]},proxy:!0},{key:"chart",fn:function(){return[i("LineTotalIncomeGoalData",{attrs:{defaultFilter:e.filters.filtersConfig,isFull:""}})]},proxy:!0},{key:"table",fn:function(){return[i("TableDeals",{attrs:{defaultFilter:e.filters.filtersTable}})]},proxy:!0}])})},s=[],l=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalFilters",{attrs:{isOpen:e.isOpenModalFilter,isIcon:e.isIcon},on:{save:e.saveFilter,statusModal:e.statusModal}},[i("v-row",[i("v-col",{attrs:{cols:"12"}},[i("Select",{attrs:{name:"Filtrar por",defaultSelect:e.defaultFilter.filterTime,list:e.listTime},on:{change:e.changeTime}})],1),i("v-col",{attrs:{cols:"12"}},[i("Select",{attrs:{name:"Filtrar por",defaultSelect:e.defaultFilter.filterBy,list:e.listFilterBy},on:{change:e.changeFilterBy}})],1),"none"===e.typeCompare?i("v-col",{attrs:{cols:"12"}},[i("SelectUsers",{attrs:{all:"",defaultSelect:e.defaultFilter.users},on:{change:e.changeUsers}})],1):e._e(),i("v-col",{attrs:{cols:"12"}},[i("SelectPipeline",{attrs:{defaultSelect:e.defaultFilter.pipeline},on:{change:e.changePipeline}})],1),i("v-col",{attrs:{cols:"12"}},[i("PeriodPredefined",{attrs:{defaultSelect:e.defaultFilter.periodPredefined},on:{change:e.changePeriodPredefined}})],1),e.isPreview?e._e():i("v-col",{attrs:{cols:"12"}},[i("ComparePeriodLines",{attrs:{periodPredefined:e.filters.periodPredefined[0]},on:{change:e.changeComparePeriod}})],1)],1)],1)},d=[],p=i("2909"),u=i("5530"),f=i("740f"),c=i("d344"),h=i("6321"),m=i("c065"),g=i("e050"),v={name:"LineTotalIncomeGoalFilter",components:{SelectUsers:f["a"],SelectPipeline:h["a"],Select:c["a"]},mixins:[g["b"]],props:{defaultFilter:{type:Object,default:function(){return{filterBy:"count",filterTime:"WEEKS",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownersToCompare:[]}}}},data:function(){return{listTime:m["d"],listFilterBy:m["e"],filters:{filterBy:"count",filterTime:"WEEKS",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownersToCompare:[]}}},methods:{saveFilter:function(){this.changeChart({id:"line-totalIncomeGoal",filtersFull:Object(u["a"])(Object(u["a"])({},this.noReactive(this.filters)),{},{periodRange:Object(u["a"])({__typename:"PeriodRange"},this.filters.periodRange),ownersToCompare:Object(p["a"])(this.filters.ownersToCompare)})}),this.isOpenModalFilter=!1}}},C=v,T=i("0c7c"),R=i("6544"),y=i.n(R),P=i("62ad"),S=i("0fd9"),b=Object(T["a"])(C,l,d,!1,null,"f752c262",null),F=b.exports;y()(b,{VCol:P["a"],VRow:S["a"]});var w=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.isPreview?e._e():i("ListFilters",{attrs:{settings:e.settings}}),i("div",{staticClass:"text-center bgWhite",class:[{"py-5 px-3":!e.isPreview},{showScroll:e.isWithScroll}]},[i("apexchart",{attrs:{height:e.isPreview?250:350,type:"line",options:e.options,series:e.series}})],1)],1)},O=[],D=(i("d81d"),i("b680"),i("b0c0"),i("99af"),i("8d7e")),_=i("b3b3"),B={name:"LineTotalIncomeGoalData",mixins:[g["a"]],props:{defaultFilter:{type:Object,default:function(){return{filterBy:"count",filterTime:"WEEKS",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"]}}}},data:function(){return{totalIncomeGoalLinearGraph:{mainDateList:[],secondDateList:[],mainAverageDateTotalIncomeGoal:[],secondAverageDateTotalIncomeGoal:[]},modalSettings:{filterBy:"count",filterTime:"WEEKS",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:[]},settings:{filterBy:"count",filterTime:"WEEKS",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:[]}}},computed:{options:function(){var e=this;return{chart:{height:this.isPreview?"250":"350",width:this.isWithScroll?"1200":"100%",type:"line",toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1},legend:{position:"top",horizontalAlign:this.isWithScroll?"left":"center",showForSingleSeries:!0},stroke:{curve:"smooth"},markers:{size:5,colors:void 0,strokeColors:"#fff",strokeWidth:2,strokeOpacity:.9,strokeDashArray:0,fillOpacity:1,discrete:[],shape:"circle",radius:2,offsetX:0,offsetY:0,onClick:void 0,onDblClick:void 0,showNullDataPoints:!0,hover:{size:void 0,sizeOffset:3}},colors:_["b"],grid:{row:{colors:["#f3f3f3","transparent"],opacity:.5}},xaxis:{categories:this.totalIncomeGoalLinearGraph.mainDateList.map((function(e){return e.dateString})),title:{text:this.showTitleXaxis},labels:{rotate:this.rotate}},yaxis:{title:{text:this.showTitleYaxis},tickAmount:1,labels:{formatter:function(t){return e.isCount?t.toFixed(0):"".concat(e.formatPrice(t)," ")}}}}},rotate:function(){if(this.isLargeWidth){if(this.isWeeks)return"-90";if(this.isMonths)return"0"}return 0},showTitleXaxis:function(){if(!this.isPreview)return this.isWeeks?"Semanas":"Meses"},showTitleYaxis:function(){if(!this.isPreview)return this.isCount?"Cantidad":"Valor"},series:function(){var e,t,i,r,o,a,n,s,l,d,u=this,f=(null===(e=this.totalIncomeGoalLinearGraph)||void 0===e||null===(t=e.mainTotalIncomeGoal)||void 0===t||null===(i=t.totalIncomeGoals)||void 0===i?void 0:i.map((function(e){var t=e.name,i=e.countList,r=e.sumList;return{name:t,data:u.isCount?u.convertTwoDigits(i):u.convertTwoDigits(r)}})))||[],c=this.dateRangeToCompare&&(null===(r=this.totalIncomeGoalLinearGraph)||void 0===r||null===(o=r.secondTotalIncomeGoal)||void 0===o?void 0:o.totalIncomeGoals.length)>0?null===(a=this.totalIncomeGoalLinearGraph)||void 0===a||null===(n=a.secondTotalIncomeGoal)||void 0===n||null===(s=n.totalIncomeGoals)||void 0===s?void 0:s.map((function(e){var t=e.name,i=e.countList,r=e.sumList;return{name:"".concat(t," período anterior"),data:u.isCount?u.convertTwoDigits(i):u.convertTwoDigits(r)}})):[],h=[{name:"Promedio",data:this.isCount?this.convertTwoDigits(this.totalIncomeGoalLinearGraph.mainAverageDateTotalIncomeGoal.map((function(e){return e.avgCount}))):this.convertTwoDigits(this.totalIncomeGoalLinearGraph.mainAverageDateTotalIncomeGoal.map((function(e){return e.avgSum})))}],m=(null===(l=this.totalIncomeGoalLinearGraph)||void 0===l||null===(d=l.secondAverageDateTotalIncomeGoal)||void 0===d?void 0:d.length)>0?[{name:"Promedio anterior",data:this.isCount?this.convertTwoDigits(this.totalIncomeGoalLinearGraph.secondAverageDateTotalIncomeGoal.map((function(e){return e.avgCount}))):this.convertTwoDigits(this.totalIncomeGoalLinearGraph.secondAverageDateTotalIncomeGoal.map((function(e){return e.avgSum})))}]:[];return[].concat(h,Object(p["a"])(f),m,Object(p["a"])(c))},filters:function(){var e={dateRange:{dateStart:this.dateStart,dateEnd:this.dateEnd},owners:this.ownersToCompare.length>0?this.ownersToCompare:this.ownersFilter,pipeline:this.pipelineFilter,typePeriodDisplay:this.settings.filterTime};return this.dateRangeToCompare&&""!==this.dateRangeToCompare.dateStart&&""!==this.dateRangeToCompare.dateEnd&&(e.dateRangeToCompare=this.dateRangeToCompare),e}},methods:{update:function(){this.$apollo.queries.totalIncomeGoalLinearGraph.refetch()}},apollo:{totalIncomeGoalLinearGraph:{query:D["P"],fetchPolicy:"no-cache",client:"charts",variables:function(){return{filters:this.filters}},skip:function(){return""===this.dateStart||""===this.dateEnd||!this.pipelineFilter.id||0===this.ownersFilter.length},watchLoading:function(e){this.isLoading=e}}}},M=B,I=(i("08eb"),Object(T["a"])(M,w,O,!1,null,"51b4fb05",null)),x=I.exports,L={name:"LineTotalIncomeGoalModal",components:{LineTotalIncomeGoalFilter:F,LineTotalIncomeGoalData:x},mixins:[g["c"]],props:{isOpen:{type:Boolean,default:!1},title:{type:String,default:"Sin título"},titleRegular:{type:String,default:""},filters:{type:Object,default:function(){return{filtersConfig:{filterTime:"WEEKS",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownersToCompare:[]},filtersTable:{users:[],pipelines:[],periodRange:{start:"",end:""},dealStatus:""}}}}},methods:{closeModal:function(){this.$emit("close")}}},G=L,E=Object(T["a"])(G,n,s,!1,null,"002a51d7",null),j=E.exports,k={name:"LineTotalIncomeGoalPreview",components:{LineTotalIncomeGoalData:x,LineTotalIncomeGoalModal:j,LineTotalIncomeGoalFilter:F},mixins:[g["d"]],props:{defaultPeriod:{type:String,default:"THIS_MONTH"}},data:function(){return{title:"Ingreso",titleRegular:"total por vendedor",chartId:"line-totalIncomeGoal",filtersChartsDefault:{},initFilter:{filterBy:"count",filterTime:"MONTHS",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownersToCompare:[],dealStatus:"WON"}}},computed:{filtersConfig:function(){var e,t,i,r,o,a,n,s;return{filterBy:(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.filterBy)||this.initFilter.filterBy,filterTime:(null===(t=this.chart.filtersFull)||void 0===t?void 0:t.filterTime)||this.initFilter.filterTime,users:this.usersGlobal||(null===(i=this.chart.filtersFull)||void 0===i?void 0:i.users)||this.filtersChartsDefault.users,pipeline:(null===(r=this.chart.filtersFull)||void 0===r?void 0:r.pipeline)||this.initPipeline,periodRange:this.periodRangeGlobal||(null===(o=this.chart.filtersFull)||void 0===o?void 0:o.periodRange)||this.periodRange,periodPredefined:this.periodPredefinedGlobal||(null===(a=this.chart.filtersFull)||void 0===a?void 0:a.periodPredefined)||[this.defaultPeriod]||this.initFilter.periodPredefined,periodRangeToCompare:(null===(n=this.chart.filtersFull)||void 0===n?void 0:n.periodRangeToCompare)||this.initFilter.periodRangeToCompare,ownersToCompare:(null===(s=this.chart.filtersFull)||void 0===s?void 0:s.ownersToCompare)||this.initFilter.ownersToCompare}},filtersTable:function(){var e,t=this.getPeriod(this.initFilter.periodPredefined[0]).get(),i=Object(a["a"])(t,2),r=i[0],o=i[1];return{users:this.usersGlobal||this.users||this.filtersChartsDefault.users,pipelines:this.pipelines||this.initPipelines,periodRange:this.periodRangeGlobal||(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.periodRange)||{start:r,end:o},dealStatus:this.initFilter.dealStatus}}}},H=k,U=(i("7835"),Object(T["a"])(H,r,o,!1,null,"ddbb4492",null));t["a"]=U.exports},"08eb":function(e,t,i){"use strict";i("3da9")},"0adc":function(e,t,i){"use strict";i("0dd9")},"0dd9":function(e,t,i){},"0fcc":function(e,t,i){"use strict";i("196f")},1070:function(e,t,i){"use strict";var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseCardChart",{attrs:{title:e.title,titleRegular:e.titleRegular,settings:e.filtersConfig},on:{updateRefetch:function(t){e.isRefetch=!0}},scopedSlots:e._u([{key:"modal",fn:function(){return[i("CardIncomeLostDealsFilter",{attrs:{defaultFilter:e.filtersConfig,isIcon:"",isPreview:""},on:{updateRefetch:function(t){e.isRefetch=!0}}})]},proxy:!0}])},[i("div",{staticClass:"hoverClick",on:{click:e.openModal}},[i("CardIncomeLostDealsData",{attrs:{defaultFilter:e.filtersConfig,isPreview:"",isRefetch:e.isRefetch},on:{updateRefetch:function(t){e.isRefetch=!1}}})],1),i("CardIncomeLostDealsModal",{attrs:{isOpen:e.isOpenModal,filters:{filtersConfig:e.filtersConfig,filtersTable:e.filtersTable},title:e.title,titleRegular:e.titleRegular},on:{close:e.closeModal}})],1)},o=[],a=i("3835"),n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalChart",{attrs:{title:e.title,titleRegular:e.titleRegular,isOpen:e.isOpen},on:{close:e.closeModal},scopedSlots:e._u([{key:"filters",fn:function(){return[i("CardIncomeLostDealsFilter",{attrs:{defaultFilter:e.filters.filtersConfig}})]},proxy:!0},{key:"chart",fn:function(){return[i("CardIncomeLostDealsData",{attrs:{defaultFilter:e.filters.filtersConfig}})]},proxy:!0},{key:"table",fn:function(){return[i("TableDeals",{attrs:{defaultFilter:e.filters.filtersTable}})]},proxy:!0}])})},s=[],l=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.isPreview?e._e():i("ListFilters",{attrs:{settings:e.settings}}),i("BaseCardNumber",{attrs:{information:{numberMain:""+e.generalConvertionRateFormat,textMain:e.textMain,valueMain:e.valueMain,textMainType:e.textChart,isCompare:!e.isPreview&&(e.settings.periodRangeToCompare.period.length>0||e.isCompareUser),numberCompare:""+e.generalConvertionRateCompare,textCompare:e.textCompare,valueCompare:e.valueCompare,numberDifferenceCompare:e.comparePercentage}}}),e.isPreview?e._e():i("CardIncomeLostDealsInformation",{attrs:{information:e.lostDealsCard.informationBar,filterBy:e.settings.filterBy}})],1)},d=[],p=(i("b680"),i("b0c0"),i("99af"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-card",{staticClass:"mt-5",attrs:{flat:""}},[i("v-container",[i("v-row",{staticClass:"justify-center"},[i("v-col",{attrs:{cols:"3"}},[e._l(e.information.userLostDeals,(function(t,r){return[i("span",{key:r,staticClass:"d-block"},[i("b",[e._v(e._s(t.name))]),e._v(" : "+e._s("sum"===e.filterBy?"$"+t[e.filterBy].toFixed(2):t[e.filterBy])+" ")])]}))],2),i("v-col",{attrs:{cols:"9"}},[i("v-row",[i("v-col",e._l(e.getInfo.firstColumn,(function(t,r){return i("span",{key:r,staticClass:"d-block"},[i("b",[e._v(e._s(e.columnOne[r]))]),e._v(" : "+e._s(t)+" ")])})),0),i("v-col",e._l(e.getInfo.secondColumn,(function(t,r){return i("span",{key:r,staticClass:"d-block"},[i("b",[e._v(e._s(e.columnTwo[r]))]),e._v(" : $"+e._s(t)+" ")])})),0),i("v-col",e._l(e.getInfo.thirdColumn,(function(t,r){return i("span",{key:r,staticClass:"d-block"},[i("b",[e._v(e._s(e.columnThree[r]))]),e._v(" : $"+e._s(t)+" ")])})),0)],1)],1)],1)],1)],1)}),u=[],f=(i("d81d"),{name:"CardIncomeLostDealsInformation",props:{information:{type:Object,default:function(){return{userLostDeals:[],periodsLostDeals:[]}}},filterBy:{type:String,default:"count"}},data:function(){return{columnOne:["Este período","Período pasado","Mismo período el mes anterior"],columnTwo:["Ingresos este período","Ingresos período pasado","Ingresos mismo período el mes anterior"],columnThree:["Ingresos totales este período","Ingresos totales período pasado","Ingresos totales mismo período el mes anterior"]}},computed:{getInfo:function(){var e=this.information.periodsLostDeals.map((function(e){return e.count})),t=this.information.periodsLostDeals.map((function(e){return e.sum})),i=this.information.periodsLostDeals.map((function(e){return e.totalSum}));return{firstColumn:e,secondColumn:t,thirdColumn:i}}}}),c=f,h=i("0c7c"),m=i("6544"),g=i.n(m),v=i("b0af"),C=i("62ad"),T=i("a523"),R=i("0fd9"),y=Object(h["a"])(c,p,u,!1,null,null,null),P=y.exports;g()(y,{VCard:v["a"],VCol:C["a"],VContainer:T["a"],VRow:R["a"]});var S=i("8d7e"),b=i("0db6"),F={name:"CardIncomeLostDealsData",mixins:[b["a"]],components:{CardIncomeLostDealsInformation:P},props:{defaultFilter:{type:Object,default:function(){return{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{id:""}}}},isPreview:{type:Boolean,default:!1}},data:function(){return{lostDealsCard:{},modalSettings:{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:[],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{id:""}},settings:{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:[],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{id:""}}}},computed:{isCompareUser:function(){var e,t,i,r,o,a;return(null===(e=this.lostDealsCard)||void 0===e||null===(t=e.mainLostDeals)||void 0===t?void 0:t.id)!==(null===(i=this.lostDealsCard)||void 0===i||null===(r=i.secondLostDeals)||void 0===r?void 0:r.id)&&""!==(null===(o=this.settings)||void 0===o||null===(a=o.ownerToCompare)||void 0===a?void 0:a.id)},comparePercentage:function(){return"0"===this.generalConvertionRateCompare?"0.00":(100*this.generalConvertionRateFormat/this.generalConvertionRateCompare-100).toFixed(2)},generalConvertionRateFormat:function(){var e,t,i,r;if(this.lostDealsCard&&void 0!==(null===(e=this.lostDealsCard)||void 0===e||null===(t=e.mainLostDeals)||void 0===t?void 0:t.count)&&void 0!==(null===(i=this.lostDealsCard)||void 0===i||null===(r=i.mainLostDeals)||void 0===r?void 0:r.sum)){var o,a;if("count"===this.settings.filterBy)return(null===(o=this.lostDealsCard)||void 0===o?void 0:o.mainLostDeals.count)||"0";if("sum"===this.settings.filterBy)return"$".concat(null===(a=this.lostDealsCard)||void 0===a?void 0:a.mainLostDeals.sum)||!1}return"0"},generalConvertionRateCompare:function(){var e,t,i,r;if(this.lostDealsCard&&void 0!==(null===(e=this.lostDealsCard)||void 0===e||null===(t=e.secondLostDeals)||void 0===t?void 0:t.count)&&void 0!==(null===(i=this.lostDealsCard)||void 0===i||null===(r=i.secondLostDeals)||void 0===r?void 0:r.sum)){var o,a=null===(o=this.lostDealsCard)||void 0===o?void 0:o.secondLostDeals[this.settings.filterBy];return a||"0"}return"0"},textCompare:function(){return"PREVIOUS_PERIOD"===this.settings.periodRangeToCompare.period?this.settings.periodPredefined[3]:"PREVIOUS_YEAR"===this.settings.periodRangeToCompare.period?"Año anterior":"CUSTOM"===this.settings.periodRangeToCompare.period?"Personalizado":""},valueCompare:function(){if(!this.isPreview){var e,t;if(this.isCompareUser)return null===(e=this.lostDealsCard)||void 0===e||null===(t=e.secondLostDeals)||void 0===t?void 0:t.name;if("CUSTOM"===this.settings.periodRangeToCompare.period)return"".concat(this.formatDate(this.filters.dateRangeToCompare.dateStart)," - ").concat(this.formatDate(this.filters.dateRangeToCompare.dateEnd))}return""},textMain:function(){return this.isPreview?"":(this.isCompareUser,this.settings.periodPredefined[2])},valueMain:function(){if(!this.isPreview){var e,t;if(this.isCompareUser)return null===(e=this.lostDealsCard)||void 0===e||null===(t=e.mainLostDeals)||void 0===t?void 0:t.name;if(this.settings.periodPredefined.length>0&&"CUSTOM"===this.settings.periodPredefined[0])return"".concat(this.formatDate(this.filters.dateRange.dateStart)," - ").concat(this.formatDate(this.filters.dateRange.dateEnd))}return""},filters:function(){var e={dateRange:{dateStart:this.dateStart,dateEnd:this.dateEnd},owners:this.ownersFilter,pipeline:this.pipelineFilter};return this.ownerToCompare&&""!==this.ownerToCompare.id&&(e.ownerToCompare=this.ownerToCompare),this.dateRangeToCompare&&""!==this.dateRangeToCompare.dateStart&&""!==this.dateRangeToCompare.dateEnd&&(e.dateRangeToCompare=this.dateRangeToCompare),e}},methods:{update:function(){this.$apollo.queries.lostDealsCard.refetch()}},apollo:{lostDealsCard:{query:S["r"],fetchPolicy:"no-cache",client:"charts",variables:function(){return{filters:this.filters}},skip:function(){return""===this.dateStart||""===this.dateEnd||!this.pipelineFilter.id||0===this.ownersFilter.length},loadingKey:"isLoading"}}},w=F,O=Object(h["a"])(w,l,d,!1,null,"1068db28",null),D=O.exports,_=i("8b70"),B=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalFilters",{attrs:{isOpen:e.isOpenModalFilter,isIcon:e.isIcon},on:{save:e.saveFilter,statusModal:e.statusModal}},[i("v-row",[i("v-col",{attrs:{cols:"12"}},[i("Select",{attrs:{name:"Filtrar por",defaultSelect:e.defaultFilter.filterBy,list:e.listFilterBy},on:{change:e.changeFilterBy}})],1),i("v-col",{attrs:{cols:"12"}},[i("SelectUsers",{attrs:{all:"",defaultSelect:e.defaultFilter.users},on:{change:e.changeUsers}})],1),i("v-col",{attrs:{cols:"12"}},[i("SelectPipeline",{attrs:{defaultSelect:e.defaultFilter.pipeline},on:{change:e.changePipeline}})],1),i("v-col",{attrs:{cols:"12"}},[i("PeriodPredefined",{attrs:{defaultSelect:e.defaultFilter.periodPredefined},on:{change:e.changePeriodPredefined}})],1),e.isPreview?e._e():i("v-col",{attrs:{cols:"12"}},[i("ComparePeriod",{attrs:{periodPredefined:e.filters.periodPredefined[0]},on:{change:e.changeComparePeriod}})],1)],1)],1)},M=[],I=i("5530"),x=i("740f"),L=i("d344"),G=i("6321"),E=i("c065"),j={name:"CardIncomeLostDealsFilter",components:{SelectUsers:x["a"],SelectPipeline:G["a"],Select:L["a"]},mixins:[b["b"]],props:{defaultFilter:{type:Object,default:function(){return{filterBy:"count",filterTime:"WEEKS",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{id:""}}}},isIcon:{type:Boolean,default:!1},isPreview:{type:Boolean,default:!1}},data:function(){return{listTime:E["d"],listFilterBy:E["e"],filters:{filterBy:"count",filterTime:"WEEKS",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{id:""}}}},methods:{changeComparePeriod:function(e){var t=e.isCompare,i=e.periodCompare,r=e.ownerCompare;if(t){if(r&&r.id&&(this.filters.ownerToCompare.id=r.id,this.filters.periodRangeToCompare.period="",this.filters.periodRangeToCompare.start="",this.filters.periodRangeToCompare.end=""),i){if(this.filters.periodRangeToCompare.period=i.periodSelected,i.periodRange.length>0){var o=Object(a["a"])(i.periodRange,2);this.filters.periodRangeToCompare.start=o[0],this.filters.periodRangeToCompare.end=o[1]}this.filters.ownerToCompare.id=""}}else this.filters.periodRangeToCompare.period="",this.filters.periodRangeToCompare.start="",this.filters.periodRangeToCompare.end="",this.filters.ownerToCompare.id=""},saveFilter:function(){this.changeChart({id:"card-lostDeals",filtersFull:Object(I["a"])(Object(I["a"])({},this.noReactive(this.filters)),{},{periodRange:Object(I["a"])({__typename:"PeriodRange"},this.filters.periodRange),ownerToCompare:Object(I["a"])({__typename:"OwnerToCompare"},this.filters.ownerToCompare)})}),this.isOpenModalFilter=!1}}},k=j,H=Object(h["a"])(k,B,M,!1,null,"7c4ea904",null),U=H.exports;g()(H,{VCol:C["a"],VRow:R["a"]});var N={name:"CardIncomeLostDealsModal",components:{CardIncomeLostDealsData:D,TableDeals:_["a"],CardIncomeLostDealsFilter:U},mixins:[b["c"]],props:{isOpen:{type:Boolean,default:!1},title:{type:String,default:"Sin título"},titleRegular:{type:String,default:""},filters:{type:Object,default:function(){return{filtersConfig:{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{id:""}},filtersTable:{users:[],pipelines:[],periodRange:{start:"",end:""},dealStatus:""}}}}}},V=N,W=Object(h["a"])(V,n,s,!1,null,"779300a8",null),$=W.exports,A={name:"CardIncomeLostDealsPreview",components:{CardIncomeLostDealsData:D,CardIncomeLostDealsModal:$,CardIncomeLostDealsFilter:U},mixins:[b["d"]],props:{defaultPeriod:{type:String,default:"THIS_MONTH"}},data:function(){return{chartId:"card-lostDeals",title:"Ingresos",titleRegular:"perdidos",isOpenModal:!1,filtersChartsDefault:{},initFilter:{filterBy:"sum",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{id:""},dealStatus:"LOST"}}},computed:{filtersConfig:function(){var e,t,i,r,o,a,n;return{filterBy:(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.filterBy)||this.initFilter.filterBy,users:this.usersGlobal||(null===(t=this.chart.filtersFull)||void 0===t?void 0:t.users)||this.initUsers,pipeline:(null===(i=this.chart.filtersFull)||void 0===i?void 0:i.pipeline)||this.initPipeline,periodRange:this.periodRangeGlobal||(null===(r=this.chart.filtersFull)||void 0===r?void 0:r.periodRange)||this.periodRange,periodPredefined:this.periodPredefinedGlobal||(null===(o=this.chart.filtersFull)||void 0===o?void 0:o.periodPredefined)||[this.defaultPeriod]||this.initFilter.periodPredefined,periodRangeToCompare:(null===(a=this.chart.filtersFull)||void 0===a?void 0:a.periodRangeToCompare)||this.initFilter.periodRangeToCompare,ownerToCompare:(null===(n=this.chart.filtersFull)||void 0===n?void 0:n.ownerToCompare)||this.initFilter.ownerToCompare}},filtersTable:function(){var e,t=this.getPeriod(this.initFilter.periodPredefined[0]).get(),i=Object(a["a"])(t,2),r=i[0],o=i[1];return{users:this.usersGlobal||this.users||this.initUsers,pipelines:this.pipelines||this.filtersChartsDefault.pipelines,periodRange:this.periodRangeGlobal||(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.periodRange)||{start:r,end:o},dealStatus:this.initFilter.dealStatus}}}},z=A,K=(i("0fcc"),Object(h["a"])(z,r,o,!1,null,"9d36d806",null));t["a"]=K.exports},1351:function(e,t,i){},"196f":function(e,t,i){},"20fa":function(e,t,i){},"21e6":function(e,t,i){"use strict";var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseCardChart",{attrs:{title:e.title,titleRegular:e.titleRegular,settings:e.filtersConfig},on:{updateRefetch:function(t){e.isRefetch=!0}},scopedSlots:e._u([{key:"modal",fn:function(){return[i("CardLostDealsFilter",{attrs:{defaultFilter:e.filtersConfig,isIcon:"",isPreview:""},on:{updateRefetch:function(t){e.isRefetch=!0}}})]},proxy:!0}])},[i("div",{staticClass:"hoverClick",on:{click:e.openModal}},[i("CardLostDealsData",{attrs:{defaultFilter:e.filtersConfig,isPreview:"",isRefetch:e.isRefetch},on:{updateRefetch:function(t){e.isRefetch=!1}}})],1),i("CardLostDealsModal",{attrs:{isOpen:e.isOpenModal,filters:{filtersConfig:e.filtersConfig,filtersTable:e.filtersTable},title:e.title,titleRegular:e.titleRegular},on:{close:e.closeModal}})],1)},o=[],a=i("3835"),n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalChart",{attrs:{title:e.title,titleRegular:e.titleRegular,isOpen:e.isOpen},on:{close:e.closeModal},scopedSlots:e._u([{key:"filters",fn:function(){return[i("CardLostDealsFilter",{attrs:{defaultFilter:e.filters.filtersConfig}})]},proxy:!0},{key:"chart",fn:function(){return[i("CardLostDealsData",{attrs:{defaultFilter:e.filters.filtersConfig}})]},proxy:!0},{key:"table",fn:function(){return[i("TableDeals",{attrs:{defaultFilter:e.filters.filtersTable}})]},proxy:!0}])})},s=[],l=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.isPreview?e._e():i("ListFilters",{attrs:{settings:e.settings}}),i("BaseCardNumber",{attrs:{information:{numberMain:""+e.generalConvertionRateFormat,textMain:e.textMain,valueMain:e.valueMain,textMainType:e.textChart,isCompare:!e.isPreview&&(e.settings.periodRangeToCompare.period.length>0||e.isCompareUser),numberCompare:""+e.generalConvertionRateCompare,textCompare:e.textCompare,valueCompare:e.valueCompare,numberDifferenceCompare:e.comparePercentage}}}),e.isPreview?e._e():i("CardLostDealsInformation",{attrs:{information:e.lostDealsCard.informationBar,filterBy:e.settings.filterBy}})],1)},d=[],p=(i("b680"),i("b0c0"),i("99af"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-card",{staticClass:"mt-5",attrs:{flat:""}},[i("v-container",[i("v-row",{staticClass:"justify-center"},[i("v-col",{attrs:{cols:"3"}},[e._l(e.information.userLostDeals,(function(t,r){return[i("span",{key:r,staticClass:"d-block"},[i("b",[e._v(e._s(t.name))]),e._v(" : "+e._s("sum"===e.filterBy?"$"+t[e.filterBy].toFixed(2):t[e.filterBy])+" ")])]}))],2),i("v-col",{attrs:{cols:"9"}},[i("v-row",[i("v-col",e._l(e.getInfo.firstColumn,(function(t,r){return i("span",{key:r,staticClass:"d-block"},[i("b",[e._v(e._s(e.columnOne[r]))]),e._v(" : "+e._s(t)+" ")])})),0),i("v-col",e._l(e.getInfo.secondColumn,(function(t,r){return i("span",{key:r,staticClass:"d-block"},[i("b",[e._v(e._s(e.columnTwo[r]))]),e._v(" : $"+e._s(t)+" ")])})),0),i("v-col",e._l(e.getInfo.thirdColumn,(function(t,r){return i("span",{key:r,staticClass:"d-block"},[i("b",[e._v(e._s(e.columnThree[r]))]),e._v(" : $"+e._s(t)+" ")])})),0)],1)],1)],1)],1)],1)}),u=[],f=(i("d81d"),{name:"CardLostDealsInformation",props:{information:{type:Object,default:function(){return{userLostDeals:[],periodsLostDeals:[]}}},filterBy:{type:String,default:"count"}},data:function(){return{columnOne:["Este período","Período pasado","Mismo período el mes anterior"],columnTwo:["Ingresos este período","Ingresos período pasado","Ingresos mismo período el mes anterior"],columnThree:["Ingresos totales este período","Ingresos totales período pasado","Ingresos totales mismo período el mes anterior"]}},computed:{getInfo:function(){var e=this.information.periodsLostDeals.map((function(e){return e.count})),t=this.information.periodsLostDeals.map((function(e){return e.sum})),i=this.information.periodsLostDeals.map((function(e){return e.totalSum}));return{firstColumn:e,secondColumn:t,thirdColumn:i}}}}),c=f,h=i("0c7c"),m=i("6544"),g=i.n(m),v=i("b0af"),C=i("62ad"),T=i("a523"),R=i("0fd9"),y=Object(h["a"])(c,p,u,!1,null,null,null),P=y.exports;g()(y,{VCard:v["a"],VCol:C["a"],VContainer:T["a"],VRow:R["a"]});var S=i("8d7e"),b=i("0db6"),F={name:"CardLostDealsData",mixins:[b["a"]],components:{CardLostDealsInformation:P},props:{defaultFilter:{type:Object,default:function(){return{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{id:""}}}},isPreview:{type:Boolean,default:!1}},data:function(){return{lostDealsCard:{},modalSettings:{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:[],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{id:""}},settings:{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:[],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{id:""}}}},computed:{isCompareUser:function(){var e,t,i,r,o,a;return(null===(e=this.lostDealsCard)||void 0===e||null===(t=e.mainLostDeals)||void 0===t?void 0:t.id)!==(null===(i=this.lostDealsCard)||void 0===i||null===(r=i.secondLostDeals)||void 0===r?void 0:r.id)&&""!==(null===(o=this.settings)||void 0===o||null===(a=o.ownerToCompare)||void 0===a?void 0:a.id)},comparePercentage:function(){return"0"===this.generalConvertionRateCompare?"0.00":(100*this.generalConvertionRateFormat/this.generalConvertionRateCompare-100).toFixed(2)},generalConvertionRateFormat:function(){var e,t,i,r;if(this.lostDealsCard&&void 0!==(null===(e=this.lostDealsCard)||void 0===e||null===(t=e.mainLostDeals)||void 0===t?void 0:t.count)&&void 0!==(null===(i=this.lostDealsCard)||void 0===i||null===(r=i.mainLostDeals)||void 0===r?void 0:r.sum)){var o,a;if("count"===this.settings.filterBy)return(null===(o=this.lostDealsCard)||void 0===o?void 0:o.mainLostDeals.count)||"0";if("sum"===this.settings.filterBy)return"$".concat(null===(a=this.lostDealsCard)||void 0===a?void 0:a.mainLostDeals.sum)||!1}return"0"},generalConvertionRateCompare:function(){var e,t,i,r;if(this.lostDealsCard&&void 0!==(null===(e=this.lostDealsCard)||void 0===e||null===(t=e.secondLostDeals)||void 0===t?void 0:t.count)&&void 0!==(null===(i=this.lostDealsCard)||void 0===i||null===(r=i.secondLostDeals)||void 0===r?void 0:r.sum)){var o,a=null===(o=this.lostDealsCard)||void 0===o?void 0:o.secondLostDeals[this.settings.filterBy];return a||"0"}return"0"},textCompare:function(){return"PREVIOUS_PERIOD"===this.settings.periodRangeToCompare.period?this.settings.periodPredefined[3]:"PREVIOUS_YEAR"===this.settings.periodRangeToCompare.period?"Año anterior":"CUSTOM"===this.settings.periodRangeToCompare.period?"Personalizado":""},valueCompare:function(){if(!this.isPreview){var e,t;if(this.isCompareUser)return null===(e=this.lostDealsCard)||void 0===e||null===(t=e.secondLostDeals)||void 0===t?void 0:t.name;if("CUSTOM"===this.settings.periodRangeToCompare.period)return"".concat(this.formatDate(this.filters.dateRangeToCompare.dateStart)," - ").concat(this.formatDate(this.filters.dateRangeToCompare.dateEnd))}return""},textMain:function(){return this.isPreview?"":(this.isCompareUser,this.settings.periodPredefined[2])},valueMain:function(){if(!this.isPreview){var e,t;if(this.isCompareUser)return null===(e=this.lostDealsCard)||void 0===e||null===(t=e.mainLostDeals)||void 0===t?void 0:t.name;if(this.settings.periodPredefined.length>0&&"CUSTOM"===this.settings.periodPredefined[0])return"".concat(this.formatDate(this.filters.dateRange.dateStart)," - ").concat(this.formatDate(this.filters.dateRange.dateEnd))}return""},filters:function(){var e={dateRange:{dateStart:this.dateStart,dateEnd:this.dateEnd},owners:this.ownersFilter,pipeline:this.pipelineFilter};return this.ownerToCompare&&""!==this.ownerToCompare.id&&(e.ownerToCompare=this.ownerToCompare),this.dateRangeToCompare&&""!==this.dateRangeToCompare.dateStart&&""!==this.dateRangeToCompare.dateEnd&&(e.dateRangeToCompare=this.dateRangeToCompare),e}},methods:{update:function(){this.$apollo.queries.lostDealsCard.refetch()}},apollo:{lostDealsCard:{query:S["r"],fetchPolicy:"no-cache",client:"charts",variables:function(){return{filters:this.filters}},skip:function(){return""===this.dateStart||""===this.dateEnd||!this.pipelineFilter.id||0===this.ownersFilter.length},loadingKey:"isLoading"}}},w=F,O=Object(h["a"])(w,l,d,!1,null,"5444d3d1",null),D=O.exports,_=i("8b70"),B=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalFilters",{attrs:{isOpen:e.isOpenModalFilter,isIcon:e.isIcon},on:{save:e.saveFilter,statusModal:e.statusModal}},[i("v-row",[i("v-col",{attrs:{cols:"12"}},[i("Select",{attrs:{name:"Filtrar por",defaultSelect:e.defaultFilter.filterBy,list:e.listFilterBy},on:{change:e.changeFilterBy}})],1),i("v-col",{attrs:{cols:"12"}},[i("SelectUsers",{attrs:{all:"",defaultSelect:e.defaultFilter.users},on:{change:e.changeUsers}})],1),i("v-col",{attrs:{cols:"12"}},[i("SelectPipeline",{attrs:{defaultSelect:e.defaultFilter.pipeline},on:{change:e.changePipeline}})],1),i("v-col",{attrs:{cols:"12"}},[i("PeriodPredefined",{attrs:{defaultSelect:e.defaultFilter.periodPredefined},on:{change:e.changePeriodPredefined}})],1),e.isPreview?e._e():i("v-col",{attrs:{cols:"12"}},[i("ComparePeriod",{attrs:{periodPredefined:e.filters.periodPredefined[0]},on:{change:e.changeComparePeriod}})],1)],1)],1)},M=[],I=i("5530"),x=i("740f"),L=i("d344"),G=i("6321"),E=i("c065"),j={name:"CardLostDealsFilter",components:{SelectUsers:x["a"],SelectPipeline:G["a"],Select:L["a"]},mixins:[b["b"]],props:{defaultFilter:{type:Object,default:function(){return{filterBy:"count",filterTime:"WEEKS",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{id:""}}}},isIcon:{type:Boolean,default:!1},isPreview:{type:Boolean,default:!1}},data:function(){return{listTime:E["d"],listFilterBy:E["e"],filters:{filterBy:"count",filterTime:"WEEKS",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{id:""}}}},methods:{changeComparePeriod:function(e){var t=e.isCompare,i=e.periodCompare,r=e.ownerCompare;if(t){if(r&&r.id&&(this.filters.ownerToCompare.id=r.id,this.filters.periodRangeToCompare.period="",this.filters.periodRangeToCompare.start="",this.filters.periodRangeToCompare.end=""),i){if(this.filters.periodRangeToCompare.period=i.periodSelected,i.periodRange.length>0){var o=Object(a["a"])(i.periodRange,2);this.filters.periodRangeToCompare.start=o[0],this.filters.periodRangeToCompare.end=o[1]}this.filters.ownerToCompare.id=""}}else this.filters.periodRangeToCompare.period="",this.filters.periodRangeToCompare.start="",this.filters.periodRangeToCompare.end="",this.filters.ownerToCompare.id=""},saveFilter:function(){this.changeChart({id:"card-lostDeals",filtersFull:Object(I["a"])(Object(I["a"])({},this.noReactive(this.filters)),{},{periodRange:Object(I["a"])({__typename:"PeriodRange"},this.filters.periodRange),ownerToCompare:Object(I["a"])({__typename:"OwnerToCompare"},this.filters.ownerToCompare)})}),this.isOpenModalFilter=!1}}},k=j,H=Object(h["a"])(k,B,M,!1,null,"e9e3db44",null),U=H.exports;g()(H,{VCol:C["a"],VRow:R["a"]});var N={name:"CardLostDealsModal",components:{CardLostDealsData:D,TableDeals:_["a"],CardLostDealsFilter:U},mixins:[b["c"]],props:{isOpen:{type:Boolean,default:!1},title:{type:String,default:"Sin título"},titleRegular:{type:String,default:""},filters:{type:Object,default:function(){return{filtersConfig:{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{id:""}},filtersTable:{users:[],pipelines:[],periodRange:{start:"",end:""},dealStatus:""}}}}}},V=N,W=Object(h["a"])(V,n,s,!1,null,"22af62d4",null),$=W.exports,A={name:"CardLostDealsPreview",components:{CardLostDealsData:D,CardLostDealsModal:$,CardLostDealsFilter:U},mixins:[b["d"]],props:{defaultPeriod:{type:String,default:"THIS_MONTH"}},data:function(){return{chartId:"card-lostDeals",title:"Tratos",titleRegular:"perdidos",isOpenModal:!1,filtersChartsDefault:{},initFilter:{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{id:""},dealStatus:"LOST"}}},computed:{filtersConfig:function(){var e,t,i,r,o,a,n;return{filterBy:(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.filterBy)||this.initFilter.filterBy,users:this.usersGlobal||(null===(t=this.chart.filtersFull)||void 0===t?void 0:t.users)||this.initUsers,pipeline:(null===(i=this.chart.filtersFull)||void 0===i?void 0:i.pipeline)||this.initPipeline,periodRange:this.periodRangeGlobal||(null===(r=this.chart.filtersFull)||void 0===r?void 0:r.periodRange)||this.periodRange,periodPredefined:this.periodPredefinedGlobal||(null===(o=this.chart.filtersFull)||void 0===o?void 0:o.periodPredefined)||[this.defaultPeriod]||this.initFilter.periodPredefined,periodRangeToCompare:(null===(a=this.chart.filtersFull)||void 0===a?void 0:a.periodRangeToCompare)||this.initFilter.periodRangeToCompare,ownerToCompare:(null===(n=this.chart.filtersFull)||void 0===n?void 0:n.ownerToCompare)||this.initFilter.ownerToCompare}},filtersTable:function(){var e,t=this.getPeriod(this.initFilter.periodPredefined[0]).get(),i=Object(a["a"])(t,2),r=i[0],o=i[1];return{users:this.usersGlobal||this.users||this.initUsers,pipelines:this.pipelines||this.filtersChartsDefault.pipelines,periodRange:this.periodRangeGlobal||(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.periodRange)||{start:r,end:o},dealStatus:this.initFilter.dealStatus}}}},z=A,K=(i("c67a"),Object(h["a"])(z,r,o,!1,null,"4cbab865",null));t["a"]=K.exports},"2d06":function(e,t,i){"use strict";var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseCardChart",{attrs:{title:e.title,titleRegular:e.titleRegular,settings:e.filtersConfig,isChart:""},on:{updateRefetch:function(t){e.isRefetch=!0}},scopedSlots:e._u([{key:"modal",fn:function(){return[i("LineOpportunitySalesByWeekFilter",{attrs:{defaultFilter:e.filtersConfig,isIcon:"",isPreview:""}})]},proxy:!0}])},[i("div",{staticClass:"hoverClick",on:{click:e.openModal}},[i("LineOpportunitySalesByWeekData",{attrs:{defaultFilter:e.filtersConfig,isPreview:"",isRefetch:e.isRefetch},on:{updateRefetch:function(t){e.isRefetch=!1}}})],1),i("LineOpportunitySalesByWeekModal",{attrs:{isOpen:e.isOpenModal,filters:{filtersConfig:e.filtersConfig,filtersConfig:e.filtersConfig,filtersTable:e.filtersTable},title:e.title,titleRegular:e.titleRegular},on:{close:e.closeModal}})],1)},o=[],a=i("3835"),n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalChart",{attrs:{title:e.title,titleRegular:e.titleRegular,isOpen:e.isOpen},on:{close:e.closeModal},scopedSlots:e._u([{key:"filters",fn:function(){return[i("LineOpportunitySalesByWeekFilter",{attrs:{defaultFilter:e.filters.filtersConfig}})]},proxy:!0},{key:"chart",fn:function(){return[i("LineOpportunitySalesByWeekData",{attrs:{defaultFilter:e.filters.filtersConfig,isFull:""}})]},proxy:!0},{key:"table",fn:function(){return[i("TableDeals",{attrs:{defaultFilter:e.filters.filtersTable}})]},proxy:!0}])})},s=[],l=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalFilters",{attrs:{isOpen:e.isOpenModalFilter,isIcon:e.isIcon},on:{save:e.saveFilter,statusModal:e.statusModal}},[i("v-row",[i("v-col",{attrs:{cols:"12"}},[i("Select",{attrs:{name:"Filtrar por",defaultSelect:e.defaultFilter.filterBy,list:e.listFilterBy},on:{change:e.changeFilterBy}})],1),"none"===e.typeCompare?i("v-col",{attrs:{cols:"12"}},[i("SelectUsers",{attrs:{all:"",defaultSelect:e.defaultFilter.users},on:{change:e.changeUsers}})],1):e._e(),i("v-col",{attrs:{cols:"12"}},[i("SelectPipeline",{attrs:{defaultSelect:e.defaultFilter.pipeline},on:{change:e.changePipeline}})],1),i("v-col",{attrs:{cols:"12"}},[i("PeriodPredefined",{attrs:{defaultSelect:e.defaultFilter.periodPredefined},on:{change:e.changePeriodPredefined}})],1),e.isPreview?e._e():i("v-col",{attrs:{cols:"12"}},[i("ComparePeriodLines",{attrs:{periodPredefined:e.filters.periodPredefined[0]},on:{change:e.changeComparePeriod}})],1)],1)],1)},d=[],p=i("5530"),u=i("740f"),f=i("d344"),c=i("6321"),h=i("c065"),m=i("e050"),g={name:"LineOpportunitySalesByWeekFilter",components:{SelectUsers:u["a"],SelectPipeline:c["a"],Select:f["a"]},mixins:[m["b"]],props:{defaultFilter:{type:Object,default:function(){return{filterBy:"count",filterTime:"WEEKS",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""}}}}},data:function(){return{listTime:h["d"],listFilterBy:h["e"],filters:{filterBy:"count",filterTime:"WEEKS",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""}}}},methods:{saveFilter:function(){this.changeChart({id:"line-opportunitySalesByWeek",filtersFull:Object(p["a"])(Object(p["a"])({},this.noReactive(this.filters)),{},{periodRange:Object(p["a"])({__typename:"PeriodRange"},this.filters.periodRange)})}),this.isOpenModalFilter=!1}}},v=g,C=i("0c7c"),T=i("6544"),R=i.n(T),y=i("62ad"),P=i("0fd9"),S=Object(C["a"])(v,l,d,!1,null,"3a359d36",null),b=S.exports;R()(S,{VCol:y["a"],VRow:P["a"]});var F=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.isPreview?e._e():i("ListFilters",{attrs:{settings:e.settings}}),i("div",{staticClass:"text-center bgWhite",class:[{"py-5 px-3":!e.isPreview},{showScroll:e.isWithScroll}]},[i("apexchart",{attrs:{height:e.isPreview?250:350,type:"line",options:e.options,series:e.series}})],1)],1)},w=[],O=i("2909"),D=(i("d81d"),i("b680"),i("b0c0"),i("99af"),i("8d7e")),_=i("b3b3"),B={name:"LineOpportunitySalesByWeekData",mixins:[m["a"]],props:{defaultFilter:{type:Object,default:function(){return{filterBy:"count",filterTime:"WEEKS",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"]}}}},data:function(){return{dealsLinearGraph:{mainDateList:[],secondDateList:[],mainDeals:[],secondDeals:[],mainAverageDateDeals:[],secondAverageDateDeals:[]},modalSettings:{filterBy:"count",filterTime:"WEEKS",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:[]},settings:{filterBy:"count",filterTime:"WEEKS",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:[]}}},computed:{options:function(){var e,t,i=this;return{chart:{height:this.isPreview?"250":"350",width:this.isWithScroll?"1200":"100%",type:"line",toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1},legend:{position:"top",horizontalAlign:this.isWithScroll?"left":"center",showForSingleSeries:!0},stroke:{width:[5,7,5],curve:"straight",dashArray:[0,8,5]},markers:{size:5,colors:void 0,strokeColors:"#fff",strokeWidth:2,strokeOpacity:.9,strokeDashArray:0,fillOpacity:1,discrete:[],shape:"circle",radius:2,offsetX:0,offsetY:0,onClick:void 0,onDblClick:void 0,showNullDataPoints:!0,hover:{size:void 0,sizeOffset:3}},colors:_["b"],grid:{row:{colors:["#f3f3f3","transparent"],opacity:.5}},xaxis:{categories:null===(e=this.dealsLinearGraph)||void 0===e||null===(t=e.mainDateList)||void 0===t?void 0:t.map((function(e){return e.dateString})),title:{text:this.showTitleXaxis},labels:{rotate:this.rotate}},yaxis:{title:{text:this.showTitleYaxis},tickAmount:1,labels:{formatter:function(e){return i.isCount?e.toFixed(0):"".concat(i.formatPrice(e)," ")}}}}},rotate:function(){if(this.isLargeWidth){if(this.isWeeks)return"-90";if(this.isMonths)return"0"}return 0},showTitleXaxis:function(){if(!this.isPreview)return this.isWeeks?"Semanas":"Meses"},showTitleYaxis:function(){if(!this.isPreview)return this.isCount?"Cantidad":"Valor"},series:function(){var e,t,i,r,o,a,n,s,l,d,p,u=this,f=(null===(e=this.dealsLinearGraph)||void 0===e||null===(t=e.mainDeals)||void 0===t||null===(i=t.usersDeals)||void 0===i?void 0:i.map((function(e){var t=e.name,i=e.countList,r=e.sumList;return{name:t,data:u.isCount?u.convertTwoDigits(i):u.convertTwoDigits(r)}})))||[],c=this.dateRangeToCompare&&(null===(r=this.dealsLinearGraph)||void 0===r||null===(o=r.secondDeals)||void 0===o||null===(a=o.usersDeals)||void 0===a?void 0:a.length)>0?null===(n=this.dealsLinearGraph)||void 0===n||null===(s=n.secondDeals)||void 0===s||null===(l=s.usersDeals)||void 0===l?void 0:l.map((function(e){var t=e.name,i=e.countList,r=e.sumList;return{name:"".concat(t," período anterior"),data:u.isCount?u.convertTwoDigits(i):u.convertTwoDigits(r)}})):[],h=[{name:"Promedio",data:this.isCount?this.convertTwoDigits(this.dealsLinearGraph.mainAverageDateDeals.map((function(e){return e.avgCount}))):this.convertTwoDigits(this.dealsLinearGraph.mainAverageDateDeals.map((function(e){return e.avgSum})))}],m=(null===(d=this.dealsLinearGraph)||void 0===d||null===(p=d.secondDeals)||void 0===p?void 0:p.length)>0?[{name:"Promedio anterior",data:this.isCount?this.convertTwoDigits(this.dealsLinearGraph.secondAverageDateDeals.map((function(e){return e.avgCount}))):this.convertTwoDigits(this.dealsLinearGraph.secondAverageDateDeals.map((function(e){return e.avgSum})))}]:[];return[].concat(h,Object(O["a"])(f),m,Object(O["a"])(c))},filters:function(){var e={dateRange:{dateStart:this.dateStart,dateEnd:this.dateEnd},owners:this.ownersToCompare.length>0?this.ownersToCompare:this.ownersFilter,pipeline:this.pipelineFilter,typePeriod:this.settings.periodPredefined[0],typePeriodDisplay:"WEEKS"};return this.dateRangeToCompare&&""!==this.dateRangeToCompare.dateStart&&""!==this.dateRangeToCompare.dateEnd&&(e.dateRangeToCompare=this.dateRangeToCompare),e}},methods:{update:function(){this.$apollo.queries.dealsLinearGraph.refetch()}},apollo:{dealsLinearGraph:{query:D["y"],fetchPolicy:"no-cache",client:"charts",variables:function(){return{filters:this.filters}},skip:function(){return""===this.dateStart||""===this.dateEnd||!this.pipelineFilter.id||0===this.ownersFilter.length},watchLoading:function(e){this.isLoading=e}}}},M=B,I=(i("fa25"),Object(C["a"])(M,F,w,!1,null,"477f5db4",null)),x=I.exports,L={name:"LineOpportunitySalesByWeekModal",components:{LineOpportunitySalesByWeekFilter:b,LineOpportunitySalesByWeekData:x},mixins:[m["c"]],props:{isOpen:{type:Boolean,default:!1},title:{type:String,default:"Sin título"},titleRegular:{type:String,default:""},filters:{type:Object,default:function(){return{filtersConfig:{filterTime:"WEEKS",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownersToCompare:[]},filtersTable:{users:[],pipelines:[],periodRange:{start:"",end:""},dealStatus:""}}}}}},G=L,E=Object(C["a"])(G,n,s,!1,null,"757a9c98",null),j=E.exports,k={name:"LineOpportunitySalesByWeekPreview",components:{LineOpportunitySalesByWeekData:x,LineOpportunitySalesByWeekModal:j,LineOpportunitySalesByWeekFilter:b},mixins:[m["d"]],props:{defaultPeriod:{type:String,default:"THIS_MONTH"}},data:function(){return{title:"Oportunidades",titleRegular:"por semana",chartId:"line-opportunitySalesByWeek",filtersChartsDefault:{},initFilter:{filterBy:"count",filterTime:"MONTHS",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownersToCompare:[],dealStatus:"ALL"}}},computed:{filtersConfig:function(){var e,t,i,r,o,a,n,s;return{filterBy:(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.filterBy)||this.initFilter.filterBy,filterTime:(null===(t=this.chart.filtersFull)||void 0===t?void 0:t.filterTime)||this.initFilter.filterTime,users:this.usersGlobal||(null===(i=this.chart.filtersFull)||void 0===i?void 0:i.users)||this.filtersChartsDefault.users,pipeline:(null===(r=this.chart.filtersFull)||void 0===r?void 0:r.pipeline)||this.initPipeline,periodRange:this.periodRangeGlobal||(null===(o=this.chart.filtersFull)||void 0===o?void 0:o.periodRange)||this.periodRange,periodPredefined:this.periodPredefinedGlobal||(null===(a=this.chart.filtersFull)||void 0===a?void 0:a.periodPredefined)||[this.defaultPeriod]||this.initFilter.periodPredefined,periodRangeToCompare:(null===(n=this.chart.filtersFull)||void 0===n?void 0:n.periodRangeToCompare)||this.initFilter.periodRangeToCompare,ownersToCompare:(null===(s=this.chart.filtersFull)||void 0===s?void 0:s.ownersToCompare)||this.initFilter.ownersToCompare}},filtersTable:function(){var e,t=this.getPeriod(this.initFilter.periodPredefined[0]).get(),i=Object(a["a"])(t,2),r=i[0],o=i[1];return{users:this.usersGlobal||this.users||this.filtersChartsDefault.users,pipelines:this.pipelines||this.initPipelines,periodRange:this.periodRangeGlobal||(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.periodRange)||{start:r,end:o},dealStatus:this.initFilter.dealStatus}}}},H=k,U=(i("508e"),Object(C["a"])(H,r,o,!1,null,"566bcf8c",null));t["a"]=U.exports},3044:function(e,t,i){},3288:function(e,t,i){"use strict";var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseCardChart",{attrs:{title:e.title,titleRegular:e.titleRegular,settings:e.filtersConfig},on:{updateRefetch:function(t){e.isRefetch=!0}},scopedSlots:e._u([{key:"modal",fn:function(){return[i("CardTotalIncomeGoalFilter",{attrs:{defaultFilter:e.filtersConfig,isIcon:"",isPreview:""}})]},proxy:!0}])},[i("div",{staticClass:"hoverClick",on:{click:e.openModal}},[i("CardTotalIncomeGoalData",{attrs:{defaultFilter:e.filtersConfig,isPreview:"",isRefetch:e.isRefetch},on:{updateRefetch:function(t){e.isRefetch=!1}}}),i("CardTotalIncomeGoalModal",{attrs:{isOpen:e.isOpenModal,filters:{filtersConfig:e.filtersConfig,filtersTable:e.filtersTable},title:e.title,titleRegular:e.titleRegular},on:{close:e.closeModal}})],1)])},o=[],a=i("3835"),n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalChart",{attrs:{title:e.title,titleRegular:e.titleRegular,isOpen:e.isOpen},on:{close:e.closeModal},scopedSlots:e._u([{key:"filters",fn:function(){return[i("CardTotalIncomeGoalFilter",{attrs:{defaultFilter:e.filters.filtersConfig}})]},proxy:!0},{key:"chart",fn:function(){return[i("CardTotalIncomeGoalData",{attrs:{defaultFilter:e.filters.filtersConfig}})]},proxy:!0},{key:"table",fn:function(){return[i("TableDeals",{attrs:{defaultFilter:e.filters.filtersTable}})]},proxy:!0}])})},s=[],l=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.isPreview?e._e():i("ListFilters",{attrs:{settings:e.settings}}),i("BaseCardNumber",{attrs:{information:{numberMain:""+e.generalConvertionRateFormat,textMain:e.textMain,valueMain:e.valueMain,textMainType:e.textChart,isCompare:!e.isPreview&&(e.settings.periodRangeToCompare.period.length>0||e.isCompareUser),numberCompare:""+e.generalConvertionRateCompare,textCompare:e.textCompare,valueCompare:e.valueCompare,numberDifferenceCompare:e.comparePercentage}}}),e.isPreview?e._e():i("CardTotalIncomeGoalInformation",{attrs:{information:e.totalIncomeGoalCard.informationBar,filterBy:e.settings.filterBy}})],1)},d=[],p=(i("b680"),i("b0c0"),i("99af"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-card",{staticClass:"mt-5",attrs:{flat:""}},[i("v-container",[i("v-row",{staticClass:"justify-center"},[i("v-col",{attrs:{cols:"3"}},[e._l(e.information.userTotalIncome,(function(t,r){return[i("span",{key:r,staticClass:"d-block"},[i("b",[e._v(e._s(t.name))]),e._v(" : "+e._s("sum"===e.filterBy?"$"+t[e.filterBy].toFixed(2):t[e.filterBy])+" ")])]}))],2),i("v-col",{attrs:{cols:"9"}},[i("v-row",[i("v-col",e._l(e.getInfo.firstColumn,(function(t,r){return i("span",{key:r,staticClass:"d-block"},[i("b",[e._v(e._s(e.columnOne[r]))]),e._v(" : "+e._s(t)+" ")])})),0),i("v-col",e._l(e.getInfo.secondColumn,(function(t,r){return i("span",{key:r,staticClass:"d-block"},[i("b",[e._v(e._s(e.columnTwo[r]))]),e._v(" : $"+e._s(t)+" ")])})),0),i("v-col",e._l(e.getInfo.thirdColumn,(function(t,r){return i("span",{key:r,staticClass:"d-block"},[i("b",[e._v(e._s(e.columnThree[r]))]),e._v(" : $"+e._s(t)+" ")])})),0)],1)],1)],1)],1)],1)}),u=[],f=(i("d81d"),{name:"CardTotalIncomeGoalInformation",props:{information:{type:Object,default:function(){return{userTotalIncome:[],periodsTotalIncome:[]}}},filterBy:{type:String,default:"count"}},data:function(){return{columnOne:["Este período","Período pasado","Mismo período el mes anterior"],columnTwo:["Ingresos este período","Ingresos período pasado","Ingresos mismo período el mes anterior"],columnThree:["Ingresos totales este período","Ingresos totales período pasado","Ingresos totales mismo período el mes anterior"]}},computed:{getInfo:function(){var e=this.information.periodsTotalIncome.map((function(e){return e.count})),t=this.information.periodsTotalIncome.map((function(e){return e.sum})),i=this.information.periodsTotalIncome.map((function(e){return e.totalSum}));return{firstColumn:e,secondColumn:t,thirdColumn:i}}}}),c=f,h=i("0c7c"),m=i("6544"),g=i.n(m),v=i("b0af"),C=i("62ad"),T=i("a523"),R=i("0fd9"),y=Object(h["a"])(c,p,u,!1,null,null,null),P=y.exports;g()(y,{VCard:v["a"],VCol:C["a"],VContainer:T["a"],VRow:R["a"]});var S=i("8d7e"),b=i("0db6"),F={name:"CardTotalIncomeGoalData",mixins:[b["a"]],components:{CardTotalIncomeGoalInformation:P},props:{defaultFilter:{type:Object,default:function(){return{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{id:""}}}},isPreview:{type:Boolean,default:!1}},data:function(){return{totalIncomeGoalCard:{},modalSettings:{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:[],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{id:""}},settings:{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:[],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{id:""}}}},computed:{isCompareUser:function(){var e,t,i,r,o,a;return(null===(e=this.totalIncomeGoalCard)||void 0===e||null===(t=e.mainTotalIncome)||void 0===t?void 0:t.id)!==(null===(i=this.totalIncomeGoalCard)||void 0===i||null===(r=i.secondTotalIncome)||void 0===r?void 0:r.id)&&""!==(null===(o=this.settings)||void 0===o||null===(a=o.ownerToCompare)||void 0===a?void 0:a.id)},comparePercentage:function(){return"0"===this.generalConvertionRateCompare?"0.00":(100*this.generalConvertionRateFormat/this.generalConvertionRateCompare-100).toFixed(2)},generalConvertionRateFormat:function(){var e,t,i,r;if(this.totalIncomeGoalCard&&void 0!==(null===(e=this.totalIncomeGoalCard)||void 0===e||null===(t=e.mainTotalIncome)||void 0===t?void 0:t.count)&&void 0!==(null===(i=this.totalIncomeGoalCard)||void 0===i||null===(r=i.mainTotalIncome)||void 0===r?void 0:r.sum)){var o,a;if("count"===this.settings.filterBy)return(null===(o=this.totalIncomeGoalCard)||void 0===o?void 0:o.mainTotalIncome.count)||"0";if("sum"===this.settings.filterBy)return"$".concat(null===(a=this.totalIncomeGoalCard)||void 0===a?void 0:a.mainTotalIncome.sum)||!1}return"0"},generalConvertionRateCompare:function(){var e,t,i,r;if(this.totalIncomeGoalCard&&void 0!==(null===(e=this.totalIncomeGoalCard)||void 0===e||null===(t=e.secondTotalIncome)||void 0===t?void 0:t.count)&&void 0!==(null===(i=this.totalIncomeGoalCard)||void 0===i||null===(r=i.secondTotalIncome)||void 0===r?void 0:r.sum)){var o,a=null===(o=this.totalIncomeGoalCard)||void 0===o?void 0:o.secondTotalIncome[this.settings.filterBy];return a||"0"}return"0"},textCompare:function(){return"PREVIOUS_PERIOD"===this.settings.periodRangeToCompare.period?this.settings.periodPredefined[3]:"PREVIOUS_YEAR"===this.settings.periodRangeToCompare.period?"Año anterior":"CUSTOM"===this.settings.periodRangeToCompare.period?"Personalizado":""},valueCompare:function(){if(!this.isPreview){var e,t;if(this.isCompareUser)return null===(e=this.totalIncomeGoalCard)||void 0===e||null===(t=e.secondTotalIncome)||void 0===t?void 0:t.name;if("CUSTOM"===this.settings.periodRangeToCompare.period)return"".concat(this.formatDate(this.filters.dateRangeToCompare.dateStart)," - ").concat(this.formatDate(this.filters.dateRangeToCompare.dateEnd))}return""},textMain:function(){return this.isPreview?"":(this.isCompareUser,this.settings.periodPredefined[2])},valueMain:function(){if(!this.isPreview){var e,t;if(this.isCompareUser)return null===(e=this.totalIncomeGoalCard)||void 0===e||null===(t=e.mainTotalIncome)||void 0===t?void 0:t.name;if(this.settings.periodPredefined.length>0&&"CUSTOM"===this.settings.periodPredefined[0])return"".concat(this.formatDate(this.filters.dateRange.dateStart)," - ").concat(this.formatDate(this.filters.dateRange.dateEnd))}return""},filters:function(){var e={dateRange:{dateStart:this.dateStart,dateEnd:this.dateEnd},owners:this.ownersFilter,pipeline:this.pipelineFilter};return this.ownerToCompare&&""!==this.ownerToCompare.id&&(e.ownerToCompare=this.ownerToCompare),this.dateRangeToCompare&&""!==this.dateRangeToCompare.dateStart&&""!==this.dateRangeToCompare.dateEnd&&(e.dateRangeToCompare=this.dateRangeToCompare),e}},methods:{update:function(){this.$apollo.queries.totalIncomeGoalCard.refetch()}},apollo:{totalIncomeGoalCard:{query:S["Q"],fetchPolicy:"no-cache",client:"charts",variables:function(){return{filters:this.filters}},skip:function(){return""===this.dateStart||""===this.dateEnd||!this.pipelineFilter.id||0===this.ownersFilter.length},loadingKey:"isLoading"}}},w=F,O=Object(h["a"])(w,l,d,!1,null,"0e37f735",null),D=O.exports,_=i("8b70"),B=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalFilters",{attrs:{isOpen:e.isOpenModalFilter,isIcon:e.isIcon},on:{save:e.saveFilter,statusModal:e.statusModal}},[i("v-row",[i("v-col",{attrs:{cols:"12"}},[i("Select",{attrs:{name:"Filtrar por",defaultSelect:e.defaultFilter.filterBy,list:e.listFilterBy},on:{change:e.changeFilterBy}})],1),i("v-col",{attrs:{cols:"12"}},[i("SelectUsers",{attrs:{all:"",defaultSelect:e.defaultFilter.users},on:{change:e.changeUsers}})],1),i("v-col",{attrs:{cols:"12"}},[i("SelectPipeline",{attrs:{defaultSelect:e.defaultFilter.pipeline},on:{change:e.changePipeline}})],1),i("v-col",{attrs:{cols:"12"}},[i("PeriodPredefined",{attrs:{defaultSelect:e.defaultFilter.periodPredefined},on:{change:e.changePeriodPredefined}})],1),e.isPreview?e._e():i("v-col",{attrs:{cols:"12"}},[i("ComparePeriod",{attrs:{periodPredefined:e.filters.periodPredefined[0]},on:{change:e.changeComparePeriod}})],1)],1)],1)},M=[],I=i("5530"),x=i("740f"),L=i("d344"),G=i("6321"),E=i("c065"),j={name:"CardTotalIncomeGoalFilter",components:{SelectUsers:x["a"],SelectPipeline:G["a"],Select:L["a"]},mixins:[b["b"]],props:{defaultFilter:{type:Object,default:function(){return{filterBy:"count",filterTime:"WEEKS",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{id:""}}}},isIcon:{type:Boolean,default:!1},isPreview:{type:Boolean,default:!1}},data:function(){return{listTime:E["d"],listFilterBy:E["e"],filters:{filterBy:"count",filterTime:"WEEKS",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{id:""}}}},methods:{changeComparePeriod:function(e){var t=e.isCompare,i=e.periodCompare,r=e.ownerCompare;if(t){if(r&&r.id&&(this.filters.ownerToCompare.id=r.id,this.filters.periodRangeToCompare.period="",this.filters.periodRangeToCompare.start="",this.filters.periodRangeToCompare.end=""),i){if(this.filters.periodRangeToCompare.period=i.periodSelected,i.periodRange.length>0){var o=Object(a["a"])(i.periodRange,2);this.filters.periodRangeToCompare.start=o[0],this.filters.periodRangeToCompare.end=o[1]}this.filters.ownerToCompare.id=""}}else this.filters.periodRangeToCompare.period="",this.filters.periodRangeToCompare.start="",this.filters.periodRangeToCompare.end="",this.filters.ownerToCompare.id=""},saveFilter:function(){this.changeChart({id:"card-totalIncomeGoal",filtersFull:Object(I["a"])(Object(I["a"])({},this.noReactive(this.filters)),{},{periodRange:Object(I["a"])({__typename:"PeriodRange"},this.filters.periodRange),ownerToCompare:Object(I["a"])({__typename:"OwnerToCompare"},this.filters.ownerToCompare)})}),this.isOpenModalFilter=!1}}},k=j,H=Object(h["a"])(k,B,M,!1,null,"3aa2a1a1",null),U=H.exports;g()(H,{VCol:C["a"],VRow:R["a"]});var N={name:"CardTotalIncomeGoalModal",components:{CardTotalIncomeGoalData:D,TableDeals:_["a"],CardTotalIncomeGoalFilter:U},mixins:[b["c"]],props:{isOpen:{type:Boolean,default:!1},title:{type:String,default:"Sin título"},titleRegular:{type:String,default:""},filters:{type:Object,default:function(){return{filtersConfig:{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{id:""}},filtersTable:{users:[],pipelines:[],periodRange:{start:"",end:""},dealStatus:""}}}}}},V=N,W=Object(h["a"])(V,n,s,!1,null,"dabaa4f0",null),$=W.exports,A={name:"CardTotalIncomeGoalPreview",components:{CardTotalIncomeGoalData:D,CardTotalIncomeGoalModal:$,CardTotalIncomeGoalFilter:U},mixins:[b["d"]],props:{defaultPeriod:{type:String,default:"THIS_MONTH"}},data:function(){return{chartId:"card-totalIncomeGoal",title:"Ingreso",titleRegular:"total",isOpenModal:!1,filtersChartsDefault:{},initFilter:{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{id:""},dealStatus:"WON"}}},computed:{filtersConfig:function(){var e,t,i,r,o,a,n;return{filterBy:(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.filterBy)||this.initFilter.filterBy,users:this.usersGlobal||(null===(t=this.chart.filtersFull)||void 0===t?void 0:t.users)||this.initUsers,pipeline:(null===(i=this.chart.filtersFull)||void 0===i?void 0:i.pipeline)||this.initPipeline,periodRange:this.periodRangeGlobal||(null===(r=this.chart.filtersFull)||void 0===r?void 0:r.periodRange)||this.periodRange,periodPredefined:this.periodPredefinedGlobal||(null===(o=this.chart.filtersFull)||void 0===o?void 0:o.periodPredefined)||[this.defaultPeriod]||this.initFilter.periodPredefined,periodRangeToCompare:(null===(a=this.chart.filtersFull)||void 0===a?void 0:a.periodRangeToCompare)||this.initFilter.periodRangeToCompare,ownerToCompare:(null===(n=this.chart.filtersFull)||void 0===n?void 0:n.ownerToCompare)||this.initFilter.ownerToCompare}},filtersTable:function(){var e,t=this.getPeriod(this.initFilter.periodPredefined[0]).get(),i=Object(a["a"])(t,2),r=i[0],o=i[1];return{users:this.usersGlobal||this.users||this.initUsers,pipelines:this.pipelines||this.filtersChartsDefault.pipelines,periodRange:this.periodRangeGlobal||(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.periodRange)||{start:r,end:o},dealStatus:this.initFilter.dealStatus}}}},z=A,K=(i("cfa6"),Object(h["a"])(z,r,o,!1,null,"7a7d1054",null));t["a"]=K.exports},"35e9":function(e,t,i){"use strict";i("f937")},3614:function(e,t,i){"use strict";i("6ab5")},3753:function(e,t,i){},"3da9":function(e,t,i){},"438c":function(e,t,i){},4696:function(e,t,i){"use strict";i("ea8e")},"4ac6":function(e,t,i){"use strict";var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseCardChart",{attrs:{title:e.title,titleRegular:e.titleRegular,settings:e.filtersConfig,isChart:""},on:{updateRefetch:function(t){e.isRefetch=!0}},scopedSlots:e._u([{key:"modal",fn:function(){return[i("BarLostDealsByStageFilter",{attrs:{defaultFilter:e.filtersConfig,isIcon:"",isPreview:""}})]},proxy:!0}])},[i("div",{staticClass:"hoverClick",on:{click:e.openModal}},[i("BarLostDealsByStageData",{attrs:{defaultFilter:e.filtersConfig,isPreview:"",isRefetch:e.isRefetch},on:{updateRefetch:function(t){e.isRefetch=!1}}})],1),i("BarLostDealsByStageModal",{attrs:{isOpen:e.isOpenModal,filters:{filtersConfig:e.filtersConfig,filtersTable:e.filtersTable},title:e.title,titleRegular:e.titleRegular},on:{close:e.closeModal}})],1)},o=[],a=i("3835"),n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalChart",{attrs:{title:e.title,titleRegular:e.titleRegular,isOpen:e.isOpen},on:{close:e.closeModal},scopedSlots:e._u([{key:"filters",fn:function(){return[i("BarLostDealsByStageFilter",{attrs:{defaultFilter:e.filters.filtersConfig}})]},proxy:!0},{key:"chart",fn:function(){return[i("BarLostDealsByStageData",{attrs:{defaultFilter:e.filters.filtersConfig,isFull:""}})]},proxy:!0},{key:"table",fn:function(){return[i("TableDeals",{attrs:{defaultFilter:e.filters.filtersTable}})]},proxy:!0}])})},s=[],l=i("52e2"),d=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalFilters",{attrs:{isOpen:e.isOpenModalFilter,isIcon:e.isIcon},on:{save:e.saveFilter,statusModal:e.statusModal}},[i("v-row",[i("v-col",{attrs:{cols:"12"}},[i("Select",{attrs:{name:"Filtrar por",defaultSelect:e.defaultFilter.filterBy,list:e.listFilterBy},on:{change:e.changeFilterBy}})],1),i("v-col",{attrs:{cols:"12"}},[i("SelectUsers",{attrs:{all:"",defaultSelect:e.defaultFilter.users},on:{change:e.changeUsers}})],1),i("v-col",{attrs:{cols:"12"}},[i("SelectPipeline",{attrs:{defaultSelect:e.defaultFilter.pipeline},on:{change:e.changePipeline}})],1),i("v-col",{attrs:{cols:"12"}},[i("PeriodPredefined",{attrs:{defaultSelect:e.defaultFilter.periodPredefined},on:{change:e.changePeriodPredefined}})],1),e.isPreview?e._e():i("v-col",{attrs:{cols:"12"}},[i("ComparePeriodBars",{attrs:{periodPredefined:e.filters.periodPredefined[0]},on:{change:e.changeComparePeriod}})],1)],1)],1)},p=[],u=i("5530"),f=i("740f"),c=i("d344"),h=i("6321"),m=i("c065"),g={name:"BarLostDealsByStageFilter",components:{SelectUsers:f["a"],SelectPipeline:h["a"],Select:c["a"]},mixins:[l["b"]],props:{defaultFilter:{type:Object,default:function(){return{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{},typeCompare:"none"}}}},data:function(){return{listTime:m["d"],listFilterBy:m["e"],filters:{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{},typeCompare:"none"}}},methods:{saveFilter:function(){this.changeChart({id:"bar-lostDealsByStage",filtersFull:Object(u["a"])(Object(u["a"])({},this.noReactive(this.filters)),{},{periodRange:Object(u["a"])({__typename:"PeriodRange"},this.filters.periodRange),ownerToCompare:Object(u["a"])({},this.filters.ownerToCompare)})}),this.isOpenModalFilter=!1}}},v=g,C=i("0c7c"),T=i("6544"),R=i.n(T),y=i("62ad"),P=i("0fd9"),S=Object(C["a"])(v,d,p,!1,null,"049e76c9",null),b=S.exports;R()(S,{VCol:y["a"],VRow:P["a"]});var F=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.isPreview?e._e():i("ListFilters",{attrs:{settings:e.settings}}),i("div",{staticClass:"text-center bgWhite",class:[{"py-5 px-3":!e.isPreview},{showScroll:e.isWithScroll}]},[e.isPreview||"date"!==e.settings.typeCompare?e._e():i("div",[i("h4",[e._v(" "+e._s(e.textMain)+" ")]),i("span",[e._v(e._s(e.valuePeriodRange))])]),e.isPreview||"user"!==e.settings.typeCompare?e._e():i("div",[i("h4",[e._v(" "+e._s(e.textMain)+" ")]),i("span",[e._v(e._s(e.userMain))])]),i("apexchart",{attrs:{height:e.isPreview?250:350,type:"bar",options:e.options,series:e.series}}),e.isPreview||"date"!==e.settings.typeCompare?e._e():i("div",[i("h4",[e._v(" "+e._s(e.textCompare)+" ")]),i("span",[e._v(e._s(e.valuePeriodRangeToCompare))])]),e.isPreview||"user"!==e.settings.typeCompare?e._e():i("div",[i("span",[e._v(e._s(e.valueOwnerToCompare))])]),e.isPreview||"none"===e.settings.typeCompare?e._e():i("apexchart",{attrs:{height:e.isPreview?250:350,type:"bar",options:e.optionsCompare,series:e.seriesCompare}})],1),e.isPreview?e._e():i("BarLostDealsByStageInformation",{attrs:{information:e.lostDealsByStageVerticalBarsGraph.informationBar,filterBy:e.settings.filterBy}})],1)},w=[],O=i("2909"),D=(i("99af"),i("b0c0"),i("d81d"),i("8d7e")),_=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-card",{staticClass:"mt-5",attrs:{flat:""}},[i("v-container",[i("v-row",{staticClass:"justify-center"},[i("v-col",{attrs:{cols:"3"}},[i("span",[i("b",[e._v("Tasa de conversión general:")]),e._v(" "+e._s(e.information.generalConvertionRate&&e.information.generalConvertionRate[e.filterBy])+" ")])]),i("v-col",{attrs:{cols:"3"}},[i("b",[e._v("Tasa de oportunidades ganadas:")]),e._v(" "+e._s(e.information.wonDeals&&e.information.wonDeals[e.filterBy])+" ")]),i("v-col",{attrs:{cols:"3"}},[i("b",[e._v("Tasa de oportunidades perdidas:")]),e._v(" "+e._s(e.information.lostDeals&&e.information.lostDeals[e.filterBy])+" ")]),i("v-col",{attrs:{cols:"3"}},[i("b",[e._v("Tasa de oportunidades abiertas:")]),e._v(" "+e._s(e.information.openDeals&&e.information.openDeals[e.filterBy])+" ")])],1)],1)],1)},B=[],M={name:"BarLostDealsByStageInformation",props:{information:{type:Object,default:function(){return{}}},filterBy:{type:String,default:"count"}}},I=M,x=i("b0af"),L=i("a523"),G=Object(C["a"])(I,_,B,!1,null,null,null),E=G.exports;R()(G,{VCard:x["a"],VCol:y["a"],VContainer:L["a"],VRow:P["a"]});var j={name:"BarLostDealsByStageData",mixins:[l["a"]],components:{BarLostDealsByStageInformation:E},props:{defaultFilter:{type:Object,default:function(){return{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],typeCompare:"none"}}}},data:function(){return{listFilterBy:m["e"],lostDealsByStageVerticalBarsGraph:{mainLostDealsByStage:[],secondLostDealsByStage:[]},modalSettings:{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],typeCompare:"none"},settings:{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],typeCompare:"none"}}},computed:{textMain:function(){return this.isPreview?"":this.settings.periodPredefined[2]},userMain:function(){return"".concat(this.settings.user.user.name," ").concat(this.settings.user.user.lastName)},textCompare:function(){return"PREVIOUS_PERIOD"===this.settings.periodRangeToCompare.period?this.settings.periodPredefined[3]:"PREVIOUS_YEAR"===this.settings.periodRangeToCompare.period?"Año anterior":"CUSTOM"===this.settings.periodRangeToCompare.period?"Personalizado":""},valuePeriodRange:function(){return this.isPreview?"":"".concat(this.formatDate(this.settings.periodRange.start)," - ").concat(this.formatDate(this.settings.periodRange.end))},valuePeriodRangeToCompare:function(){return this.isPreview?"":"".concat(this.formatDate(this.settings.periodRangeToCompare.start)," - ").concat(this.formatDate(this.settings.periodRangeToCompare.end))},valueOwnerToCompare:function(){return"".concat(this.settings.ownerToCompare.user.name," ").concat(this.settings.ownerToCompare.user.lastName)},listDataChart:function(){return this.formatData(this.lostDealsByStageVerticalBarsGraph.mainLostDealsByStage)},listDataChartCompare:function(){return this.formatData(this.lostDealsByStageVerticalBarsGraph.secondLostDealsByStage)},options:function(){return this.formatOptions(this.listDataChart)},optionsCompare:function(){return this.formatOptions(this.listDataChartCompare)},series:function(){return this.formatSeries(this.listDataChart)},seriesCompare:function(){return this.formatSeries(this.listDataChartCompare)},showTitleXaxis:function(){if(!this.isPreview)return"Etapas"},showTitleYaxis:function(){if(!this.isPreview)return this.isCount?"Cantidad de tratos":"Valor de tratos"},isWithScroll:function(){return this.isPreview},filters:function(){var e={dateRange:{dateStart:this.dateStart,dateEnd:this.dateEnd},owners:this.ownersFilter,pipeline:this.pipelineFilter};return this.dateRangeToCompare&&""!==this.dateRangeToCompare.dateStart&&""!==this.dateRangeToCompare.dateEnd&&(e.dateRangeToCompare=this.dateRangeToCompare),e}},mounted:function(){var e=this;this.$nextTick((function(){window.addEventListener("resize",e.onResize)}))},beforeDestroy:function(){window.removeEventListener("resize",this.onResize)},methods:{update:function(){this.$apollo.queries.lostDealsByStageVerticalBarsGraph.refetch()},onResize:function(){this.windowWidth=window.innerWidth},formatData:function(e){if(null!==e&&void 0!==e&&e.count&&null!==e&&void 0!==e&&e.sum){var t=JSON.parse(JSON.stringify(e)),i=t.count,r=t.sum,o=this.isCount?i.map((function(e){return e.stageName})):r.map((function(e){return e.stageName})),a=i.map((function(){return"#881414"}));return{count:i.map((function(e){return e.count})),sum:r.map((function(e){return e.sum})),stages:o,colors:a}}return{count:[],sum:[],stages:[],colors:[]}},formatOptions:function(e){var t=this,i=e.stages,r=void 0===i?[]:i,o=e.points,a=void 0===o?[]:o,n=e.colors,s=void 0===n?[]:n;return{chart:{height:this.isPreview?"250":"350",width:this.isWithScroll?"1200":"100%",toolbar:{show:!1},zoom:{enabled:!1}},colors:s,plotOptions:{bar:{distributed:!0,columnWidth:"45%",borderRadius:10,dataLabels:{position:"top",orientation:"horizontal"}}},legend:{show:!1},dataLabels:{enabled:!0,style:{fontSize:"12px"},offsetY:-20,background:{enabled:!0,foreColor:"#000",borderRadius:0},formatter:function(e){return"".concat(t.isCount?e:t.formatPrice(e))}},grid:{row:{colors:["#fff","#f2f2f2"]}},annotations:{points:a},xaxis:{tickPlacement:"on",type:"category",categories:Object(O["a"])(r),labels:{show:!0},title:{text:this.showTitleXaxis}},yaxis:{labels:{formatter:function(e){return"".concat(e===1/0?t.isCount?0:t.formatPrice(0):t.isCount?e:t.formatPrice(e))}},title:{text:this.showTitleYaxis}}}},formatSeries:function(e){var t=e.count,i=void 0===t?[]:t,r=e.sum,o=void 0===r?[]:r;return i.length&&o.length?[{name:this.isCount?"Cantidad":"Valor",data:this.isCount?Object(O["a"])(i):Object(O["a"])(o)}]:[]}},apollo:{lostDealsByStageVerticalBarsGraph:{query:D["s"],fetchPolicy:"no-cache",client:"charts",variables:function(){return{filters:this.filters}},skip:function(){return""===this.dateStart||""===this.dateEnd||!this.pipelineFilter.id||0===this.ownersFilter.length},watchLoading:function(e){this.isLoading=e}}}},k=j,H=(i("3614"),Object(C["a"])(k,F,w,!1,null,"d033a38a",null)),U=H.exports,N=i("8b70"),V={name:"BarLostDealsByStageModal",components:{BarLostDealsByStageFilter:b,BarLostDealsByStageData:U,TableDeals:N["a"]},mixins:[l["c"]],props:{filters:{type:Object,default:function(){return{filtersConfig:{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{},typeCompare:"none"},filtersTable:{users:[],pipelines:[],periodRange:{start:"",end:""},dealStatus:""}}}}}},W=V,$=Object(C["a"])(W,n,s,!1,null,"50b46d4e",null),A=$.exports,z={name:"BarLostDealsByStagePreview",components:{BarLostDealsByStageData:U,BarLostDealsByStageModal:A,BarLostDealsByStageFilter:b},mixins:[l["d"]],props:{defaultPeriod:{type:String,default:"THIS_MONTH"}},data:function(){return{chartId:"bar-lostDealsByStage",title:"Pérdida",titleRegular:"por etapa",filtersChartsDefault:{},initFilter:{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{},dealStatus:"WON",typeCompare:"none"}}},computed:{filtersConfig:function(){var e,t,i,r,o,a,n,s;return{filterBy:(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.filterBy)||this.initFilter.filterBy,users:this.usersGlobal||(null===(t=this.chart.filtersFull)||void 0===t?void 0:t.users)||this.initUsers,pipeline:(null===(i=this.chart.filtersFull)||void 0===i?void 0:i.pipeline)||this.initPipeline,periodRange:this.periodRangeGlobal||(null===(r=this.chart.filtersFull)||void 0===r?void 0:r.periodRange)||this.periodRange,periodPredefined:this.periodPredefinedGlobal||(null===(o=this.chart.filtersFull)||void 0===o?void 0:o.periodPredefined)||[this.defaultPeriod]||this.initFilter.periodPredefined,periodRangeToCompare:(null===(a=this.chart.filtersFull)||void 0===a?void 0:a.periodRangeToCompare)||this.initFilter.periodRangeToCompare,ownerToCompare:(null===(n=this.chart.filtersFull)||void 0===n?void 0:n.ownerToCompare)||this.initFilter.ownerToCompare,typeCompare:(null===(s=this.chart.filtersFull)||void 0===s?void 0:s.typeCompare)||this.initFilter.typeCompare}},filtersTable:function(){var e,t=this.getPeriod(this.initFilter.periodPredefined[0]).get(),i=Object(a["a"])(t,2),r=i[0],o=i[1];return{users:this.usersGlobal||this.users||this.initUsers,pipelines:this.pipelines||[this.initPipeline],periodRange:this.periodRangeGlobal||(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.periodRange)||{start:r,end:o},dealStatus:this.initFilter.dealStatus}}}},K=z,Y=(i("d1c1"),Object(C["a"])(K,r,o,!1,null,"0eb15fe5",null));t["a"]=Y.exports},"4de43":function(e,t,i){},"4e48":function(e,t,i){},"508e":function(e,t,i){"use strict";i("4de43")},5338:function(e,t,i){"use strict";i.r(t);var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-row",[i("v-col",{attrs:{cols:"4"}},[i("CardOpportunitySalePreview",{attrs:{defaultPeriod:e.defaultPeriod,filtersGlobal:e.filtersChartsGlobal}})],1),i("v-col",{attrs:{cols:"4"}},[i("LineOpportunitySalesByWeekPreview",{attrs:{defaultPeriod:e.defaultPeriod,filtersGlobal:e.filtersChartsGlobal}})],1),i("v-col",{attrs:{cols:"4"}},[i("BarOpportunitySalesPreview",{attrs:{defaultPeriod:e.defaultPeriod,filtersGlobal:e.filtersChartsGlobal}})],1),i("v-col",{attrs:{cols:"4"}},[i("CardConvertionRatePreview",{attrs:{defaultPeriod:e.defaultPeriod,filtersGlobal:e.filtersChartsGlobal}})],1),i("v-col",{attrs:{cols:"4"}},[i("BarStageConvertionRatePreview",{attrs:{defaultPeriod:e.defaultPeriod,filtersGlobal:e.filtersChartsGlobal}})],1),i("v-col",{attrs:{cols:"4"}},[i("LineThroughTimeConvertionRatePreview",{attrs:{defaultPeriod:e.defaultPeriod,filtersGlobal:e.filtersChartsGlobal}})],1),i("v-col",{attrs:{cols:"4"}},[i("CardTotalIncomeGoalPreview",{attrs:{defaultPeriod:e.defaultPeriod,filtersGlobal:e.filtersChartsGlobal}})],1),i("v-col",{attrs:{cols:"4"}},[i("LineTotalIncomeGoalPreview",{attrs:{defaultPeriod:e.defaultPeriod,filtersGlobal:e.filtersChartsGlobal}})],1),i("v-col",{attrs:{cols:"4"}},[i("LineSalesGrowthMonthlyPreview",{attrs:{defaultPeriod:e.defaultPeriod,filtersGlobal:e.filtersChartsGlobal}})],1),i("v-col",{attrs:{cols:"4"}},[i("CardAverageDaysInPipelinePreview",{attrs:{defaultPeriod:e.defaultPeriod,filtersGlobal:e.filtersChartsGlobal}})],1),i("v-col",{attrs:{cols:"4"}},[i("LineSalesCycleByMonthPreview",{attrs:{defaultPeriod:e.defaultPeriod,filtersGlobal:e.filtersChartsGlobal}})],1),i("v-col",{attrs:{cols:"4"}},[i("BarSalesCycleByStagePreview",{attrs:{defaultPeriod:e.defaultPeriod,filtersGlobal:e.filtersChartsGlobal}})],1),i("v-col",{attrs:{cols:"4"}},[i("CardTotalOpenDealsPreview",{attrs:{defaultPeriod:e.defaultPeriod,filtersGlobal:e.filtersChartsGlobal}})],1),i("v-col",{attrs:{cols:"4"}},[i("CardRottenDealsPreview",{attrs:{defaultPeriod:e.defaultPeriod,filtersGlobal:e.filtersChartsGlobal}})],1),i("v-col",{attrs:{cols:"4"}},[i("CardLostDealsPreview",{attrs:{defaultPeriod:e.defaultPeriod,filtersGlobal:e.filtersChartsGlobal}})],1),i("v-col",{attrs:{cols:"4"}},[i("DonutLostReasonPreview",{attrs:{defaultPeriod:e.defaultPeriod,filtersGlobal:e.filtersChartsGlobal}})],1),i("v-col",{attrs:{cols:"4"}},[i("CardIncomeLostDealsPreview",{attrs:{defaultPeriod:e.defaultPeriod,filtersGlobal:e.filtersChartsGlobal}})],1),i("v-col",{attrs:{cols:"4"}},[i("BarLostDealsByStagePreview",{attrs:{defaultPeriod:e.defaultPeriod,filtersGlobal:e.filtersChartsGlobal}})],1)],1)},o=[],a=i("0b15"),n=i("fca8"),s=i("5cf0"),l=i("3288"),d=i("a6a1"),p=i("7502"),u=i("6d40"),f=i("21e6"),c=i("1070"),h=i("e939"),m=i("2d06"),g=i("0486"),v=i("6854"),C=i("92ad"),T=i("2038"),R=i("e624"),y=i("8cb4"),P=i("4ac6"),S=i("fc2c"),b={name:"DashboardMonthly",components:{CardConvertionRatePreview:n["a"],CardOpportunitySalePreview:s["a"],CardTotalIncomeGoalPreview:l["a"],CardAverageDaysInPipelinePreview:d["a"],CardTotalOpenDealsPreview:p["a"],CardRottenDealsPreview:u["a"],CardLostDealsPreview:f["a"],CardIncomeLostDealsPreview:c["a"],LineThroughTimeConvertionRatePreview:h["a"],LineOpportunitySalesByWeekPreview:m["a"],LineTotalIncomeGoalPreview:g["a"],LineSalesGrowthMonthlyPreview:v["a"],LineSalesCycleByMonthPreview:C["a"],BarStageConvertionRatePreview:T["a"],BarOpportunitySalesPreview:R["a"],BarSalesCycleByStagePreview:y["a"],BarLostDealsByStagePreview:P["a"],DonutLostReasonPreview:S["a"]},mixins:[a["a"]],data:function(){return{defaultPeriod:"THIS_MONTH"}}},F=b,w=(i("e481"),i("0c7c")),O=i("6544"),D=i.n(O),_=i("62ad"),B=i("0fd9"),M=Object(w["a"])(F,r,o,!1,null,"9bc80e7c",null);t["default"]=M.exports;D()(M,{VCol:_["a"],VRow:B["a"]})},"53b2":function(e,t,i){},"548b":function(e,t,i){"use strict";i("53b2")},"574b":function(e,t,i){},"5ba8":function(e,t,i){},"5cf0":function(e,t,i){"use strict";var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseCardChart",{attrs:{title:e.title,titleRegular:e.titleRegular,settings:e.filtersConfig},on:{updateRefetch:function(t){e.isRefetch=!0}},scopedSlots:e._u([{key:"modal",fn:function(){return[i("CardOpportunitySaleFilter",{attrs:{defaultFilter:e.filtersConfig,isIcon:"",isPreview:""}})]},proxy:!0}])},[i("div",{staticClass:"hoverClick",on:{click:e.openModal}},[i("CardOpportunitySaleData",{attrs:{defaultFilter:e.filtersConfig,isPreview:"",isRefetch:e.isRefetch},on:{updateRefetch:function(t){e.isRefetch=!1}}})],1),i("CardOpportunitySaleModal",{attrs:{isOpen:e.isOpenModal,filters:{filtersConfig:e.filtersConfig,filtersTable:e.filtersTable},title:e.title,titleRegular:e.titleRegular},on:{close:e.closeModal}})],1)},o=[],a=i("3835"),n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalChart",{attrs:{title:e.title,titleRegular:e.titleRegular,isOpen:e.isOpen},on:{close:e.closeModal},scopedSlots:e._u([{key:"filters",fn:function(){return[i("CardOpportunitySaleFilter",{attrs:{defaultFilter:e.filters.filtersConfig}})]},proxy:!0},{key:"chart",fn:function(){return[i("CardOpportunitySaleData",{attrs:{defaultFilter:e.filters.filtersConfig}})]},proxy:!0},{key:"table",fn:function(){return[i("TableDeals",{attrs:{defaultFilter:e.filters.filtersTable}})]},proxy:!0}])})},s=[],l=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.isPreview?e._e():i("ListFilters",{attrs:{settings:e.settings}}),i("BaseCardNumber",{attrs:{information:{numberMain:""+e.generalConvertionRateFormat,textMain:e.textMain,valueMain:e.valueMain,textMainType:e.textChart,isCompare:!e.isPreview&&(e.settings.periodRangeToCompare.period.length>0||e.isCompareUser),numberCompare:""+e.generalConvertionRateCompare,textCompare:e.textCompare,valueCompare:e.valueCompare,numberDifferenceCompare:e.comparePercentage}}}),e.isPreview?e._e():i("CardOpportunitySaleInformation",{attrs:{information:e.opportunitySaleCard.informationBar,filterBy:e.settings.filterBy}})],1)},d=[],p=(i("b680"),i("b0c0"),i("99af"),i("8d7e")),u=i("0db6"),f=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-card",{staticClass:"mt-5",attrs:{flat:""}},[i("v-container",[i("v-row",{staticClass:"justify-center"},[i("v-col",{attrs:{cols:"3"}},[e._l(e.information.usersOpportunitySales,(function(t,r){return[i("span",{key:r,staticClass:"d-block"},[i("b",[e._v(e._s(t.name))]),e._v(" : "+e._s("sum"===e.filterBy?"$"+t[e.filterBy].toFixed(2):t[e.filterBy])+" ")])]}))],2),i("v-col",{attrs:{cols:"9"}},[i("v-row",[i("v-col",e._l(e.getInfo.firstColumn,(function(t,r){return i("span",{key:r,staticClass:"d-block"},[i("b",[e._v(e._s(e.columnOne[r]))]),e._v(" : "+e._s(t)+" ")])})),0),i("v-col",e._l(e.getInfo.secondColumn,(function(t,r){return i("span",{key:r,staticClass:"d-block"},[i("b",[e._v(e._s(e.columnTwo[r]))]),e._v(" : $"+e._s(t)+" ")])})),0),i("v-col",e._l(e.getInfo.thirdColumn,(function(t,r){return i("span",{key:r,staticClass:"d-block"},[i("b",[e._v(e._s(e.columnThree[r]))]),e._v(" : $"+e._s(t)+" ")])})),0)],1)],1)],1)],1)],1)},c=[],h=(i("d81d"),{name:"CardOpportunitySaleInformation",props:{information:{type:Object,default:function(){return{usersOpportunitySales:[],periodsOpportunitySales:[]}}},filterBy:{type:String,default:"count"}},data:function(){return{columnOne:["Este período","Período pasado","Mismo período el mes anterior"],columnTwo:["Ingresos este período","Ingresos período pasado","Ingresos mismo período el mes anterior"],columnThree:["Ingresos totales este período","Ingresos totales período pasado","Ingresos totales mismo período el mes anterior"]}},computed:{getInfo:function(){var e=this.information.periodsOpportunitySales.map((function(e){return e.count})),t=this.information.periodsOpportunitySales.map((function(e){return e.sum})),i=this.information.periodsOpportunitySales.map((function(e){return e.totalSum}));return{firstColumn:e,secondColumn:t,thirdColumn:i}}}}),m=h,g=i("0c7c"),v=i("6544"),C=i.n(v),T=i("b0af"),R=i("62ad"),y=i("a523"),P=i("0fd9"),S=Object(g["a"])(m,f,c,!1,null,null,null),b=S.exports;C()(S,{VCard:T["a"],VCol:R["a"],VContainer:y["a"],VRow:P["a"]});var F={name:"CardOpportunitySaleData",mixins:[u["a"]],components:{CardOpportunitySaleInformation:b},props:{defaultFilter:{type:Object,default:function(){return{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{id:""}}}},isPreview:{type:Boolean,default:!1}},data:function(){return{opportunitySaleCard:{},modalSettings:{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:[],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{id:""}},settings:{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:[],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{id:""}}}},computed:{isCompareUser:function(){var e,t,i,r,o,a;return(null===(e=this.opportunitySaleCard)||void 0===e||null===(t=e.mainOpportunitySales)||void 0===t?void 0:t.id)!==(null===(i=this.opportunitySaleCard)||void 0===i||null===(r=i.secondOpportunitySales)||void 0===r?void 0:r.id)&&""!==(null===(o=this.settings)||void 0===o||null===(a=o.ownerToCompare)||void 0===a?void 0:a.id)},comparePercentage:function(){return"0"===this.generalConvertionRateCompare?"0.00":(100*this.generalConvertionRateFormat/this.generalConvertionRateCompare-100).toFixed(2)},generalConvertionRateFormat:function(){var e,t,i,r;if(this.opportunitySaleCard&&void 0!==(null===(e=this.opportunitySaleCard)||void 0===e||null===(t=e.mainOpportunitySales)||void 0===t?void 0:t.count)&&void 0!==(null===(i=this.opportunitySaleCard)||void 0===i||null===(r=i.mainOpportunitySales)||void 0===r?void 0:r.sum)){var o,a;if("count"===this.settings.filterBy)return(null===(o=this.opportunitySaleCard)||void 0===o?void 0:o.mainOpportunitySales.count)||"0";if("sum"===this.settings.filterBy)return"$".concat(null===(a=this.opportunitySaleCard)||void 0===a?void 0:a.mainOpportunitySales.sum)||!1}return"0"},generalConvertionRateCompare:function(){var e,t,i,r;if(this.opportunitySaleCard&&void 0!==(null===(e=this.opportunitySaleCard)||void 0===e||null===(t=e.secondOpportunitySales)||void 0===t?void 0:t.count)&&void 0!==(null===(i=this.opportunitySaleCard)||void 0===i||null===(r=i.secondOpportunitySales)||void 0===r?void 0:r.sum)){var o,a=null===(o=this.opportunitySaleCard)||void 0===o?void 0:o.secondOpportunitySales[this.settings.filterBy];return a||"0"}return"0"},textCompare:function(){return"PREVIOUS_PERIOD"===this.settings.periodRangeToCompare.period?this.settings.periodPredefined[3]:"PREVIOUS_YEAR"===this.settings.periodRangeToCompare.period?"Año anterior":"CUSTOM"===this.settings.periodRangeToCompare.period?"Personalizado":""},valueCompare:function(){if(!this.isPreview){var e,t;if(this.isCompareUser)return null===(e=this.opportunitySaleCard)||void 0===e||null===(t=e.secondOpportunitySales)||void 0===t?void 0:t.name;if("CUSTOM"===this.settings.periodRangeToCompare.period)return"".concat(this.formatDate(this.filters.dateRangeToCompare.dateStart)," - ").concat(this.formatDate(this.filters.dateRangeToCompare.dateEnd))}return""},textMain:function(){return this.isPreview?"":(this.isCompareUser,this.settings.periodPredefined[2])},valueMain:function(){if(!this.isPreview){var e,t;if(this.isCompareUser)return null===(e=this.opportunitySaleCard)||void 0===e||null===(t=e.mainmainOpportunitySalesLostDeals)||void 0===t?void 0:t.name;if(this.settings.periodPredefined.length>0&&"CUSTOM"===this.settings.periodPredefined[0])return"".concat(this.formatDate(this.filters.dateRange.dateStart)," - ").concat(this.formatDate(this.filters.dateRange.dateEnd))}return""},filters:function(){var e={dateRange:{dateStart:this.dateStart,dateEnd:this.dateEnd},owners:this.ownersFilter,pipeline:this.pipelineFilter};return this.ownerToCompare&&""!==this.ownerToCompare.id&&(e.ownerToCompare=this.ownerToCompare),this.dateRangeToCompare&&""!==this.dateRangeToCompare.dateStart&&""!==this.dateRangeToCompare.dateEnd&&(e.dateRangeToCompare=this.dateRangeToCompare),e}},methods:{update:function(){this.$apollo.queries.opportunitySaleCard.refetch()}},apollo:{opportunitySaleCard:{query:p["A"],fetchPolicy:"no-cache",client:"charts",variables:function(){return{filters:this.filters}},skip:function(){return""===this.dateStart||""===this.dateEnd||!this.pipelineFilter.id||0===this.ownersFilter.length},loadingKey:"isLoading"}}},w=F,O=Object(g["a"])(w,l,d,!1,null,"048acc72",null),D=O.exports,_=i("8b70"),B=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalFilters",{attrs:{isOpen:e.isOpenModalFilter,isIcon:e.isIcon},on:{save:e.saveFilter,statusModal:e.statusModal}},[i("v-row",[i("v-col",{attrs:{cols:"12"}},[i("Select",{attrs:{name:"Filtrar por",defaultSelect:e.defaultFilter.filterBy,list:e.listFilterBy},on:{change:e.changeFilterBy}})],1),i("v-col",{attrs:{cols:"12"}},[i("SelectUsers",{attrs:{all:"",defaultSelect:e.defaultFilter.users},on:{change:e.changeUsers}})],1),i("v-col",{attrs:{cols:"12"}},[i("SelectPipeline",{attrs:{defaultSelect:e.defaultFilter.pipeline},on:{change:e.changePipeline}})],1),i("v-col",{attrs:{cols:"12"}},[i("PeriodPredefined",{attrs:{defaultSelect:e.defaultFilter.periodPredefined},on:{change:e.changePeriodPredefined}})],1),e.isPreview?e._e():i("v-col",{attrs:{cols:"12"}},[i("ComparePeriod",{attrs:{periodPredefined:e.filters.periodPredefined[0]},on:{change:e.changeComparePeriod}})],1)],1)],1)},M=[],I=i("5530"),x=i("740f"),L=i("d344"),G=i("6321"),E=i("c065"),j={name:"CardOpportunitySaleFilter",components:{SelectUsers:x["a"],SelectPipeline:G["a"],Select:L["a"]},mixins:[u["b"]],props:{defaultFilter:{type:Object,default:function(){return{filterBy:"count",filterTime:"WEEKS",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{id:""}}}},isIcon:{type:Boolean,default:!1},isPreview:{type:Boolean,default:!1}},data:function(){return{listTime:E["d"],listFilterBy:E["e"],filters:{filterBy:"count",filterTime:"WEEKS",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{id:""}}}},methods:{changeComparePeriod:function(e){var t=e.isCompare,i=e.periodCompare,r=e.ownerCompare;if(t){if(r&&r.id&&(this.filters.ownerToCompare.id=r.id,this.filters.periodRangeToCompare.period="",this.filters.periodRangeToCompare.start="",this.filters.periodRangeToCompare.end=""),i){if(this.filters.periodRangeToCompare.period=i.periodSelected,i.periodRange.length>0){var o=Object(a["a"])(i.periodRange,2);this.filters.periodRangeToCompare.start=o[0],this.filters.periodRangeToCompare.end=o[1]}this.filters.ownerToCompare.id=""}}else this.filters.periodRangeToCompare.period="",this.filters.periodRangeToCompare.start="",this.filters.periodRangeToCompare.end="",this.filters.ownerToCompare.id=""},saveFilter:function(){this.changeChart({id:"card-opportunitySales",filtersFull:Object(I["a"])(Object(I["a"])({},this.noReactive(this.filters)),{},{periodRange:Object(I["a"])({__typename:"PeriodRange"},this.filters.periodRange),ownerToCompare:Object(I["a"])({__typename:"OwnerToCompare"},this.filters.ownerToCompare)})}),this.isOpenModalFilter=!1}}},k=j,H=Object(g["a"])(k,B,M,!1,null,"b4c192c0",null),U=H.exports;C()(H,{VCol:R["a"],VRow:P["a"]});var N={name:"CardOpportunitySaleModal",components:{CardOpportunitySaleData:D,TableDeals:_["a"],CardOpportunitySaleFilter:U},mixins:[u["c"]],props:{isOpen:{type:Boolean,default:!1},title:{type:String,default:"Sin título"},titleRegular:{type:String,default:""},filters:{type:Object,default:function(){return{filtersConfig:{filterBy:"count",user:{},pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{id:""}},filtersTable:{users:[],pipelines:[],periodRange:{start:"",end:""},dealStatus:""}}}}}},V=N,W=Object(g["a"])(V,n,s,!1,null,"1d7013f1",null),$=W.exports,A={name:"CardOpportunitySalePreview",components:{CardOpportunitySaleData:D,CardOpportunitySaleModal:$,CardOpportunitySaleFilter:U},mixins:[u["d"]],props:{defaultPeriod:{type:String,default:"THIS_MONTH"}},data:function(){return{chartId:"card-opportunitySales",isOpenModal:!1,filtersChartsDefault:{},title:"Oportunidades",titleRegular:"de ventas",initFilter:{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{id:""},dealStatus:"ALL"}}},computed:{filtersConfig:function(){var e,t,i,r,o,a,n,s,l,d,p,u,f;return{filterBy:(null===(e=this.chart)||void 0===e||null===(t=e.filtersFull)||void 0===t?void 0:t.filterBy)||this.initFilter.filterBy,users:this.usersGlobal||(null===(i=this.chart.filtersFull)||void 0===i?void 0:i.users)||this.initUsers,pipeline:(null===(r=this.chart)||void 0===r||null===(o=r.filtersFull)||void 0===o?void 0:o.pipeline)||this.initPipeline,periodRange:this.periodRangeGlobal||(null===(a=this.chart)||void 0===a||null===(n=a.filtersFull)||void 0===n?void 0:n.periodRange)||this.periodRange,periodPredefined:this.periodPredefinedGlobal||(null===(s=this.chart)||void 0===s||null===(l=s.filtersFull)||void 0===l?void 0:l.periodPredefined)||[this.defaultPeriod]||this.initFilter.periodPredefined,periodRangeToCompare:(null===(d=this.chart)||void 0===d||null===(p=d.filtersFull)||void 0===p?void 0:p.periodRangeToCompare)||this.initFilter.periodRangeToCompare,ownerToCompare:(null===(u=this.chart)||void 0===u||null===(f=u.filtersFull)||void 0===f?void 0:f.ownerToCompare)||this.initFilter.ownerToCompare}},filtersTable:function(){var e,t,i=this.getPeriod(this.initFilter.periodPredefined[0]).get(),r=Object(a["a"])(i,2),o=r[0],n=r[1];return{users:this.usersGlobal||this.users||this.initUsers,pipelines:this.pipelines||this.filtersChartsDefault.pipelines,periodRange:this.periodRangeGlobal||(null===(e=this.chart)||void 0===e||null===(t=e.filtersFull)||void 0===t?void 0:t.periodRange)||{start:o,end:n},dealStatus:this.initFilter.dealStatus}}}},z=A,K=(i("94a1"),Object(g["a"])(z,r,o,!1,null,"20b52419",null));t["a"]=K.exports},"5d7c":function(e,t,i){"use strict";i("9d7f")},6854:function(e,t,i){"use strict";var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseCardChart",{attrs:{title:e.title,titleRegular:e.titleRegular,settings:e.filtersConfig,isChart:""},on:{updateRefetch:function(t){e.isRefetch=!0}},scopedSlots:e._u([{key:"modal",fn:function(){return[i("LineSalesGrowthMonthlyFilter",{attrs:{defaultFilter:e.filtersConfig,isIcon:"",isPreview:""}})]},proxy:!0}])},[i("div",{staticClass:"hoverClick",on:{click:e.openModal}},[i("LineSalesGrowthMonthlyData",{attrs:{defaultFilter:e.filtersConfig,isPreview:"",isRefetch:e.isRefetch},on:{updateRefetch:function(t){e.isRefetch=!1}}})],1),i("LineSalesGrowthMonthlyModal",{attrs:{isOpen:e.isOpenModal,filters:{filtersConfig:e.filtersConfig,filtersTable:e.filtersTable},title:e.title,titleRegular:e.titleRegular},on:{close:e.closeModal}})],1)},o=[],a=i("3835"),n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalChart",{attrs:{title:e.title,titleRegular:e.titleRegular,isOpen:e.isOpen},on:{close:e.closeModal},scopedSlots:e._u([{key:"filters",fn:function(){return[i("LineSalesGrowthMonthlyFilter",{attrs:{defaultFilter:e.filters.filtersConfig}})]},proxy:!0},{key:"chart",fn:function(){return[i("LineSalesGrowthMonthlyData",{attrs:{defaultFilter:e.filters.filtersConfig,isFull:""}})]},proxy:!0},{key:"table",fn:function(){return[i("TableDeals",{attrs:{defaultFilter:e.filters.filtersTable}})]},proxy:!0}])})},s=[],l=i("52e2"),d=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalFilters",{attrs:{isOpen:e.isOpenModalFilter,isIcon:e.isIcon},on:{save:e.saveFilter,statusModal:e.statusModal}},[i("v-row",[i("v-col",{attrs:{cols:"12"}},[i("Select",{attrs:{name:"Filtrar por",defaultSelect:e.defaultFilter.filterTime,list:e.listTime},on:{change:e.changeTime}})],1),i("v-col",{attrs:{cols:"12"}},[i("Select",{attrs:{name:"Filtrar por",defaultSelect:e.defaultFilter.filterBy,list:e.listFilterBy},on:{change:e.changeFilterBy}})],1),i("v-col",{attrs:{cols:"12"}},[i("SelectUsers",{attrs:{all:"",defaultSelect:e.defaultFilter.users},on:{change:e.changeUsers}})],1),i("v-col",{attrs:{cols:"12"}},[i("SelectPipeline",{attrs:{defaultSelect:e.defaultFilter.pipeline},on:{change:e.changePipeline}})],1),i("v-col",{attrs:{cols:"12"}},[i("PeriodPredefined",{attrs:{defaultSelect:e.defaultFilter.periodPredefined},on:{change:e.changePeriodPredefined}})],1),e.isPreview?e._e():i("v-col",{attrs:{cols:"12"}},[i("ComparePeriodBars",{attrs:{periodPredefined:e.filters.periodPredefined[0]},on:{change:e.changeComparePeriod}})],1)],1)],1)},p=[],u=i("5530"),f=i("740f"),c=i("d344"),h=i("6321"),m=i("c065"),g=i("e050"),v={name:"LineSalesGrowthMonthlyFilter",components:{SelectUsers:f["a"],SelectPipeline:h["a"],Select:c["a"]},mixins:[g["b"]],props:{defaultFilter:{type:Object,default:function(){return{filterBy:"count",filterTimep:"MONTHS",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{},typeCompare:"none"}}}},data:function(){return{listTime:m["d"],listFilterBy:m["e"],filters:{filterBy:"count",filterTimep:"MONTHS",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{},typeCompare:"none"}}},methods:{saveFilter:function(){this.changeChart({id:"line-salesGrowthMonthly",filtersFull:Object(u["a"])(Object(u["a"])({},this.noReactive(this.filters)),{},{periodRange:Object(u["a"])({__typename:"PeriodRange"},this.filters.periodRange),ownerToCompare:Object(u["a"])({},this.filters.ownerToCompare)})}),this.isOpenModalFilter=!1}}},C=v,T=i("0c7c"),R=i("6544"),y=i.n(R),P=i("62ad"),S=i("0fd9"),b=Object(T["a"])(C,d,p,!1,null,"409e8960",null),F=b.exports;y()(b,{VCol:P["a"],VRow:S["a"]});var w=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.isPreview?e._e():i("ListFilters",{attrs:{settings:e.settings}}),i("div",{staticClass:"text-center bgWhite",class:[{"py-5 px-3":!e.isPreview},{showScroll:e.isWithScroll}]},[i("apexchart",{attrs:{height:e.isPreview?250:350,type:"line",options:e.options,series:e.series}})],1)],1)},O=[],D=i("2909"),_=(i("d81d"),i("b0c0"),i("99af"),i("b680"),i("8d7e")),B=i("b3b3"),M={name:"LineSalesGrowthMonthlyData",mixins:[l["a"]],props:{defaultFilter:{type:Object,default:function(){return{filterBy:"count",filterTimep:"MONTHS",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],typeCompare:"none"}}}},data:function(){return{listFilterBy:m["e"],salesGrowthMonthByMonthLinearGraph:{mainDateList:[],secondDateList:[],mainGrowthMonthByMonth:[],secondGrowthMonthByMonth:[],mainAverageGrowthMonthByMonth:[],secondAverageGrowthMonthByMonth:[]},modalSettings:{filterBy:"count",filterTimep:"MONTHS",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],typeCompare:"none"},settings:{filterBy:"count",filterTimep:"MONTHS",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],typeCompare:"none"}}},computed:{options:function(){return this.formatOptions(this.salesGrowthMonthByMonthLinearGraph.mainDateList.map((function(e){return e.dateString})))},series:function(){var e,t,i,r,o,a,n,s,l,d,p,u=this,f=(null===(e=this.salesGrowthMonthByMonthLinearGraph)||void 0===e||null===(t=e.mainGrowthMonthByMonth)||void 0===t||null===(i=t.growthMonthByMonth)||void 0===i?void 0:i.map((function(e){var t=e.name,i=e.countList,r=e.sumList;return{name:t,data:u.isCount?u.convertTwoDigits(i):u.convertTwoDigits(r)}})))||[],c=this.dateRangeToCompare&&(null===(r=this.salesGrowthMonthByMonthLinearGraph)||void 0===r||null===(o=r.secondGrowthMonthByMonth)||void 0===o||null===(a=o.growthMonthByMonth)||void 0===a?void 0:a.length)>0?null===(n=this.salesGrowthMonthByMonthLinearGraph)||void 0===n||null===(s=n.secondGrowthMonthByMonth)||void 0===s||null===(l=s.growthMonthByMonth)||void 0===l?void 0:l.map((function(e){var t=e.name,i=e.countList,r=e.sumList;return{name:"".concat(t," período anterior"),data:u.isCount?u.convertTwoDigits(i):u.convertTwoDigits(r)}})):[],h=[{name:"Promedio",data:this.isCount?this.convertTwoDigits(this.salesGrowthMonthByMonthLinearGraph.mainAverageGrowthMonthByMonth.map((function(e){return e.avgCount}))):this.convertTwoDigits(this.salesGrowthMonthByMonthLinearGraph.mainAverageGrowthMonthByMonth.map((function(e){return e.avgSum})))}],m=(null===(d=this.salesGrowthMonthByMonthLinearGraph)||void 0===d||null===(p=d.secondAverageGrowthMonthByMonth)||void 0===p?void 0:p.length)>0?[{name:"Promedio anterior",data:this.isCount?this.convertTwoDigits(this.salesGrowthMonthByMonthLinearGraph.secondAverageGrowthMonthByMonth.map((function(e){return e.avgCount}))):this.convertTwoDigits(this.salesGrowthMonthByMonthLinearGraph.secondAverageGrowthMonthByMonth.map((function(e){return e.avgSum})))}]:[];return[].concat(h,Object(D["a"])(f),m,Object(D["a"])(c))},showTitleXaxis:function(){if(!this.isPreview)return this.isWeeks?"Semanas":"Meses"},showTitleYaxis:function(){if(!this.isPreview)return this.isCount?"Cantidad de tratos":"Valor de tratos"},isWithScroll:function(){return this.isLargeWidth&&this.isPreview},filters:function(){var e={dateRange:{dateStart:this.dateStart,dateEnd:this.dateEnd},owners:this.ownersFilter,pipeline:this.pipelineFilter,typePeriodDisplay:this.settings.filterTime};return this.ownerToCompare&&(e.ownerToCompare=this.ownerToCompare),this.dateRangeToCompare&&""!==this.dateRangeToCompare.dateStart&&""!==this.dateRangeToCompare.dateEnd&&(e.dateRangeToCompare=this.dateRangeToCompare),e}},methods:{formatOptions:function(e){var t;return e&&(t=e),{chart:{type:"line",height:this.isPreview?"250":"350",width:this.isWithScroll?"600":"100%",toolbar:{show:!1},zoom:{enabled:!1}},markers:{size:5,colors:void 0,strokeColors:"#fff",strokeWidth:2,strokeOpacity:.9,strokeDashArray:0,fillOpacity:1,discrete:[],shape:"circle",radius:2,offsetX:0,offsetY:0,onClick:void 0,onDblClick:void 0,showNullDataPoints:!0,hover:{size:void 0,sizeOffset:3}},colors:B["b"],grid:{row:{colors:["#f3f3f3","transparent"],opacity:.5}},stroke:{width:[5,7,5],curve:"straight",dashArray:[0,8,5]},dataLabels:{enabled:!1},legend:{position:"top",horizontalAlign:this.isWithScroll?"left":"center",showForSingleSeries:!0},xaxis:{categories:t,title:{text:this.showTitleXaxis}},yaxis:{labels:{formatter:function(e){return"".concat(e.toFixed(2),"%")}},title:{text:this.showTitleYaxis}}}},formatSeries:function(e){var t=this;return e&&e.length?e.map((function(e,i){return{name:"date"===t.settings.typeCompare&&1===i?"".concat(e.name," anterior"):e.name,data:t.isCount?Object(D["a"])(e.countList):Object(D["a"])(e.sumList)}})):[]},update:function(){this.$apollo.queries.salesGrowthMonthByMonthLinearGraph.refetch()}},apollo:{salesGrowthMonthByMonthLinearGraph:{query:_["J"],fetchPolicy:"no-cache",client:"charts",variables:function(){return{filters:this.filters}},skip:function(){return""===this.dateStart||""===this.dateEnd||!this.pipelineFilter.id||0===this.ownersFilter.length},watchLoading:function(e){this.isLoading=e}}}},I=M,x=(i("e8b6"),Object(T["a"])(I,w,O,!1,null,"51ac5432",null)),L=x.exports,G=i("8b70"),E={name:"LineSalesGrowthMonthlyModal",components:{LineSalesGrowthMonthlyFilter:F,LineSalesGrowthMonthlyData:L,TableDeals:G["a"]},mixins:[l["c"]],props:{filters:{type:Object,default:function(){return{filtersConfig:{filterBy:"count",filterTimep:"MONTHS",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{},typeCompare:"none"},filtersTable:{users:[],pipelines:[],periodRange:{start:"",end:""},dealStatus:""}}}}}},j=E,k=Object(T["a"])(j,n,s,!1,null,"63383482",null),H=k.exports,U={name:"LineSalesGrowthMonthlyPreview",components:{LineSalesGrowthMonthlyData:L,LineSalesGrowthMonthlyModal:H,LineSalesGrowthMonthlyFilter:F},mixins:[g["d"]],props:{defaultPeriod:{type:String,default:"THIS_MONTH"}},data:function(){return{chartId:"line-salesGrowthMonthly",title:"Crecimiento",titleRegular:"mensual",filtersChartsDefault:{},initFilter:{filterBy:"count",filterTime:"MONTHS",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{},dealStatus:"WON",typeCompare:"none"}}},computed:{filtersConfig:function(){var e,t,i,r,o,a,n,s,l;return{filterBy:(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.filterBy)||this.initFilter.filterBy,filterTime:(null===(t=this.chart.filtersFull)||void 0===t?void 0:t.filterTime)||this.initFilter.filterTime,users:this.usersGlobal||(null===(i=this.chart.filtersFull)||void 0===i?void 0:i.users)||this.filtersChartsDefault.users,pipeline:(null===(r=this.chart.filtersFull)||void 0===r?void 0:r.pipeline)||this.initPipeline,periodRange:this.periodRangeGlobal||(null===(o=this.chart.filtersFull)||void 0===o?void 0:o.periodRange)||this.periodRange,periodPredefined:this.periodPredefinedGlobal||(null===(a=this.chart.filtersFull)||void 0===a?void 0:a.periodPredefined)||[this.defaultPeriod]||this.initFilter.periodPredefined,periodRangeToCompare:(null===(n=this.chart.filtersFull)||void 0===n?void 0:n.periodRangeToCompare)||this.initFilter.periodRangeToCompare,ownerToCompare:(null===(s=this.chart.filtersFull)||void 0===s?void 0:s.ownerToCompare)||this.initFilter.ownerToCompare,typeCompare:(null===(l=this.chart.filtersFull)||void 0===l?void 0:l.typeCompare)||this.initFilter.typeCompare}},filtersTable:function(){var e,t=this.getPeriod(this.initFilter.periodPredefined[0]).get(),i=Object(a["a"])(t,2),r=i[0],o=i[1];return{users:this.usersGlobal||this.users||this.filtersChartsDefault.users,pipelines:this.pipelines||[this.initPipeline],periodRange:this.periodRangeGlobal||(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.periodRange)||{start:r,end:o},dealStatus:this.initFilter.dealStatus}}}},N=U,V=(i("feb4"),Object(T["a"])(N,r,o,!1,null,"1ec7a9e8",null));t["a"]=V.exports},"6ab5":function(e,t,i){},"6d40":function(e,t,i){"use strict";var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseCardChart",{attrs:{title:e.title,titleRegular:e.titleRegular,settings:e.filtersConfig},on:{updateRefetch:function(t){e.isRefetch=!0}},scopedSlots:e._u([{key:"modal",fn:function(){return[i("CardRottenDealsFilter",{attrs:{defaultFilter:e.filtersConfig,isIcon:"",isPreview:""}})]},proxy:!0}])},[i("div",{staticClass:"hoverClick",on:{click:e.openModal}},[i("CardRottenDealsData",{attrs:{defaultFilter:e.filtersConfig,isPreview:"",isRefetch:e.isRefetch},on:{updateRefetch:function(t){e.isRefetch=!1}}})],1),i("CardRottenDealsModal",{attrs:{isOpen:e.isOpenModal,filters:{filtersConfig:e.filtersConfig,filtersTable:e.filtersTable},title:e.title,titleRegular:e.titleRegular},on:{close:e.closeModal}})],1)},o=[],a=i("3835"),n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalChart",{attrs:{title:e.title,titleRegular:e.titleRegular,isOpen:e.isOpen},on:{close:e.closeModal},scopedSlots:e._u([{key:"filters",fn:function(){return[i("CardRottenDealsFilter",{attrs:{defaultFilter:e.filters.filtersConfig}})]},proxy:!0},{key:"chart",fn:function(){return[i("CardRottenDealsData",{attrs:{defaultFilter:e.filters.filtersConfig}})]},proxy:!0},{key:"table",fn:function(){return[i("TableDeals",{attrs:{defaultFilter:e.filters.filtersTable}})]},proxy:!0}])})},s=[],l=i("8b70"),d=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalFilters",{attrs:{isOpen:e.isOpenModalFilter,isIcon:e.isIcon},on:{save:e.saveFilter,statusModal:e.statusModal}},[i("v-row",[i("v-col",{attrs:{cols:"12"}},[i("Select",{attrs:{name:"Filtrar por",defaultSelect:e.defaultFilter.filterBy,list:e.listFilterBy},on:{change:e.changeFilterBy}})],1),i("v-col",{attrs:{cols:"12"}},[i("SelectUsers",{attrs:{all:"",defaultSelect:e.defaultFilter.users},on:{change:e.changeUsers}})],1),i("v-col",{attrs:{cols:"12"}},[i("SelectPipeline",{attrs:{defaultSelect:e.defaultFilter.pipeline},on:{change:e.changePipeline}})],1),i("v-col",{attrs:{cols:"12"}},[i("PeriodPredefined",{attrs:{defaultSelect:e.defaultFilter.periodPredefined},on:{change:e.changePeriodPredefined}})],1),e.isPreview?e._e():i("v-col",{attrs:{cols:"12"}},[i("ComparePeriod",{attrs:{periodPredefined:e.filters.periodPredefined[0]},on:{change:e.changeComparePeriod}})],1)],1)],1)},p=[],u=i("5530"),f=i("740f"),c=i("d344"),h=i("6321"),m=i("c065"),g=i("0db6"),v={name:"CardRottenDealsFilter",components:{SelectUsers:f["a"],SelectPipeline:h["a"],Select:c["a"]},mixins:[g["b"]],props:{defaultFilter:{type:Object,default:function(){return{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""}}}},isIcon:{type:Boolean,default:!1},isPreview:{type:Boolean,default:!1}},data:function(){return{listTime:m["d"],listFilterBy:m["e"],filters:{filterBy:"count",filterTime:"WEEKS",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""}}}},methods:{changeComparePeriod:function(e){var t=e.isCompare,i=e.periodCompare;if(t){if(i&&(this.filters.periodRangeToCompare.period=i.periodSelected,i.periodRange.length>0)){var r=Object(a["a"])(i.periodRange,2);this.filters.periodRangeToCompare.start=r[0],this.filters.periodRangeToCompare.end=r[1]}}else this.filters.periodRangeToCompare.period="",this.filters.periodRangeToCompare.start="",this.filters.periodRangeToCompare.end=""},saveFilter:function(){this.changeChart({id:"card-rottenDeals",filtersFull:Object(u["a"])(Object(u["a"])({},this.noReactive(this.filters)),{},{periodRange:Object(u["a"])({__typename:"PeriodRange"},this.filters.periodRange)})}),this.isOpenModalFilter=!1}}},C=v,T=i("0c7c"),R=i("6544"),y=i.n(R),P=i("62ad"),S=i("0fd9"),b=Object(T["a"])(C,d,p,!1,null,"7298bec5",null),F=b.exports;y()(b,{VCol:P["a"],VRow:S["a"]});var w=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.isPreview?e._e():i("ListFilters",{attrs:{settings:e.settings}}),i("BaseCardNumber",{attrs:{information:{numberMain:""+("count"===e.settings.filterBy?e.generalConvertionRateFormat:e.formatPrice(e.generalConvertionRateFormat)),textMain:e.textMain,valueMain:e.valueMain,textMainType:e.textChart,isCompare:!e.isPreview&&e.settings.periodRangeToCompare.period.length>0,numberCompare:""+("count"===e.settings.filterBy?e.generalConvertionRateCompare:e.formatPrice(e.generalConvertionRateCompare)),textCompare:e.textCompare,valueCompare:e.valueCompare,numberDifferenceCompare:e.comparePercentage}}}),e.isPreview?e._e():i("CardRottenDealsInformation",{attrs:{information:e.rottenDealsCard.informationBar,filterBy:e.settings.filterBy}})],1)},O=[],D=(i("b680"),i("99af"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-card",{staticClass:"mt-5",attrs:{flat:""}},[i("v-container",[i("v-row",[i("v-col",{attrs:{cols:"3"}},[e._l(e.information.userRottenDeals,(function(t,r){return[i("span",{key:r,staticClass:"d-block"},[i("b",[e._v(e._s(t.name))]),e._v(" : "+e._s("count"===e.filterBy?t[e.filterBy]:e.formatPrice(t[e.filterBy]))+" ")])]}))],2),e._l(e.information.periodsRottenDeals,(function(t,r){return[i("v-col",{key:r,attrs:{cols:"3"}},[i("span",{staticClass:"d-block"},[i("b",[e._v(e._s(e.periods[r]))]),e._v(" : "+e._s("count"===e.filterBy?t[e.filterBy]:e.formatPrice(t[e.filterBy]))+" ")])])]}))],2)],1)],1)}),_=[],B={name:"CardRottenDealsInformation",props:{information:{type:Object,default:function(){return{}}},filterBy:{type:String,default:"count"}},data:function(){return{periods:["Promedio anual","Promedio trimestral","Promedio mensual"],pastPeriods:["Este período","Período pasado","Mismo período el mes anterior"]}}},M=B,I=i("b0af"),x=i("a523"),L=Object(T["a"])(M,D,_,!1,null,null,null),G=L.exports;y()(L,{VCard:I["a"],VCol:P["a"],VContainer:x["a"],VRow:S["a"]});var E=i("8d7e"),j={name:"CardRottenDealsData",mixins:[g["a"]],components:{CardRottenDealsInformation:G},props:{defaultFilter:{type:Object,default:function(){return{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""}}}},isPreview:{type:Boolean,default:!1}},data:function(){return{rottenDealsCard:{},modalSettings:{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:[],periodRangeToCompare:{period:"",start:"",end:""}},settings:{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:[],periodRangeToCompare:{period:"",start:"",end:""}}}},computed:{comparePercentage:function(){return"0"===this.generalConvertionRateCompare?"100":(100*this.generalConvertionRateFormat/this.generalConvertionRateCompare-100).toFixed(2)},generalConvertionRateFormat:function(){var e,t,i,r,o;return this.rottenDealsCard&&void 0!==(null===(e=this.rottenDealsCard)||void 0===e||null===(t=e.mainRottenDeals)||void 0===t?void 0:t.count)&&void 0!==(null===(i=this.rottenDealsCard)||void 0===i||null===(r=i.mainRottenDeals)||void 0===r?void 0:r.sum)&&(null===(o=this.rottenDealsCard)||void 0===o?void 0:o.mainRottenDeals[this.settings.filterBy])||"0"},generalConvertionRateCompare:function(){var e,t,i,r;if(this.rottenDealsCard&&void 0!==(null===(e=this.rottenDealsCard)||void 0===e||null===(t=e.secondRottenDeals)||void 0===t?void 0:t.count)&&void 0!==(null===(i=this.rottenDealsCard)||void 0===i||null===(r=i.secondRottenDeals)||void 0===r?void 0:r.sum)){var o,a=null===(o=this.rottenDealsCard)||void 0===o?void 0:o.secondRottenDeals[this.settings.filterBy];return a?a.toFixed(2):"0"}return"0"},textCompare:function(){return"PREVIOUS_PERIOD"===this.settings.periodRangeToCompare.period?this.settings.periodPredefined[3]:"PREVIOUS_YEAR"===this.settings.periodRangeToCompare.period?"Año anterior":"CUSTOM"===this.settings.periodRangeToCompare.period?"Personalizado":""},valueCompare:function(){return this.isPreview||"CUSTOM"!==this.settings.periodRangeToCompare.period?"":"".concat(this.formatDate(this.filters.dateRangeToCompare.dateStart)," - ").concat(this.formatDate(this.filters.dateRangeToCompare.dateEnd))},textMain:function(){return this.isPreview?"":this.settings.periodPredefined[2]},valueMain:function(){return!this.isPreview&&this.settings.periodPredefined.length>0&&"CUSTOM"===this.settings.periodPredefined[0]?"".concat(this.formatDate(this.filters.dateRange.dateStart)," - ").concat(this.formatDate(this.filters.dateRange.dateEnd)):""},filters:function(){var e={dateRange:{dateStart:this.dateStart,dateEnd:this.dateEnd},owners:this.ownersFilter,pipeline:this.pipelineFilter};return this.dateRangeToCompare&&""!==this.dateRangeToCompare.dateStart&&""!==this.dateRangeToCompare.dateEnd&&(e.dateRangeToCompare=this.dateRangeToCompare),e}},methods:{update:function(){this.$apollo.queries.rottenDealsCard.refetch()}},apollo:{rottenDealsCard:{query:E["G"],fetchPolicy:"no-cache",client:"charts",variables:function(){return{filters:this.filters}},skip:function(){return""===this.dateStart||""===this.dateEnd||!this.pipelineFilter.id||0===this.ownersFilter.length},loadingKey:"isLoading"}}},k=j,H=Object(T["a"])(k,w,O,!1,null,"c2325570",null),U=H.exports,N={name:"CardRottenDealsModal",components:{TableDeals:l["a"],CardRottenDealsFilter:F,CardRottenDealsData:U},mixins:[g["c"]],props:{isOpen:{type:Boolean,default:!1},title:{type:String,default:"Sin título"},titleRegular:{type:String,default:""},filters:{type:Object,default:function(){return{filtersConfig:{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""}},filtersTable:{users:[],pipelines:[],periodRange:{start:"",end:""},dealStatus:""}}}}}},V=N,W=Object(T["a"])(V,n,s,!1,null,"97a8664c",null),$=W.exports,A={name:"CardRottenDealsPreview",components:{CardRottenDealsData:U,CardRottenDealsModal:$,CardRottenDealsFilter:F},mixins:[g["d"]],props:{defaultPeriod:{type:String,default:"THIS_MONTH"}},data:function(){return{chartId:"card-rottenDeals",title:"Tratos",titleRegular:"estancados",isOpenModal:!1,filtersChartsDefault:{},initFilter:{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""},dealStatus:"ROTTEN_DEALS_CARD"}}},computed:{filtersConfig:function(){var e,t,i,r,o,a;return{filterBy:(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.filterBy)||this.initFilter.filterBy,users:this.usersGlobal||(null===(t=this.chart.filtersFull)||void 0===t?void 0:t.users)||this.initUsers,pipeline:(null===(i=this.chart.filtersFull)||void 0===i?void 0:i.pipeline)||this.initPipeline,periodRange:this.periodRangeGlobal||(null===(r=this.chart.filtersFull)||void 0===r?void 0:r.periodRange)||this.periodRange,periodPredefined:this.periodPredefinedGlobal||(null===(o=this.chart.filtersFull)||void 0===o?void 0:o.periodPredefined)||[this.defaultPeriod]||this.initFilter.periodPredefined,periodRangeToCompare:(null===(a=this.chart.filtersFull)||void 0===a?void 0:a.periodRangeToCompare)||this.initFilter.periodRangeToCompare}},filtersTable:function(){var e,t=this.getPeriod(this.initFilter.periodPredefined[0]).get(),i=Object(a["a"])(t,2),r=i[0],o=i[1];return{users:this.usersGlobal||this.users||this.initUsers,pipelines:this.pipelines||this.filtersChartsDefault.pipelines,periodRange:this.periodRangeGlobal||(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.periodRange)||{start:r,end:o},dealStatus:this.initFilter.dealStatus}}}},z=A,K=(i("5d7c"),Object(T["a"])(z,r,o,!1,null,"0a19e862",null));t["a"]=K.exports},"723a":function(e,t,i){"use strict";i("3044")},7502:function(e,t,i){"use strict";var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseCardChart",{attrs:{title:e.title,titleRegular:e.titleRegular,settings:e.filtersConfig},on:{updateRefetch:function(t){e.isRefetch=!0}},scopedSlots:e._u([{key:"modal",fn:function(){return[i("CardTotalOpenDealsFilter",{attrs:{defaultFilter:e.filtersConfig,isIcon:"",isPreview:""}})]},proxy:!0}])},[i("div",{staticClass:"hoverClick",on:{click:e.openModal}},[i("CardTotalOpenDealsData",{attrs:{defaultFilter:e.filtersConfig,isPreview:"",isRefetch:e.isRefetch},on:{updateRefetch:function(t){e.isRefetch=!1}}})],1),i("CardTotalOpenDealsModal",{attrs:{isOpen:e.isOpenModal,filters:{filtersConfig:e.filtersConfig,filtersTable:e.filtersTable},title:e.title,titleRegular:e.titleRegular},on:{close:e.closeModal}})],1)},o=[],a=i("3835"),n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalChart",{attrs:{title:e.title,titleRegular:e.titleRegular,isOpen:e.isOpen},on:{close:e.closeModal},scopedSlots:e._u([{key:"filters",fn:function(){return[i("CardTotalOpenDealsFilter",{attrs:{defaultFilter:e.filters.filtersConfig}})]},proxy:!0},{key:"chart",fn:function(){return[i("CardTotalOpenDealsData",{attrs:{defaultFilter:e.filters.filtersConfig}})]},proxy:!0},{key:"table",fn:function(){return[i("TableDeals",{attrs:{defaultFilter:e.filters.filtersTable}})]},proxy:!0}])})},s=[],l=i("8b70"),d=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalFilters",{attrs:{isOpen:e.isOpenModalFilter,isIcon:e.isIcon},on:{save:e.saveFilter,statusModal:e.statusModal}},[i("v-row",[i("v-col",{attrs:{cols:"12"}},[i("Select",{attrs:{name:"Filtrar por",defaultSelect:e.defaultFilter.filterBy,list:e.listFilterBy},on:{change:e.changeFilterBy}})],1),i("v-col",{attrs:{cols:"12"}},[i("SelectUsers",{attrs:{all:"",defaultSelect:e.defaultFilter.users},on:{change:e.changeUsers}})],1),i("v-col",{attrs:{cols:"12"}},[i("SelectPipeline",{attrs:{defaultSelect:e.defaultFilter.pipeline},on:{change:e.changePipeline}})],1),i("v-col",{attrs:{cols:"12"}},[i("PeriodPredefined",{attrs:{defaultSelect:e.defaultFilter.periodPredefined},on:{change:e.changePeriodPredefined}})],1),e.isPreview?e._e():i("v-col",{attrs:{cols:"12"}},[i("ComparePeriod",{attrs:{periodPredefined:e.filters.periodPredefined[0]},on:{change:e.changeComparePeriod}})],1)],1)],1)},p=[],u=i("5530"),f=i("740f"),c=i("d344"),h=i("6321"),m=i("c065"),g=i("0db6"),v={name:"CardTotalOpenDealsFilter",components:{SelectUsers:f["a"],SelectPipeline:h["a"],Select:c["a"]},mixins:[g["b"]],props:{defaultFilter:{type:Object,default:function(){return{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""}}}},isIcon:{type:Boolean,default:!1},isPreview:{type:Boolean,default:!1}},data:function(){return{listTime:m["d"],listFilterBy:m["e"],filters:{filterBy:"count",filterTime:"WEEKS",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""}}}},methods:{changeComparePeriod:function(e){var t=e.isCompare,i=e.periodCompare;if(t){if(i&&(this.filters.periodRangeToCompare.period=i.periodSelected,i.periodRange.length>0)){var r=Object(a["a"])(i.periodRange,2);this.filters.periodRangeToCompare.start=r[0],this.filters.periodRangeToCompare.end=r[1]}}else this.filters.periodRangeToCompare.period="",this.filters.periodRangeToCompare.start="",this.filters.periodRangeToCompare.end=""},saveFilter:function(){this.changeChart({id:"card-totalOpenDeals",filtersFull:Object(u["a"])(Object(u["a"])({},this.noReactive(this.filters)),{},{periodRange:Object(u["a"])({__typename:"PeriodRange"},this.filters.periodRange)})}),this.isOpenModalFilter=!1}}},C=v,T=i("0c7c"),R=i("6544"),y=i.n(R),P=i("62ad"),S=i("0fd9"),b=Object(T["a"])(C,d,p,!1,null,"3062d75e",null),F=b.exports;y()(b,{VCol:P["a"],VRow:S["a"]});var w=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.isPreview?e._e():i("ListFilters",{attrs:{settings:e.settings}}),i("BaseCardNumber",{attrs:{information:{numberMain:""+("count"===e.settings.filterBy?e.generalConvertionRateFormat:e.formatPrice(e.generalConvertionRateFormat)),textMain:e.textMain,valueMain:e.valueMain,textMainType:e.textChart,isCompare:!e.isPreview&&e.settings.periodRangeToCompare.period.length>0,numberCompare:""+("count"===e.settings.filterBy?e.generalConvertionRateCompare:e.formatPrice(e.generalConvertionRateCompare)),textCompare:e.textCompare,valueCompare:e.valueCompare,numberDifferenceCompare:e.comparePercentage}}}),e.isPreview?e._e():i("CardTotalOpenDealsInformation",{attrs:{information:e.totalOpenDealsCard.informationBar,filterBy:e.settings.filterBy}})],1)},O=[],D=(i("b680"),i("99af"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-card",{staticClass:"mt-5",attrs:{flat:""}},[i("v-container",[i("v-row",[i("v-col",{attrs:{cols:"3"}},[e._l(e.information.usersOpenDeals,(function(t,r){return[i("span",{key:r,staticClass:"d-block"},[i("b",[e._v(e._s(t.name))]),e._v(" : "+e._s("count"===e.filterBy?t[e.filterBy]:e.formatPrice(t[e.filterBy]))+" ")])]}))],2),e._l(e.information.periodsOpenDeals,(function(t,r){return[i("v-col",{key:r,attrs:{cols:"3"}},[i("span",{staticClass:"d-block"},[i("b",[e._v(e._s(e.periods[r]))]),e._v(" : "+e._s("count"===e.filterBy?t[e.filterBy]:e.formatPrice(t[e.filterBy]))+" ")])])]}))],2)],1)],1)}),_=[],B={name:"CardTotalOpenDealsInformation",props:{information:{type:Object,default:function(){return{}}},filterBy:{type:String,default:"count"}},data:function(){return{periods:["Promedio anual","Promedio trimestral","Promedio mensual"],pastPeriods:["Este período","Período pasado","Mismo período el mes anterior"]}}},M=B,I=i("b0af"),x=i("a523"),L=Object(T["a"])(M,D,_,!1,null,null,null),G=L.exports;y()(L,{VCard:I["a"],VCol:P["a"],VContainer:x["a"],VRow:S["a"]});var E=i("8d7e"),j={name:"CardConvertionRateData",mixins:[g["a"]],components:{CardTotalOpenDealsInformation:G},props:{defaultFilter:{type:Object,default:function(){return{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""}}}},isPreview:{type:Boolean,default:!1}},data:function(){return{totalOpenDealsCard:{},modalSettings:{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:[],periodRangeToCompare:{period:"",start:"",end:""}},settings:{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:[],periodRangeToCompare:{period:"",start:"",end:""}}}},computed:{comparePercentage:function(){return"0"===this.generalConvertionRateCompare?"100":(100*this.generalConvertionRateFormat/this.generalConvertionRateCompare-100).toFixed(2)},generalConvertionRateFormat:function(){var e,t,i,r,o;return this.totalOpenDealsCard&&void 0!==(null===(e=this.totalOpenDealsCard)||void 0===e||null===(t=e.mainOpenDeals)||void 0===t?void 0:t.count)&&void 0!==(null===(i=this.totalOpenDealsCard)||void 0===i||null===(r=i.mainOpenDeals)||void 0===r?void 0:r.sum)&&(null===(o=this.totalOpenDealsCard)||void 0===o?void 0:o.mainOpenDeals[this.settings.filterBy])||"0"},generalConvertionRateCompare:function(){var e,t,i,r;if(this.totalOpenDealsCard&&void 0!==(null===(e=this.totalOpenDealsCard)||void 0===e||null===(t=e.secondOpenDeals)||void 0===t?void 0:t.count)&&void 0!==(null===(i=this.totalOpenDealsCard)||void 0===i||null===(r=i.secondOpenDeals)||void 0===r?void 0:r.sum)){var o,a=null===(o=this.totalOpenDealsCard)||void 0===o?void 0:o.secondOpenDeals[this.settings.filterBy];return a?a.toFixed(2):"0"}return"0"},textCompare:function(){return"PREVIOUS_PERIOD"===this.settings.periodRangeToCompare.period?this.settings.periodPredefined[3]:"PREVIOUS_YEAR"===this.settings.periodRangeToCompare.period?"Año anterior":"CUSTOM"===this.settings.periodRangeToCompare.period?"Personalizado":""},valueCompare:function(){return this.isPreview||"CUSTOM"!==this.settings.periodRangeToCompare.period?"":"".concat(this.formatDate(this.filters.dateRangeToCompare.dateStart)," - ").concat(this.formatDate(this.filters.dateRangeToCompare.dateEnd))},textMain:function(){return this.isPreview?"":this.settings.periodPredefined[2]},valueMain:function(){return!this.isPreview&&this.settings.periodPredefined.length>0&&"CUSTOM"===this.settings.periodPredefined[0]?"".concat(this.formatDate(this.filters.dateRange.dateStart)," - ").concat(this.formatDate(this.filters.dateRange.dateEnd)):""},filters:function(){var e={dateRange:{dateStart:this.dateStart,dateEnd:this.dateEnd},owners:this.ownersFilter,pipeline:this.pipelineFilter};return this.dateRangeToCompare&&""!==this.dateRangeToCompare.dateStart&&""!==this.dateRangeToCompare.dateEnd&&(e.dateRangeToCompare=this.dateRangeToCompare),e}},methods:{update:function(){this.$apollo.queries.totalOpenDealsCard.refetch()}},apollo:{totalOpenDealsCard:{query:E["R"],fetchPolicy:"no-cache",client:"charts",variables:function(){return{filters:this.filters}},skip:function(){return""===this.dateStart||""===this.dateEnd||!this.pipelineFilter.id||0===this.ownersFilter.length},loadingKey:"isLoading"}}},k=j,H=Object(T["a"])(k,w,O,!1,null,"edd679b0",null),U=H.exports,N={name:"CardTotalOpenDealsModal",components:{TableDeals:l["a"],CardTotalOpenDealsFilter:F,CardTotalOpenDealsData:U},mixins:[g["c"]],props:{isOpen:{type:Boolean,default:!1},title:{type:String,default:"Sin título"},titleRegular:{type:String,default:""},filters:{type:Object,default:function(){return{filtersConfig:{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""}},filtersTable:{users:[],pipelines:[],periodRange:{start:"",end:""},dealStatus:""}}}}}},V=N,W=Object(T["a"])(V,n,s,!1,null,"692ff88e",null),$=W.exports,A={name:"CardTotalOpenDealsPreview",components:{CardTotalOpenDealsData:U,CardTotalOpenDealsModal:$,CardTotalOpenDealsFilter:F},mixins:[g["d"]],props:{defaultPeriod:{type:String,default:"THIS_MONTH"}},data:function(){return{chartId:"card-totalOpenDeals",title:"Tratos",titleRegular:"abiertos totales",isOpenModal:!1,filtersChartsDefault:{},initFilter:{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""},dealStatus:"OPEN"}}},computed:{filtersConfig:function(){var e,t,i,r,o,a;return{filterBy:(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.filterBy)||this.initFilter.filterBy,users:this.usersGlobal||(null===(t=this.chart.filtersFull)||void 0===t?void 0:t.users)||this.initUsers,pipeline:(null===(i=this.chart.filtersFull)||void 0===i?void 0:i.pipeline)||this.initPipeline,periodRange:this.periodRangeGlobal||(null===(r=this.chart.filtersFull)||void 0===r?void 0:r.periodRange)||this.periodRange,periodPredefined:this.periodPredefinedGlobal||(null===(o=this.chart.filtersFull)||void 0===o?void 0:o.periodPredefined)||[this.defaultPeriod]||this.initFilter.periodPredefined,periodRangeToCompare:(null===(a=this.chart.filtersFull)||void 0===a?void 0:a.periodRangeToCompare)||this.initFilter.periodRangeToCompare}},filtersTable:function(){var e,t=this.getPeriod(this.initFilter.periodPredefined[0]).get(),i=Object(a["a"])(t,2),r=i[0],o=i[1];return{users:this.usersGlobal||this.users||this.initUsers,pipelines:this.pipelines||this.filtersChartsDefault.pipelines,periodRange:this.periodRangeGlobal||(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.periodRange)||{start:r,end:o},dealStatus:this.initFilter.dealStatus}}}},z=A,K=(i("c22d"),Object(T["a"])(z,r,o,!1,null,"49f71226",null));t["a"]=K.exports},7835:function(e,t,i){"use strict";i("e89e")},"792d":function(e,t,i){"use strict";i("438c")},"7f42":function(e,t,i){},8056:function(e,t,i){},"92ad":function(e,t,i){"use strict";var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseCardChart",{attrs:{title:e.title,titleRegular:e.titleRegular,settings:e.filtersConfig,isChart:""},on:{updateRefetch:function(t){e.isRefetch=!0}},scopedSlots:e._u([{key:"modal",fn:function(){return[i("LineSalesCycleByMonthFilter",{attrs:{defaultFilter:e.filtersConfig,isIcon:"",isPreview:""}})]},proxy:!0}])},[i("div",{staticClass:"hoverClick",on:{click:e.openModal}},[i("LineSalesCycleByMonthData",{attrs:{defaultFilter:e.filtersConfig,isPreview:"",isRefetch:e.isRefetch},on:{updateRefetch:function(t){e.isRefetch=!1}}})],1),i("LineSalesCycleByMonthModal",{attrs:{isOpen:e.isOpenModal,filters:{filtersConfig:e.filtersConfig,filtersConfig:e.filtersConfig,filtersTable:e.filtersTable},title:e.title,titleRegular:e.titleRegular},on:{close:e.closeModal}})],1)},o=[],a=i("3835"),n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalChart",{attrs:{title:e.title,titleRegular:e.titleRegular,isOpen:e.isOpen},on:{close:e.closeModal},scopedSlots:e._u([{key:"filters",fn:function(){return[i("LineSalesCycleByMonthFilter",{attrs:{defaultFilter:e.filters.filtersConfig}})]},proxy:!0},{key:"chart",fn:function(){return[i("LineSalesCycleByMonthData",{attrs:{defaultFilter:e.filters.filtersConfig,isFull:""}})]},proxy:!0},{key:"table",fn:function(){return[i("TableDeals",{attrs:{defaultFilter:e.filters.filtersTable}})]},proxy:!0}])})},s=[],l=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalFilters",{attrs:{isOpen:e.isOpenModalFilter,isIcon:e.isIcon},on:{save:e.saveFilter,statusModal:e.statusModal}},[i("v-row",["none"===e.typeCompare?i("v-col",{attrs:{cols:"12"}},[i("SelectUsers",{attrs:{all:"",defaultSelect:e.defaultFilter.users},on:{change:e.changeUsers}})],1):e._e(),i("v-col",{attrs:{cols:"12"}},[i("SelectPipeline",{attrs:{defaultSelect:e.defaultFilter.pipeline},on:{change:e.changePipeline}})],1),i("v-col",{attrs:{cols:"12"}},[i("PeriodPredefined",{attrs:{defaultSelect:e.defaultFilter.periodPredefined},on:{change:e.changePeriodPredefined}})],1),e.isPreview?e._e():i("v-col",{attrs:{cols:"12"}},[i("ComparePeriodLines",{attrs:{periodPredefined:e.filters.periodPredefined[0]},on:{change:e.changeComparePeriod}})],1)],1)],1)},d=[],p=i("5530"),u=i("740f"),f=i("6321"),c=i("c065"),h=i("e050"),m={name:"LineSalesCycleByMonthFilter",components:{SelectUsers:u["a"],SelectPipeline:f["a"]},mixins:[h["b"]],props:{defaultFilter:{type:Object,default:function(){return{users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""}}}}},data:function(){return{listTime:c["d"],listFilterBy:c["e"],filters:{users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""}}}},methods:{saveFilter:function(){this.changeChart({id:"line-salesCycleByMonth",filtersFull:Object(p["a"])(Object(p["a"])({},this.noReactive(this.filters)),{},{periodRange:Object(p["a"])({__typename:"PeriodRange"},this.filters.periodRange)})}),this.isOpenModalFilter=!1}}},g=m,v=i("0c7c"),C=i("6544"),T=i.n(C),R=i("62ad"),y=i("0fd9"),P=Object(v["a"])(g,l,d,!1,null,"628a7fba",null),S=P.exports;T()(P,{VCol:R["a"],VRow:y["a"]});var b=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.isPreview?e._e():i("ListFilters",{attrs:{settings:e.settings}}),i("div",{staticClass:"text-center bgWhite",class:[{"py-5 px-3":!e.isPreview},{showScroll:e.isWithScroll}]},[i("apexchart",{attrs:{height:e.isPreview?250:350,type:"line",options:e.options,series:e.series}})],1)],1)},F=[],w=i("2909"),O=(i("d81d"),i("b0c0"),i("99af"),i("8d7e")),D=i("b3b3"),_={name:"LineSalesCycleByMonthData",mixins:[h["a"]],props:{defaultFilter:{type:Object,default:function(){return{users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"]}}}},data:function(){return{salesCycleLinearGraph:{mainDateList:[],secondDateList:[],mainSalesCycle:[],secondSalesCycle:[],mainAverageDateSalesCycle:[],secondAverageDateSalesCycle:[]},modalSettings:{users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:[]},settings:{users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:[]}}},computed:{options:function(){var e,t;return{chart:{height:this.isPreview?"250":"350",width:this.isWithScroll?"1200":"100%",type:"line",toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1},legend:{position:"top",horizontalAlign:this.isWithScroll?"left":"center",showForSingleSeries:!0},stroke:{width:[5,7,5],curve:"straight",dashArray:[0,8,5]},markers:{size:5,colors:void 0,strokeColors:"#fff",strokeWidth:2,strokeOpacity:.9,strokeDashArray:0,fillOpacity:1,discrete:[],shape:"circle",radius:2,offsetX:0,offsetY:0,onClick:void 0,onDblClick:void 0,showNullDataPoints:!0,hover:{size:void 0,sizeOffset:3}},colors:D["b"],grid:{row:{colors:["#f3f3f3","transparent"],opacity:.5}},xaxis:{categories:null===(e=this.salesCycleLinearGraph)||void 0===e||null===(t=e.mainDateList)||void 0===t?void 0:t.map((function(e){return e.dateString})),title:{text:this.showTitleXaxis},labels:{rotate:this.rotate}},yaxis:{title:{text:this.showTitleYaxis},tickAmount:1}}},rotate:function(){if(this.isLargeWidth){if(this.isWeeks)return"-90";if(this.isMonths)return"0"}return 0},showTitleXaxis:function(){if(!this.isPreview)return this.isWeeks?"Semanas":"Meses"},showTitleYaxis:function(){if(!this.isPreview)return"Cantidad"},series:function(){var e,t,i,r,o,a,n,s,l,d,p,u=this,f=(null===(e=this.salesCycleLinearGraph)||void 0===e||null===(t=e.mainSalesCycle)||void 0===t||null===(i=t.salesCycle)||void 0===i?void 0:i.map((function(e){var t=e.name,i=e.countList;return{name:t,data:u.convertTwoDigits(i)}})))||[],c=this.dateRangeToCompare&&(null===(r=this.salesCycleLinearGraph)||void 0===r||null===(o=r.secondSalesCycle)||void 0===o||null===(a=o.salesCycle)||void 0===a?void 0:a.length)>0?null===(n=this.salesCycleLinearGraph)||void 0===n||null===(s=n.secondSalesCycle)||void 0===s||null===(l=s.salesCycle)||void 0===l?void 0:l.map((function(e){var t=e.name,i=e.countList;return{name:"".concat(t," período anterior"),data:u.convertTwoDigits(i)}})):[],h=[{name:"Promedio",data:this.convertTwoDigits(this.salesCycleLinearGraph.mainAverageDateSalesCycle.map((function(e){return e.avgCount})))}],m=(null===(d=this.salesCycleLinearGraph)||void 0===d||null===(p=d.secondAverageDateSalesCycle)||void 0===p?void 0:p.length)>0?[{name:"Promedio anterior",data:this.convertTwoDigits(this.salesCycleLinearGraph.secondAverageDateSalesCycle.map((function(e){return e.avgCount})))}]:[];return[].concat(h,Object(w["a"])(f),m,Object(w["a"])(c))},filters:function(){var e={dateRange:{dateStart:this.dateStart,dateEnd:this.dateEnd},owners:this.ownersToCompare.length>0?this.ownersToCompare:this.ownersFilter,pipeline:this.pipelineFilter,typePeriod:this.settings.periodPredefined[0],typePeriodDisplay:"MONTHS"};return this.dateRangeToCompare&&""!==this.dateRangeToCompare.dateStart&&""!==this.dateRangeToCompare.dateEnd&&(e.dateRangeToCompare=this.dateRangeToCompare),e}},methods:{update:function(){this.$apollo.queries.salesCycleLinearGraph.refetch()}},apollo:{salesCycleLinearGraph:{query:O["H"],fetchPolicy:"no-cache",client:"charts",variables:function(){return{filters:this.filters}},skip:function(){return""===this.dateStart||""===this.dateEnd||!this.pipelineFilter.id||0===this.ownersFilter.length},watchLoading:function(e){this.isLoading=e}}}},B=_,M=(i("9c79"),Object(v["a"])(B,b,F,!1,null,"06549fae",null)),I=M.exports,x={name:"LineSalesCycleByMonthModal",components:{LineSalesCycleByMonthFilter:S,LineSalesCycleByMonthData:I},mixins:[h["c"]],props:{isOpen:{type:Boolean,default:!1},title:{type:String,default:"Sin título"},titleRegular:{type:String,default:""},filters:{type:Object,default:function(){return{filtersConfig:{filterTime:"WEEKS",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownersToCompare:[]},filtersTable:{users:[],pipelines:[],periodRange:{start:"",end:""},dealStatus:""}}}}}},L=x,G=Object(v["a"])(L,n,s,!1,null,"03f7b704",null),E=G.exports,j={name:"LineSalesCycleByMonthPreview",components:{LineSalesCycleByMonthData:I,LineSalesCycleByMonthModal:E,LineSalesCycleByMonthFilter:S},mixins:[h["d"]],props:{defaultPeriod:{type:String,default:"THIS_MONTH"}},data:function(){return{title:"Ciclo",titleRegular:"por mes",chartId:"line-salesCycleByMonth",filtersChartsDefault:{},initFilter:{users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownersToCompare:[],dealStatus:"WON"}}},computed:{filtersConfig:function(){var e,t,i,r,o,a;return{users:this.usersGlobal||(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.users)||this.filtersChartsDefault.users,pipeline:(null===(t=this.chart.filtersFull)||void 0===t?void 0:t.pipeline)||this.initPipeline,periodRange:this.periodRangeGlobal||(null===(i=this.chart.filtersFull)||void 0===i?void 0:i.periodRange)||this.periodRange,periodPredefined:this.periodPredefinedGlobal||(null===(r=this.chart.filtersFull)||void 0===r?void 0:r.periodPredefined)||[this.defaultPeriod]||this.initFilter.periodPredefined,periodRangeToCompare:(null===(o=this.chart.filtersFull)||void 0===o?void 0:o.periodRangeToCompare)||this.initFilter.periodRangeToCompare,ownersToCompare:(null===(a=this.chart.filtersFull)||void 0===a?void 0:a.ownersToCompare)||this.initFilter.ownersToCompare}},filtersTable:function(){var e,t=this.getPeriod(this.initFilter.periodPredefined[0]).get(),i=Object(a["a"])(t,2),r=i[0],o=i[1];return{users:this.usersGlobal||this.users||this.filtersChartsDefault.users,pipelines:this.pipelines||this.initPipelines,periodRange:this.periodRangeGlobal||(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.periodRange)||{start:r,end:o},dealStatus:this.initFilter.dealStatus}}}},k=j,H=(i("792d"),Object(v["a"])(k,r,o,!1,null,"d79ec1f0",null));t["a"]=H.exports},"94a1":function(e,t,i){"use strict";i("0416")},"9c79":function(e,t,i){"use strict";i("5ba8")},"9d7f":function(e,t,i){},a090:function(e,t,i){},a5d5:function(e,t,i){"use strict";i("bc92")},a6a1:function(e,t,i){"use strict";var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseCardChart",{attrs:{title:e.title,titleRegular:e.titleRegular,settings:e.filtersConfig},on:{updateRefetch:function(t){e.isRefetch=!0}},scopedSlots:e._u([{key:"modal",fn:function(){return[i("CardAverageDaysInPipelineFilter",{attrs:{defaultFilter:e.filtersConfig,isIcon:"",isPreview:""}})]},proxy:!0}])},[i("div",{staticClass:"hoverClick",on:{click:e.openModal}},[i("CardAverageDaysInPipelineData",{attrs:{defaultFilter:e.filtersConfig,isPreview:"",isRefetch:e.isRefetch},on:{updateRefetch:function(t){e.isRefetch=!1}}})],1),i("CardAverageDaysInPipelineModal",{attrs:{isOpen:e.isOpenModal,filters:{filtersConfig:e.filtersConfig,filtersTable:e.filtersTable},title:e.title,titleRegular:e.titleRegular},on:{close:e.closeModal}})],1)},o=[],a=i("3835"),n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalChart",{attrs:{title:e.title,titleRegular:e.titleRegular,isOpen:e.isOpen},on:{close:e.closeModal},scopedSlots:e._u([{key:"filters",fn:function(){return[i("CardAverageDaysInPipelineFilter",{attrs:{defaultFilter:e.filters.filtersConfig}})]},proxy:!0},{key:"chart",fn:function(){return[i("CardAverageDaysInPipelineData",{attrs:{defaultFilter:e.filters.filtersConfig}})]},proxy:!0},{key:"table",fn:function(){return[i("TableDeals",{attrs:{defaultFilter:e.filters.filtersTable}})]},proxy:!0}])})},s=[],l=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.isPreview?e._e():i("ListFilters",{attrs:{settings:e.settings}}),i("BaseCardNumber",{attrs:{information:{numberMain:""+e.numberMain,textMain:e.textMain,valueMain:e.valueMain,textMainType:"Promedio",isCompare:!e.isPreview&&(e.settings.periodRangeToCompare.period.length>0||e.isCompareUser),numberCompare:""+e.numberCompare,textCompare:e.textCompare,valueCompare:e.valueCompare,numberDifferenceCompare:e.comparePercentage}}}),e.isPreview?e._e():i("CardAverageDaysInPipelineInformation",{attrs:{information:e.averageDaysInPipelineCard.informationBar,filterBy:e.settings.filterBy}})],1)},d=[],p=(i("b680"),i("b0c0"),i("99af"),i("8d7e")),u=i("0db6"),f=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-card",{staticClass:"mt-5",attrs:{flat:""}},[i("v-container",[i("v-row",{staticClass:"justify-center"},[i("v-col",{attrs:{cols:"3"}},[e._l(e.information.usersAvgDaysInPipeline,(function(t,r){return[i("span",{key:r,staticClass:"d-block"},[i("b",[e._v(e._s(t.name))]),e._v(" : "+e._s(t.avg.toFixed(2))+" ")])]}))],2),e._l(e.information.periodsAvgDaysInPipeline,(function(t,r){return[i("v-col",{key:r,attrs:{cols:"3"}},[i("span",{staticClass:"d-block"},[i("b",[e._v(e._s(e.rowOne[r]))]),e._v(" : "+e._s(t.avg.toFixed(2))+" ")])])]}))],2)],1)],1)},c=[],h={name:"CardAverageDaysInPipelineInformation",props:{information:{type:Object,default:function(){return{}}},filterBy:{type:String,default:"count"}},data:function(){return{rowOne:["Este período","Período pasado","Mismo período el mes anterior"]}}},m=h,g=i("0c7c"),v=i("6544"),C=i.n(v),T=i("b0af"),R=i("62ad"),y=i("a523"),P=i("0fd9"),S=Object(g["a"])(m,f,c,!1,null,null,null),b=S.exports;C()(S,{VCard:T["a"],VCol:R["a"],VContainer:y["a"],VRow:P["a"]});var F={name:"CardAverageDaysInPipelineData",mixins:[u["a"]],components:{CardAverageDaysInPipelineInformation:b},props:{defaultFilter:{type:Object,default:function(){return{users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{id:""}}}},isPreview:{type:Boolean,default:!1}},data:function(){return{averageDaysInPipelineCard:{},modalSettings:{users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:[],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{id:""}},settings:{users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:[],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{id:""}}}},computed:{isCompareUser:function(){var e,t,i,r,o,a;return(null===(e=this.averageDaysInPipelineCard)||void 0===e||null===(t=e.mainPipelineAvg)||void 0===t?void 0:t.id)!==(null===(i=this.averageDaysInPipelineCard)||void 0===i||null===(r=i.secondPipelineAvg)||void 0===r?void 0:r.id)&&""!==(null===(o=this.settings)||void 0===o||null===(a=o.ownerToCompare)||void 0===a?void 0:a.id)},comparePercentage:function(){return"0.00"===this.numberCompare?"0.00":(100*this.numberMain/this.numberCompare-100).toFixed(2)},numberMain:function(){var e,t,i;return this.averageDaysInPipelineCard&&void 0!==(null===(e=this.averageDaysInPipelineCard)||void 0===e||null===(t=e.mainPipelineAvg)||void 0===t?void 0:t.avg)&&"".concat(null===(i=this.averageDaysInPipelineCard)||void 0===i?void 0:i.mainPipelineAvg.avg.toFixed(2))||"0.00"},numberCompare:function(){var e,t,i;return this.averageDaysInPipelineCard&&void 0!==(null===(e=this.averageDaysInPipelineCard)||void 0===e||null===(t=e.secondPipelineAvg)||void 0===t?void 0:t.avg)&&"".concat(null===(i=this.averageDaysInPipelineCard)||void 0===i?void 0:i.secondPipelineAvg.avg.toFixed(2))||"0.00"},textCompare:function(){return"PREVIOUS_PERIOD"===this.settings.periodRangeToCompare.period?this.settings.periodPredefined[3]:"PREVIOUS_YEAR"===this.settings.periodRangeToCompare.period?"Año anterior":"CUSTOM"===this.settings.periodRangeToCompare.period?"Personalizado":""},valueCompare:function(){if(!this.isPreview){var e,t;if(this.isCompareUser)return null===(e=this.averageDaysInPipelineCard)||void 0===e||null===(t=e.secondPipelineAvg)||void 0===t?void 0:t.name;if("CUSTOM"===this.settings.periodRangeToCompare.period)return"".concat(this.formatDate(this.filters.dateRangeToCompare.dateStart)," - ").concat(this.formatDate(this.filters.dateRangeToCompare.dateEnd))}return""},textMain:function(){return this.isPreview?"":(this.isCompareUser,this.settings.periodPredefined[2])},valueMain:function(){if(!this.isPreview){var e,t;if(this.isCompareUser)return null===(e=this.averageDaysInPipelineCard)||void 0===e||null===(t=e.mainPipelineAvg)||void 0===t?void 0:t.name;if(this.settings.periodPredefined.length>0&&"CUSTOM"===this.settings.periodPredefined[0])return"".concat(this.formatDate(this.filters.dateRange.dateStart)," - ").concat(this.formatDate(this.filters.dateRange.dateEnd))}return""},filters:function(){var e={dateRange:{dateStart:this.dateStart,dateEnd:this.dateEnd},owners:this.ownersFilter,pipeline:this.pipelineFilter};return this.ownerToCompare&&""!==this.ownerToCompare.id&&(e.ownerToCompare=this.ownerToCompare),this.dateRangeToCompare&&""!==this.dateRangeToCompare.dateStart&&""!==this.dateRangeToCompare.dateEnd&&(e.dateRangeToCompare=this.dateRangeToCompare),e}},methods:{update:function(){this.$apollo.queries.averageDaysInPipelineCard.refetch()}},apollo:{averageDaysInPipelineCard:{query:p["e"],fetchPolicy:"no-cache",client:"charts",variables:function(){return{filters:this.filters}},skip:function(){return""===this.dateStart||""===this.dateEnd||!this.pipelineFilter.id||0===this.ownersFilter.length},loadingKey:"isLoading"}}},w=F,O=Object(g["a"])(w,l,d,!1,null,"283b8de4",null),D=O.exports,_=i("8b70"),B=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalFilters",{attrs:{isOpen:e.isOpenModalFilter,isIcon:e.isIcon},on:{save:e.saveFilter,statusModal:e.statusModal}},[i("v-row",[i("v-col",{attrs:{cols:"12"}},[i("SelectUsers",{attrs:{all:"",defaultSelect:e.defaultFilter.users},on:{change:e.changeUsers}})],1),i("v-col",{attrs:{cols:"12"}},[i("SelectPipeline",{attrs:{defaultSelect:e.defaultFilter.pipeline},on:{change:e.changePipeline}})],1),i("v-col",{attrs:{cols:"12"}},[i("PeriodPredefined",{attrs:{defaultSelect:e.defaultFilter.periodPredefined},on:{change:e.changePeriodPredefined}})],1),e.isPreview?e._e():i("v-col",{attrs:{cols:"12"}},[i("ComparePeriod",{attrs:{periodPredefined:e.filters.periodPredefined[0]},on:{change:e.changeComparePeriod}})],1)],1)],1)},M=[],I=i("5530"),x=i("740f"),L=i("6321"),G=i("c065"),E={name:"CardAverageDaysInPipelineFilter",components:{SelectUsers:x["a"],SelectPipeline:L["a"]},mixins:[u["b"]],props:{defaultFilter:{type:Object,default:function(){return{filterBy:"count",filterTime:"WEEKS",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{id:""}}}},isIcon:{type:Boolean,default:!1},isPreview:{type:Boolean,default:!1}},data:function(){return{listTime:G["d"],listFilterBy:G["e"],filters:{users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{id:""}}}},methods:{changeComparePeriod:function(e){var t=e.isCompare,i=e.periodCompare,r=e.ownerCompare;if(t){if(r&&r.id&&(this.filters.ownerToCompare.id=r.id,this.filters.periodRangeToCompare.period="",this.filters.periodRangeToCompare.start="",this.filters.periodRangeToCompare.end=""),i){if(this.filters.periodRangeToCompare.period=i.periodSelected,i.periodRange.length>0){var o=Object(a["a"])(i.periodRange,2);this.filters.periodRangeToCompare.start=o[0],this.filters.periodRangeToCompare.end=o[1]}this.filters.ownerToCompare.id=""}}else this.filters.periodRangeToCompare.period="",this.filters.periodRangeToCompare.start="",this.filters.periodRangeToCompare.end="",this.filters.ownerToCompare.id=""},saveFilter:function(){this.changeChart({id:"card-averageDaysInPipeline",filtersFull:Object(I["a"])(Object(I["a"])({},this.noReactive(this.filters)),{},{periodRange:Object(I["a"])({__typename:"PeriodRange"},this.filters.periodRange),ownerToCompare:Object(I["a"])({__typename:"OwnerToCompare"},this.filters.ownerToCompare)})}),this.isOpenModalFilter=!1}}},j=E,k=Object(g["a"])(j,B,M,!1,null,"aa85aa70",null),H=k.exports;C()(k,{VCol:R["a"],VRow:P["a"]});var U={name:"CardAverageDaysInPipelineModal",components:{CardAverageDaysInPipelineData:D,TableDeals:_["a"],CardAverageDaysInPipelineFilter:H},mixins:[u["c"]],props:{isOpen:{type:Boolean,default:!1},title:{type:String,default:"Sin título"},titleRegular:{type:String,default:""},filters:{type:Object,default:function(){return{filtersConfig:{users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{id:""}},filtersTable:{users:[],pipelines:[],periodRange:{start:"",end:""},dealStatus:""}}}}}},N=U,V=Object(g["a"])(N,n,s,!1,null,"c479d47c",null),W=V.exports,$={name:"CardAverageDaysInPipelinePreview",components:{CardAverageDaysInPipelineData:D,CardAverageDaysInPipelineModal:W,CardAverageDaysInPipelineFilter:H},mixins:[u["d"]],props:{defaultPeriod:{type:String,default:"THIS_MONTH"}},data:function(){return{chartId:"card-averageDaysInPipeline",title:"Promedio",titleRegular:"de días por embudo",isOpenModal:!1,filtersChartsDefault:{},initFilter:{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{id:""},dealStatus:"ALL"}}},computed:{filtersConfig:function(){var e,t,i,r,o,a,n;return{filterBy:(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.filterBy)||this.initFilter.filterBy,users:this.usersGlobal||(null===(t=this.chart.filtersFull)||void 0===t?void 0:t.users)||this.initUsers,pipeline:(null===(i=this.chart.filtersFull)||void 0===i?void 0:i.pipeline)||this.initPipeline,periodRange:this.periodRangeGlobal||(null===(r=this.chart.filtersFull)||void 0===r?void 0:r.periodRange)||this.periodRange,periodPredefined:this.periodPredefinedGlobal||(null===(o=this.chart.filtersFull)||void 0===o?void 0:o.periodPredefined)||[this.defaultPeriod]||this.initFilter.periodPredefined,periodRangeToCompare:(null===(a=this.chart.filtersFull)||void 0===a?void 0:a.periodRangeToCompare)||this.initFilter.periodRangeToCompare,ownerToCompare:(null===(n=this.chart.filtersFull)||void 0===n?void 0:n.ownerToCompare)||this.initFilter.ownerToCompare}},filtersTable:function(){var e,t=this.getPeriod(this.initFilter.periodPredefined[0]).get(),i=Object(a["a"])(t,2),r=i[0],o=i[1];return{users:this.usersGlobal||this.users||this.initUsers,pipelines:this.pipelines||this.filtersChartsDefault.pipelines,periodRange:this.periodRangeGlobal||(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.periodRange)||{start:r,end:o},dealStatus:this.initFilter.dealStatus}}}},A=$,z=(i("a5d5"),Object(g["a"])(A,r,o,!1,null,"09aa00c4",null));t["a"]=z.exports},b22a:function(e,t,i){"use strict";i("a090")},bc92:function(e,t,i){},bd0b:function(e,t,i){"use strict";i("7f42")},c22d:function(e,t,i){"use strict";i("dbb1f")},c67a:function(e,t,i){"use strict";i("8056")},cfa6:function(e,t,i){"use strict";i("3753")},d1c1:function(e,t,i){"use strict";i("024a")},d704:function(e,t,i){"use strict";i("574b")},d967:function(e,t,i){},dbb1f:function(e,t,i){},e050:function(e,t,i){"use strict";i.d(t,"d",(function(){return O})),i.d(t,"c",(function(){return D})),i.d(t,"b",(function(){return _})),i.d(t,"a",(function(){return B}));var r=i("3835"),o=(i("7db0"),i("047b")),a=i("baee"),n=i("cdd4"),s=i("198f"),l=i("8b70"),d=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-row",[i("v-col",{attrs:{cols:"12"}},[i("v-select",{attrs:{items:e.itemsCompare,"item-value":"id","item-text":"text",label:"Comparar con:",outlined:"",dense:"","hide-details":"auto"},model:{value:e.itemSelected,callback:function(t){e.itemSelected=t},expression:"itemSelected"}})],1),"date"===e.itemSelected?i("v-col",{attrs:{cols:"12"}},[i("Select",{attrs:{name:"Elige la fecha",list:e.listCompare},on:{change:e.updatePeriodSelected}})],1):e._e(),"date"===e.itemSelected&&"CUSTOM"===e.periodCompare.periodSelected?i("v-col",{attrs:{cols:"12"}},[i("PeriodRange",{attrs:{defaultSelect:e.periodRange},on:{change:e.updatePeriodRange}})],1):e._e()],1)},p=[],u=i("5530"),f=i("d344"),c=i("a027"),h={name:"ComparePeriodLines",components:{Select:f["a"],PeriodRange:c["a"]},props:{periodPredefined:{type:String,default:""},hasUserCompare:{type:Boolean,default:!1}},data:function(){return{periodRange:[],periodCompare:{periodSelected:"",periodRange:""},isCompare:!1,listCompare:n["b"],itemSelected:"none",usersSelected:[]}},watch:{itemSelected:{handler:function(){this.update()},immediate:!0}},computed:{itemsCompare:function(){return this.hasUserCompare?[{id:"none",text:"Ninguno"},{id:"date",text:"Fecha"},{id:"user",text:"Usuario"}]:[{id:"none",text:"Ninguno"},{id:"date",text:"Fecha"}]}},methods:{findPeriod:function(e){return this.listCompare.find((function(t){return t.id===e}))},updatePeriodRange:function(e){this.periodCompare.periodRange=e,this.update()},updatePeriodSelected:function(e){if(this.periodCompare.periodSelected=e,"CUSTOM"!==this.periodCompare.periodSelected){var t=this.findPeriod(e);this.periodCompare.periodRange=t?t.get(this.periodPredefined):[]}this.update()},update:function(){var e={};"date"===this.itemSelected&&(e.periodCompare=this.periodCompare),this.$emit("change",Object(u["a"])({isCompare:"date"===this.itemSelected},e))}}},m=h,g=(i("548b"),i("0c7c")),v=i("6544"),C=i.n(v),T=i("62ad"),R=i("0fd9"),y=i("b974"),P=Object(g["a"])(m,d,p,!1,null,"1c34c191",null),S=P.exports;C()(P,{VCol:T["a"],VRow:R["a"],VSelect:y["a"]});var b=i("73cd"),F=i("9d71"),w=i("7d6b"),O={components:{BaseCardChart:o["a"]},mixins:[a["b"]],props:{filtersGlobal:{type:Object,default:function(){return{user:{},periodPredefined:[]}}}},data:function(){return{isRefetch:!1,isOpenModal:!1,periods:n["a"]}},computed:{usersGlobal:function(){return this.filtersGlobal.users.length>0?this.filtersGlobal.users:null},periodPredefinedGlobal:function(){return this.filtersGlobal.periodPredefined&&this.filtersGlobal.periodPredefined.length>0?[this.filtersGlobal.periodPredefined[0]]:null},periodRangeGlobal:function(){if(this.filtersGlobal.periodPredefined&&this.filtersGlobal.periodPredefined.length>1){var e=this.filtersGlobal.periodPredefined[1];return{start:e[0],end:e[1]}}return null},initUsers:function(){return this.filtersChartsDefault.users&&this.filtersChartsDefault.users.length>0?this.filtersChartsDefault.users:null},initPipeline:function(){return this.filtersChartsDefault.pipelines&&this.filtersChartsDefault.pipelines.length>0?this.filtersChartsDefault.pipelines[0]:{}},initPipelines:function(){return this.filtersChartsDefault.pipelines&&this.filtersChartsDefault.pipelines.length>0?[this.filtersChartsDefault.pipelines[0]]:[]},periodRange:function(){var e=this.getPeriod(this.defaultPeriod||this.initFilter.periodPredefined[0]).get(),t=Object(r["a"])(e,2),i=t[0],o=t[1];return{start:i,end:o}},users:function(){var e,t;return(null===(e=this.chart.filtersFull)||void 0===e||null===(t=e.users)||void 0===t?void 0:t.length)>0?this.chart.filtersFull.users:null},pipelines:function(){var e,t;return null!==(e=this.chart.filtersFull)&&void 0!==e&&e.pipeline?[null===(t=this.chart.filtersFull)||void 0===t?void 0:t.pipeline]:null}},methods:{getPeriod:function(e){return this.periods.find((function(t){return t.id===e}))},openModal:function(){this.isOpenModal=!0},closeModal:function(){this.isOpenModal=!1}}},D={components:{BaseModalChart:s["a"],TableDeals:l["a"]},methods:{closeModal:function(){this.$emit("close")}}},_={components:{ComparePeriodLines:S,BaseModalFilters:b["a"],PeriodPredefined:F["a"]},mixins:[a["c"]],props:{isIcon:{type:Boolean,default:!1},isPreview:{type:Boolean,default:!1}},data:function(){return{listCompare:n["b"],isOpenModalFilter:!1,typeCompare:"none"}},methods:{findPeriod:function(e){return this.listCompare.find((function(t){return t.id===e}))},updatePeriodSelected:function(e){if("CUSTOM"!==e){var t=this.findPeriod(e),i=t?t.get(this.filters.periodPredefined[0]):[];if(i){var o=Object(r["a"])(i,2);this.filters.periodRangeToCompare.start=o[0],this.filters.periodRangeToCompare.end=o[1]}}},statusModal:function(e){this.isOpenModalFilter=e},changeTime:function(e){this.filters.filterTime=e},changeFilterBy:function(e){this.filters.filterBy=e},changeUser:function(e){this.filters.users=[e]},changeUsers:function(e){this.filters.users=e},changePipeline:function(e){this.filters.pipeline=e},changePeriodPredefined:function(e){this.filters.periodPredefined=e;var t=Object(r["a"])(e,2),i=Object(r["a"])(t[1],2);this.filters.periodRange.start=i[0],this.filters.periodRange.end=i[1],"date"===this.typeCompare&&this.updatePeriodSelected(this.filters.periodRangeToCompare.period)},changeComparePeriod:function(e){var t=e.isCompare,i=e.periodCompare;if(t){if(i&&(this.typeCompare="date",this.filters.periodRangeToCompare.period=i.periodSelected,i.periodRange.length>0)){var o=Object(r["a"])(i.periodRange,2);this.filters.periodRangeToCompare.start=o[0],this.filters.periodRangeToCompare.end=o[1]}}else this.typeCompare="none",this.filters.periodRangeToCompare.period="",this.filters.periodRangeToCompare.start="",this.filters.periodRangeToCompare.end=""}}},B={mixins:[w["a"]],props:{isPreview:{type:Boolean,default:!1},isRefetch:{type:Boolean,default:!1}},watch:{isRefetch:function(e){e&&(this.update(),this.$emit("updateRefetch"))}},computed:{isLargeWidth:function(){return"THIS_YEAR"===this.settings.periodPredefined[0]||"LAST_YEAR"===this.settings.periodPredefined[0]},isWithScroll:function(){return this.isLargeWidth&&this.isPreview}},methods:{formatPrice:function(e){return new Intl.NumberFormat("es-MX",{style:"currency",currency:"MXN"}).format(e)}}}},e481:function(e,t,i){"use strict";i("20fa")},e624:function(e,t,i){"use strict";var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseCardChart",{attrs:{title:e.title,titleRegular:e.titleRegular,settings:e.filtersConfig,isChart:""},on:{updateRefetch:function(t){e.isRefetch=!0}},scopedSlots:e._u([{key:"modal",fn:function(){return[i("BarOpportunitySalesFilter",{attrs:{defaultFilter:e.filtersConfig,isIcon:"",isPreview:""}})]},proxy:!0}])},[i("div",{staticClass:"hoverClick",on:{click:e.openModal}},[i("BarOpportunitySalesData",{attrs:{defaultFilter:e.filtersConfig,isPreview:"",isRefetch:e.isRefetch},on:{updateRefetch:function(t){e.isRefetch=!1}}})],1),i("BarOpportunitySalesModal",{attrs:{isOpen:e.isOpenModal,filters:{filtersConfig:e.filtersConfig,filtersTable:e.filtersTable},title:e.title,titleRegular:e.titleRegular},on:{close:e.closeModal}})],1)},o=[],a=i("3835"),n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalChart",{attrs:{title:e.title,titleRegular:e.titleRegular,isOpen:e.isOpen},on:{close:e.closeModal},scopedSlots:e._u([{key:"filters",fn:function(){return[i("BarOpportunitySalesFilter",{attrs:{defaultFilter:e.filters.filtersConfig}})]},proxy:!0},{key:"chart",fn:function(){return[i("BarOpportunitySalesData",{attrs:{defaultFilter:e.filters.filtersConfig,isFull:""}})]},proxy:!0},{key:"table",fn:function(){return[i("TableDeals",{attrs:{defaultFilter:e.filters.filtersTable}})]},proxy:!0}])})},s=[],l=i("52e2"),d=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalFilters",{attrs:{isOpen:e.isOpenModalFilter,isIcon:e.isIcon},on:{save:e.saveFilter,statusModal:e.statusModal}},[i("v-row",[i("v-col",{attrs:{cols:"12"}},[i("Select",{attrs:{name:"Filtrar por",defaultSelect:e.defaultFilter.filterBy,list:e.listFilterBy},on:{change:e.changeFilterBy}})],1),i("v-col",{attrs:{cols:"12"}},[i("SelectUsers",{attrs:{all:"",defaultSelect:e.defaultFilter.users},on:{change:e.changeUsers}})],1),i("v-col",{attrs:{cols:"12"}},[i("SelectPipeline",{attrs:{defaultSelect:e.defaultFilter.pipeline},on:{change:e.changePipeline}})],1),i("v-col",{attrs:{cols:"12"}},[i("PeriodPredefined",{attrs:{defaultSelect:e.defaultFilter.periodPredefined},on:{change:e.changePeriodPredefined}})],1),e.isPreview?e._e():i("v-col",{attrs:{cols:"12"}},[i("ComparePeriodBars",{attrs:{periodPredefined:e.filters.periodPredefined[0]},on:{change:e.changeComparePeriod}})],1)],1)],1)},p=[],u=i("5530"),f=i("740f"),c=i("d344"),h=i("6321"),m=i("c065"),g={name:"BarOpportunitySalesFilter",components:{SelectUsers:f["a"],SelectPipeline:h["a"],Select:c["a"]},mixins:[l["b"]],props:{defaultFilter:{type:Object,default:function(){return{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{},typeCompare:"none"}}}},data:function(){return{listTime:m["d"],listFilterBy:m["e"],filters:{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{},typeCompare:"none"}}},methods:{saveFilter:function(){this.changeChart({id:"bar-opportunitySales",filtersFull:Object(u["a"])(Object(u["a"])({},this.noReactive(this.filters)),{},{periodRange:Object(u["a"])({__typename:"PeriodRange"},this.filters.periodRange),ownerToCompare:Object(u["a"])({},this.filters.ownerToCompare)})}),this.isOpenModalFilter=!1}}},v=g,C=i("0c7c"),T=i("6544"),R=i.n(T),y=i("62ad"),P=i("0fd9"),S=Object(C["a"])(v,d,p,!1,null,"66edaafe",null),b=S.exports;R()(S,{VCol:y["a"],VRow:P["a"]});var F=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.isPreview?e._e():i("ListFilters",{attrs:{settings:e.settings}}),i("div",{staticClass:"text-center bgWhite",class:[{"py-5 px-3":!e.isPreview},{showScroll:e.isWithScroll}]},[i("apexchart",{attrs:{height:e.isPreview?250:350,type:"bar",options:e.options,series:e.series}}),e.isPreview||"date"!==e.settings.typeCompare?e._e():i("h4",[e._v(" Comparación de fecha ")]),e.isPreview||"user"!==e.settings.typeCompare?e._e():i("h4",[e._v(" Comparación con otro usuario ")]),e.isPreview||"none"===e.settings.typeCompare?e._e():i("apexchart",{attrs:{height:e.isPreview?250:350,type:"bar",options:e.optionsCompare,series:e.seriesCompare}})],1),e.isPreview?e._e():i("BarOpportunitySalesInformation",{attrs:{information:e.opportunitiesSalesVerticalBarsGraph.informationBar,filterBy:e.settings.filterBy}})],1)},w=[],O=(i("d81d"),i("8d7e")),D=i("b3b3"),_=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-card",{staticClass:"mt-5",attrs:{flat:""}},[i("v-container",[i("v-row",{staticClass:"justify-center"},[i("v-col",{attrs:{cols:"3"}},[i("span",[i("b",[e._v("Tasa de oportunidades:")]),e._v(" "+e._s(e.information.totalDeals&&e.information.totalDeals[e.filterBy])+" ")])]),i("v-col",{attrs:{cols:"3"}},[i("b",[e._v("Tasa de oportunidades ganadas:")]),e._v(" "+e._s(e.information.wonDeals&&e.information.wonDeals[e.filterBy])+" ")]),i("v-col",{attrs:{cols:"3"}},[i("b",[e._v("Tasa de oportunidades perdidas:")]),e._v(" "+e._s(e.information.lostDeals&&e.information.lostDeals[e.filterBy])+" ")]),i("v-col",{attrs:{cols:"3"}},[i("b",[e._v("Tasa de oportunidades abiertas:")]),e._v(" "+e._s(e.information.openDeals&&e.information.openDeals[e.filterBy])+" ")])],1)],1)],1)},B=[],M={name:"BarOpportunitySalesInformation",props:{information:{type:Object,default:function(){return{}}},filterBy:{type:String,default:"count"}}},I=M,x=i("b0af"),L=i("a523"),G=Object(C["a"])(I,_,B,!1,null,null,null),E=G.exports;R()(G,{VCard:x["a"],VCol:y["a"],VContainer:L["a"],VRow:P["a"]});var j={name:"BarOpportunitySalesData",mixins:[l["a"]],components:{BarOpportunitySalesInformation:E},props:{defaultFilter:{type:Object,default:function(){return{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],typeCompare:"none"}}}},data:function(){return{listFilterBy:m["e"],opportunitiesSalesVerticalBarsGraph:{mainOpportunitySales:{},secondOpportunitySales:{}},modalSettings:{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],typeCompare:"none"},settings:{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],typeCompare:"none"}}},computed:{options:function(){return this.formatOptions(this.opportunitiesSalesVerticalBarsGraph.mainOpportunitiesSales)},optionsCompare:function(){return this.formatOptions(this.opportunitiesSalesVerticalBarsGraph.secondOpportunitiesSales)},series:function(){return this.formatSeries(this.opportunitiesSalesVerticalBarsGraph.mainOpportunitiesSales)},seriesCompare:function(){return this.formatSeries(this.opportunitiesSalesVerticalBarsGraph.secondOpportunitiesSales)},showTitleXaxis:function(){if(!this.isPreview)return this.isWeeks?"Semanas":"Meses"},showTitleYaxis:function(){if(!this.isPreview)return this.isCount?"Cantidad de tratos":"Valor de tratos"},isWithScroll:function(){return this.isLargeWidth&&this.isPreview},filters:function(){var e={dateRange:{dateStart:this.dateStart,dateEnd:this.dateEnd},owners:this.ownersFilter,pipeline:this.pipelineFilter,typePeriod:this.settings.periodPredefined[0],typePeriodDisplay:this.settings.filterTime};return this.ownerToCompare&&(e.ownerToCompare=this.ownerToCompare),this.dateRangeToCompare&&""!==this.dateRangeToCompare.dateStart&&""!==this.dateRangeToCompare.dateEnd&&(e.dateRangeToCompare=this.dateRangeToCompare),e}},methods:{formatOptions:function(e){var t,i=this;if(e){var r=e.dateString;t=void 0===r?[]:r}return{chart:{type:"bar",height:this.isPreview?"250":"350",width:this.isWithScroll?"600":"100%",stacked:!0,toolbar:{show:!1},zoom:{enabled:!1}},plotOptions:{bar:{borderRadius:8,horizontal:!1}},dataLabels:{formatter:function(e){return i.isCount?e:i.formatPrice(e)}},xaxis:{categories:t||[],title:{text:this.showTitleXaxis}},yaxis:{labels:{formatter:function(e){return i.isCount?e:i.formatPrice(e)}},title:{text:this.showTitleYaxis}},colors:D["c"],legend:{position:"top",horizontalAlign:this.isPreview?"left":"center"},fill:{opacity:1}}},formatSeries:function(e){var t=[],i=[],r=[],o=[],a=[],n=[];if(e){var s=e.wonDealsCount;t=void 0===s?[]:s;var l=e.lostDealsCount;i=void 0===l?[]:l;var d=e.openDealsCount;r=void 0===d?[]:d;var p=e.wonDealsSum;o=void 0===p?[]:p;var u=e.lostDealsSum;a=void 0===u?[]:u;var f=e.openDealsSum;n=void 0===f?[]:f}return[{name:"Ganados",data:this.isCount?t.map((function(e){var t=e.count;return t})):o.map((function(e){var t=e.sum;return t}))},{name:"Perdidos",data:this.isCount?i.map((function(e){var t=e.count;return t})):a.map((function(e){var t=e.sum;return t}))},{name:"Abiertos",data:this.isCount?r.map((function(e){var t=e.count;return t})):n.map((function(e){var t=e.sum;return t}))}]},update:function(){this.$apollo.queries.opportunitiesSalesVerticalBarsGraph.refetch()}},apollo:{opportunitiesSalesVerticalBarsGraph:{query:O["z"],fetchPolicy:"no-cache",client:"charts",variables:function(){return{filters:this.filters}},skip:function(){return""===this.dateStart||""===this.dateEnd||!this.pipelineFilter.id||0===this.ownersFilter.length},watchLoading:function(e){this.isLoading=e}}}},k=j,H=(i("0adc"),Object(C["a"])(k,F,w,!1,null,"9ba9ecea",null)),U=H.exports,N=i("8b70"),V={name:"BarOpportunitySalesModal",components:{BarOpportunitySalesFilter:b,BarOpportunitySalesData:U,TableDeals:N["a"]},mixins:[l["c"]],props:{filters:{type:Object,default:function(){return{filtersConfig:{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{},typeCompare:"none"},filtersTable:{users:[],pipelines:[],periodRange:{start:"",end:""},dealStatus:""}}}}}},W=V,$=Object(C["a"])(W,n,s,!1,null,"3fcaf658",null),A=$.exports,z={name:"BarOpportunitySalesPreview",components:{BarOpportunitySalesData:U,BarOpportunitySalesModal:A,BarOpportunitySalesFilter:b},mixins:[l["d"]],props:{defaultPeriod:{type:String,default:"THIS_MONTH"}},data:function(){return{chartId:"bar-opportunitySales",title:"Conversión",titleRegular:"por etapa",filtersChartsDefault:{},initFilter:{filterBy:"count",filterTime:"MONTHS",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{},dealStatus:"ALL",typeCompare:"none"}}},computed:{filtersConfig:function(){var e,t,i,r,o,a,n,s,l;return{filterBy:(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.filterBy)||this.initFilter.filterBy,filterTime:(null===(t=this.chart.filtersFull)||void 0===t?void 0:t.filterTime)||this.initFilter.filterTime,users:this.usersGlobal||(null===(i=this.chart.filtersFull)||void 0===i?void 0:i.users)||this.initUsers,pipeline:(null===(r=this.chart.filtersFull)||void 0===r?void 0:r.pipeline)||this.initPipeline,periodRange:this.periodRangeGlobal||(null===(o=this.chart.filtersFull)||void 0===o?void 0:o.periodRange)||this.periodRange,periodPredefined:this.periodPredefinedGlobal||(null===(a=this.chart.filtersFull)||void 0===a?void 0:a.periodPredefined)||[this.defaultPeriod]||this.initFilter.periodPredefined,periodRangeToCompare:(null===(n=this.chart.filtersFull)||void 0===n?void 0:n.periodRangeToCompare)||this.initFilter.periodRangeToCompare,ownerToCompare:(null===(s=this.chart.filtersFull)||void 0===s?void 0:s.ownerToCompare)||this.initFilter.ownerToCompare,typeCompare:(null===(l=this.chart.filtersFull)||void 0===l?void 0:l.typeCompare)||this.initFilter.typeCompare}},filtersTable:function(){var e,t=this.getPeriod(this.initFilter.periodPredefined[0]).get(),i=Object(a["a"])(t,2),r=i[0],o=i[1];return{users:this.usersGlobal||this.users||this.initUsers,pipelines:this.pipelines||[this.initPipeline],periodRange:this.periodRangeGlobal||(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.periodRange)||{start:r,end:o},dealStatus:this.initFilter.dealStatus}}}},K=z,Y=(i("bd0b"),Object(C["a"])(K,r,o,!1,null,"3bcf851f",null));t["a"]=Y.exports},e89e:function(e,t,i){},e8b6:function(e,t,i){"use strict";i("d967")},e939:function(e,t,i){"use strict";var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseCardChart",{attrs:{title:e.title,titleRegular:e.titleRegular,settings:e.filtersConfig,isChart:""},on:{updateRefetch:function(t){e.isRefetch=!0}},scopedSlots:e._u([{key:"modal",fn:function(){return[i("LineThroughTimeConvertionRateFilter",{attrs:{defaultFilter:e.filtersConfig,isIcon:"",isPreview:""}})]},proxy:!0}])},[i("div",{staticClass:"hoverClick",on:{click:e.openModal}},[i("LineThroughTimeConvertionRateData",{attrs:{defaultFilter:e.filtersConfig,isPreview:"",isRefetch:e.isRefetch},on:{updateRefetch:function(t){e.isRefetch=!1}}})],1),i("LineThroughTimeConvertionRateModal",{attrs:{isOpen:e.isOpenModal,filters:{filtersConfig:e.filtersConfig,filtersTable:e.filtersTable},title:e.title,titleRegular:e.titleRegular},on:{close:e.closeModal}})],1)},o=[],a=i("3835"),n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalChart",{attrs:{title:e.title,titleRegular:e.titleRegular,isOpen:e.isOpen},on:{close:e.closeModal},scopedSlots:e._u([{key:"filters",fn:function(){return[i("LineThroughTimeConvertionRateFilter",{attrs:{defaultFilter:e.filters.filtersConfig}})]},proxy:!0},{key:"chart",fn:function(){return[i("LineThroughTimeConvertionRateData",{attrs:{defaultFilter:e.filters.filtersConfig,isFull:""}})]},proxy:!0},{key:"table",fn:function(){return[i("TableDeals",{attrs:{defaultFilter:e.filters.filtersTable}})]},proxy:!0}])})},s=[],l=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalFilters",{attrs:{isOpen:e.isOpenModalFilter,isIcon:e.isIcon},on:{save:e.saveFilter,statusModal:e.statusModal}},[i("v-row",[i("v-col",{attrs:{cols:"12"}},[i("Select",{attrs:{name:"Filtrar por",defaultSelect:e.defaultFilter.filterTime,list:e.listTime},on:{change:e.changeTime}})],1),i("v-col",{attrs:{cols:"12"}},[i("Select",{attrs:{name:"Filtrar por",defaultSelect:e.defaultFilter.filterBy,list:e.listFilterBy},on:{change:e.changeFilterBy}})],1),i("v-col",{attrs:{cols:"12"}},[i("SelectUsers",{attrs:{all:"",defaultSelect:e.defaultFilter.users},on:{change:e.changeUsers}})],1),i("v-col",{attrs:{cols:"12"}},[i("SelectPipeline",{attrs:{defaultSelect:e.defaultFilter.pipeline},on:{change:e.changePipeline}})],1),i("v-col",{attrs:{cols:"12"}},[i("PeriodPredefined",{attrs:{defaultSelect:e.defaultFilter.periodPredefined},on:{change:e.changePeriodPredefined}})],1),e.isPreview?e._e():i("v-col",{attrs:{cols:"12"}},[i("ComparePeriodLines",{attrs:{periodPredefined:e.filters.periodPredefined[0]},on:{change:e.changeComparePeriod}})],1)],1)],1)},d=[],p=i("5530"),u=i("740f"),f=i("d344"),c=i("6321"),h=i("c065"),m=i("e050"),g={name:"LineThroughTimeConvertionRateFilter",components:{SelectUsers:u["a"],SelectPipeline:c["a"],Select:f["a"]},mixins:[m["b"]],props:{defaultFilter:{type:Object,default:function(){return{filterBy:"count",filterTime:"WEEKS",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""}}}}},data:function(){return{listTime:h["d"],listFilterBy:h["e"],filters:{filterBy:"count",filterTime:"WEEKS",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""}}}},methods:{saveFilter:function(){this.changeChart({id:"line-convertionRate",filtersFull:Object(p["a"])(Object(p["a"])({},this.noReactive(this.filters)),{},{periodRange:Object(p["a"])({__typename:"PeriodRange"},this.filters.periodRange)})}),this.isOpenModalFilter=!1}}},v=g,C=i("0c7c"),T=i("6544"),R=i.n(T),y=i("62ad"),P=i("0fd9"),S=Object(C["a"])(v,l,d,!1,null,"341d785a",null),b=S.exports;R()(S,{VCol:y["a"],VRow:P["a"]});var F=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.isPreview?e._e():i("ListFilters",{attrs:{settings:e.settings}}),i("div",{staticClass:"text-center bgWhite",class:[{"py-5 px-3":!e.isPreview},{showScroll:e.isWithScroll}]},[i("apexchart",{attrs:{height:e.isPreview?250:350,type:"line",options:e.options,series:e.series}})],1)],1)},w=[],O=i("2909"),D=(i("d81d"),i("b680"),i("b0c0"),i("99af"),i("8d7e")),_=i("b3b3"),B={name:"LineThroughTimeConvertionRateData",mixins:[m["a"]],props:{defaultFilter:{type:Object,default:function(){return{filterBy:"count",filterTime:"WEEKS",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"]}}}},data:function(){return{throughTimeConvertionRateLinearGraph:{mainAverageDateConvertionRateThroughTime:[],mainConvertionRateThroughTime:{convertionRatesThroughTime:[],owners:[]},mainDateList:[],secondAverageDateConvertionRateThroughTime:[],secondConvertionRateThroughTime:{convertionRatesThroughTime:[],owners:[]},secondDateList:[]},modalSettings:{filterBy:"count",filterTime:"WEEKS",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:[]},settings:{filterBy:"count",filterTime:"WEEKS",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:[]}}},computed:{information:function(){return this.throughTimeConvertionRateLinearGraph.convertionRatesThroughTime.map((function(e){return{name:e.owner,value:e.convertionRate}}))},options:function(){var e,t;return{chart:{height:this.isPreview?"250":"350",width:this.isWithScroll?"1200":"100%",type:"line",toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1},legend:{position:"top",horizontalAlign:this.isWithScroll?"left":"center",showForSingleSeries:!0},stroke:{width:[5,7,5],curve:"straight",dashArray:[0,8,5]},markers:{size:5,colors:void 0,strokeColors:"#fff",strokeWidth:2,strokeOpacity:.9,strokeDashArray:0,fillOpacity:1,discrete:[],shape:"circle",radius:2,offsetX:0,offsetY:0,onClick:void 0,onDblClick:void 0,showNullDataPoints:!0,hover:{size:void 0,sizeOffset:3}},colors:_["b"],grid:{row:{colors:["#f3f3f3","transparent"],opacity:.5}},xaxis:{categories:null===(e=this.throughTimeConvertionRateLinearGraph)||void 0===e||null===(t=e.mainDateList)||void 0===t?void 0:t.map((function(e){return e.dateString})),title:{text:this.showTitleXaxis},labels:{rotate:this.rotate}},yaxis:{labels:{formatter:function(e){return e?"".concat(e.toFixed(2),"%"):e}},title:{text:this.showTitleYaxis}}}},rotate:function(){if(this.isLargeWidth){if(this.isWeeks)return"-90";if(this.isMonths)return"0"}return 0},showTitleXaxis:function(){if(!this.isPreview)return this.isWeeks?"Semanas":"Meses"},showTitleYaxis:function(){if(!this.isPreview)return this.isCount?"Cantidad":"Valor"},series:function(){var e,t,i,r,o,a,n,s,l,d=this,p=(null===(e=this.throughTimeConvertionRateLinearGraph)||void 0===e||null===(t=e.mainConvertionRateThroughTime)||void 0===t?void 0:t.convertionRatesThroughTime.map((function(e){var t=e.name,i=e.convertionRateCountList,r=e.convertionRateSumList;return{name:t,data:d.isCount?d.convertTwoDigits(i):d.convertTwoDigits(r)}})))||[],u=this.dateRangeToCompare&&(null===(i=this.throughTimeConvertionRateLinearGraph)||void 0===i||null===(r=i.secondConvertionRateThroughTime)||void 0===r?void 0:r.convertionRatesThroughTime.length)>0?null===(o=this.throughTimeConvertionRateLinearGraph)||void 0===o||null===(a=o.secondConvertionRateThroughTime)||void 0===a||null===(n=a.convertionRatesThroughTime)||void 0===n?void 0:n.map((function(e){var t=e.name,i=e.convertionRateCountList,r=e.convertionRateSumList;return{name:"".concat(t," período anterior"),data:d.isCount?d.convertTwoDigits(i):d.convertTwoDigits(r)}})):[],f=[{name:"Promedio",data:this.isCount?this.convertTwoDigits(this.throughTimeConvertionRateLinearGraph.mainAverageDateConvertionRateThroughTime.map((function(e){return e.avgCount}))):this.convertTwoDigits(this.throughTimeConvertionRateLinearGraph.mainAverageDateConvertionRateThroughTime.map((function(e){return e.avgSum})))}],c=(null===(s=this.throughTimeConvertionRateLinearGraph)||void 0===s||null===(l=s.secondAverageDateConvertionRateThroughTime)||void 0===l?void 0:l.length)>0?[{name:"Promedio anterior",data:this.isCount?this.convertTwoDigits(this.throughTimeConvertionRateLinearGraph.secondAverageDateConvertionRateThroughTime.map((function(e){return e.avgCount}))):this.convertTwoDigits(this.throughTimeConvertionRateLinearGraph.secondAverageDateConvertionRateThroughTime.map((function(e){return e.avgSum})))}]:[];return[].concat(f,Object(O["a"])(p),c,Object(O["a"])(u))},filters:function(){var e={dateRange:{dateStart:this.dateStart,dateEnd:this.dateEnd},owners:this.ownersToCompare.length>0?this.ownersToCompare:this.ownersFilter,pipeline:this.pipelineFilter,typePeriod:this.settings.periodPredefined[0],typePeriodDisplay:this.settings.filterTime};return this.dateRangeToCompare&&""!==this.dateRangeToCompare.dateStart&&""!==this.dateRangeToCompare.dateEnd&&(e.dateRangeToCompare=this.dateRangeToCompare),e}},methods:{update:function(){this.$apollo.queries.throughTimeConvertionRateLinearGraph.refetch()}},apollo:{throughTimeConvertionRateLinearGraph:{query:D["N"],fetchPolicy:"no-cache",client:"charts",variables:function(){return{filters:this.filters}},skip:function(){return""===this.dateStart||""===this.dateEnd||!this.pipelineFilter.id||0===this.ownersFilter.length},watchLoading:function(e){this.isLoading=e}}}},M=B,I=(i("35e9"),Object(C["a"])(M,F,w,!1,null,"1ddf6de2",null)),x=I.exports,L={name:"LineThroughTimeConvertionRateModal",components:{LineThroughTimeConvertionRateFilter:b,LineThroughTimeConvertionRateData:x},mixins:[m["c"]],props:{isOpen:{type:Boolean,default:!1},title:{type:String,default:"Sin título"},titleRegular:{type:String,default:""},filters:{type:Object,default:function(){return{filtersConfig:{filterTime:"WEEKS",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownersToCompare:[]},filtersTable:{users:[],pipelines:[],periodRange:{start:"",end:""},dealStatus:""}}}}}},G=L,E=Object(C["a"])(G,n,s,!1,null,"6b462f6e",null),j=E.exports,k={name:"LineThroughTimeConvertionRatePreview",components:{LineThroughTimeConvertionRateData:x,LineThroughTimeConvertionRateModal:j,LineThroughTimeConvertionRateFilter:b},mixins:[m["d"]],props:{defaultPeriod:{type:String,default:"THIS_MONTH"}},data:function(){return{title:"Tasa",titleRegular:"de conversión",chartId:"line-convertionRate",filtersChartsDefault:{},initFilter:{filterBy:"count",filterTime:"MONTHS",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownersToCompare:[],dealStatus:"WON"}}},computed:{filtersConfig:function(){var e,t,i,r,o,a,n,s;return{filterBy:(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.filterBy)||this.initFilter.filterBy,filterTime:(null===(t=this.chart.filtersFull)||void 0===t?void 0:t.filterTime)||this.initFilter.filterTime,users:this.usersGlobal||(null===(i=this.chart.filtersFull)||void 0===i?void 0:i.users)||this.filtersChartsDefault.users,pipeline:(null===(r=this.chart.filtersFull)||void 0===r?void 0:r.pipeline)||this.initPipeline,periodRange:this.periodRangeGlobal||(null===(o=this.chart.filtersFull)||void 0===o?void 0:o.periodRange)||this.periodRange,periodPredefined:this.periodPredefinedGlobal||(null===(a=this.chart.filtersFull)||void 0===a?void 0:a.periodPredefined)||[this.defaultPeriod]||this.initFilter.periodPredefined,periodRangeToCompare:(null===(n=this.chart.filtersFull)||void 0===n?void 0:n.periodRangeToCompare)||this.initFilter.periodRangeToCompare,ownersToCompare:(null===(s=this.chart.filtersFull)||void 0===s?void 0:s.ownersToCompare)||this.initFilter.ownersToCompare}},filtersTable:function(){var e,t=this.getPeriod(this.initFilter.periodPredefined[0]).get(),i=Object(a["a"])(t,2),r=i[0],o=i[1];return{users:this.usersGlobal||this.users||this.filtersChartsDefault.users,pipelines:this.pipelines||this.initPipelines,periodRange:this.periodRangeGlobal||(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.periodRange)||{start:r,end:o},dealStatus:this.initFilter.dealStatus}}}},H=k,U=(i("723a"),Object(C["a"])(H,r,o,!1,null,"3ae99d83",null));t["a"]=U.exports},ea8e:function(e,t,i){},f937:function(e,t,i){},fa25:function(e,t,i){"use strict";i("1351")},fc2c:function(e,t,i){"use strict";var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseCardChart",{attrs:{title:e.title,titleRegular:e.titleRegular,settings:e.filtersConfig,isChart:""},on:{updateRefetch:function(t){e.isRefetch=!0}},scopedSlots:e._u([{key:"modal",fn:function(){return[i("DonutLostReasonFilter",{attrs:{defaultFilter:e.filtersConfig,isIcon:"",isPreview:""}})]},proxy:!0}])},[i("div",{staticClass:"hoverClick",on:{click:e.openModal}},[i("DonutLostReasonData",{attrs:{defaultFilter:e.filtersConfig,isPreview:"",isRefetch:e.isRefetch},on:{updateRefetch:function(t){e.isRefetch=!1}}})],1),i("DonutLostReasonModal",{attrs:{isOpen:e.isOpenModal,filters:{filtersConfig:e.filtersConfig,filtersConfig:e.filtersConfig,filtersTable:e.filtersTable},title:e.title,titleRegular:e.titleRegular},on:{close:e.closeModal}})],1)},o=[],a=i("3835"),n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalFilters",{attrs:{isOpen:e.isOpenModalFilter,isIcon:e.isIcon},on:{save:e.saveFilter,statusModal:e.statusModal}},[i("v-row",[i("v-col",{attrs:{cols:"12"}},[i("Select",{attrs:{name:"Filtrar por",defaultSelect:e.defaultFilter.filterBy,list:e.listFilterBy},on:{change:e.changeFilterBy}})],1),i("v-col",{attrs:{cols:"12"}},[i("SelectUsers",{attrs:{all:"",defaultSelect:e.defaultFilter.users},on:{change:e.changeUsers}})],1),i("v-col",{attrs:{cols:"12"}},[i("SelectPipeline",{attrs:{defaultSelect:e.defaultFilter.pipeline},on:{change:e.changePipeline}})],1),i("v-col",{attrs:{cols:"12"}},[i("PeriodPredefined",{attrs:{defaultSelect:e.defaultFilter.periodPredefined},on:{change:e.changePeriodPredefined}})],1),e.isPreview?e._e():i("v-col",{attrs:{cols:"12"}},[i("ComparePeriodBars",{attrs:{periodPredefined:e.filters.periodPredefined[0]},on:{change:e.changeComparePeriod}})],1)],1)],1)},s=[],l=i("5530"),d=(i("7db0"),i("a2ff")),p=i("73cd"),u=i("740f"),f=i("6321"),c=i("baee"),h=i("9d71"),m=i("cdd4"),g=i("c065"),v=i("d344"),C={name:"DonutLostReasonFilter",components:{BaseModalFilters:p["a"],SelectUsers:u["a"],Select:v["a"],SelectPipeline:f["a"],PeriodPredefined:h["a"],ComparePeriodBars:d["a"]},mixins:[c["c"]],props:{defaultFilter:{type:Object,default:function(){return{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},typeCompare:"none"}}},isIcon:{type:Boolean,default:!1},isPreview:{type:Boolean,default:!1}},data:function(){return{listCompare:m["b"],listFilterBy:g["e"],isOpenModalFilter:!1,filters:{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},typeCompare:"none"}}},methods:{findPeriod:function(e){return this.listCompare.find((function(t){return t.id===e}))},updatePeriodSelected:function(e){if("CUSTOM"!==e){var t=this.findPeriod(e),i=t?t.get(this.filters.periodPredefined[0]):[];if(i){var r=Object(a["a"])(i,2);this.filters.periodRangeToCompare.start=r[0],this.filters.periodRangeToCompare.end=r[1]}}},changeStatusDeal:function(e){this.filters.dealsFilter=e},statusModal:function(e){this.isOpenModalFilter=e},changeTime:function(e){this.filters.filterTime=e},changeFilterBy:function(e){this.filters.filterBy=e},changeUser:function(e){this.filters.user=e},changeUsers:function(e){this.filters.users=e},changePipeline:function(e){this.filters.pipeline=e},changePeriodPredefined:function(e){this.filters.periodPredefined=e;var t=Object(a["a"])(e,2),i=Object(a["a"])(t[1],2);this.filters.periodRange.start=i[0],this.filters.periodRange.end=i[1],"date"===this.typeCompare&&this.updatePeriodSelected(this.filters.periodRangeToCompare.period)},changeComparePeriod:function(e){var t=e.isCompare,i=e.typeCompare,r=e.periodCompare;if(t){if("date"===i&&r&&(this.filters.typeCompare=i,this.filters.periodRangeToCompare.period=r.periodSelected,r.periodRange.length>0)){var o=Object(a["a"])(r.periodRange,2);this.filters.periodRangeToCompare.start=o[0],this.filters.periodRangeToCompare.end=o[1]}}else this.filters.typeCompare=i,this.filters.periodRangeToCompare.period="",this.filters.periodRangeToCompare.start="",this.filters.periodRangeToCompare.end=""},saveFilter:function(){this.changeChart({id:"donut-lostReason",filtersFull:Object(l["a"])(Object(l["a"])({},this.noReactive(this.filters)),{},{periodRange:Object(l["a"])({__typename:"PeriodRange"},this.filters.periodRange)})}),this.isOpenModalFilter=!1}}},T=C,R=i("0c7c"),y=i("6544"),P=i.n(y),S=i("62ad"),b=i("0fd9"),F=Object(R["a"])(T,n,s,!1,null,"3f61146a",null),w=F.exports;P()(F,{VCol:S["a"],VRow:b["a"]});var O=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.isPreview?e._e():i("ListFilters",{attrs:{settings:e.settings}}),i("div",{staticClass:"text-center bgWhite",class:[{"py-5 px-3":!e.isPreview},{showScroll:e.isWithScroll}]},[i("apexchart",{attrs:{height:e.isPreview?250:350,type:"donut",options:e.options,series:e.series}}),e.isPreview||"date"!==e.settings.typeCompare?e._e():i("h4",[e._v(" Comparación de fecha ")]),e.isPreview||"user"!==e.settings.typeCompare?e._e():i("h4",[e._v(" Comparación con otro usuario ")]),e.isPreview||"none"===e.settings.typeCompare?e._e():i("apexchart",{attrs:{height:e.isPreview?250:350,type:"donut",options:e.optionsCompare,series:e.seriesCompare}})],1),e.isPreview?e._e():i("DonutLostReasonInformation",{attrs:{information:e.lostDealsByLostReasonDonutGraph.informationBar,filterBy:e.settings.filterBy}})],1)},D=[],_=i("8d7e"),B=i("7d6b"),M=i("b3b3"),I=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-card",{staticClass:"mt-5",attrs:{flat:""}},[i("v-container",[i("v-row",{staticClass:"justify-center"},[e._l(e.information.periodLostDeals,(function(t,r){return[i("v-col",{key:r,attrs:{cols:"3"}},[i("span",{staticClass:"d-block"},[i("b",[e._v(e._s(t.reason))]),e._v(" : "+e._s(t[e.filterBy])+" ")])])]}))],2)],1)],1)},x=[],L={name:"CardAverageDaysInPipelineInformation",props:{information:{type:Object,default:function(){return{}}},filterBy:{type:String,default:"count"}}},G=L,E=i("b0af"),j=i("a523"),k=Object(R["a"])(G,I,x,!1,null,null,null),H=k.exports;P()(k,{VCard:E["a"],VCol:S["a"],VContainer:j["a"],VRow:b["a"]});var U={name:"DonutLostReasonData",mixins:[B["a"]],components:{DonutLostReasonInformation:H},props:{defaultFilter:{type:Object,default:function(){return{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],typeCompare:"none"}}},isPreview:{type:Boolean,default:!1},isRefetch:{type:Boolean,default:!1}},data:function(){return{listFilterBy:g["e"],lostDealsByLostReasonDonutGraph:{mainLostDeals:{},secondLostDeals:{},informationBar:{}},modalSettings:{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],typeCompare:"none"},settings:{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],typeCompare:"none"}}},watch:{isRefetch:function(e){e&&(this.update(),this.$emit("updateRefetch"))}},computed:{options:function(){return this.formatOptions(this.lostDealsByLostReasonDonutGraph.mainLostDeals.reasonsList)},optionsCompare:function(){var e;return null!==(e=this.lostDealsByLostReasonDonutGraph)&&void 0!==e&&e.mainLostDeals.reasonsList?this.formatOptions(this.lostDealsByLostReasonDonutGraph.mainLostDeals.reasonsList):{}},series:function(){return this.formatSeries(this.lostDealsByLostReasonDonutGraph.mainLostDeals)},seriesCompare:function(){var e;return null!==(e=this.lostDealsByLostReasonDonutGraph)&&void 0!==e&&e.secondLostDeals?this.formatSeries(this.lostDealsByLostReasonDonutGraph.secondLostDeals,"date"===this.settings.typeCompare):[]},showTitleXaxis:function(){if(!this.isPreview)return"Total"},showTitleYaxis:function(){if(!this.isPreview)return"Etapas"},isLargeWidth:function(){return"THIS_YEAR"===this.settings.periodPredefined[0]||"LAST_YEAR"===this.settings.periodPredefined[0]},isWithScroll:function(){return this.isLargeWidth&&this.isPreview},filters:function(){var e={dateRange:{dateStart:this.dateStart,dateEnd:this.dateEnd},owners:this.ownersFilter,pipeline:this.pipelineFilter};return this.ownerToCompare&&(e.ownerToCompare=this.ownerToCompare),this.dateRangeToCompare&&""!==this.dateRangeToCompare.dateStart&&""!==this.dateRangeToCompare.dateEnd&&(e.dateRangeToCompare=this.dateRangeToCompare),e}},methods:{formatOptions:function(e){var t=this;return{chart:{type:"donut",height:this.isPreview?"250":"350",width:this.isWithScroll?"600":"100%",toolbar:{show:!1},zoom:{enabled:!1}},colors:M["b"],labels:e||[],yaxis:{labels:{formatter:function(e){return t.isCount?e:"$".concat(e)}}},noData:{text:"No hay datos"},plotOptions:{pie:{donut:{background:"#808080"}}},legend:{position:"top",horizontalAlign:this.isPreview?"left":"center",showForSingleSeries:!0}}},formatSeries:function(e){return this.isCount&&e&&e.countList?e.countList:e&&e.sumList?e.sumList:[]},update:function(){this.$apollo.queries.lostDealsByLostReasonDonutGraph.refetch()}},apollo:{lostDealsByLostReasonDonutGraph:{query:_["t"],fetchPolicy:"no-cache",client:"charts",variables:function(){return{filters:this.filters}},skip:function(){return""===this.dateStart||""===this.dateEnd||!this.pipelineFilter.id||0===this.ownersFilter.length},watchLoading:function(e){this.isLoading=e}}}},N=U,V=(i("d704"),Object(R["a"])(N,O,D,!1,null,"f60517da",null)),W=V.exports,$=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalChart",{attrs:{title:e.title,titleRegular:e.titleRegular,isOpen:e.isOpen},on:{close:e.closeModal},scopedSlots:e._u([{key:"filters",fn:function(){return[i("DonutLostReasonFilter",{attrs:{defaultFilter:e.filters.filtersConfig}})]},proxy:!0},{key:"chart",fn:function(){return[i("DonutLostReasonData",{attrs:{defaultFilter:e.filters.filtersConfig,isFull:""}})]},proxy:!0},{key:"table",fn:function(){return[i("TableDeals",{attrs:{defaultFilter:e.filters.filtersTable}})]},proxy:!0}])})},A=[],z=i("198f"),K=i("8b70"),Y={name:"DonutLostReasonModal",components:{BaseModalChart:z["a"],DonutLostReasonFilter:w,DonutLostReasonData:W,TableDeals:K["a"]},props:{isOpen:{type:Boolean,default:!1},title:{type:String,default:"Sin título"},titleRegular:{type:String,default:""},filters:{type:Object,default:function(){return{filtersConfig:{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{},typeCompare:"none"},filtersTable:{users:[],pipelines:[],periodRange:{start:"",end:""},dealStatus:""}}}}},methods:{closeModal:function(){this.$emit("close")}}},q=Y,X=Object(R["a"])(q,$,A,!1,null,"665624a6",null),J=X.exports,Q=i("047b"),Z={components:{BaseCardChart:Q["a"]},mixins:[c["b"]],props:{filtersGlobal:{type:Object,default:function(){return{users:[],periodPredefined:[]}}}},data:function(){return{isRefetch:!1,periods:m["a"],isOpenModal:!1}},computed:{usersGlobal:function(){return this.filtersGlobal.users.length>0?this.filtersGlobal.users:null},periodPredefinedGlobal:function(){return this.filtersGlobal.periodPredefined&&this.filtersGlobal.periodPredefined.length>0?[this.filtersGlobal.periodPredefined[0]]:null},periodRangeGlobal:function(){if(this.filtersGlobal.periodPredefined&&this.filtersGlobal.periodPredefined.length>1){var e=this.filtersGlobal.periodPredefined[1];return{start:e[0],end:e[1]}}return null},initUsers:function(){return this.filtersChartsDefault.users&&this.filtersChartsDefault.users.length>0?this.filtersChartsDefault.users:null},initPipeline:function(){return this.filtersChartsDefault.pipelines&&this.filtersChartsDefault.pipelines.length>0?this.filtersChartsDefault.pipelines[0]:null},periodRange:function(){var e=this.getPeriod(this.defaultPeriod||this.initFilter.periodPredefined[0]).get(),t=Object(a["a"])(e,2),i=t[0],r=t[1];return{start:i,end:r}},users:function(){var e,t,i;return(null===(e=this.chart.filtersFull)||void 0===e||null===(t=e.users)||void 0===t?void 0:t.length)>0?null===(i=this.chart.filtersFull)||void 0===i?void 0:i.users:null},pipelines:function(){var e,t;return null!==(e=this.chart.filtersFull)&&void 0!==e&&e.pipeline?[null===(t=this.chart.filtersFull)||void 0===t?void 0:t.pipeline]:null}},methods:{getPeriod:function(e){return this.periods.find((function(t){return t.id===e}))},openModal:function(){this.isOpenModal=!0},closeModal:function(){this.isOpenModal=!1}}},ee={name:"DonutLostReasonPreview",components:{DonutLostReasonData:W,DonutLostReasonModal:J,DonutLostReasonFilter:w},mixins:[Z],props:{defaultPeriod:{type:String,default:"THIS_MONTH"}},data:function(){return{chartId:"donut-lostReason",title:"Motivos",titleRegular:"de pérdida",filtersChartsDefault:{},initFilter:{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{},dealStatus:"LOST",typeCompare:"none"}}},computed:{filtersConfig:function(){var e,t,i,r,o,a,n,s;return{filterBy:(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.filterBy)||this.initFilter.filterBy,users:this.usersGlobal||(null===(t=this.chart.filtersFull)||void 0===t?void 0:t.users)||this.initUsers,pipeline:(null===(i=this.chart.filtersFull)||void 0===i?void 0:i.pipeline)||this.initPipeline,periodRange:this.periodRangeGlobal||(null===(r=this.chart.filtersFull)||void 0===r?void 0:r.periodRange)||this.periodRange,periodPredefined:this.periodPredefinedGlobal||(null===(o=this.chart.filtersFull)||void 0===o?void 0:o.periodPredefined)||[this.defaultPeriod]||this.initFilter.periodPredefined,periodRangeToCompare:(null===(a=this.chart.filtersFull)||void 0===a?void 0:a.periodRangeToCompare)||this.initFilter.periodRangeToCompare,ownerToCompare:(null===(n=this.chart.filtersFull)||void 0===n?void 0:n.ownerToCompare)||this.initFilter.ownerToCompare,typeCompare:(null===(s=this.chart.filtersFull)||void 0===s?void 0:s.typeCompare)||this.initFilter.typeCompare}},filtersTable:function(){var e,t=this.getPeriod(this.initFilter.periodPredefined[0]).get(),i=Object(a["a"])(t,2),r=i[0],o=i[1];return{users:this.usersGlobal||this.users||this.initUsers,pipelines:this.pipelines||[this.initPipeline],periodRange:this.periodRangeGlobal||(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.periodRange)||{start:r,end:o},dealStatus:this.initFilter.dealStatus}}}},te=ee,ie=(i("b22a"),Object(R["a"])(te,r,o,!1,null,"690a0192",null));t["a"]=ie.exports},fca8:function(e,t,i){"use strict";var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseCardChart",{attrs:{title:e.title,titleRegular:e.titleRegular,settings:e.filtersConfig},on:{updateRefetch:function(t){e.isRefetch=!0}},scopedSlots:e._u([{key:"modal",fn:function(){return[i("CardConvertionRateFilter",{attrs:{defaultFilter:e.filtersConfig,isIcon:"",isPreview:""}})]},proxy:!0}])},[i("div",{staticClass:"hoverClick",on:{click:e.openModal}},[i("CardConvertionRateData",{attrs:{defaultFilter:e.filtersConfig,isPreview:"",isRefetch:e.isRefetch},on:{updateRefetch:function(t){e.isRefetch=!1}}})],1),i("CardConvertionRateModal",{attrs:{isOpen:e.isOpenModal,filters:{filtersConfig:e.filtersConfig,filtersTable:e.filtersTable},title:e.title,titleRegular:e.titleRegular},on:{close:e.closeModal}})],1)},o=[],a=i("3835"),n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalChart",{attrs:{title:e.title,titleRegular:e.titleRegular,isOpen:e.isOpen},on:{close:e.closeModal},scopedSlots:e._u([{key:"filters",fn:function(){return[i("CardConvertionRateFilter",{attrs:{defaultFilter:e.filters.filtersConfig}})]},proxy:!0},{key:"chart",fn:function(){return[i("CardConvertionRateData",{attrs:{defaultFilter:e.filters.filtersConfig}})]},proxy:!0},{key:"table",fn:function(){return[i("TableDeals",{attrs:{defaultFilter:e.filters.filtersTable}})]},proxy:!0}])})},s=[],l=i("8b70"),d=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalFilters",{attrs:{isOpen:e.isOpenModalFilter,isIcon:e.isIcon},on:{save:e.saveFilter,statusModal:e.statusModal}},[i("v-row",[i("v-col",{attrs:{cols:"12"}},[i("Select",{attrs:{name:"Filtrar por",defaultSelect:e.defaultFilter.filterBy,list:e.listFilterBy},on:{change:e.changeFilterBy}})],1),i("v-col",{attrs:{cols:"12"}},[i("SelectUsers",{attrs:{all:"",defaultSelect:e.defaultFilter.users},on:{change:e.changeUsers}})],1),i("v-col",{attrs:{cols:"12"}},[i("SelectPipeline",{attrs:{defaultSelect:e.defaultFilter.pipeline},on:{change:e.changePipeline}})],1),i("v-col",{attrs:{cols:"12"}},[i("PeriodPredefined",{attrs:{defaultSelect:e.defaultFilter.periodPredefined},on:{change:e.changePeriodPredefined}})],1),e.isPreview?e._e():i("v-col",{attrs:{cols:"12"}},[i("ComparePeriod",{attrs:{periodPredefined:e.filters.periodPredefined[0]},on:{change:e.changeComparePeriod}})],1)],1)],1)},p=[],u=i("5530"),f=i("740f"),c=i("d344"),h=i("6321"),m=i("c065"),g=i("0db6"),v={name:"CardConvertionRateFilter",components:{SelectUsers:f["a"],SelectPipeline:h["a"],Select:c["a"]},mixins:[g["b"]],props:{defaultFilter:{type:Object,default:function(){return{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{id:""}}}},isIcon:{type:Boolean,default:!1},isPreview:{type:Boolean,default:!1}},data:function(){return{listTime:m["d"],listFilterBy:m["e"],filters:{filterBy:"count",filterTime:"WEEKS",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{id:""}}}},methods:{changeComparePeriod:function(e){var t=e.isCompare,i=e.periodCompare,r=e.ownerCompare;if(t){if(r&&r.id&&r.id.length>0&&(this.filters.ownerToCompare.id=r.id,this.filters.periodRangeToCompare.period="",this.filters.periodRangeToCompare.start="",this.filters.periodRangeToCompare.end=""),i){if(this.filters.periodRangeToCompare.period=i.periodSelected,i.periodRange.length>0){var o=Object(a["a"])(i.periodRange,2);this.filters.periodRangeToCompare.start=o[0],this.filters.periodRangeToCompare.end=o[1]}this.filters.ownerToCompare.id=""}}else this.filters.periodRangeToCompare.period="",this.filters.periodRangeToCompare.start="",this.filters.periodRangeToCompare.end="",this.filters.ownerToCompare.id=""},saveFilter:function(){this.changeChart({id:"card-convertionRate",filtersFull:Object(u["a"])(Object(u["a"])({},this.noReactive(this.filters)),{},{periodRange:Object(u["a"])({__typename:"PeriodRange"},this.filters.periodRange),ownerToCompare:Object(u["a"])({__typename:"OwnerToCompare"},this.filters.ownerToCompare)})}),this.isOpenModalFilter=!1}}},C=v,T=i("0c7c"),R=i("6544"),y=i.n(R),P=i("62ad"),S=i("0fd9"),b=Object(T["a"])(C,d,p,!1,null,"454e1da3",null),F=b.exports;y()(b,{VCol:P["a"],VRow:S["a"]});var w=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.isPreview?e._e():i("ListFilters",{attrs:{settings:e.settings}}),i("BaseCardNumber",{attrs:{information:{numberMain:e.generalConvertionRateFormat+"%",textMain:e.textMain,valueMain:e.valueMain,textMainType:e.textChart,isCompare:!e.isPreview&&(e.settings.periodRangeToCompare.period.length>0||e.isCompareUser),numberCompare:e.generalConvertionRateCompare+"%",textCompare:e.textCompare,valueCompare:e.valueCompare,numberDifferenceCompare:e.comparePercentage}}}),e.isPreview?e._e():i("CardConvertionRateInformation",{attrs:{information:e.generalConvertionRateCard.informationBar,filterBy:e.settings.filterBy}})],1)},O=[],D=(i("b680"),i("b0c0"),i("99af"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-card",{staticClass:"mt-5",attrs:{flat:""}},[i("v-container",[i("v-row",{staticClass:"justify-center"},[i("v-col",{attrs:{cols:"4"}},[e._l(e.information.usersConvertionRates,(function(t,r){return[i("span",{key:r,staticClass:"d-block"},[i("b",[e._v(e._s(t.name))]),e._v(" : "+e._s(t[e.filterBy].toFixed(2))+"% ")])]}))],2),i("v-col",{attrs:{cols:"4"}},[e._l(e.information.periodsConvertionRates,(function(t,r){return[i("span",{key:r,staticClass:"d-block"},[i("b",[e._v(e._s(e.periods[r]))]),e._v(" : "+e._s(t[e.filterBy].toFixed(2))+"% ")])]}))],2),i("v-col",{attrs:{cols:"4"}},[e._l(e.information.pastPeriodsConvertionRates,(function(t,r){return[i("span",{key:r,staticClass:"d-block"},[i("b",[e._v(e._s(e.pastPeriods[r]))]),e._v(" : "+e._s(t[e.filterBy].toFixed(2))+"% ")])]}))],2)],1)],1)],1)}),_=[],B={name:"CardConvertionRateInformation",props:{information:{type:Object,default:function(){return{}}},filterBy:{type:String,default:"count"}},data:function(){return{periods:["Promedio anual","Promedio trimestral","Promedio mensual"],pastPeriods:["Este período","Período pasado","Mismo período el mes anterior"]}}},M=B,I=i("b0af"),x=i("a523"),L=Object(T["a"])(M,D,_,!1,null,null,null),G=L.exports;y()(L,{VCard:I["a"],VCol:P["a"],VContainer:x["a"],VRow:S["a"]});var E=i("8d7e"),j={name:"CardConvertionRateData",mixins:[g["a"]],components:{CardConvertionRateInformation:G},props:{defaultFilter:{type:Object,default:function(){return{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{id:""}}}},isPreview:{type:Boolean,default:!1}},data:function(){return{generalConvertionRateCard:{},modalSettings:{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:[],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{id:""}},settings:{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:[],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{id:""}}}},computed:{isCompareUser:function(){var e,t,i,r,o,a;return(null===(e=this.generalConvertionRateCard)||void 0===e||null===(t=e.mainConvertionRate)||void 0===t?void 0:t.id)!==(null===(i=this.generalConvertionRateCard)||void 0===i||null===(r=i.secondConvertionRate)||void 0===r?void 0:r.id)&&""!==(null===(o=this.settings)||void 0===o||null===(a=o.ownerToCompare)||void 0===a?void 0:a.id)},comparePercentage:function(){return"0.00"===this.generalConvertionRateCompare?"0.00":(100*this.generalConvertionRateFormat/this.generalConvertionRateCompare-100).toFixed(2)},generalConvertionRateFormat:function(){var e,t,i,r,o;return this.generalConvertionRateCard&&void 0!==(null===(e=this.generalConvertionRateCard)||void 0===e||null===(t=e.mainConvertionRate)||void 0===t?void 0:t.count)&&void 0!==(null===(i=this.generalConvertionRateCard)||void 0===i||null===(r=i.mainConvertionRate)||void 0===r?void 0:r.sum)&&(null===(o=this.generalConvertionRateCard)||void 0===o?void 0:o.mainConvertionRate[this.settings.filterBy].toFixed(2))||"0.00"},generalConvertionRateCompare:function(){var e,t,i,r;if(this.generalConvertionRateCard&&void 0!==(null===(e=this.generalConvertionRateCard)||void 0===e||null===(t=e.secondConvertionRate)||void 0===t?void 0:t.count)&&void 0!==(null===(i=this.generalConvertionRateCard)||void 0===i||null===(r=i.secondConvertionRate)||void 0===r?void 0:r.sum)){var o,a=null===(o=this.generalConvertionRateCard)||void 0===o?void 0:o.secondConvertionRate[this.settings.filterBy];return a?a.toFixed(2):"0.00"}return"0.00"},textCompare:function(){return"PREVIOUS_PERIOD"===this.settings.periodRangeToCompare.period?this.settings.periodPredefined[3]:"PREVIOUS_YEAR"===this.settings.periodRangeToCompare.period?"Año anterior":"CUSTOM"===this.settings.periodRangeToCompare.period?"Personalizado":""},valueCompare:function(){if(!this.isPreview){var e,t;if(this.isCompareUser)return null===(e=this.generalConvertionRateCard)||void 0===e||null===(t=e.secondConvertionRate)||void 0===t?void 0:t.name;if("CUSTOM"===this.settings.periodRangeToCompare.period)return"".concat(this.formatDate(this.filters.dateRangeToCompare.dateStart)," - ").concat(this.formatDate(this.filters.dateRangeToCompare.dateEnd))}return""},textMain:function(){return this.isPreview?"":this.isCompareUser?"".concat(this.settings.periodPredefined[2]):this.settings.periodPredefined[2]},valueMain:function(){if(!this.isPreview){var e,t;if(this.isCompareUser)return null===(e=this.generalConvertionRateCard)||void 0===e||null===(t=e.mainConvertionRate)||void 0===t?void 0:t.name;if(this.settings.periodPredefined.length>0&&"CUSTOM"===this.settings.periodPredefined[0])return"".concat(this.formatDate(this.filters.dateRange.dateStart)," - ").concat(this.formatDate(this.filters.dateRange.dateEnd))}return""},filters:function(){var e={dateRange:{dateStart:this.dateStart,dateEnd:this.dateEnd},owners:this.ownersFilter,pipeline:this.pipelineFilter};return this.ownerToCompare&&""!==this.ownerToCompare.id&&(e.ownerToCompare=this.ownerToCompare),this.dateRangeToCompare&&""!==this.dateRangeToCompare.dateStart&&""!==this.dateRangeToCompare.dateEnd&&(e.dateRangeToCompare=this.dateRangeToCompare),e}},methods:{update:function(){this.$apollo.queries.generalConvertionRateCard.refetch()}},apollo:{generalConvertionRateCard:{query:E["p"],fetchPolicy:"no-cache",client:"charts",variables:function(){return{filters:this.filters}},skip:function(){return""===this.dateStart||""===this.dateEnd||!this.pipelineFilter.id||0===this.ownersFilter.length},loadingKey:"isLoading"}}},k=j,H=Object(T["a"])(k,w,O,!1,null,"1681a57c",null),U=H.exports,N={name:"CardConvertionRateModal",components:{TableDeals:l["a"],CardConvertionRateFilter:F,CardConvertionRateData:U},mixins:[g["c"]],props:{isOpen:{type:Boolean,default:!1},title:{type:String,default:"Sin título"},titleRegular:{type:String,default:""},filters:{type:Object,default:function(){return{filtersConfig:{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{id:""}},filtersTable:{users:[],pipelines:[],periodRange:{start:"",end:""},dealStatus:""}}}}}},V=N,W=Object(T["a"])(V,n,s,!1,null,"1ac7f7bc",null),$=W.exports,A={name:"CardConvertionRatePreview",components:{CardConvertionRateData:U,CardConvertionRateModal:$,CardConvertionRateFilter:F},mixins:[g["d"]],props:{defaultPeriod:{type:String,default:"THIS_MONTH"}},data:function(){return{chartId:"card-convertionRate",title:"Tasa",titleRegular:"de conversión general",isOpenModal:!1,filtersChartsDefault:{},initFilter:{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{id:""},dealStatus:"WON"}}},computed:{filtersConfig:function(){var e,t,i,r,o,a,n;return{filterBy:(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.filterBy)||this.initFilter.filterBy,users:this.usersGlobal||(null===(t=this.chart.filtersFull)||void 0===t?void 0:t.users)||this.initUsers,pipeline:(null===(i=this.chart.filtersFull)||void 0===i?void 0:i.pipeline)||this.initPipeline,periodRange:this.periodRangeGlobal||(null===(r=this.chart.filtersFull)||void 0===r?void 0:r.periodRange)||this.periodRange,periodPredefined:this.periodPredefinedGlobal||(null===(o=this.chart.filtersFull)||void 0===o?void 0:o.periodPredefined)||[this.defaultPeriod]||this.initFilter.periodPredefined,periodRangeToCompare:(null===(a=this.chart.filtersFull)||void 0===a?void 0:a.periodRangeToCompare)||this.initFilter.periodRangeToCompare,ownerToCompare:(null===(n=this.chart.filtersFull)||void 0===n?void 0:n.ownerToCompare)||this.initFilter.ownerToCompare}},filtersTable:function(){var e,t=this.getPeriod(this.initFilter.periodPredefined[0]).get(),i=Object(a["a"])(t,2),r=i[0],o=i[1];return{users:this.usersGlobal||this.users||this.initUsers,pipelines:this.pipelines||this.filtersChartsDefault.pipelines,periodRange:this.periodRangeGlobal||(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.periodRange)||{start:r,end:o},dealStatus:this.initFilter.dealStatus}}}},z=A,K=(i("4696"),Object(T["a"])(z,r,o,!1,null,"6e257e9b",null));t["a"]=K.exports},feb4:function(e,t,i){"use strict";i("4e48")}}]);
//# sourceMappingURL=chunk-32fd20c4.64a34a0c.js.map