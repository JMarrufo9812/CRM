(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4c461642"],{3076:function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var i=n("d4ec"),s=n("bee2"),r=n("262e"),o=n("2caf"),c=(n("b0c0"),n("cd42")),a=n("304a"),l=n("a9de"),h=function(t){Object(r["a"])(n,t);var e=Object(o["a"])(n);function n(){return Object(i["a"])(this,n),e.apply(this,arguments)}return Object(s["a"])(n,[{key:"name",get:function(){return"span"}},{key:"defaultOptions",get:function(){return{variableClass:"variable"}}},{key:"getLabel",value:function(t){return t.innerText}},{key:"schema",get:function(){var t=this;return{attrs:{id:{},label:{}},group:"inline",inline:!0,content:"inline*",selectable:!1,atom:!0,toDOM:function(e){return["span",{class:t.options.variableClass,"data-variable-id":e.attrs.id},e.attrs.label]},parseDOM:[{tag:"span[data-variable-id]",getAttrs:function(e){var n=e.getAttribute("data-variable-id"),i=t.getLabel(e);return{id:n,label:i}},getContent:function(e,n){var i=t.getLabel(e);return a["c"].fromJSON(n,[{type:"text",text:i}])}}]}}},{key:"commands",value:function(t){var e=this,n=t.schema;return function(t){return Object(l["j"])(null,n.nodes[e.name],t)}}}]),n}(c["g"])},"408a":function(t,e,n){var i=n("c6b6");t.exports=function(t){if("number"!=typeof t&&"Number"!=i(t))throw TypeError("Incorrect invocation");return+t}},"555e":function(t,e,n){"use strict";n("bafa")},"85a1":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("tiptap-vuetify",{attrs:{extensions:t.extensions,"card-props":{outlined:!0},placeholder:"Write something …","native-extensions":t.nativeExtensions},on:{init:t.onInit},scopedSlots:t._u([{key:"toolbar",fn:function(e){var i=e.commands,s=e.isActive;return[n("div",{staticClass:"menubar"},[n("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,r=e.attrs;return[n("v-btn",t._g(t._b({attrs:{text:"",icon:""},on:{click:i.undo}},"v-btn",r,!1),s),[n("v-icon",[t._v("mdi-undo")])],1)]}}],null,!0)},[n("span",[t._v("Deshacer")])]),n("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,r=e.attrs;return[n("v-btn",t._g(t._b({attrs:{text:"",icon:""},on:{click:i.redo}},"v-btn",r,!1),s),[n("v-icon",[t._v("mdi-redo")])],1)]}}],null,!0)},[n("span",[t._v("Rehacer")])]),n("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on,o=e.attrs;return[n("v-btn",t._g(t._b({class:{"is-active":s.heading({level:1})},attrs:{text:"",icon:""},on:{click:function(t){return i.heading({level:1})}}},"v-btn",o,!1),r),[n("b",[t._v("H1")])])]}}],null,!0)},[n("span",[t._v("Título H1")])]),n("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on,o=e.attrs;return[n("v-btn",t._g(t._b({class:{"is-active":s.heading({level:2})},attrs:{text:"",icon:""},on:{click:function(t){return i.heading({level:2})}}},"v-btn",o,!1),r),[n("b",[t._v("H2")])])]}}],null,!0)},[n("span",[t._v("Subtítulo H2")])]),n("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on,o=e.attrs;return[n("v-btn",t._g(t._b({class:{"is-active":s.heading({level:3})},attrs:{text:"",icon:""},on:{click:function(t){return i.heading({level:3})}}},"v-btn",o,!1),r),[n("b",[t._v("H3")])])]}}],null,!0)},[n("span",[t._v("Subtítulo H3")])]),n("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on,o=e.attrs;return[n("v-btn",t._g(t._b({class:{"is-active":s.bold()},attrs:{text:"",icon:""},on:{click:i.bold}},"v-btn",o,!1),r),[n("v-icon",[t._v("mdi-format-bold")])],1)]}}],null,!0)},[n("span",[t._v("Negritas")])]),n("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on,o=e.attrs;return[n("v-btn",t._g(t._b({class:{"is-active":s.italic()},attrs:{text:"",icon:""},on:{click:i.italic}},"v-btn",o,!1),r),[n("v-icon",[t._v("mdi-format-italic")])],1)]}}],null,!0)},[n("span",[t._v("Itálica")])]),n("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on,o=e.attrs;return[n("v-btn",t._g(t._b({class:{"is-active":s.underline()},attrs:{text:"",icon:""},on:{click:i.underline}},"v-btn",o,!1),r),[n("v-icon",[t._v("mdi-format-underline")])],1)]}}],null,!0)},[n("span",[t._v("Subrayado")])]),n("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on,o=e.attrs;return[n("v-btn",t._g(t._b({class:{"is-active":s.ordered_list()},attrs:{text:"",icon:""},on:{click:i.ordered_list}},"v-btn",o,!1),r),[n("v-icon",[t._v("mdi-format-list-numbered")])],1)]}}],null,!0)},[n("span",[t._v("Lista ordenada")])]),n("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on,o=e.attrs;return[n("v-btn",t._g(t._b({class:{"is-active":s.bullet_list()},attrs:{text:"",icon:""},on:{click:i.bullet_list}},"v-btn",o,!1),r),[n("v-icon",[t._v("mdi-format-list-bulleted")])],1)]}}],null,!0)},[n("span",[t._v("Lista desordenada")])]),n("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,s=e.attrs;return[n("v-btn",t._g(t._b({attrs:{text:"",icon:"",disabled:!t.isSelected},on:{click:t.openEditorLink}},"v-btn",s,!1),i),[n("v-icon",[t._v("mdi-link")])],1)]}}],null,!0)},[n("span",[t._v("Añadir enlace")])]),"COMMENT"!==t.typeItem?n("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,s=e.attrs;return[n("v-btn",t._g(t._b({attrs:{text:"",icon:""},on:{click:t.openEditorImage}},"v-btn",s,!1),i),[n("v-icon",[t._v("mdi-image")])],1)]}}],null,!0)},[n("span",[t._v("Añadir imagen")])]):t._e(),n("EmailEditorLink",{attrs:{isOpen:t.isOpenEditorLink},on:{close:t.closeEditorLink,save:function(e){var n=arguments.length,s=Array(n);while(n--)s[n]=arguments[n];return t.saveLink.apply(void 0,[i.link].concat(s))}}}),n("EmailEditorImage",{attrs:{isBase64:!0,isOpen:t.isOpenEditorImage,itemId:t.itemId,typeItem:t.typeItem},on:{close:t.closeEditorImage,save:function(e){var n=arguments.length,s=Array(n);while(n--)s[n]=arguments[n];return t.saveImage.apply(void 0,[i.image].concat(s))}}})],1)]}}]),model:{value:t.content,callback:function(e){t.content=e},expression:"content"}}),n("p",{staticClass:"mb-0 text-right"},[t._v(t._s(t.isMaxSize)+"/"+t._s(t.maxSize))]),n("v-menu",{directives:[{name:"show",rawName:"v-show",value:t.showSuggestions,expression:"showSuggestions"}],attrs:{"position-x":t.positionX,"position-y":t.positionY,"offset-y":"","nudge-bottom":"30",absolute:""},model:{value:t.tooltipShow,callback:function(e){t.tooltipShow=e},expression:"tooltipShow"}},[n("v-list",[t.hasResults?t._l(t.filteredUsers,(function(e,i){return n("v-list-item",{key:e.id,class:{"is-selected":t.navigatedUserIndex===i},on:{click:function(n){return t.selectUser(e)}}},[n("v-list-item-title",[t._v(" "+t._s(e.user.name)+" "+t._s(e.user.lastName)+" ")])],1)})):n("v-list-item",[n("v-list-item-title",[t._v(" No hay usuarios ")])],1)],2)],1)],1)},s=[],r=n("1da1");n("96cf"),n("d3b7"),n("3ca3"),n("ddb0"),n("a9e3"),n("d81d"),n("ac1f"),n("841c"),n("fb6a"),n("a434"),n("b680"),n("99af"),n("b0c0");function o(t){return Array.isArray?Array.isArray(t):"[object Array]"===m(t)}const c=1/0;function a(t){if("string"==typeof t)return t;let e=t+"";return"0"==e&&1/t==-c?"-0":e}function l(t){return null==t?"":a(t)}function h(t){return"string"===typeof t}function u(t){return"number"===typeof t}function d(t){return!0===t||!1===t||g(t)&&"[object Boolean]"==m(t)}function f(t){return"object"===typeof t}function g(t){return f(t)&&null!==t}function p(t){return void 0!==t&&null!==t}function v(t){return!t.trim().length}function m(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const y="Incorrect 'index' type",x=t=>"Invalid value for key "+t,b=t=>`Pattern length exceeds max of ${t}.`,_=t=>`Missing ${t} property in key`,M=t=>`Property 'weight' in key '${t}' must be a positive integer`,k=Object.prototype.hasOwnProperty;class w{constructor(t){this._keys=[],this._keyMap={};let e=0;t.forEach(t=>{let n=S(t);e+=n.weight,this._keys.push(n),this._keyMap[n.id]=n,e+=n.weight}),this._keys.forEach(t=>{t.weight/=e})}get(t){return this._keyMap[t]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function S(t){let e=null,n=null,i=null,s=1;if(h(t)||o(t))i=t,e=L(t),n=E(t);else{if(!k.call(t,"name"))throw new Error(_("name"));const r=t.name;if(i=r,k.call(t,"weight")&&(s=t.weight,s<=0))throw new Error(M(r));e=L(r),n=E(r)}return{path:e,id:n,weight:s,src:i}}function L(t){return o(t)?t:t.split(".")}function E(t){return o(t)?t.join("."):t}function I(t,e){let n=[],i=!1;const s=(t,e,r)=>{if(p(t))if(e[r]){let c=e[r];const a=t[c];if(!p(a))return;if(r===e.length-1&&(h(a)||u(a)||d(a)))n.push(l(a));else if(o(a)){i=!0;for(let t=0,n=a.length;t<n;t+=1)s(a[t],e,r+1)}else e.length&&s(a,e,r+1)}else n.push(t)};return s(t,h(e)?e.split("."):e,0),i?n:n[0]}const A={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},C={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(t,e)=>t.score===e.score?t.idx<e.idx?-1:1:t.score<e.score?-1:1},O={location:0,threshold:.6,distance:100},R={useExtendedSearch:!1,getFn:I,ignoreLocation:!1,ignoreFieldNorm:!1};var F={...C,...A,...O,...R};const $=/[^ ]+/g;function N(t=3){const e=new Map,n=Math.pow(10,t);return{get(t){const i=t.match($).length;if(e.has(i))return e.get(i);const s=1/Math.sqrt(i),r=parseFloat(Math.round(s*n)/n);return e.set(i,r),r},clear(){e.clear()}}}class U{constructor({getFn:t=F.getFn}={}){this.norm=N(3),this.getFn=t,this.isCreated=!1,this.setIndexRecords()}setSources(t=[]){this.docs=t}setIndexRecords(t=[]){this.records=t}setKeys(t=[]){this.keys=t,this._keysMap={},t.forEach((t,e)=>{this._keysMap[t.id]=e})}create(){!this.isCreated&&this.docs.length&&(this.isCreated=!0,h(this.docs[0])?this.docs.forEach((t,e)=>{this._addString(t,e)}):this.docs.forEach((t,e)=>{this._addObject(t,e)}),this.norm.clear())}add(t){const e=this.size();h(t)?this._addString(t,e):this._addObject(t,e)}removeAt(t){this.records.splice(t,1);for(let e=t,n=this.size();e<n;e+=1)this.records[e].i-=1}getValueForItemAtKeyId(t,e){return t[this._keysMap[e]]}size(){return this.records.length}_addString(t,e){if(!p(t)||v(t))return;let n={v:t,i:e,n:this.norm.get(t)};this.records.push(n)}_addObject(t,e){let n={i:e,$:{}};this.keys.forEach((e,i)=>{let s=this.getFn(t,e.path);if(p(s))if(o(s)){let t=[];const e=[{nestedArrIndex:-1,value:s}];while(e.length){const{nestedArrIndex:n,value:i}=e.pop();if(p(i))if(h(i)&&!v(i)){let e={v:i,i:n,n:this.norm.get(i)};t.push(e)}else o(i)&&i.forEach((t,n)=>{e.push({nestedArrIndex:n,value:t})})}n.$[i]=t}else if(!v(s)){let t={v:s,n:this.norm.get(s)};n.$[i]=t}}),this.records.push(n)}toJSON(){return{keys:this.keys,records:this.records}}}function j(t,e,{getFn:n=F.getFn}={}){const i=new U({getFn:n});return i.setKeys(t.map(S)),i.setSources(e),i.create(),i}function T(t,{getFn:e=F.getFn}={}){const{keys:n,records:i}=t,s=new U({getFn:e});return s.setKeys(n),s.setIndexRecords(i),s}function q(t,{errors:e=0,currentLocation:n=0,expectedLocation:i=0,distance:s=F.distance,ignoreLocation:r=F.ignoreLocation}={}){const o=e/t.length;if(r)return o;const c=Math.abs(i-n);return s?o+c/s:c?1:o}function H(t=[],e=F.minMatchCharLength){let n=[],i=-1,s=-1,r=0;for(let o=t.length;r<o;r+=1){let o=t[r];o&&-1===i?i=r:o||-1===i||(s=r-1,s-i+1>=e&&n.push([i,s]),i=-1)}return t[r-1]&&r-i>=e&&n.push([i,r-1]),n}const z=32;function V(t,e,n,{location:i=F.location,distance:s=F.distance,threshold:r=F.threshold,findAllMatches:o=F.findAllMatches,minMatchCharLength:c=F.minMatchCharLength,includeMatches:a=F.includeMatches,ignoreLocation:l=F.ignoreLocation}={}){if(e.length>z)throw new Error(b(z));const h=e.length,u=t.length,d=Math.max(0,Math.min(i,u));let f=r,g=d;const p=c>1||a,v=p?Array(u):[];let m;while((m=t.indexOf(e,g))>-1){let t=q(e,{currentLocation:m,expectedLocation:d,distance:s,ignoreLocation:l});if(f=Math.min(t,f),g=m+h,p){let t=0;while(t<h)v[m+t]=1,t+=1}}g=-1;let y=[],x=1,_=h+u;const M=1<<h-1;for(let b=0;b<h;b+=1){let i=0,r=_;while(i<r){const t=q(e,{errors:b,currentLocation:d+r,expectedLocation:d,distance:s,ignoreLocation:l});t<=f?i=r:_=r,r=Math.floor((_-i)/2+i)}_=r;let c=Math.max(1,d-r+1),a=o?u:Math.min(d+r,u)+h,m=Array(a+2);m[a+1]=(1<<b)-1;for(let o=a;o>=c;o-=1){let i=o-1,r=n[t.charAt(i)];if(p&&(v[i]=+!!r),m[o]=(m[o+1]<<1|1)&r,b&&(m[o]|=(y[o+1]|y[o])<<1|1|y[o+1]),m[o]&M&&(x=q(e,{errors:b,currentLocation:i,expectedLocation:d,distance:s,ignoreLocation:l}),x<=f)){if(f=x,g=i,g<=d)break;c=Math.max(1,2*d-g)}}const k=q(e,{errors:b+1,currentLocation:d,expectedLocation:d,distance:s,ignoreLocation:l});if(k>f)break;y=m}const k={isMatch:g>=0,score:Math.max(.001,x)};if(p){const t=H(v,c);t.length?a&&(k.indices=t):k.isMatch=!1}return k}function B(t){let e={};for(let n=0,i=t.length;n<i;n+=1){const s=t.charAt(n);e[s]=(e[s]||0)|1<<i-n-1}return e}class P{constructor(t,{location:e=F.location,threshold:n=F.threshold,distance:i=F.distance,includeMatches:s=F.includeMatches,findAllMatches:r=F.findAllMatches,minMatchCharLength:o=F.minMatchCharLength,isCaseSensitive:c=F.isCaseSensitive,ignoreLocation:a=F.ignoreLocation}={}){if(this.options={location:e,threshold:n,distance:i,includeMatches:s,findAllMatches:r,minMatchCharLength:o,isCaseSensitive:c,ignoreLocation:a},this.pattern=c?t:t.toLowerCase(),this.chunks=[],!this.pattern.length)return;const l=(t,e)=>{this.chunks.push({pattern:t,alphabet:B(t),startIndex:e})},h=this.pattern.length;if(h>z){let t=0;const e=h%z,n=h-e;while(t<n)l(this.pattern.substr(t,z),t),t+=z;if(e){const t=h-z;l(this.pattern.substr(t),t)}}else l(this.pattern,0)}searchIn(t){const{isCaseSensitive:e,includeMatches:n}=this.options;if(e||(t=t.toLowerCase()),this.pattern===t){let e={isMatch:!0,score:0};return n&&(e.indices=[[0,t.length-1]]),e}const{location:i,distance:s,threshold:r,findAllMatches:o,minMatchCharLength:c,ignoreLocation:a}=this.options;let l=[],h=0,u=!1;this.chunks.forEach(({pattern:e,alphabet:d,startIndex:f})=>{const{isMatch:g,score:p,indices:v}=V(t,e,d,{location:i+f,distance:s,threshold:r,findAllMatches:o,minMatchCharLength:c,includeMatches:n,ignoreLocation:a});g&&(u=!0),h+=p,g&&v&&(l=[...l,...v])});let d={isMatch:u,score:u?h/this.chunks.length:1};return u&&n&&(d.indices=l),d}}class D{constructor(t){this.pattern=t}static isMultiMatch(t){return K(t,this.multiRegex)}static isSingleMatch(t){return K(t,this.singleRegex)}search(){}}function K(t,e){const n=t.match(e);return n?n[1]:null}class J extends D{constructor(t){super(t)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(t){const e=t===this.pattern;return{isMatch:e,score:e?0:1,indices:[0,this.pattern.length-1]}}}class W extends D{constructor(t){super(t)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(t){const e=t.indexOf(this.pattern),n=-1===e;return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}}class X extends D{constructor(t){super(t)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(t){const e=t.startsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,this.pattern.length-1]}}}class Y extends D{constructor(t){super(t)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(t){const e=!t.startsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,t.length-1]}}}class Q extends D{constructor(t){super(t)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(t){const e=t.endsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[t.length-this.pattern.length,t.length-1]}}}class G extends D{constructor(t){super(t)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(t){const e=!t.endsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,t.length-1]}}}class Z extends D{constructor(t,{location:e=F.location,threshold:n=F.threshold,distance:i=F.distance,includeMatches:s=F.includeMatches,findAllMatches:r=F.findAllMatches,minMatchCharLength:o=F.minMatchCharLength,isCaseSensitive:c=F.isCaseSensitive,ignoreLocation:a=F.ignoreLocation}={}){super(t),this._bitapSearch=new P(t,{location:e,threshold:n,distance:i,includeMatches:s,findAllMatches:r,minMatchCharLength:o,isCaseSensitive:c,ignoreLocation:a})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(t){return this._bitapSearch.searchIn(t)}}class tt extends D{constructor(t){super(t)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(t){let e,n=0;const i=[],s=this.pattern.length;while((e=t.indexOf(this.pattern,n))>-1)n=e+s,i.push([e,n-1]);const r=!!i.length;return{isMatch:r,score:r?0:1,indices:i}}}const et=[J,tt,X,Y,G,Q,W,Z],nt=et.length,it=/ +(?=([^\"]*\"[^\"]*\")*[^\"]*$)/,st="|";function rt(t,e={}){return t.split(st).map(t=>{let n=t.trim().split(it).filter(t=>t&&!!t.trim()),i=[];for(let s=0,r=n.length;s<r;s+=1){const t=n[s];let r=!1,o=-1;while(!r&&++o<nt){const n=et[o];let s=n.isMultiMatch(t);s&&(i.push(new n(s,e)),r=!0)}if(!r){o=-1;while(++o<nt){const n=et[o];let s=n.isSingleMatch(t);if(s){i.push(new n(s,e));break}}}}return i})}const ot=new Set([Z.type,tt.type]);class ct{constructor(t,{isCaseSensitive:e=F.isCaseSensitive,includeMatches:n=F.includeMatches,minMatchCharLength:i=F.minMatchCharLength,ignoreLocation:s=F.ignoreLocation,findAllMatches:r=F.findAllMatches,location:o=F.location,threshold:c=F.threshold,distance:a=F.distance}={}){this.query=null,this.options={isCaseSensitive:e,includeMatches:n,minMatchCharLength:i,findAllMatches:r,ignoreLocation:s,location:o,threshold:c,distance:a},this.pattern=e?t:t.toLowerCase(),this.query=rt(this.pattern,this.options)}static condition(t,e){return e.useExtendedSearch}searchIn(t){const e=this.query;if(!e)return{isMatch:!1,score:1};const{includeMatches:n,isCaseSensitive:i}=this.options;t=i?t:t.toLowerCase();let s=0,r=[],o=0;for(let c=0,a=e.length;c<a;c+=1){const i=e[c];r.length=0,s=0;for(let e=0,c=i.length;e<c;e+=1){const c=i[e],{isMatch:a,indices:l,score:h}=c.search(t);if(!a){o=0,s=0,r.length=0;break}if(s+=1,o+=h,n){const t=c.constructor.type;ot.has(t)?r=[...r,...l]:r.push(l)}}if(s){let t={isMatch:!0,score:o/s};return n&&(t.indices=r),t}}return{isMatch:!1,score:1}}}const at=[];function lt(...t){at.push(...t)}function ht(t,e){for(let n=0,i=at.length;n<i;n+=1){let i=at[n];if(i.condition(t,e))return new i(t,e)}return new P(t,e)}const ut={AND:"$and",OR:"$or"},dt={PATH:"$path",PATTERN:"$val"},ft=t=>!(!t[ut.AND]&&!t[ut.OR]),gt=t=>!!t[dt.PATH],pt=t=>!o(t)&&f(t)&&!ft(t),vt=t=>({[ut.AND]:Object.keys(t).map(e=>({[e]:t[e]}))});function mt(t,e,{auto:n=!0}={}){const i=t=>{let s=Object.keys(t);const r=gt(t);if(!r&&s.length>1&&!ft(t))return i(vt(t));if(pt(t)){const i=r?t[dt.PATH]:s[0],o=r?t[dt.PATTERN]:t[i];if(!h(o))throw new Error(x(i));const c={keyId:E(i),pattern:o};return n&&(c.searcher=ht(o,e)),c}let c={children:[],operator:s[0]};return s.forEach(e=>{const n=t[e];o(n)&&n.forEach(t=>{c.children.push(i(t))})}),c};return ft(t)||(t=vt(t)),i(t)}function yt(t,{ignoreFieldNorm:e=F.ignoreFieldNorm}){t.forEach(t=>{let n=1;t.matches.forEach(({key:t,norm:i,score:s})=>{const r=t?t.weight:null;n*=Math.pow(0===s&&r?Number.EPSILON:s,(r||1)*(e?1:i))}),t.score=n})}function xt(t,e){const n=t.matches;e.matches=[],p(n)&&n.forEach(t=>{if(!p(t.indices)||!t.indices.length)return;const{indices:n,value:i}=t;let s={indices:n,value:i};t.key&&(s.key=t.key.src),t.idx>-1&&(s.refIndex=t.idx),e.matches.push(s)})}function bt(t,e){e.score=t.score}function _t(t,e,{includeMatches:n=F.includeMatches,includeScore:i=F.includeScore}={}){const s=[];return n&&s.push(xt),i&&s.push(bt),t.map(t=>{const{idx:n}=t,i={item:e[n],refIndex:n};return s.length&&s.forEach(e=>{e(t,i)}),i})}class Mt{constructor(t,e={},n){this.options={...F,...e},this.options.useExtendedSearch,this._keyStore=new w(this.options.keys),this.setCollection(t,n)}setCollection(t,e){if(this._docs=t,e&&!(e instanceof U))throw new Error(y);this._myIndex=e||j(this.options.keys,this._docs,{getFn:this.options.getFn})}add(t){p(t)&&(this._docs.push(t),this._myIndex.add(t))}remove(t=(()=>!1)){const e=[];for(let n=0,i=this._docs.length;n<i;n+=1){const s=this._docs[n];t(s,n)&&(this.removeAt(n),n-=1,i-=1,e.push(s))}return e}removeAt(t){this._docs.splice(t,1),this._myIndex.removeAt(t)}getIndex(){return this._myIndex}search(t,{limit:e=-1}={}){const{includeMatches:n,includeScore:i,shouldSort:s,sortFn:r,ignoreFieldNorm:o}=this.options;let c=h(t)?h(this._docs[0])?this._searchStringList(t):this._searchObjectList(t):this._searchLogical(t);return yt(c,{ignoreFieldNorm:o}),s&&c.sort(r),u(e)&&e>-1&&(c=c.slice(0,e)),_t(c,this._docs,{includeMatches:n,includeScore:i})}_searchStringList(t){const e=ht(t,this.options),{records:n}=this._myIndex,i=[];return n.forEach(({v:t,i:n,n:s})=>{if(!p(t))return;const{isMatch:r,score:o,indices:c}=e.searchIn(t);r&&i.push({item:t,idx:n,matches:[{score:o,value:t,norm:s,indices:c}]})}),i}_searchLogical(t){const e=mt(t,this.options),n=(t,e,i)=>{if(!t.children){const{keyId:n,searcher:s}=t,r=this._findMatches({key:this._keyStore.get(n),value:this._myIndex.getValueForItemAtKeyId(e,n),searcher:s});return r&&r.length?[{idx:i,item:e,matches:r}]:[]}switch(t.operator){case ut.AND:{const s=[];for(let r=0,o=t.children.length;r<o;r+=1){const o=t.children[r],c=n(o,e,i);if(!c.length)return[];s.push(...c)}return s}case ut.OR:{const s=[];for(let r=0,o=t.children.length;r<o;r+=1){const o=t.children[r],c=n(o,e,i);if(c.length){s.push(...c);break}}return s}}},i=this._myIndex.records,s={},r=[];return i.forEach(({$:t,i:i})=>{if(p(t)){let o=n(e,t,i);o.length&&(s[i]||(s[i]={idx:i,item:t,matches:[]},r.push(s[i])),o.forEach(({matches:t})=>{s[i].matches.push(...t)}))}}),r}_searchObjectList(t){const e=ht(t,this.options),{keys:n,records:i}=this._myIndex,s=[];return i.forEach(({$:t,i:i})=>{if(!p(t))return;let r=[];n.forEach((n,i)=>{r.push(...this._findMatches({key:n,value:t[i],searcher:e}))}),r.length&&s.push({idx:i,item:t,matches:r})}),s}_findMatches({key:t,value:e,searcher:n}){if(!p(e))return[];let i=[];if(o(e))e.forEach(({v:e,i:s,n:r})=>{if(!p(e))return;const{isMatch:o,score:c,indices:a}=n.searchIn(e);o&&i.push({score:c,key:t,value:e,idx:s,norm:r,indices:a})});else{const{v:s,n:r}=e,{isMatch:o,score:c,indices:a}=n.searchIn(s);o&&i.push({score:c,key:t,value:s,norm:r,indices:a})}return i}}Mt.version="6.4.6",Mt.createIndex=j,Mt.parseIndex=T,Mt.config=F,Mt.parseQuery=mt,lt(ct);var kt=Mt,wt=n("3f38"),St=n("f23d"),Lt=n("a497"),Et=n("20b0"),It=n("3076"),At=n("afcc"),Ct=n("e207"),Ot=n("7592"),Rt=n("1891"),Ft={name:"NoteEditor",components:{TiptapVuetify:wt["k"],EmailEditorImage:function(){return Promise.all([n.e("chunk-2d0e51ff"),n.e("chunk-253b7a6f")]).then(n.bind(null,"580e"))},EmailEditorLink:function(){return n.e("chunk-2d228fe6").then(n.bind(null,"dc0a"))}},mixins:[Rt["b"]],props:{message:{type:String,default:""},reset:{type:Boolean},isEdit:{type:Boolean,default:!1},itemId:{type:String,default:"",required:!1},typeItem:{type:String,required:!1,default:""},maxSize:{type:Number,required:!1,default:2e3}},data:function(){var t=this;return{ownersList:[],positionX:0,positionY:0,query:"",suggestionRange:0,filteredUsers:[],navigatedUserIndex:0,insertMention:function(){},tooltipShow:!1,emailTemplates:[],userEnterpriseSignature:{signature:""},isSelected:!1,editor:{},files:[],isOpenEditorImage:!1,isOpenEditorLink:!1,isOpenEditorAttach:!1,isOpenModalSignature:!1,isOpenModalTemplate:!1,extensions:[wt["a"],wt["e"],wt["m"],wt["g"],wt["i"],wt["b"],wt["j"],[wt["d"],{options:{levels:[1,2,3]}}],[Ct["a"],{options:{target:"_blank"}}],wt["c"]],nativeExtensions:[new Et["a"]({maxSize:this.maxSize}),new It["a"],new At["a"],new Lt["a"],new St["n"]({items:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",t.ownersList);case 1:case"end":return e.stop()}}),e)})));function n(){return e.apply(this,arguments)}return n}(),onEnter:function(e){var n=e.items,i=e.query,s=e.range,r=e.command,o=e.virtualNode;t.query=i,t.filteredUsers=n,t.suggestionRange=s;var c=o.getBoundingClientRect();t.positionX=c.x,t.positionY=c.y,t.insertMention=r},onChange:function(e){var n=e.items,i=e.query,s=e.range,r=e.virtualNode;if(t.query=i,i){var o=n.map((function(t){return t.item}));t.filteredUsers=o}else t.filteredUsers=n;t.suggestionRange=s,t.navigatedUserIndex=0;var c=r.getBoundingClientRect();t.positionX=c.x,t.positionY=c.y},onExit:function(){t.query="",t.filteredUsers=[],t.suggestionRange=0,t.navigatedUserIndex=0,t.tooltipShow=!1},onKeyDown:function(e){var n=e.event;return"ArrowUp"===n.key?(t.upHandler(),!0):"ArrowDown"===n.key?(t.downHandler(),!0):"Enter"===n.key&&(t.enterHandler(),!0)},onFilter:function(t,e){if(!e)return t;var n=new kt(t,{threshold:.2,keys:["user.name","user.lastName"]});return n.search(e)}})],content:""}},watch:{showSuggestions:function(t){this.tooltipShow=t},content:function(t){this.$emit("updateMessage",t)},reset:{handler:function(t){t||this.resetvalues()},immediate:!0},"editor.selection":{handler:function(){var t=this.editor,e=t.selection,n=t.state,i=e.from,s=e.to,r=n.doc.textBetween(i,s," ");r.length>0?this.isSelected=!0:this.isSelected=!1}},message:{handler:function(t){this.content=t},immediate:!0}},computed:{isMaxSize:function(){var t,e,n=this.editor.state;return(null===n||void 0===n||null===(t=n.doc)||void 0===t||null===(e=t.textContent)||void 0===e?void 0:e.length)||0},hasFiles:function(){return this.files.length>0},hasResults:function(){return this.filteredUsers.length},showSuggestions:function(){return this.query||this.hasResults},hasSearch:function(){return null!==this.search&&void 0!==this.search&&""!==this.search&&this.search.length>0}},methods:{setValueContent:function(t){t&&(this.content=this.message)},onInit:function(t){var e=t.editor;this.editor=e},truncateString:function(t,e){return t.length<=e?t:"".concat(t.slice(0,e)," ...")},removeFile:function(t){this.files.splice(t,1),this.$emit("saveFiles",this.files)},returnFileSize:function(t){if(!t)return"";if(t<1024)return"".concat(t," bytes");if(t>=1024&&t<1048576){var e=(t/1024).toFixed(1);return"".concat(e," KB")}if(t>=1048576){var n=(t/1048576).toFixed(1);return"".concat(n," MB")}return""},openEditorImage:function(){this.isOpenEditorImage=!0},closeEditorImage:function(){this.isOpenEditorImage=!1},saveImage:function(t,e){null!==e.src&&(t({src:e.src,alt:e.alt}),this.$emit("updateImage",e.alt))},openEditorLink:function(){this.isOpenEditorLink=!0},closeEditorLink:function(){this.isOpenEditorLink=!1},saveLink:function(t,e){null!==e.href&&t({href:e.href})},openEditorAttach:function(){this.isOpenEditorAttach=!0},closeEditorAttach:function(){this.isOpenEditorAttach=!1},saveFiles:function(t){t.length>0&&(this.files=t,this.$emit("saveFiles",t),this.closeEditorAttach())},upHandler:function(){this.navigatedUserIndex=(this.navigatedUserIndex+this.filteredUsers.length-1)%this.filteredUsers.length},downHandler:function(){this.navigatedUserIndex=(this.navigatedUserIndex+1)%this.filteredUsers.length},enterHandler:function(){var t=this.filteredUsers[this.navigatedUserIndex];t&&this.selectUser(t)},selectUser:function(t){this.insertMention({range:this.suggestionRange,attrs:{id:t.id,label:"".concat(t.user.name," ").concat(t.user.lastName)}})},resetvalues:function(){this.content="",this.files=[]}},apollo:{ownersList:{query:Ot["e"]}}},$t=Ft,Nt=(n("555e"),n("0c7c")),Ut=n("6544"),jt=n.n(Ut),Tt=n("8336"),qt=n("132d"),Ht=n("8860"),zt=n("da13"),Vt=n("5d23"),Bt=n("e449"),Pt=n("3a2f"),Dt=Object(Nt["a"])($t,i,s,!1,null,"13d0b2b8",null);e["default"]=Dt.exports;jt()(Dt,{VBtn:Tt["a"],VIcon:qt["a"],VList:Ht["a"],VListItem:zt["a"],VListItemTitle:Vt["c"],VMenu:Bt["a"],VTooltip:Pt["a"]})},b680:function(t,e,n){"use strict";var i=n("23e7"),s=n("a691"),r=n("408a"),o=n("1148"),c=n("d039"),a=1..toFixed,l=Math.floor,h=function(t,e,n){return 0===e?n:e%2===1?h(t,e-1,n*t):h(t*t,e/2,n)},u=function(t){var e=0,n=t;while(n>=4096)e+=12,n/=4096;while(n>=2)e+=1,n/=2;return e},d=function(t,e,n){var i=-1,s=n;while(++i<6)s+=e*t[i],t[i]=s%1e7,s=l(s/1e7)},f=function(t,e){var n=6,i=0;while(--n>=0)i+=t[n],t[n]=l(i/e),i=i%e*1e7},g=function(t){var e=6,n="";while(--e>=0)if(""!==n||0===e||0!==t[e]){var i=String(t[e]);n=""===n?i:n+o.call("0",7-i.length)+i}return n},p=a&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!c((function(){a.call({})}));i({target:"Number",proto:!0,forced:p},{toFixed:function(t){var e,n,i,c,a=r(this),l=s(t),p=[0,0,0,0,0,0],v="",m="0";if(l<0||l>20)throw RangeError("Incorrect fraction digits");if(a!=a)return"NaN";if(a<=-1e21||a>=1e21)return String(a);if(a<0&&(v="-",a=-a),a>1e-21)if(e=u(a*h(2,69,1))-69,n=e<0?a*h(2,-e,1):a/h(2,e,1),n*=4503599627370496,e=52-e,e>0){d(p,0,n),i=l;while(i>=7)d(p,1e7,0),i-=7;d(p,h(10,i,1),0),i=e-1;while(i>=23)f(p,1<<23),i-=23;f(p,1<<i),d(p,1,1),f(p,2),m=g(p)}else d(p,0,n),d(p,1<<-e,0),m=g(p)+o.call("0",l);return l>0?(c=m.length,m=v+(c<=l?"0."+o.call("0",l-c)+m:m.slice(0,c-l)+"."+m.slice(c-l))):m=v+m,m}})},bafa:function(t,e,n){}}]);
//# sourceMappingURL=chunk-4c461642.c0c8ef4b.js.map