(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5485707a"],{"0575":function(e,t,i){"use strict";i("e51d")},"0d2b":function(e,t,i){"use strict";var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseCardChart",{attrs:{title:e.title,titleRegular:e.titleRegular,settings:e.filtersConfig,isChart:""},on:{updateRefetch:function(t){e.isRefetch=!0}},scopedSlots:e._u([{key:"modal",fn:function(){return[i("BarActivityTypeByStageFilter",{attrs:{defaultFilter:e.filtersConfig,isIcon:"",isPreview:""}})]},proxy:!0}])},[i("div",{staticClass:"hoverClick",on:{click:e.openModal}},[i("BarActivityTypeByStageData",{attrs:{defaultFilter:e.filtersConfig,isPreview:"",isRefetch:e.isRefetch},on:{updateRefetch:function(t){e.isRefetch=!1}}})],1),i("BarActivityTypeByStageModal",{attrs:{isOpen:e.isOpenModal,filters:{filtersConfig:e.filtersConfig,filtersTable:e.filtersTable},title:e.title,titleRegular:e.titleRegular},on:{close:e.closeModal}})],1)},a=[],s=i("3835"),n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalChart",{attrs:{title:e.title,titleRegular:e.titleRegular,isOpen:e.isOpen},on:{close:e.closeModal},scopedSlots:e._u([{key:"filters",fn:function(){return[i("BarActivityTypeByStageFilter",{attrs:{defaultFilter:e.filters.filtersConfig}})]},proxy:!0},{key:"chart",fn:function(){return[i("BarActivityTypeByStageData",{attrs:{defaultFilter:e.filters.filtersConfig,isFull:""}})]},proxy:!0},{key:"table",fn:function(){return[i("TableActivities",{attrs:{defaultFilter:e.filters.filtersTable}})]},proxy:!0}])})},o=[],l=i("52e2"),d=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalFilters",{attrs:{isOpen:e.isOpenModalFilter,isIcon:e.isIcon},on:{save:e.saveFilter,statusModal:e.statusModal}},[i("v-row",[i("v-col",{attrs:{cols:"12"}},[i("Select",{attrs:{name:"Estado de trato",defaultSelect:e.defaultFilter.dealsFilter,list:e.listStatusDeals},on:{change:e.changeStatusDeal}})],1),i("v-col",{attrs:{cols:"12"}},[i("Select",{attrs:{name:"Estado de actividad",defaultSelect:e.defaultFilter.activitiesFilter,list:e.listStatusActivities},on:{change:e.changeStatusActivity}})],1),i("v-col",{attrs:{cols:"12"}},[i("SelectUsers",{attrs:{all:"",defaultSelect:e.defaultFilter.users},on:{change:e.changeUsers}})],1),i("v-col",{attrs:{cols:"12"}},[i("SelectPipeline",{attrs:{defaultSelect:e.defaultFilter.pipeline},on:{change:e.changePipeline}})],1),i("v-col",{attrs:{cols:"12"}},[i("PeriodPredefined",{attrs:{defaultSelect:e.defaultFilter.periodPredefined},on:{change:e.changePeriodPredefined}})],1),e.isPreview?e._e():i("v-col",{attrs:{cols:"12"}},[i("ComparePeriodBars",{attrs:{periodPredefined:e.filters.periodPredefined[0]},on:{change:e.changeComparePeriod}})],1)],1)],1)},c=[],p=i("5530"),f=i("740f"),u=i("d344"),v=i("6321"),h=i("c065"),m={name:"BarActivityTypeByStageFilter",components:{SelectUsers:f["a"],SelectPipeline:v["a"],Select:u["a"]},mixins:[l["b"]],props:{defaultFilter:{type:Object,default:function(){return{dealsFilter:"ALL",activitiesFilter:"ALL",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{},typeCompare:"none"}}}},data:function(){return{listStatusActivities:h["b"],listStatusDeals:h["c"],filters:{dealsFilter:"ALL",activitiesFilter:"ALL",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{},typeCompare:"none"}}},methods:{saveFilter:function(){this.changeChart({id:"bar-activityTypeByStage",filtersFull:Object(p["a"])(Object(p["a"])({},this.noReactive(this.filters)),{},{periodRange:Object(p["a"])({__typename:"PeriodRange"},this.filters.periodRange),ownerToCompare:Object(p["a"])({},this.filters.ownerToCompare)})}),this.isOpenModalFilter=!1}}},g=m,C=i("0c7c"),y=i("6544"),T=i.n(y),R=i("62ad"),b=i("0fd9"),S=Object(C["a"])(g,d,c,!1,null,"5fe3b2de",null),P=S.exports;T()(S,{VCol:R["a"],VRow:b["a"]});var F=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.isPreview?e._e():i("ListFilters",{attrs:{settings:e.settings}}),i("div",{staticClass:"text-center bgWhite",class:[{"py-5 px-3":!e.isPreview},{showScroll:e.isWithScroll}]},[i("apexchart",{attrs:{height:e.isPreview?250:350,type:"bar",options:e.options,series:e.series}}),e.isPreview||"date"!==e.settings.typeCompare?e._e():i("h4",[e._v(" Comparación de fecha ")]),e.isPreview||"user"!==e.settings.typeCompare?e._e():i("h4",[e._v(" Comparación con otro usuario ")]),e.isPreview||"none"===e.settings.typeCompare?e._e():i("apexchart",{attrs:{height:e.isPreview?250:350,type:"bar",options:e.optionsCompare,series:e.seriesCompare}})],1),e.isPreview?e._e():i("BarActivityTypeByStageInformation",{attrs:{information:e.activitiesByStageHorizontalBarsAndTable.informationBar,filterBy:e.settings.filterBy}})],1)},A=[],B=(i("b680"),i("d81d"),i("8d7e")),_=i("b3b3"),w=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-card",{staticClass:"mt-5",attrs:{flat:""}},[i("v-container",[i("v-row",[i("v-col",{attrs:{cols:"3"}},[i("span",[i("b",[e._v("Actividades reagendadas:")]),e._v(" "+e._s(e.information.periodsActivities&&e.information.periodsActivities.bookedActivities)+" ")])]),i("v-col",{attrs:{cols:"3"}},[i("b",[e._v("Activitiades completadas:")]),e._v(" "+e._s(e.information.periodsActivities&&e.information.periodsActivities.completedActivities)+" ")]),i("v-col",{attrs:{cols:"3"}},[i("b",[e._v("Actividades cumplidas:")]),e._v(" "+e._s(e.information.periodsActivities&&e.information.periodsActivities.compliedActivities)+" ")]),i("v-col",{attrs:{cols:"3"}},[i("b",[e._v("Actividades efectivas:")]),e._v(" "+e._s(e.information.periodsActivities&&e.information.periodsActivities.effectiveActivities)+" ")]),i("v-col",{attrs:{cols:"3"}},[i("b",[e._v("Actividades vencidas:")]),e._v(" "+e._s(e.information.periodsActivities&&e.information.periodsActivities.expiredActivities)+" ")]),i("v-col",{attrs:{cols:"3"}},[i("b",[e._v("Actividades inefectivas:")]),e._v(" "+e._s(e.information.periodsActivities&&e.information.periodsActivities.ineffectiveActivities)+" ")])],1),i("v-row",[i("v-col",{attrs:{cols:"3"}},[i("span",[i("b",[e._v("Actividades reagendadas anterior:")]),e._v(" "+e._s(e.information.pastPeriodsActivities&&e.information.pastPeriodsActivities.bookedActivities)+" ")])]),i("v-col",{attrs:{cols:"3"}},[i("b",[e._v("Activitiades completadas anterior:")]),e._v(" "+e._s(e.information.pastPeriodsActivities&&e.information.pastPeriodsActivities.completedActivities)+" ")]),i("v-col",{attrs:{cols:"3"}},[i("b",[e._v("Actividades cumplidas anterior:")]),e._v(" "+e._s(e.information.pastPeriodsActivities&&e.information.pastPeriodsActivities.compliedActivities)+" ")]),i("v-col",{attrs:{cols:"3"}},[i("b",[e._v("Actividades efectivas anterior:")]),e._v(" "+e._s(e.information.pastPeriodsActivities&&e.information.pastPeriodsActivities.effectiveActivities)+" ")]),i("v-col",{attrs:{cols:"3"}},[i("b",[e._v("Actividades vencidas anterior:")]),e._v(" "+e._s(e.information.pastPeriodsActivities&&e.information.pastPeriodsActivities.expiredActivities)+" ")]),i("v-col",{attrs:{cols:"3"}},[i("b",[e._v("Actividades inefectivas anterior:")]),e._v(" "+e._s(e.information.pastPeriodsActivities&&e.information.pastPeriodsActivities.ineffectiveActivities)+" ")])],1)],1)],1)},O=[],E={name:"BarActivityTypeByStageInformation",props:{information:{type:Object,default:function(){return{}}},filterBy:{type:String,default:"count"}}},D=E,x=i("b0af"),M=i("a523"),I=Object(C["a"])(D,w,O,!1,null,null,null),k=I.exports;T()(I,{VCard:x["a"],VCol:R["a"],VContainer:M["a"],VRow:b["a"]});var H={name:"BarActivityTypeByStageData",mixins:[l["a"]],components:{BarActivityTypeByStageInformation:k},props:{defaultFilter:{type:Object,default:function(){return{dealsFilter:"ALL",activitiesFilter:"ALL",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],typeCompare:"none"}}}},data:function(){return{listFilterBy:h["e"],activitiesByStageHorizontalBarsAndTable:{mainActivitiesByStage:[],secondActivitiesByStage:[]},modalSettings:{dealsFilter:"ALL",activitiesFilter:"ALL",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],typeCompare:"none"},settings:{dealsFilter:"ALL",activitiesFilter:"ALL",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],typeCompare:"none"}}},computed:{options:function(){return this.formatOptions(this.activitiesByStageHorizontalBarsAndTable.stages)},optionsCompare:function(){return this.formatOptions(this.activitiesByStageHorizontalBarsAndTable.stages)},series:function(){return this.formatSeries(this.activitiesByStageHorizontalBarsAndTable.mainActivitiesByStage)},seriesCompare:function(){return this.formatSeries(this.activitiesByStageHorizontalBarsAndTable.secondActivitiesByStage)},showTitleXaxis:function(){if(!this.isPreview)return"Total"},showTitleYaxis:function(){if(!this.isPreview)return"Etapas"},isWithScroll:function(){return this.isLargeWidth&&this.isPreview},filters:function(){var e={dateRange:{dateStart:this.dateStart,dateEnd:this.dateEnd},owners:this.ownersFilter,pipeline:this.pipelineFilter,dealsFilter:this.settings.dealsFilter,activitiesFilter:this.settings.activitiesFilter};return this.ownerToCompare&&(e.ownerToCompare=this.ownerToCompare),this.dateRangeToCompare&&""!==this.dateRangeToCompare.dateStart&&""!==this.dateRangeToCompare.dateEnd&&(e.dateRangeToCompare=this.dateRangeToCompare),e}},methods:{formatOptions:function(e){return{chart:{type:"bar",height:this.isPreview?"250":"350",width:this.isWithScroll?"600":"100%",stacked:!0,toolbar:{show:!1},zoom:{enabled:!1}},plotOptions:{bar:{borderRadius:4,horizontal:!0}},colors:_["a"],dataLabels:{enabled:!0,style:{fontSize:"12px",fontWeight:"bold",colors:["#000"]},background:{enabled:!0,foreColor:"#fff"}},grid:{row:{colors:["#f3f3f3","transparent"],opacity:.5}},xaxis:{categories:e||[],title:{text:this.showTitleXaxis},tickAmount:1,labels:{formatter:function(e){return e.toFixed(0)}}},yaxis:{title:{text:this.showTitleYaxis}},tooltip:{y:{formatter:function(e){return e}}},legend:{position:"top",horizontalAlign:this.isPreview?"left":"center",showForSingleSeries:!0}}},formatSeries:function(e){return e&&e.length?e.map((function(e){var t=e.typeName,i=e.countList;return{name:t,data:i.map((function(e){return e.count}))}})):[]},update:function(){this.$apollo.queries.activitiesByStageHorizontalBarsAndTable.refetch()}},apollo:{activitiesByStageHorizontalBarsAndTable:{query:B["c"],fetchPolicy:"no-cache",client:"charts",variables:function(){return{filters:this.filters}},skip:function(){return""===this.dateStart||""===this.dateEnd||!this.pipelineFilter.id||0===this.ownersFilter.length},watchLoading:function(e){this.isLoading=e}}}},V=H,j=(i("f543"),Object(C["a"])(V,F,A,!1,null,"29391d43",null)),L=j.exports,W=i("157d"),N={name:"BarActivityTypeByStageModal",components:{BarActivityTypeByStageFilter:P,BarActivityTypeByStageData:L,TableActivities:W["a"]},mixins:[l["c"]],props:{filters:{type:Object,default:function(){return{filtersConfig:{dealsFilter:"ALL",activitiesFilter:"ALL",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{},typeCompare:"none"},filtersTable:{users:[],pipelines:[],periodRange:{start:"",end:""},dealStatus:"",stages:[],activityTypes:[],fromReportStatus:"ACTIVITIESBYSTAGE"}}}}}},G=N,U=Object(C["a"])(G,n,o,!1,null,"2f46b56b",null),$=U.exports,z={name:"BarActivityTypeByStagePreview",components:{BarActivityTypeByStageData:L,BarActivityTypeByStageModal:$,BarActivityTypeByStageFilter:P},mixins:[l["d"]],props:{defaultPeriod:{type:String,default:"THIS_MONTH"}},data:function(){return{chartId:"bar-activityTypeByStage",title:"Actividades",titleRegular:"por etapa",filtersChartsDefault:{},initFilter:{dealsFilter:"ALL",activitiesFilter:"ALL",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{},typeCompare:"none",stages:[],activityTypes:[],fromReportStatus:"ACTIVITIESBYSTAGE"}}},computed:{filtersConfig:function(){var e,t,i,r,a,s,n,o,l;return{dealsFilter:(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.dealsFilter)||this.initFilter.dealsFilter,activitiesFilter:(null===(t=this.chart.filtersFull)||void 0===t?void 0:t.activitiesFilter)||this.initFilter.activitiesFilter,users:this.usersGlobal||(null===(i=this.chart.filtersFull)||void 0===i?void 0:i.users)||this.initUsers,pipeline:(null===(r=this.chart.filtersFull)||void 0===r?void 0:r.pipeline)||this.initPipeline,periodRange:this.periodRangeGlobal||(null===(a=this.chart.filtersFull)||void 0===a?void 0:a.periodRange)||this.periodRange,periodPredefined:this.periodPredefinedGlobal||(null===(s=this.chart.filtersFull)||void 0===s?void 0:s.periodPredefined)||[this.defaultPeriod]||this.initFilter.periodPredefined,periodRangeToCompare:(null===(n=this.chart.filtersFull)||void 0===n?void 0:n.periodRangeToCompare)||this.initFilter.periodRangeToCompare,ownerToCompare:(null===(o=this.chart.filtersFull)||void 0===o?void 0:o.ownerToCompare)||this.initFilter.ownerToCompare,typeCompare:(null===(l=this.chart.filtersFull)||void 0===l?void 0:l.typeCompare)||this.initFilter.typeCompare}},filtersTable:function(){var e,t=this.getPeriod(this.initFilter.periodPredefined[0]).get(),i=Object(s["a"])(t,2),r=i[0],a=i[1];return{users:this.usersGlobal||this.users||this.initUsers,pipelines:this.pipelines||[this.initPipeline],periodRange:this.periodRangeGlobal||(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.periodRange)||{start:r,end:a},dealStatus:this.initFilter.dealsFilter,activitiesStatus:this.initFilter.activitiesFilter,activityTypes:this.filtersChartsDefault.activityTypes||this.initFilter.activityTypes,fromReportStatus:this.initFilter.fromReportStatus}}}},Y=z,q=(i("b2b6"),Object(C["a"])(Y,r,a,!1,null,"1db771dc",null));t["a"]=q.exports},"0da8":function(e,t,i){},"157d":function(e,t,i){"use strict";var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.subreportsActivities.list,"items-per-page":5},scopedSlots:e._u([{key:"item.start",fn:function(t){var i=t.item;return[e._v(" "+e._s(e._f("formatDate")(i.start))+" ")]}},{key:"item.end",fn:function(t){var i=t.item;return[e._v(" "+e._s(e._f("formatDate")(i.end))+" ")]}},{key:"item.status",fn:function(t){var r=t.item;return[i("v-chip",{attrs:{color:e.getColor(r.status),dark:""}},[e._v(" "+e._s(e.getText(r.status))+" ")])]}}],null,!0)})},a=[],s=(i("4de4"),i("d81d"),i("8d7e")),n={name:"TableActivities",props:{defaultFilter:{type:Object,default:function(){return{users:[],pipelines:[],periodRange:{start:"",end:""},dealStatus:"",activitiesStatus:"",activityTypes:[],fromReportStatus:""}}}},data:function(){return{subreportsActivities:{count:0,list:[]},headers:[{text:"Título",value:"title",sortable:!1},{text:"Inicio",value:"start",sortable:!1},{text:"Final",value:"end",sortable:!1},{text:"Estado",value:"status",sortable:!1}],filter:{users:[],pipelines:[],periodRange:{start:"",end:""},dealStatus:"",activityTypes:[],fromReportStatus:""}}},created:function(){this.filter=this.noReactive(this.defaultFilter)},watch:{defaultFilter:{handler:function(){this.filter=this.noReactive(this.defaultFilter)},immediate:!0,deep:!0}},computed:{pipelinesFilter:function(){return this.filter.pipelines.length?this.filter.pipelines.map((function(e){return{id:e.id}})):[]},ownersFilter:function(){return this.filter.users.length?this.filter.users.map((function(e){return{id:e.id}})):[]},activityTypes:function(){return this.filter.activityTypes.length?this.filter.activityTypes.map((function(e){return{id:e.id}})):[]}},methods:{getColor:function(e){return"PENDING"===e?"#2E2E2F":"INEFFECTIVE"===e?"#88141":"EFFECTIVE"===e?"#396A5D":"#2E2E2F"},getText:function(e){return"PENDING"===e?"Pendiente":"INEFFECTIVE"===e?"Inefectivo":"EFFECTIVE"===e?"Efectivo":"Pendiente"}},apollo:{subreportsActivities:{query:s["D"],fetchPolicy:"no-cache",client:"charts",variables:function(){return{filters:{dateRange:{dateStart:this.filter.periodRange.start,dateEnd:this.filter.periodRange.end},owners:this.ownersFilter,pipelines:this.pipelinesFilter,dealStatus:this.filter.dealStatus,activitiesStatus:this.filter.activitiesStatus,activityTypes:this.activityTypes,fromReportStatus:this.filter.fromReportStatus}}}}}},o=n,l=i("0c7c"),d=i("6544"),c=i.n(d),p=i("cc20"),f=i("8fea"),u=Object(l["a"])(o,r,a,!1,null,"b3f0498c",null);t["a"]=u.exports;c()(u,{VChip:p["a"],VDataTable:f["a"]})},"15d3":function(e,t,i){"use strict";i("2d41")},"19c4":function(e,t,i){"use strict";var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-select",{attrs:{items:e.activityTypes,"item-value":"id","item-text":"name",label:"Actividades",outlined:"",multiple:"","hide-details":"auto","return-object":"","small-chips":"",loading:e.isLoading},on:{change:e.updateSelect},scopedSlots:e._u([{key:"prepend-item",fn:function(){return[i("v-list-item",{attrs:{ripple:""},on:{click:e.toggle}},[i("v-list-item-action",[i("v-icon",{attrs:{color:e.activityTypes.length>0?"primary":""}},[e._v(" "+e._s(e.icon)+" ")])],1),i("v-list-item-content",[i("v-list-item-title",[e._v(" Todos ")])],1)],1),i("v-divider",{staticClass:"mt-2"})]},proxy:!0}]),model:{value:e.activitiesSelected,callback:function(t){e.activitiesSelected=t},expression:"activitiesSelected"}})},a=[],s=(i("fb6a"),i("ffd2")),n={name:"SelectActivities",props:{all:{type:Boolean,default:!1},defaultSelect:{type:Array,default:function(){return[]}}},data:function(){return{isLoading:!1,activityTypes:[],activitiesSelected:[]}},created:function(){this.activitiesSelected=this.noReactive(this.defaultSelect),this.updateSelect()},watch:{defaultSelect:function(e,t){JSON.stringify(e)!==JSON.stringify(t)&&(this.activitiesSelected=this.noReactive(this.defaultSelect),this.updateSelect())},activityTypes:{handler:function(e){e.length&&(this.all?this.activitiesSelected=e:this.defaulSelect&&this.defaulSelect.length&&(this.activitiesSelected=this.defaultSelect),this.updateSelect())}}},computed:{allActivities:function(){return this.activitiesSelected.length===this.activityTypes.length},someActivities:function(){return this.activitiesSelected.length>0&&!this.activityTypes},icon:function(){return this.allActivities?"mdi-close-box":this.someActivities?"mdi-minus-box":"mdi-checkbox-blank-outline"}},methods:{updateSelect:function(){this.$emit("change",this.activitiesSelected)},toggle:function(){var e=this;this.$nextTick((function(){e.allActivities?e.activitiesSelected=[]:e.activitiesSelected=e.activityTypes.slice(),e.updateSelect()}))}},apollo:{activityTypes:{query:s["c"],fetchPolicy:"no-cache",watchLoading:function(e){this.isLoading=e}}}},o=n,l=i("0c7c"),d=i("6544"),c=i.n(d),p=i("ce7e"),f=i("132d"),u=i("da13"),v=i("1800"),h=i("5d23"),m=i("b974"),g=Object(l["a"])(o,r,a,!1,null,null,null);t["a"]=g.exports;c()(g,{VDivider:p["a"],VIcon:f["a"],VListItem:u["a"],VListItemAction:v["a"],VListItemContent:h["a"],VListItemTitle:h["c"],VSelect:m["a"]})},"210b":function(e,t,i){"use strict";i("e4c9")},2330:function(e,t,i){},2456:function(e,t,i){"use strict";i("e1f5")},"2d41":function(e,t,i){},"3c11":function(e,t,i){"use strict";i("e869")},"57cc":function(e,t,i){"use strict";i("df27")},"5b21":function(e,t,i){},6748:function(e,t,i){"use strict";i("d3a1")},7439:function(e,t,i){"use strict";i("2330")},7561:function(e,t,i){"use strict";var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseCardChart",{attrs:{title:e.title,titleRegular:e.titleRegular,settings:e.filtersConfig},on:{updateRefetch:function(t){e.isRefetch=!0}},scopedSlots:e._u([{key:"modal",fn:function(){return[i("CardWonDealsEarningValueFilter",{attrs:{defaultFilter:e.filtersConfig,isIcon:"",isPreview:""}})]},proxy:!0}])},[i("div",{staticClass:"hoverClick",on:{click:e.openModal}},[i("CardWonDealsEarningValueData",{attrs:{defaultFilter:e.filtersConfig,isPreview:"",isRefetch:e.isRefetch},on:{updateRefetch:function(t){e.isRefetch=!1}}})],1),i("CardWonDealsEarningValueModal",{attrs:{isOpen:e.isOpenModal,filters:{filtersConfig:e.filtersConfig,filtersTable:e.filtersTable},title:e.title,titleRegular:e.titleRegular},on:{close:e.closeModal}})],1)},a=[],s=i("3835"),n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalChart",{attrs:{title:e.title,titleRegular:e.titleRegular,isOpen:e.isOpen},on:{close:e.closeModal},scopedSlots:e._u([{key:"filters",fn:function(){return[i("CardWonDealsEarningValueFilter",{attrs:{defaultFilter:e.filters.filtersConfig}})]},proxy:!0},{key:"chart",fn:function(){return[i("CardWonDealsEarningValueData",{attrs:{defaultFilter:e.filters.filtersConfig}})]},proxy:!0},{key:"table",fn:function(){return[i("TableDeals",{attrs:{defaultFilter:e.filters.filtersTable}})]},proxy:!0}])})},o=[],l=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.isPreview?e._e():i("ListFilters",{attrs:{settings:e.settings}}),i("BaseCardNumber",{attrs:{information:{numberMain:""+e.generalConvertionRateFormat,textMain:e.textMain,valueMain:e.valueMain,textMainType:e.textChart,isCompare:!e.isPreview&&(e.settings.periodRangeToCompare.period.length>0||e.isCompareUser),numberCompare:""+e.generalConvertionRateCompare,textCompare:e.textCompare,valueCompare:e.valueCompare,numberDifferenceCompare:e.comparePercentage}}}),e.isPreview?e._e():i("CardWonDealsEarningValueInformation",{attrs:{information:e.wonDealsEarningValueCard.informationBar,filterBy:e.settings.filterBy}})],1)},d=[],c=(i("b680"),i("b0c0"),i("99af"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-card",{staticClass:"mt-5",attrs:{flat:""}},[i("v-container",[i("v-row",{staticClass:"justify-center"},[i("v-col",{attrs:{cols:"3"}},[e._l(e.information.userDealsEarning,(function(t,r){return[i("span",{key:r,staticClass:"d-block"},[i("b",[e._v(e._s(t.name))]),e._v(" : "+e._s("sum"===e.filterBy?"$"+t[e.filterBy].toFixed(2):t[e.filterBy])+" ")])]}))],2),i("v-col",{attrs:{cols:"9"}},[i("v-row",[i("v-col",e._l(e.getInfo.firstColumn,(function(t,r){return i("span",{key:r,staticClass:"d-block"},[i("b",[e._v(e._s(e.columnOne[r]))]),e._v(" : "+e._s(t)+" ")])})),0),i("v-col",e._l(e.getInfo.secondColumn,(function(t,r){return i("span",{key:r,staticClass:"d-block"},[i("b",[e._v(e._s(e.columnTwo[r]))]),e._v(" : $"+e._s(t)+" ")])})),0),i("v-col",e._l(e.getInfo.thirdColumn,(function(t,r){return i("span",{key:r,staticClass:"d-block"},[i("b",[e._v(e._s(e.columnThree[r]))]),e._v(" : $"+e._s(t)+" ")])})),0)],1)],1)],1)],1)],1)}),p=[],f=(i("d81d"),{name:"CardWonDealsEarningValueInformation",props:{information:{type:Object,default:function(){return{userDealsEarning:[],periodsDealsEarning:[]}}},filterBy:{type:String,default:"count"}},data:function(){return{columnOne:["Este período","Período pasado","Mismo período el mes anterior"],columnTwo:["Ingresos este período","Ingresos período pasado","Ingresos mismo período el mes anterior"],columnThree:["Ingresos totales este período","Ingresos totales período pasado","Ingresos totales mismo período el mes anterior"]}},computed:{getInfo:function(){var e=this.information.periodsDealsEarning.map((function(e){return e.count})),t=this.information.periodsDealsEarning.map((function(e){return e.sum})),i=this.information.periodsDealsEarning.map((function(e){return e.totalSum}));return{firstColumn:e,secondColumn:t,thirdColumn:i}}}}),u=f,v=i("0c7c"),h=i("6544"),m=i.n(h),g=i("b0af"),C=i("62ad"),y=i("a523"),T=i("0fd9"),R=Object(v["a"])(u,c,p,!1,null,null,null),b=R.exports;m()(R,{VCard:g["a"],VCol:C["a"],VContainer:y["a"],VRow:T["a"]});var S=i("8d7e"),P=i("0db6"),F={name:"CardWonDealsEarningValueData",mixins:[P["a"]],components:{CardWonDealsEarningValueInformation:b},props:{defaultFilter:{type:Object,default:function(){return{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{id:""}}}},isPreview:{type:Boolean,default:!1}},data:function(){return{wonDealsEarningValueCard:{},modalSettings:{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:[],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{id:""}},settings:{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:[],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{id:""}}}},computed:{isCompareUser:function(){var e,t,i,r,a,s;return(null===(e=this.wonDealsEarningValueCard)||void 0===e||null===(t=e.mainDealsEarning)||void 0===t?void 0:t.id)!==(null===(i=this.wonDealsEarningValueCard)||void 0===i||null===(r=i.secondDealsEarning)||void 0===r?void 0:r.id)&&""!==(null===(a=this.settings)||void 0===a||null===(s=a.ownerToCompare)||void 0===s?void 0:s.id)},comparePercentage:function(){return"0"===this.generalConvertionRateCompare?"0.00":(100*this.generalConvertionRateFormat/this.generalConvertionRateCompare-100).toFixed(2)},generalConvertionRateFormat:function(){var e,t,i,r;if(this.wonDealsEarningValueCard&&void 0!==(null===(e=this.wonDealsEarningValueCard)||void 0===e||null===(t=e.mainDealsEarning)||void 0===t?void 0:t.count)&&void 0!==(null===(i=this.wonDealsEarningValueCard)||void 0===i||null===(r=i.mainDealsEarning)||void 0===r?void 0:r.sum)){var a,s;if("count"===this.settings.filterBy)return(null===(a=this.wonDealsEarningValueCard)||void 0===a?void 0:a.mainDealsEarning.count)||"0";if("sum"===this.settings.filterBy)return"$".concat(null===(s=this.wonDealsEarningValueCard)||void 0===s?void 0:s.mainDealsEarning.sum)||!1}return"0"},generalConvertionRateCompare:function(){var e,t,i,r;if(this.wonDealsEarningValueCard&&void 0!==(null===(e=this.wonDealsEarningValueCard)||void 0===e||null===(t=e.secondDealsEarning)||void 0===t?void 0:t.count)&&void 0!==(null===(i=this.wonDealsEarningValueCard)||void 0===i||null===(r=i.secondDealsEarning)||void 0===r?void 0:r.sum)){var a,s=null===(a=this.wonDealsEarningValueCard)||void 0===a?void 0:a.secondDealsEarning[this.settings.filterBy];return s||"0"}return"0"},textCompare:function(){return"PREVIOUS_PERIOD"===this.settings.periodRangeToCompare.period?this.settings.periodPredefined[3]:"PREVIOUS_YEAR"===this.settings.periodRangeToCompare.period?"Año anterior":"CUSTOM"===this.settings.periodRangeToCompare.period?"Personalizado":""},valueCompare:function(){if(!this.isPreview){var e,t;if(this.isCompareUser)return null===(e=this.wonDealsEarningValueCard)||void 0===e||null===(t=e.secondDealsEarning)||void 0===t?void 0:t.name;if("CUSTOM"===this.settings.periodRangeToCompare.period)return"".concat(this.formatDate(this.filters.dateRangeToCompare.dateStart)," - ").concat(this.formatDate(this.filters.dateRangeToCompare.dateEnd))}return""},textMain:function(){return this.isPreview?"":(this.isCompareUser,this.settings.periodPredefined[2])},valueMain:function(){if(!this.isPreview){var e,t;if(this.isCompareUser)return null===(e=this.wonDealsEarningValueCard)||void 0===e||null===(t=e.mainDealsEarning)||void 0===t?void 0:t.name;if(this.settings.periodPredefined.length>0&&"CUSTOM"===this.settings.periodPredefined[0])return"".concat(this.formatDate(this.filters.dateRange.dateStart)," - ").concat(this.formatDate(this.filters.dateRange.dateEnd))}return""},filters:function(){var e={dateRange:{dateStart:this.dateStart,dateEnd:this.dateEnd},owners:this.ownersFilter,pipeline:this.pipelineFilter};return this.ownerToCompare&&""!==this.ownerToCompare.id&&(e.ownerToCompare=this.ownerToCompare),this.dateRangeToCompare&&""!==this.dateRangeToCompare.dateStart&&""!==this.dateRangeToCompare.dateEnd&&(e.dateRangeToCompare=this.dateRangeToCompare),e}},methods:{update:function(){this.$apollo.queries.wonDealsEarningValueCard.refetch()}},apollo:{wonDealsEarningValueCard:{query:S["U"],fetchPolicy:"no-cache",client:"charts",variables:function(){return{filters:this.filters}},skip:function(){return""===this.dateStart||""===this.dateEnd||!this.pipelineFilter.id||0===this.ownersFilter.length},loadingKey:"isLoading"}}},A=F,B=Object(v["a"])(A,l,d,!1,null,"09f549f4",null),_=B.exports,w=i("8b70"),O=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalFilters",{attrs:{isOpen:e.isOpenModalFilter,isIcon:e.isIcon},on:{save:e.saveFilter,statusModal:e.statusModal}},[i("v-row",[i("v-col",{attrs:{cols:"12"}},[i("Select",{attrs:{name:"Filtrar por",list:e.listFilterBy,defaultSelect:e.defaultFilter.filterBy},on:{change:e.changeFilterBy}})],1),i("v-col",{attrs:{cols:"12"}},[i("SelectUsers",{attrs:{all:"",defaultSelect:e.defaultFilter.users},on:{change:e.changeUsers}})],1),i("v-col",{attrs:{cols:"12"}},[i("SelectPipeline",{attrs:{defaultSelect:e.defaultFilter.pipeline},on:{change:e.changePipeline}})],1),i("v-col",{attrs:{cols:"12"}},[i("PeriodPredefined",{attrs:{defaultSelect:e.defaultFilter.periodPredefined},on:{change:e.changePeriodPredefined}})],1),e.isPreview?e._e():i("v-col",{attrs:{cols:"12"}},[i("ComparePeriod",{attrs:{periodPredefined:e.filters.periodPredefined[0]},on:{change:e.changeComparePeriod}})],1)],1)],1)},E=[],D=i("5530"),x=i("740f"),M=i("d344"),I=i("6321"),k=i("c065"),H={name:"CardWonDealsEarningValueFilter",components:{SelectUsers:x["a"],SelectPipeline:I["a"],Select:M["a"]},mixins:[P["b"]],props:{defaultFilter:{type:Object,default:function(){return{filterBy:"count",filterTime:"WEEKS",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{id:""}}}},isIcon:{type:Boolean,default:!1},isPreview:{type:Boolean,default:!1}},data:function(){return{listTime:k["d"],listFilterBy:k["e"],filters:{filterBy:"count",filterTime:"WEEKS",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{id:""}}}},methods:{changeComparePeriod:function(e){var t=e.isCompare,i=e.periodCompare,r=e.ownerCompare;if(t){if(r&&r.id&&(this.filters.ownerToCompare.id=r.id,this.filters.periodRangeToCompare.period="",this.filters.periodRangeToCompare.start="",this.filters.periodRangeToCompare.end=""),i){if(this.filters.periodRangeToCompare.period=i.periodSelected,i.periodRange.length>0){var a=Object(s["a"])(i.periodRange,2);this.filters.periodRangeToCompare.start=a[0],this.filters.periodRangeToCompare.end=a[1]}this.filters.ownerToCompare.id=""}}else this.filters.periodRangeToCompare.period="",this.filters.periodRangeToCompare.start="",this.filters.periodRangeToCompare.end="",this.filters.ownerToCompare.id=""},saveFilter:function(){this.changeChart({id:"card-wonDealsEarningValue",filtersFull:Object(D["a"])(Object(D["a"])({},this.noReactive(this.filters)),{},{periodRange:Object(D["a"])({__typename:"PeriodRange"},this.filters.periodRange),ownerToCompare:Object(D["a"])({__typename:"OwnerToCompare"},this.filters.ownerToCompare)})}),this.isOpenModalFilter=!1}}},V=H,j=Object(v["a"])(V,O,E,!1,null,"eb3b1ee2",null),L=j.exports;m()(j,{VCol:C["a"],VRow:T["a"]});var W={name:"CardWonDealsEarningValueModal",components:{CardWonDealsEarningValueData:_,TableDeals:w["a"],CardWonDealsEarningValueFilter:L},mixins:[P["c"]],props:{isOpen:{type:Boolean,default:!1},title:{type:String,default:"Sin título"},titleRegular:{type:String,default:""},filters:{type:Object,default:function(){return{filtersConfig:{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{id:""}},filtersTable:{users:[],pipelines:[],periodRange:{start:"",end:""},dealStatus:""}}}}}},N=W,G=Object(v["a"])(N,n,o,!1,null,"12f5b106",null),U=G.exports,$={name:"CardWonDealsEarningValuePreview",components:{CardWonDealsEarningValueData:_,CardWonDealsEarningValueModal:U,CardWonDealsEarningValueFilter:L},mixins:[P["d"]],props:{defaultPeriod:{type:String,default:"THIS_MONTH"}},data:function(){return{chartId:"card-wonDealsEarningValue",title:"Tratos",titleRegular:"ganados",isOpenModal:!1,filtersChartsDefault:{},initFilter:{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{id:""},dealStatus:"WON"}}},computed:{filtersConfig:function(){var e,t,i,r,a,s,n;return{filterBy:(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.filterBy)||this.initFilter.filterBy,users:this.usersGlobal||(null===(t=this.chart.filtersFull)||void 0===t?void 0:t.users)||this.initUsers,pipeline:(null===(i=this.chart.filtersFull)||void 0===i?void 0:i.pipeline)||this.initPipeline,periodRange:this.periodRangeGlobal||(null===(r=this.chart.filtersFull)||void 0===r?void 0:r.periodRange)||this.periodRange,periodPredefined:this.periodPredefinedGlobal||(null===(a=this.chart.filtersFull)||void 0===a?void 0:a.periodPredefined)||[this.defaultPeriod]||this.initFilter.periodPredefined,periodRangeToCompare:(null===(s=this.chart.filtersFull)||void 0===s?void 0:s.periodRangeToCompare)||this.initFilter.periodRangeToCompare,ownerToCompare:(null===(n=this.chart.filtersFull)||void 0===n?void 0:n.ownerToCompare)||this.initFilter.ownerToCompare}},filtersTable:function(){var e,t=this.getPeriod(this.initFilter.periodPredefined[0]).get(),i=Object(s["a"])(t,2),r=i[0],a=i[1];return{users:this.usersGlobal||this.users||this.initUsers,pipelines:this.pipelines||this.filtersChartsDefault.pipelines,periodRange:this.periodRangeGlobal||(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.periodRange)||{start:r,end:a},dealStatus:this.initFilter.dealStatus}}}},z=$,Y=(i("210b"),Object(v["a"])(z,r,a,!1,null,"154cbd7d",null));t["a"]=Y.exports},7695:function(e,t,i){"use strict";i("e5d2")},"79b6":function(e,t,i){"use strict";var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseCardChart",{attrs:{title:e.title,titleRegular:e.titleRegular,settings:e.filtersConfig,isChart:""},on:{updateRefetch:function(t){e.isRefetch=!0}},scopedSlots:e._u([{key:"modal",fn:function(){return[i("BarExpiredActivitiesByStageFilter",{attrs:{defaultFilter:e.filtersConfig,isIcon:"",isPreview:""}})]},proxy:!0}])},[i("div",{staticClass:"hoverClick",on:{click:e.openModal}},[i("BarExpiredActivitiesByStageData",{attrs:{defaultFilter:e.filtersConfig,isPreview:"",isRefetch:e.isRefetch},on:{updateRefetch:function(t){e.isRefetch=!1}}})],1),i("BarExpiredActivitiesByStageModal",{attrs:{isOpen:e.isOpenModal,filters:{filtersConfig:e.filtersConfig,filtersTable:e.filtersTable},title:e.title,titleRegular:e.titleRegular},on:{close:e.closeModal}})],1)},a=[],s=i("3835"),n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalChart",{attrs:{title:e.title,titleRegular:e.titleRegular,isOpen:e.isOpen},on:{close:e.closeModal},scopedSlots:e._u([{key:"filters",fn:function(){return[i("BarExpiredActivitiesByStageFilter",{attrs:{defaultFilter:e.filters.filtersConfig}})]},proxy:!0},{key:"chart",fn:function(){return[i("BarExpiredActivitiesByStageData",{attrs:{defaultFilter:e.filters.filtersConfig,isFull:""}})]},proxy:!0},{key:"table",fn:function(){return[i("TableActivities",{attrs:{defaultFilter:e.filters.filtersTable}})]},proxy:!0}])})},o=[],l=i("52e2"),d=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalFilters",{attrs:{isOpen:e.isOpenModalFilter,isIcon:e.isIcon},on:{save:e.saveFilter,statusModal:e.statusModal}},[i("v-row",[i("v-col",{attrs:{cols:"12"}},[i("Select",{attrs:{name:"Estado de trato",defaultSelect:e.defaultFilter.dealsFilter,list:e.listStatusDeals},on:{change:e.changeStatusDeal}})],1),i("v-col",{attrs:{cols:"12"}},[i("SelectUsers",{attrs:{all:"",defaultSelect:e.defaultFilter.users},on:{change:e.changeUsers}})],1),i("v-col",{attrs:{cols:"12"}},[i("SelectPipeline",{attrs:{defaultSelect:e.defaultFilter.pipeline},on:{change:e.changePipeline}})],1),i("v-col",{attrs:{cols:"12"}},[i("PeriodPredefined",{attrs:{defaultSelect:e.defaultFilter.periodPredefined},on:{change:e.changePeriodPredefined}})],1),e.isPreview?e._e():i("v-col",{attrs:{cols:"12"}},[i("ComparePeriodBars",{attrs:{periodPredefined:e.filters.periodPredefined[0]},on:{change:e.changeComparePeriod}})],1)],1)],1)},c=[],p=i("5530"),f=i("740f"),u=i("d344"),v=i("6321"),h=i("c065"),m={name:"BarExpiredActivitiesByStageFilter",components:{SelectUsers:f["a"],SelectPipeline:v["a"],Select:u["a"]},mixins:[l["b"]],props:{defaultFilter:{type:Object,default:function(){return{dealsFilter:"ALL",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{},typeCompare:"none"}}}},data:function(){return{listStatusActivities:h["b"],listStatusDeals:h["c"],filters:{dealsFilter:"ALL",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{},typeCompare:"none"}}},methods:{saveFilter:function(){this.changeChart({id:"bar-expiredActivitiesByStage",filtersFull:Object(p["a"])(Object(p["a"])({},this.noReactive(this.filters)),{},{periodRange:Object(p["a"])({__typename:"PeriodRange"},this.filters.periodRange),ownerToCompare:Object(p["a"])({},this.filters.ownerToCompare)})}),this.isOpenModalFilter=!1}}},g=m,C=i("0c7c"),y=i("6544"),T=i.n(y),R=i("62ad"),b=i("0fd9"),S=Object(C["a"])(g,d,c,!1,null,"09b9a22b",null),P=S.exports;T()(S,{VCol:R["a"],VRow:b["a"]});var F=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.isPreview?e._e():i("ListFilters",{attrs:{settings:e.settings}}),i("div",{staticClass:"text-center bgWhite",class:[{"py-5 px-3":!e.isPreview},{showScroll:e.isWithScroll}]},[i("apexchart",{attrs:{height:e.isPreview?250:350,type:"bar",options:e.options,series:e.series}}),e.isPreview||"date"!==e.settings.typeCompare?e._e():i("h4",[e._v(" Comparación de fecha ")]),e.isPreview||"user"!==e.settings.typeCompare?e._e():i("h4",[e._v(" Comparación con otro usuario ")]),e.isPreview||"none"===e.settings.typeCompare?e._e():i("apexchart",{attrs:{height:e.isPreview?250:350,type:"bar",options:e.optionsCompare,series:e.seriesCompare}})],1),e.isPreview?e._e():i("BarExpiredActivitiesByStageInformation",{attrs:{information:e.expiredActivitiesByStageHorizontalBarsAndTable.informationBar,filterBy:e.settings.filterBy}})],1)},A=[],B=(i("b680"),i("d81d"),i("8d7e")),_=i("b3b3"),w=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-card",{staticClass:"mt-5",attrs:{flat:""}},[i("v-container",[i("v-row",[i("v-col",{attrs:{cols:"3"}},[i("span",{staticClass:"d-block"},[i("b",[e._v("Actividades reagendadas:")]),e._v(" "+e._s(e.information.periodsActivities&&e.information.periodsActivities.bookedActivities)+" ")]),i("span",{staticClass:"d-block"},[i("b",[e._v("Activitiades completadas:")]),e._v(" "+e._s(e.information.periodsActivities&&e.information.periodsActivities.completedActivities)+" ")]),i("span",{staticClass:"d-block"},[i("b",[e._v("Actividades cumplidas:")]),e._v(" "+e._s(e.information.periodsActivities&&e.information.periodsActivities.compliedActivities)+" ")])]),i("v-col",{attrs:{cols:"3"}},[i("span",{staticClass:"d-block"},[i("b",[e._v("Actividades efectivas:")]),e._v(" "+e._s(e.information.periodsActivities&&e.information.periodsActivities.effectiveActivities)+" ")]),i("span",{staticClass:"d-block"},[i("b",[e._v("Actividades vencidas:")]),e._v(" "+e._s(e.information.periodsActivities&&e.information.periodsActivities.expiredActivities)+" ")]),i("span",{staticClass:"d-block"},[i("b",[e._v("Actividades inefectivas:")]),e._v(" "+e._s(e.information.periodsActivities&&e.information.periodsActivities.ineffectiveActivities)+" ")])]),i("v-col",{attrs:{cols:"3"}},[i("span",{staticClass:"d-block"},[i("b",[e._v("Actividades reagendadas anterior:")]),e._v(" "+e._s(e.information.pastPeriodsActivities&&e.information.pastPeriodsActivities.bookedActivities)+" ")]),i("span",{staticClass:"d-block"},[i("b",[e._v("Activitiades completadas anterior:")]),e._v(" "+e._s(e.information.pastPeriodsActivities&&e.information.pastPeriodsActivities.completedActivities)+" ")]),i("span",{staticClass:"d-block"},[i("b",[e._v("Actividades cumplidas anterior:")]),e._v(" "+e._s(e.information.pastPeriodsActivities&&e.information.pastPeriodsActivities.compliedActivities)+" ")])]),i("v-col",{attrs:{cols:"3"}},[i("span",{staticClass:"d-block"},[i("b",[e._v("Actividades efectivas anterior:")]),e._v(" "+e._s(e.information.pastPeriodsActivities&&e.information.pastPeriodsActivities.effectiveActivities)+" ")]),i("span",{staticClass:"d-block"},[i("b",[e._v("Actividades vencidas anterior:")]),e._v(" "+e._s(e.information.pastPeriodsActivities&&e.information.pastPeriodsActivities.expiredActivities)+" ")]),i("span",{staticClass:"d-block"},[i("b",[e._v("Actividades inefectivas anterior:")]),e._v(" "+e._s(e.information.pastPeriodsActivities&&e.information.pastPeriodsActivities.ineffectiveActivities)+" ")])])],1)],1)],1)},O=[],E={name:"BarExpiredActivitiesByStageInformation",props:{information:{type:Object,default:function(){return{}}},filterBy:{type:String,default:"count"}}},D=E,x=i("b0af"),M=i("a523"),I=Object(C["a"])(D,w,O,!1,null,null,null),k=I.exports;T()(I,{VCard:x["a"],VCol:R["a"],VContainer:M["a"],VRow:b["a"]});var H={name:"BarExpiredActivitiesByStageData",mixins:[l["a"]],components:{BarExpiredActivitiesByStageInformation:k},props:{defaultFilter:{type:Object,default:function(){return{dealsFilter:"ALL",activitiesFilter:"ALL",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],typeCompare:"none"}}}},data:function(){return{listFilterBy:h["e"],expiredActivitiesByStageHorizontalBarsAndTable:{mainExpiredActivitiesByStage:[],secondExpiredActivitiesByStage:[]},modalSettings:{dealsFilter:"ALL",activitiesFilter:"ALL",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],typeCompare:"none"},settings:{dealsFilter:"ALL",activitiesFilter:"ALL",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],typeCompare:"none"}}},computed:{options:function(){return this.formatOptions(this.expiredActivitiesByStageHorizontalBarsAndTable.stages)},optionsCompare:function(){return this.formatOptions(this.expiredActivitiesByStageHorizontalBarsAndTable.stages)},series:function(){return this.formatSeries(this.expiredActivitiesByStageHorizontalBarsAndTable.mainExpiredActivitiesByStage)},seriesCompare:function(){return this.formatSeries(this.expiredActivitiesByStageHorizontalBarsAndTable.secondExpiredActivitiesByStage)},showTitleXaxis:function(){if(!this.isPreview)return"Total"},showTitleYaxis:function(){if(!this.isPreview)return"Etapas"},isWithScroll:function(){return this.isLargeWidth&&this.isPreview},filters:function(){var e={dateRange:{dateStart:this.dateStart,dateEnd:this.dateEnd},owners:this.ownersFilter,pipeline:this.pipelineFilter,dealsFilter:this.settings.dealsFilter};return this.ownerToCompare&&(e.ownerToCompare=this.ownerToCompare),this.dateRangeToCompare&&""!==this.dateRangeToCompare.dateStart&&""!==this.dateRangeToCompare.dateEnd&&(e.dateRangeToCompare=this.dateRangeToCompare),e}},methods:{formatOptions:function(e){return{chart:{type:"bar",height:this.isPreview?"250":"350",width:this.isWithScroll?"600":"100%",stacked:!0,toolbar:{show:!1},zoom:{enabled:!1}},plotOptions:{bar:{borderRadius:4,horizontal:!0}},colors:_["a"],dataLabels:{enabled:!0,style:{fontSize:"12px",fontWeight:"bold",colors:["#000"]},background:{enabled:!0,foreColor:"#fff"}},grid:{row:{colors:["#f3f3f3","transparent"],opacity:.5}},xaxis:{categories:e||[],title:{text:this.showTitleXaxis},tickAmount:1,labels:{formatter:function(e){return e.toFixed(0)}}},yaxis:{title:{text:this.showTitleYaxis}},tooltip:{y:{formatter:function(e){return e}}},legend:{position:"top",horizontalAlign:this.isPreview?"left":"center",showForSingleSeries:!0}}},formatSeries:function(e){return e&&e.length?e.map((function(e){var t=e.typeName,i=e.countList;return{name:t,data:i.map((function(e){return e.count}))}})):[]},update:function(){this.$apollo.queries.expiredActivitiesByStageHorizontalBarsAndTable.refetch()}},apollo:{expiredActivitiesByStageHorizontalBarsAndTable:{query:B["n"],fetchPolicy:"no-cache",client:"charts",variables:function(){return{filters:this.filters}},skip:function(){return""===this.dateStart||""===this.dateEnd||!this.pipelineFilter.id||0===this.ownersFilter.length},watchLoading:function(e){this.isLoading=e}}}},V=H,j=(i("2456"),Object(C["a"])(V,F,A,!1,null,"1037f6d1",null)),L=j.exports,W=i("157d"),N={name:"BarExpiredActivitiesByStageModal",components:{BarExpiredActivitiesByStageFilter:P,BarExpiredActivitiesByStageData:L,TableActivities:W["a"]},mixins:[l["c"]],props:{filters:{type:Object,default:function(){return{filtersConfig:{dealsFilter:"ALL",activitiesFilter:"ALL",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{},typeCompare:"none"},filtersTable:{users:[],pipelines:[],periodRange:{start:"",end:""},dealStatus:"",stages:[],activityTypes:[],fromReportStatus:"ACTIVITIESBYSTAGE"}}}}}},G=N,U=Object(C["a"])(G,n,o,!1,null,"71d32399",null),$=U.exports,z={name:"BarExpiredActivitiesByStagePreview",components:{BarExpiredActivitiesByStageData:L,BarExpiredActivitiesByStageModal:$,BarExpiredActivitiesByStageFilter:P},mixins:[l["d"]],props:{defaultPeriod:{type:String,default:"THIS_MONTH"}},data:function(){return{chartId:"bar-expiredActivitiesByStage",title:"Actividades",titleRegular:"vencidas",filtersChartsDefault:{},initFilter:{dealsFilter:"ALL",activitiesFilter:"EXPIRED",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{},typeCompare:"none",stages:[],activityTypes:[],fromReportStatus:"ACTIVITIESBYSTAGE"}}},computed:{filtersConfig:function(){var e,t,i,r,a,s,n,o,l;return{dealsFilter:(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.dealsFilter)||this.initFilter.dealsFilter,activitiesFilter:(null===(t=this.chart.filtersFull)||void 0===t?void 0:t.activitiesFilter)||this.initFilter.activitiesFilter,users:this.usersGlobal||(null===(i=this.chart.filtersFull)||void 0===i?void 0:i.users)||this.initUsers,pipeline:(null===(r=this.chart.filtersFull)||void 0===r?void 0:r.pipeline)||this.initPipeline,periodRange:this.periodRangeGlobal||(null===(a=this.chart.filtersFull)||void 0===a?void 0:a.periodRange)||this.periodRange,periodPredefined:this.periodPredefinedGlobal||(null===(s=this.chart.filtersFull)||void 0===s?void 0:s.periodPredefined)||[this.defaultPeriod]||this.initFilter.periodPredefined,periodRangeToCompare:(null===(n=this.chart.filtersFull)||void 0===n?void 0:n.periodRangeToCompare)||this.initFilter.periodRangeToCompare,ownerToCompare:(null===(o=this.chart.filtersFull)||void 0===o?void 0:o.ownerToCompare)||this.initFilter.ownerToCompare,typeCompare:(null===(l=this.chart.filtersFull)||void 0===l?void 0:l.typeCompare)||this.initFilter.typeCompare}},filtersTable:function(){var e,t=this.getPeriod(this.initFilter.periodPredefined[0]).get(),i=Object(s["a"])(t,2),r=i[0],a=i[1];return{users:this.usersGlobal||this.users||this.initUsers,pipelines:this.pipelines||[this.initPipeline],periodRange:this.periodRangeGlobal||(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.periodRange)||{start:r,end:a},dealStatus:this.initFilter.dealsFilter,activitiesStatus:this.initFilter.activitiesFilter,activityTypes:this.filtersChartsDefault.activityTypes||this.initFilter.activityTypes,fromReportStatus:this.initFilter.fromReportStatus}}}},Y=z,q=(i("6748"),Object(C["a"])(Y,r,a,!1,null,"3905abf7",null));t["a"]=q.exports},8120:function(e,t,i){"use strict";i("a36a")},"8a6c":function(e,t,i){"use strict";i.r(t);var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-row",[i("v-col",{attrs:{cols:"4"}},[i("BarActivitiesByWeekPreview",{attrs:{defaultPeriod:"THIS_WEEK",filtersGlobal:e.filtersChartsGlobal}})],1),i("v-col",{attrs:{cols:"4"}},[i("CardCompletedActivitiesPreview",{attrs:{defaultPeriod:e.defaultPeriod,filtersGlobal:e.filtersChartsGlobal}})],1),i("v-col",{attrs:{cols:"4"}},[i("CardEffectiveActivitiesPreview",{attrs:{defaultPeriod:e.defaultPeriod,filtersGlobal:e.filtersChartsGlobal}})],1),i("v-col",{attrs:{cols:"4"}},[i("BarActivityTypeByStagePreview",{attrs:{defaultPeriod:e.defaultPeriod,filtersGlobal:e.filtersChartsGlobal}})],1),i("v-col",{attrs:{cols:"4"}},[i("BarUncompletedActivitiesByStagePreview",{attrs:{defaultPeriod:e.defaultPeriod,filtersGlobal:e.filtersChartsGlobal}})],1),i("v-col",{attrs:{cols:"4"}},[i("BarExpiredActivitiesByStagePreview",{attrs:{defaultPeriod:e.defaultPeriod,filtersGlobal:e.filtersChartsGlobal}})],1),i("v-col",{attrs:{cols:"4"}},[i("CardNewDealsPreview",{attrs:{defaultPeriod:e.defaultPeriod,filtersGlobal:e.filtersChartsGlobal}})],1),i("v-col",{attrs:{cols:"4"}},[i("CardWonDealsEarningValuePreview",{attrs:{defaultPeriod:e.defaultPeriod,filtersGlobal:e.filtersChartsGlobal}})],1),i("v-col",{attrs:{cols:"4"}},[i("CardAdvancedDealsPreview",{attrs:{defaultPeriod:e.defaultPeriod,filtersGlobal:e.filtersChartsGlobal}})],1),i("v-col",{attrs:{cols:"4"}},[i("BarWonDealsEarningValuePreview",{attrs:{defaultPeriod:e.defaultPeriod,filtersGlobal:e.filtersChartsGlobal}})],1),i("v-col",{attrs:{cols:"4"}},[i("BarStageConvertionRatePreview",{attrs:{defaultPeriod:e.defaultPeriod,filtersGlobal:e.filtersChartsGlobal}})],1),i("v-col",{attrs:{cols:"4"}},[i("BarSalesCycleByStagePreview",{attrs:{defaultPeriod:e.defaultPeriod,filtersGlobal:e.filtersChartsGlobal}})],1)],1)},a=[],s=i("0b15"),n=i("a635"),o=i("ea8d"),l=i("c953"),d=i("7561"),c=i("cad0"),p=i("a54b"),f=i("0d2b"),u=i("c1e3"),v=i("2038"),h=i("fca4"),m=i("79b6"),g=i("8cb4"),C={name:"DashboardWeekly",components:{CardCompletedActivitiesPreview:n["a"],CardEffectiveActivitiesPreview:o["a"],CardNewDealsPreview:l["a"],CardWonDealsEarningValuePreview:d["a"],CardAdvancedDealsPreview:c["a"],BarActivitiesByWeekPreview:p["a"],BarActivityTypeByStagePreview:f["a"],BarWonDealsEarningValuePreview:u["a"],BarStageConvertionRatePreview:v["a"],BarUncompletedActivitiesByStagePreview:h["a"],BarExpiredActivitiesByStagePreview:m["a"],BarSalesCycleByStagePreview:g["a"]},mixins:[s["a"]],data:function(){return{defaultPeriod:"THIS_WEEK"}}},y=C,T=(i("0575"),i("0c7c")),R=i("6544"),b=i.n(R),S=i("62ad"),P=i("0fd9"),F=Object(T["a"])(y,r,a,!1,null,"ddbe5958",null);t["default"]=F.exports;b()(F,{VCol:S["a"],VRow:P["a"]})},"8e7f":function(e,t,i){},"92f9":function(e,t,i){"use strict";i("a44e")},a36a:function(e,t,i){},a44e:function(e,t,i){},a54b:function(e,t,i){"use strict";var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseCardChart",{attrs:{title:e.title,titleRegular:e.titleRegular,settings:e.filtersConfig,isChart:""},on:{updateRefetch:function(t){e.isRefetch=!0}},scopedSlots:e._u([{key:"modal",fn:function(){return[i("BarActivitiesByWeekFilter",{attrs:{defaultFilter:e.filtersConfig,isIcon:"",isPreview:""}})]},proxy:!0}])},[i("div",{staticClass:"hoverClick",on:{click:e.openModal}},[i("BarActivitiesByWeekData",{attrs:{defaultFilter:e.filtersConfig,isPreview:"",isRefetch:e.isRefetch},on:{updateRefetch:function(t){e.isRefetch=!1}}})],1),i("BarActivitiesByWeekModal",{attrs:{isOpen:e.isOpenModal,filters:{filtersConfig:e.filtersConfig,filtersTable:e.filtersTable},title:e.title,titleRegular:e.titleRegular},on:{close:e.closeModal}})],1)},a=[],s=i("3835"),n=(i("d81d"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalFilters",{attrs:{isOpen:e.isOpenModalFilter,isIcon:e.isIcon},on:{save:e.saveFilter,statusModal:e.statusModal}},[i("v-row",[i("v-col",{attrs:{cols:"12"}},[i("SelectActivities",{attrs:{all:"",defaultSelect:e.defaultFilter.activityTypes},on:{change:e.changeActivityTypes}})],1),i("v-col",{attrs:{cols:"12"}},[i("Select",{attrs:{name:"Estado de la actividad",defaultSelect:e.defaultFilter.activityFilter,list:e.listStatusActivities},on:{change:e.changeStatusActivity}})],1),i("v-col",{attrs:{cols:"12"}},[i("SelectUsers",{attrs:{all:"",defaultSelect:e.defaultFilter.users},on:{change:e.changeUsers}})],1),i("v-col",{attrs:{cols:"12"}},[i("SelectPipeline",{attrs:{defaultSelect:e.defaultFilter.pipeline},on:{change:e.changePipeline}})],1),i("v-col",{attrs:{cols:"12"}},[i("PeriodPredefined",{attrs:{defaultSelect:e.defaultFilter.periodPredefined},on:{change:e.changePeriodPredefined}})],1),e.isPreview?e._e():i("v-col",{attrs:{cols:"12"}},[i("ComparePeriodBars",{attrs:{periodPredefined:e.filters.periodPredefined[0]},on:{change:e.changeComparePeriod}})],1)],1)],1)}),o=[],l=i("5530"),d=i("740f"),c=i("d344"),p=i("6321"),f=i("c065"),u=i("19c4"),v=i("52e2"),h={name:"BarActivitiesByWeekFilter",components:{SelectUsers:d["a"],SelectPipeline:p["a"],Select:c["a"],SelectActivities:u["a"]},mixins:[v["b"]],props:{defaultFilter:{type:Object,default:function(){return{activityTypes:[],activityFilter:"ALL",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{},typeCompare:"none"}}}},data:function(){return{listStatusActivities:f["b"],listStatusDeals:f["c"],filters:{activityTypes:[],activityFilter:"ALL",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{},typeCompare:"none"}}},methods:{saveFilter:function(){this.changeChart({id:"bar-activitiesByWeek",filtersFull:Object(l["a"])(Object(l["a"])({},this.noReactive(this.filters)),{},{periodRange:Object(l["a"])({__typename:"PeriodRange"},this.filters.periodRange),ownerToCompare:Object(l["a"])({},this.filters.ownerToCompare)})}),this.isOpenModalFilter=!1}}},m=h,g=i("0c7c"),C=i("6544"),y=i.n(C),T=i("62ad"),R=i("0fd9"),b=Object(g["a"])(m,n,o,!1,null,"f461efe0",null),S=b.exports;y()(b,{VCol:T["a"],VRow:R["a"]});var P=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.isPreview?e._e():i("ListFilters",{attrs:{settings:e.settings}}),i("div",{staticClass:"text-center bgWhite",class:[{"py-5 px-3":!e.isPreview},{showScroll:e.isWithScroll}]},[i("apexchart",{attrs:{height:e.isPreview?250:350,type:"bar",options:e.options,series:e.series}}),e.isPreview||"date"!==e.settings.typeCompare?e._e():i("h4",[e._v(" Comparación de fecha ")]),e.isPreview||"user"!==e.settings.typeCompare?e._e():i("h4",[e._v(" Comparación con otro usuario ")]),e.isPreview||"none"===e.settings.typeCompare?e._e():i("apexchart",{attrs:{height:e.isPreview?250:350,type:"bar",options:e.optionsCompare,series:e.seriesCompare}})],1),e.isPreview?e._e():i("BarActivitiesByWeekInformation",{attrs:{information:e.activitiesByWeekVerticalBarsGraph.informationBar,filterBy:e.settings.filterBy}})],1)},F=[],A=(i("b680"),i("8d7e")),B=i("b3b3"),_=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-card",{staticClass:"mt-5",attrs:{flat:""}},[i("v-container",[i("v-row",{staticClass:"justify-center"},[i("v-col",{attrs:{cols:"3"}},[i("span",[i("b",[e._v("Actividades reagendadas:")]),e._v(" "+e._s(e.information.bookedActivities&&e.information.bookedActivities.count)+" ")])]),i("v-col",{attrs:{cols:"3"}},[i("b",[e._v("Actividades completadas:")]),e._v(" "+e._s(e.information.completedActivities&&e.information.completedActivities.count)+" ")]),i("v-col",{attrs:{cols:"3"}},[i("b",[e._v("Actividades efectivas:")]),e._v(" "+e._s(e.information.effectiveActivities&&e.information.effectiveActivities.count)+" ")]),i("v-col",{attrs:{cols:"3"}},[i("b",[e._v("Actividades inefectivas:")]),e._v(" "+e._s(e.information.ineffectiveActivities&&e.information.ineffectiveActivities.count)+" ")])],1)],1)],1)},w=[],O={name:"BarActivitiesByWeekInformation",props:{information:{type:Object,default:function(){return{}}},filterBy:{type:String,default:"count"}}},E=O,D=i("b0af"),x=i("a523"),M=Object(g["a"])(E,_,w,!1,null,null,null),I=M.exports;y()(M,{VCard:D["a"],VCol:T["a"],VContainer:x["a"],VRow:R["a"]});var k={name:"BarActivitiesByWeekData",mixins:[v["a"]],components:{BarActivitiesByWeekInformation:I},props:{defaultFilter:{type:Object,default:function(){return{activityTypes:[],activityFilter:"ALL",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],typeCompare:"none"}}}},data:function(){return{listFilterBy:f["e"],activitiesByWeekVerticalBarsGraph:{mainActivitiesByWeek:[],secondActivitiesByWeek:[]},modalSettings:{activityTypes:[],activityFilter:"ALL",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],typeCompare:"none"},settings:{activityTypes:[],activityFilter:"ALL",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],typeCompare:"none"}}},computed:{options:function(){return this.formatOptions(this.activitiesByWeekVerticalBarsGraph.mainActivitiesByWeek.datesStringList)},optionsCompare:function(){var e,t;return null!==(e=this.activitiesByWeekVerticalBarsGraph)&&void 0!==e&&null!==(t=e.secondActivitiesByWeek)&&void 0!==t&&t.datesStringList?this.formatOptions(this.activitiesByWeekVerticalBarsGraph.secondActivitiesByWeek.datesStringList):{}},series:function(){return this.formatSeries(this.activitiesByWeekVerticalBarsGraph.mainActivitiesByWeek.activitiesByWeek)},seriesCompare:function(){var e,t;return null!==(e=this.activitiesByWeekVerticalBarsGraph)&&void 0!==e&&null!==(t=e.secondActivitiesByWeek)&&void 0!==t&&t.activitiesByWeek?this.formatSeries(this.activitiesByWeekVerticalBarsGraph.secondActivitiesByWeek.activitiesByWeek,"date"===this.settings.typeCompare):[]},showTitleXaxis:function(){if(!this.isPreview)return"Total"},showTitleYaxis:function(){if(!this.isPreview)return"Etapas"},isWithScroll:function(){return this.isLargeWidth&&this.isPreview},filters:function(){var e={dateRange:{dateStart:this.dateStart,dateEnd:this.dateEnd},owners:this.ownersFilter,pipeline:this.pipelineFilter,activityTypes:this.settings.activityTypes.map((function(e){return{id:e.id}})),activityFilter:this.settings.activityFilter};return this.ownerToCompare&&(e.ownerToCompare=this.ownerToCompare),this.dateRangeToCompare&&""!==this.dateRangeToCompare.dateStart&&""!==this.dateRangeToCompare.dateEnd&&(e.dateRangeToCompare=this.dateRangeToCompare),e}},methods:{formatOptions:function(e){return{chart:{type:"bar",height:this.isPreview?"250":"350",width:this.isWithScroll?"600":"100%",toolbar:{show:!1},zoom:{enabled:!1}},colors:B["a"],dataLabels:{enabled:!1},xaxis:{categories:e||[]},yaxis:{tickAmount:1,labels:{formatter:function(e){return e.toFixed(0)}}},legend:{position:"top",horizontalAlign:this.isPreview?"left":"center",showForSingleSeries:!0}}},formatSeries:function(e,t){return e?e.map((function(e){return{name:t?"".concat(e.typeName," anterior"):e.typeName,data:e.countList.map((function(e){var t=e.count;return t}))}})):[]},update:function(){this.$apollo.queries.activitiesByWeekVerticalBarsGraph.refetch()}},apollo:{activitiesByWeekVerticalBarsGraph:{query:A["b"],fetchPolicy:"no-cache",client:"charts",variables:function(){return{filters:this.filters}},skip:function(){return""===this.dateStart||""===this.dateEnd||!this.pipelineFilter.id||0===this.ownersFilter.length||0===this.filters.activityTypes.length},watchLoading:function(e){this.isLoading=e}}}},H=k,V=(i("92f9"),Object(g["a"])(H,P,F,!1,null,"8fa6787c",null)),j=V.exports,L=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalChart",{attrs:{title:e.title,titleRegular:e.titleRegular,isOpen:e.isOpen},on:{close:e.closeModal},scopedSlots:e._u([{key:"filters",fn:function(){return[i("BarActivitiesByWeekFilter",{attrs:{defaultFilter:e.filters.filtersConfig}})]},proxy:!0},{key:"chart",fn:function(){return[i("BarActivitiesByWeekData",{attrs:{defaultFilter:e.filters.filtersConfig,isFull:""}})]},proxy:!0},{key:"table",fn:function(){return[i("TableActivities",{attrs:{defaultFilter:e.filters.filtersTable}})]},proxy:!0}])})},W=[],N=i("157d"),G={name:"BarActivitiesByWeekModal",components:{BarActivitiesByWeekFilter:S,BarActivitiesByWeekData:j,TableActivities:N["a"]},mixins:[v["c"]],props:{filters:{type:Object,default:function(){return{filtersConfig:{activityTypes:[],activityFilter:"ALL",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{},typeCompare:"none"},filtersTable:{users:[],pipelines:[],periodRange:{start:"",end:""},dealStatus:"",stages:[],activityTypes:[],fromReportStatus:"ACTIVITIESBYWEEK"}}}}}},U=G,$=Object(g["a"])(U,L,W,!1,null,"e903ff46",null),z=$.exports,Y={name:"BarActivitiesByWeekPreview",components:{BarActivitiesByWeekData:j,BarActivitiesByWeekModal:z,BarActivitiesByWeekFilter:S},mixins:[v["d"]],props:{defaultPeriod:{type:String,default:"THIS_MONTH"}},data:function(){return{chartId:"bar-activitiesByWeek",title:"Actividades",titleRegular:"por semana",filtersChartsDefault:{},initFilter:{dealsFilter:"ALL",activitiesFilter:"ALL",activityTypes:[],activityFilter:"ALL",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{},dealStatus:"ALL",typeCompare:"none",stages:[],fromReportStatus:"ACTIVITIESBYWEEK"}}},computed:{filtersConfig:function(){var e,t,i,r,a,s,n,o,l;return{activityTypes:(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.activityTypes)||this.filtersChartsDefault.activityTypes.map((function(e){return{id:e.id}})),activityFilter:(null===(t=this.chart.filtersFull)||void 0===t?void 0:t.activityFilter)||this.initFilter.activityFilter,users:this.usersGlobal||(null===(i=this.chart.filtersFull)||void 0===i?void 0:i.users)||this.initUsers,pipeline:(null===(r=this.chart.filtersFull)||void 0===r?void 0:r.pipeline)||this.initPipeline,periodRange:this.periodRangeGlobal||(null===(a=this.chart.filtersFull)||void 0===a?void 0:a.periodRange)||this.periodRange,periodPredefined:this.periodPredefinedGlobal||(null===(s=this.chart.filtersFull)||void 0===s?void 0:s.periodPredefined)||[this.defaultPeriod]||this.initFilter.periodPredefined,periodRangeToCompare:(null===(n=this.chart.filtersFull)||void 0===n?void 0:n.periodRangeToCompare)||this.initFilter.periodRangeToCompare,ownerToCompare:(null===(o=this.chart.filtersFull)||void 0===o?void 0:o.ownerToCompare)||this.initFilter.ownerToCompare,typeCompare:(null===(l=this.chart.filtersFull)||void 0===l?void 0:l.typeCompare)||this.initFilter.typeCompare}},filtersTable:function(){var e,t=this.getPeriod(this.initFilter.periodPredefined[0]).get(),i=Object(s["a"])(t,2),r=i[0],a=i[1];return{users:this.usersGlobal||this.users||this.initUsers,pipelines:this.pipelines||[this.initPipeline],periodRange:this.periodRangeGlobal||(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.periodRange)||{start:r,end:a},dealStatus:this.initFilter.dealStatus,activitiesStatus:this.initFilter.activitiesFilter,activityTypes:this.filtersChartsDefault.activityTypes||this.initFilter.activityTypes,fromReportStatus:this.initFilter.fromReportStatus}}}},q=Y,K=(i("57cc"),Object(g["a"])(q,r,a,!1,null,"578794d6",null));t["a"]=K.exports},a635:function(e,t,i){"use strict";var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseCardChart",{attrs:{title:e.title,titleRegular:e.titleRegular,settings:e.filtersConfig},on:{updateRefetch:function(t){e.isRefetch=!0}},scopedSlots:e._u([{key:"modal",fn:function(){return[i("CardCompletedActivitiesFilter",{attrs:{defaultFilter:e.filtersConfig,isIcon:"",isPreview:""}})]},proxy:!0}])},[i("div",{staticClass:"hoverClick",on:{click:e.openModal}},[i("CardCompletedActivitiesData",{attrs:{defaultFilter:e.filtersConfig,isPreview:"",isRefetch:e.isRefetch},on:{updateRefetch:function(t){e.isRefetch=!1}}})],1),i("CardCompletedActivitiesModal",{attrs:{isOpen:e.isOpenModal,filters:{filtersConfig:e.filtersConfig,filtersTable:e.filtersTable},title:e.title,titleRegular:e.titleRegular},on:{close:e.closeModal}})],1)},a=[],s=i("3835"),n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalChart",{attrs:{title:e.title,titleRegular:e.titleRegular,isOpen:e.isOpen},on:{close:e.closeModal},scopedSlots:e._u([{key:"filters",fn:function(){return[i("CardCompletedActivitiesFilter",{attrs:{defaultFilter:e.filters.filtersConfig}})]},proxy:!0},{key:"chart",fn:function(){return[i("CardCompletedActivitiesData",{attrs:{defaultFilter:e.filters.filtersConfig}})]},proxy:!0},{key:"table",fn:function(){return[i("TableActivities",{attrs:{defaultFilter:e.filters.filtersTable}})]},proxy:!0}])})},o=[],l=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.isPreview?e._e():i("ListFilters",{attrs:{settings:e.settings}}),i("BaseCardNumber",{attrs:{information:{numberMain:""+e.generalConvertionRateFormat,textMain:e.textMain,valueMain:e.valueMain,textMainType:e.textChart,isCompare:!e.isPreview&&e.settings.periodRangeToCompare.period.length>0,numberCompare:""+e.generalConvertionRateCompare,textCompare:e.textCompare,valueCompare:e.valueCompare,numberDifferenceCompare:e.comparePercentage}}}),e.isPreview?e._e():i("CardCompletedActivitiesInformation",{attrs:{information:e.completedActivitiesCard.informationBar,filterBy:e.settings.filterBy}})],1)},d=[],c=(i("b680"),i("99af"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-card",{staticClass:"mt-5",attrs:{flat:""}},[i("v-container",[i("v-row",{staticClass:"justify-center"},[i("v-col",{attrs:{cols:"3"}},[e._l(e.information.usersCompletedActivities,(function(t,r){return[i("span",{key:r,staticClass:"d-block"},[i("b",[e._v(e._s(t.name))]),e._v(" : "+e._s(t[e.filterBy])+" ")])]}))],2),e._l(e.information.periodsCompletedActivities,(function(t,r){return[i("v-col",{key:r,attrs:{cols:"3"}},[i("span",{staticClass:"d-block"},[i("b",[e._v(e._s(e.rowOne[r]))]),e._v(" : "+e._s(t.count)+" ")])])]}))],2)],1)],1)}),p=[],f={name:"CardBookedActivitiesInDayInformation",props:{information:{type:Object,default:function(){return{}}},filterBy:{type:String,default:"count"}},data:function(){return{rowOne:["Este período","Período pasado","Mismo período el mes anterior"]}}},u=f,v=i("0c7c"),h=i("6544"),m=i.n(h),g=i("b0af"),C=i("62ad"),y=i("a523"),T=i("0fd9"),R=Object(v["a"])(u,c,p,!1,null,null,null),b=R.exports;m()(R,{VCard:g["a"],VCol:C["a"],VContainer:y["a"],VRow:T["a"]});var S=i("8d7e"),P=i("0db6"),F={name:"CardCompletedActivitiesData",mixins:[P["a"]],components:{CardCompletedActivitiesInformation:b},props:{defaultFilter:{type:Object,default:function(){return{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""}}}},isPreview:{type:Boolean,default:!1}},data:function(){return{completedActivitiesCard:{},modalSettings:{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:[],periodRangeToCompare:{period:"",start:"",end:""}},settings:{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:[],periodRangeToCompare:{period:"",start:"",end:""}}}},computed:{comparePercentage:function(){return"0"===this.generalConvertionRateCompare?"100":(100*this.generalConvertionRateFormat/this.generalConvertionRateCompare-100).toFixed(2)},generalConvertionRateFormat:function(){var e,t,i;return this.completedActivitiesCard&&void 0!==(null===(e=this.completedActivitiesCard)||void 0===e||null===(t=e.mainCompletedActivities)||void 0===t?void 0:t.count)&&(null===(i=this.completedActivitiesCard)||void 0===i?void 0:i.mainCompletedActivities.count)||"0"},generalConvertionRateCompare:function(){var e,t,i;return this.completedActivitiesCard&&void 0!==(null===(e=this.completedActivitiesCard)||void 0===e||null===(t=e.secondCompletedActivities)||void 0===t?void 0:t.count)&&(null===(i=this.completedActivitiesCard)||void 0===i?void 0:i.secondCompletedActivities.count)||"0"},textCompare:function(){return"PREVIOUS_PERIOD"===this.settings.periodRangeToCompare.period?this.settings.periodPredefined[3]:"PREVIOUS_YEAR"===this.settings.periodRangeToCompare.period?"Año anterior":"CUSTOM"===this.settings.periodRangeToCompare.period?"Personalizado":""},valueCompare:function(){return this.isPreview||"CUSTOM"!==this.settings.periodRangeToCompare.period?"":"".concat(this.formatDate(this.filters.dateRangeToCompare.dateStart)," - ").concat(this.formatDate(this.filters.dateRangeToCompare.dateEnd))},textMain:function(){return this.isPreview?"":this.settings.periodPredefined[2]},valueMain:function(){return!this.isPreview&&this.settings.periodPredefined.length>0&&"CUSTOM"===this.settings.periodPredefined[0]?"".concat(this.formatDate(this.filters.dateRange.dateStart)," - ").concat(this.formatDate(this.filters.dateRange.dateEnd)):""},filters:function(){var e={dateRange:{dateStart:this.dateStart,dateEnd:this.dateEnd},owners:this.ownersFilter,pipeline:this.pipelineFilter};return this.dateRangeToCompare&&""!==this.dateRangeToCompare.dateStart&&""!==this.dateRangeToCompare.dateEnd&&(e.dateRangeToCompare=this.dateRangeToCompare),e}},methods:{update:function(){this.$apollo.queries.completedActivitiesCard.refetch()}},apollo:{completedActivitiesCard:{query:S["j"],fetchPolicy:"no-cache",client:"charts",variables:function(){return{filters:this.filters}},skip:function(){return""===this.dateStart||""===this.dateEnd||!this.pipelineFilter.id||0===this.ownersFilter.length},loadingKey:"isLoading"}}},A=F,B=Object(v["a"])(A,l,d,!1,null,"dfa5718a",null),_=B.exports,w=i("157d"),O=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalFilters",{attrs:{isOpen:e.isOpenModalFilter,isIcon:e.isIcon},on:{save:e.saveFilter,statusModal:e.statusModal}},[i("v-row",[i("v-col",{attrs:{cols:"12"}},[i("SelectUsers",{attrs:{all:"",defaultSelect:e.defaultFilter.users},on:{change:e.changeUsers}})],1),i("v-col",{attrs:{cols:"12"}},[i("SelectPipeline",{attrs:{defaultSelect:e.defaultFilter.pipeline},on:{change:e.changePipeline}})],1),i("v-col",{attrs:{cols:"12"}},[i("PeriodPredefined",{attrs:{defaultSelect:e.defaultFilter.periodPredefined},on:{change:e.changePeriodPredefined}})],1),e.isPreview?e._e():i("v-col",{attrs:{cols:"12"}},[i("ComparePeriod",{attrs:{periodPredefined:e.filters.periodPredefined[0]},on:{change:e.changeComparePeriod}})],1)],1)],1)},E=[],D=i("5530"),x=i("740f"),M=i("6321"),I={name:"CardCompletedActivitiesFilter",components:{SelectUsers:x["a"],SelectPipeline:M["a"]},mixins:[P["b"]],props:{defaultFilter:{type:Object,default:function(){return{users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""}}}},isIcon:{type:Boolean,default:!1},isPreview:{type:Boolean,default:!1}},data:function(){return{filters:{users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""}}}},methods:{changeComparePeriod:function(e){var t=e.isCompare,i=e.periodCompare;if(t){if(i&&(this.filters.periodRangeToCompare.period=i.periodSelected,i.periodRange.length>0)){var r=Object(s["a"])(i.periodRange,2);this.filters.periodRangeToCompare.start=r[0],this.filters.periodRangeToCompare.end=r[1]}}else this.filters.periodRangeToCompare.period="",this.filters.periodRangeToCompare.start="",this.filters.periodRangeToCompare.end=""},saveFilter:function(){this.changeChart({id:"card-completedActivities",filtersFull:Object(D["a"])(Object(D["a"])({},this.noReactive(this.filters)),{},{periodRange:Object(D["a"])({__typename:"PeriodRange"},this.filters.periodRange)})}),this.isOpenModalFilter=!1}}},k=I,H=Object(v["a"])(k,O,E,!1,null,"762ff6ce",null),V=H.exports;m()(H,{VCol:C["a"],VRow:T["a"]});var j={name:"CardCompletedActivitiesModal",components:{CardCompletedActivitiesData:_,CardCompletedActivitiesFilter:V,TableActivities:w["a"]},mixins:[P["c"]],props:{isOpen:{type:Boolean,default:!1},title:{type:String,default:"Sin título"},titleRegular:{type:String,default:""},filters:{type:Object,default:function(){return{filtersConfig:{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""}},filtersTable:{users:[],pipelines:[],periodRange:{start:"",end:""},dealStatus:"",stages:[],activityTypes:[],fromReportStatus:"ACTIVITIESBYSTAGE"}}}}}},L=j,W=Object(v["a"])(L,n,o,!1,null,"7151618a",null),N=W.exports,G={name:"CardCompletedActivitiesPreview",components:{CardCompletedActivitiesData:_,CardCompletedActivitiesModal:N,CardCompletedActivitiesFilter:V},mixins:[P["d"]],props:{defaultPeriod:{type:String,default:"THIS_MONTH"}},data:function(){return{title:"Actividades",titleRegular:"completadas",isOpenModal:!1,chartId:"card-completedActivities",filtersChartsDefault:{},initFilter:{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""},activitiesFilter:"COMPLETED",activityTypes:[],fromReportStatus:"ACTIVITIES_CARD"}}},computed:{filtersConfig:function(){var e,t,i,r,a,s;return{filterBy:(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.filterBy)||this.initFilter.filterBy,users:this.usersGlobal||(null===(t=this.chart.filtersFull)||void 0===t?void 0:t.users)||this.initUsers,pipeline:(null===(i=this.chart.filtersFull)||void 0===i?void 0:i.pipeline)||this.initPipeline,periodRange:this.periodRangeGlobal||(null===(r=this.chart.filtersFull)||void 0===r?void 0:r.periodRange)||this.periodRange,periodPredefined:this.periodPredefinedGlobal||(null===(a=this.chart.filtersFull)||void 0===a?void 0:a.periodPredefined)||[this.defaultPeriod]||this.initFilter.periodPredefined,periodRangeToCompare:(null===(s=this.chart.filtersFull)||void 0===s?void 0:s.periodRangeToCompare)||this.initFilter.periodRangeToCompare}},filtersTable:function(){var e,t=this.getPeriod(this.initFilter.periodPredefined[0]).get(),i=Object(s["a"])(t,2),r=i[0],a=i[1];return{users:this.usersGlobal||this.users||this.initUsers,pipelines:this.pipelines||[this.initPipeline],periodRange:this.periodRangeGlobal||(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.periodRange)||{start:r,end:a},activitiesStatus:this.initFilter.activitiesFilter,activityTypes:this.filtersChartsDefault.activityTypes||this.initFilter.activityTypes,fromReportStatus:this.initFilter.fromReportStatus}}}},U=G,$=(i("a989"),Object(v["a"])(U,r,a,!1,null,"4972a1cc",null));t["a"]=$.exports},a989:function(e,t,i){"use strict";i("8e7f")},b2b6:function(e,t,i){"use strict";i("e808")},c1e3:function(e,t,i){"use strict";var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseCardChart",{attrs:{title:e.title,titleRegular:e.titleRegular,settings:e.filtersConfig,isChart:""},on:{updateRefetch:function(t){e.isRefetch=!0}},scopedSlots:e._u([{key:"modal",fn:function(){return[i("BarWonDealsEarningValueFilter",{attrs:{defaultFilter:e.filtersConfig,isIcon:"",isPreview:""}})]},proxy:!0}])},[i("div",{staticClass:"hoverClick",on:{click:e.openModal}},[i("BarWonDealsEarningValueData",{attrs:{defaultFilter:e.filtersConfig,isPreview:"",isRefetch:e.isRefetch},on:{updateRefetch:function(t){e.isRefetch=!1}}})],1),i("BarWonDealsEarningValueModal",{attrs:{isOpen:e.isOpenModal,filters:{filtersConfig:e.filtersConfig,filtersTable:e.filtersTable},title:e.title,titleRegular:e.titleRegular},on:{close:e.closeModal}})],1)},a=[],s=i("3835"),n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalChart",{attrs:{title:e.title,titleRegular:e.titleRegular,isOpen:e.isOpen},on:{close:e.closeModal},scopedSlots:e._u([{key:"filters",fn:function(){return[i("BarWonDealsEarningValueFilter",{attrs:{defaultFilter:e.filters.filtersConfig}})]},proxy:!0},{key:"chart",fn:function(){return[i("BarWonDealsEarningValueData",{attrs:{defaultFilter:e.filters.filtersConfig,isFull:""}})]},proxy:!0},{key:"table",fn:function(){return[i("TableDeals",{attrs:{defaultFilter:e.filters.filtersTable}})]},proxy:!0}])})},o=[],l=i("52e2"),d=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalFilters",{attrs:{isOpen:e.isOpenModalFilter,isIcon:e.isIcon},on:{save:e.saveFilter,statusModal:e.statusModal}},[i("v-row",[i("v-col",{attrs:{cols:"12"}},[i("Select",{attrs:{name:"Filtrar por",defaultSelect:e.defaultFilter.filterBy,list:e.listFilterBy},on:{change:e.changeFilterBy}})],1),i("v-col",{attrs:{cols:"12"}},[i("SelectUsers",{attrs:{all:"",defaultSelect:e.defaultFilter.users},on:{change:e.changeUsers}})],1),i("v-col",{attrs:{cols:"12"}},[i("SelectPipeline",{attrs:{defaultSelect:e.defaultFilter.pipeline},on:{change:e.changePipeline}})],1),i("v-col",{attrs:{cols:"12"}},[i("PeriodPredefined",{attrs:{defaultSelect:e.defaultFilter.periodPredefined},on:{change:e.changePeriodPredefined}})],1),e.isPreview?e._e():i("v-col",{attrs:{cols:"12"}},[i("ComparePeriodBars",{attrs:{periodPredefined:e.filters.periodPredefined[0]},on:{change:e.changeComparePeriod}})],1)],1)],1)},c=[],p=i("5530"),f=i("740f"),u=i("d344"),v=i("6321"),h=i("c065"),m={name:"BarWonDealsEarningValueFilter",components:{SelectUsers:f["a"],SelectPipeline:v["a"],Select:u["a"]},mixins:[l["b"]],props:{defaultFilter:{type:Object,default:function(){return{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{},typeCompare:"none"}}}},data:function(){return{listTime:h["d"],listFilterBy:h["e"],filters:{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{},typeCompare:"none"}}},methods:{saveFilter:function(){this.changeChart({id:"bar-wonDealsEarningValue",filtersFull:Object(p["a"])(Object(p["a"])({},this.noReactive(this.filters)),{},{periodRange:Object(p["a"])({__typename:"PeriodRange"},this.filters.periodRange),ownerToCompare:Object(p["a"])({},this.filters.ownerToCompare)})}),this.isOpenModalFilter=!1}}},g=m,C=i("0c7c"),y=i("6544"),T=i.n(y),R=i("62ad"),b=i("0fd9"),S=Object(C["a"])(g,d,c,!1,null,"3c070146",null),P=S.exports;T()(S,{VCol:R["a"],VRow:b["a"]});var F=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.isPreview?e._e():i("ListFilters",{attrs:{settings:e.settings}}),i("div",{staticClass:"text-center bgWhite",class:[{"py-5 px-3":!e.isPreview},{showScroll:e.isWithScroll}]},[i("apexchart",{attrs:{height:e.isPreview?250:350,type:"bar",options:e.options,series:e.series}}),e.isPreview||"date"!==e.settings.typeCompare?e._e():i("h4",[e._v(" Comparación de fecha ")]),e.isPreview||"user"!==e.settings.typeCompare?e._e():i("h4",[e._v(" Comparación con otro usuario ")]),e.isPreview||"none"===e.settings.typeCompare?e._e():i("apexchart",{attrs:{height:e.isPreview?250:350,type:"bar",options:e.options,series:e.seriesCompare}})],1),e.isPreview?e._e():i("BarWonDealsEarningValueInformation",{attrs:{information:e.dealsStatusByStageHorizontalBarsGraph.informationBar,filterBy:e.settings.filterBy}})],1)},A=[],B=(i("b680"),i("d81d"),i("8d7e")),_=i("b3b3"),w=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-card",{staticClass:"mt-5",attrs:{flat:""}},[i("v-container",[i("v-row",{staticClass:"justify-center"},[i("v-col",{attrs:{cols:"3"}},[i("span",[i("b",[e._v("Total de oportunidades:")]),e._v(" "+e._s(e.information.periodsActivities&&e.information.periodsActivities.totalDeals[e.filterBy])+" ")])]),i("v-col",{attrs:{cols:"3"}},[i("b",[e._v("Tasa de oportunidades ganadas:")]),e._v(" "+e._s(e.information.periodsActivities&&e.information.periodsActivities.wonDeals[e.filterBy])+" ")]),i("v-col",{attrs:{cols:"3"}},[i("b",[e._v("Tasa de oportunidades perdidas:")]),e._v(" "+e._s(e.information.periodsActivities&&e.information.periodsActivities.lostDeals[e.filterBy])+" ")]),i("v-col",{attrs:{cols:"3"}},[i("b",[e._v("Tasa de oportunidades abiertas:")]),e._v(" "+e._s(e.information.periodsActivities&&e.information.periodsActivities.openDeals[e.filterBy])+" ")]),i("v-col",{attrs:{cols:"3"}},[i("span",[i("b",[e._v("Total de oportunidades anterior:")]),e._v(" "+e._s(e.information.pastPeriodsActivities&&e.information.pastPeriodsActivities.totalDeals[e.filterBy])+" ")])]),i("v-col",{attrs:{cols:"3"}},[i("b",[e._v("Tasa de oportunidades ganadas anterior:")]),e._v(" "+e._s(e.information.pastPeriodsActivities&&e.information.pastPeriodsActivities.wonDeals[e.filterBy])+" ")]),i("v-col",{attrs:{cols:"3"}},[i("b",[e._v("Tasa de oportunidades perdidas anterior:")]),e._v(" "+e._s(e.information.pastPeriodsActivities&&e.information.pastPeriodsActivities.lostDeals[e.filterBy])+" ")]),i("v-col",{attrs:{cols:"3"}},[i("b",[e._v("Tasa de oportunidades abiertas anterior:")]),e._v(" "+e._s(e.information.pastPeriodsActivities&&e.information.pastPeriodsActivities.openDeals[e.filterBy])+" ")])],1)],1)],1)},O=[],E={name:"BarWonDealsEarningValueInformation",props:{information:{type:Object,default:function(){return{}}},filterBy:{type:String,default:"count"}}},D=E,x=i("b0af"),M=i("a523"),I=Object(C["a"])(D,w,O,!1,null,null,null),k=I.exports;T()(I,{VCard:x["a"],VCol:R["a"],VContainer:M["a"],VRow:b["a"]});var H={name:"BarWonDealsEarningValueData",mixins:[l["a"]],components:{BarWonDealsEarningValueInformation:k},props:{defaultFilter:{type:Object,default:function(){return{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],typeCompare:"none"}}}},data:function(){return{listFilterBy:h["e"],dealsStatusByStageHorizontalBarsGraph:{mainDealsByStage:[]},modalSettings:{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:[],typeCompare:"none"},settings:{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:[],typeCompare:"none"}}},computed:{options:function(){var e,t=this;return{chart:{height:this.isPreview?"250":"350",width:this.isWithScroll?"600":"100%",stacked:!0,toolbar:{show:!1},zoom:{enabled:!1}},plotOptions:{bar:{borderRadius:4,horizontal:!0}},colors:_["c"],dataLabels:{enabled:!0,style:{fontSize:"12px",fontWeight:"bold",colors:["#000"]},background:{enabled:!0,foreColor:"#fff"},formatter:function(e){return"".concat(t.isCount?e:t.formatPrice(e))}},legend:{position:"top",horizontalAlign:this.isWithScroll?"left":"center"},grid:{row:{colors:["#f3f3f3","transparent"],opacity:.5}},xaxis:{categories:(null===(e=this.dealsStatusByStageHorizontalBarsGraph)||void 0===e?void 0:e.mainDealsByStage.stages)||[],title:{text:this.showTitleXaxis},tickAmount:1,labels:{formatter:function(e){return e.toFixed(0)}}},yaxis:{title:{text:this.showTitleYaxis}},tooltip:{y:{formatter:function(e){return"".concat(t.isCount?e:t.formatPrice(e))}}}}},series:function(){var e=this.dealsStatusByStageHorizontalBarsGraph.mainDealsByStage,t=e.wonDealsCount,i=void 0===t?[]:t,r=e.lostDealsCount,a=void 0===r?[]:r,s=e.openDealsCount,n=void 0===s?[]:s,o=e.wonDealsSum,l=void 0===o?[]:o,d=e.lostDealsSum,c=void 0===d?[]:d,p=e.openDealsSum,f=void 0===p?[]:p;return[{name:"Ganados",data:this.isCount?i.map((function(e){var t=e.count;return t})):l.map((function(e){var t=e.sum;return t}))},{name:"Perdidos",data:this.isCount?a.map((function(e){var t=e.count;return t})):c.map((function(e){var t=e.sum;return t}))},{name:"Abiertos",data:this.isCount?n.map((function(e){var t=e.count;return t})):f.map((function(e){var t=e.sum;return t}))}]},seriesCompare:function(){if(this.dealsStatusByStageHorizontalBarsGraph.secondDealsByStage){var e=this.dealsStatusByStageHorizontalBarsGraph.secondDealsByStage,t=e.wonDealsCount,i=void 0===t?[]:t,r=e.lostDealsCount,a=void 0===r?[]:r,s=e.openDealsCount,n=void 0===s?[]:s,o=e.wonDealsSum,l=void 0===o?[]:o,d=e.lostDealsSum,c=void 0===d?[]:d,p=e.openDealsSum,f=void 0===p?[]:p;return[{name:"Ganados",data:this.isCount?i.map((function(e){var t=e.count;return t})):l.map((function(e){var t=e.sum;return t}))},{name:"Perdidos",data:this.isCount?a.map((function(e){var t=e.count;return t})):c.map((function(e){var t=e.sum;return t}))},{name:"Abiertos",data:this.isCount?n.map((function(e){var t=e.count;return t})):f.map((function(e){var t=e.sum;return t}))}]}return[]},showTitleXaxis:function(){if(!this.isPreview)return this.count?"Cantidad de tratos":"Valor de tratos"},showTitleYaxis:function(){if(!this.isPreview)return"Etapas"},isWithScroll:function(){return this.isPreview},filters:function(){var e={dateRange:{dateStart:this.dateStart,dateEnd:this.dateEnd},owners:this.ownersFilter,pipeline:this.pipelineFilter};return this.dateRangeToCompare&&""!==this.dateRangeToCompare.dateStart&&""!==this.dateRangeToCompare.dateEnd&&(e.dateRangeToCompare=this.dateRangeToCompare),e}},methods:{update:function(){this.$apollo.queries.dealsStatusByStageHorizontalBarsGraph.refetch()}},apollo:{dealsStatusByStageHorizontalBarsGraph:{query:B["T"],fetchPolicy:"no-cache",client:"charts",variables:function(){return{filters:this.filters}},skip:function(){return""===this.dateStart||""===this.dateEnd||!this.pipelineFilter.id||0===this.ownersFilter.length},watchLoading:function(e){this.isLoading=e}}}},V=H,j=(i("7439"),Object(C["a"])(V,F,A,!1,null,"4799afd6",null)),L=j.exports,W=i("8b70"),N={name:"BarWonDealsEarningValueModal",components:{BarWonDealsEarningValueFilter:P,BarWonDealsEarningValueData:L,TableDeals:W["a"]},mixins:[l["c"]],props:{filters:{type:Object,default:function(){return{filtersConfig:{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{},typeCompare:"none"},filtersTable:{users:[],pipelines:[],periodRange:{start:"",end:""},dealStatus:""}}}}}},G=N,U=Object(C["a"])(G,n,o,!1,null,"aec4c3a0",null),$=U.exports,z={name:"BarWonDealsEarningValuePreview",components:{BarWonDealsEarningValueData:L,BarWonDealsEarningValueModal:$,BarWonDealsEarningValueFilter:P},mixins:[l["d"]],props:{defaultPeriod:{type:String,default:"THIS_MONTH"}},data:function(){return{title:"Tratos",titleRegular:"por etapa",chartId:"bar-wonDealsEarningValue",filtersChartsDefault:{},initFilter:{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{},dealStatus:"ALL",typeCompare:"none"}}},computed:{filtersConfig:function(){var e,t,i,r,a,s,n,o;return{filterBy:(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.filterBy)||this.initFilter.filterBy,users:this.usersGlobal||(null===(t=this.chart.filtersFull)||void 0===t?void 0:t.users)||this.initUsers,pipeline:(null===(i=this.chart.filtersFull)||void 0===i?void 0:i.pipeline)||this.initPipeline,periodRange:this.periodRangeGlobal||(null===(r=this.chart.filtersFull)||void 0===r?void 0:r.periodRange)||this.periodRange,periodPredefined:this.periodPredefinedGlobal||(null===(a=this.chart.filtersFull)||void 0===a?void 0:a.periodPredefined)||[this.defaultPeriod]||this.initFilter.periodPredefined,periodRangeToCompare:(null===(s=this.chart.filtersFull)||void 0===s?void 0:s.periodRangeToCompare)||this.initFilter.periodRangeToCompare,ownerToCompare:(null===(n=this.chart.filtersFull)||void 0===n?void 0:n.ownerToCompare)||this.initFilter.ownerToCompare,typeCompare:(null===(o=this.chart.filtersFull)||void 0===o?void 0:o.typeCompare)||this.initFilter.typeCompare}},filtersTable:function(){var e,t=this.getPeriod(this.initFilter.periodPredefined[0]).get(),i=Object(s["a"])(t,2),r=i[0],a=i[1];return{users:this.usersGlobal||this.users||this.filtersChartsDefault.users,pipelines:this.pipelines||this.initPipelines,periodRange:this.periodRangeGlobal||(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.periodRange)||{start:r,end:a},dealStatus:this.initFilter.dealStatus}}}},Y=z,q=(i("f005"),Object(C["a"])(Y,r,a,!1,null,"68242ab6",null));t["a"]=q.exports},c953:function(e,t,i){"use strict";var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseCardChart",{attrs:{title:e.title,titleRegular:e.titleRegular,settings:e.filtersConfig},on:{updateRefetch:function(t){e.isRefetch=!0}},scopedSlots:e._u([{key:"modal",fn:function(){return[i("CardNewDealsFilter",{attrs:{defaultFilter:e.filtersConfig,isIcon:"",isPreview:""}})]},proxy:!0}])},[i("div",{staticClass:"hoverClick",on:{click:e.openModal}},[i("CardNewDealsData",{attrs:{defaultFilter:e.filtersConfig,isPreview:"",isRefetch:e.isRefetch},on:{updateRefetch:function(t){e.isRefetch=!1}}})],1),i("CardNewDealsModal",{attrs:{isOpen:e.isOpenModal,filters:{filtersConfig:e.filtersConfig,filtersTable:e.filtersTable},title:e.title,titleRegular:e.titleRegular},on:{close:e.closeModal}})],1)},a=[],s=i("3835"),n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalChart",{attrs:{title:e.title,titleRegular:e.titleRegular,isOpen:e.isOpen},on:{close:e.closeModal},scopedSlots:e._u([{key:"filters",fn:function(){return[i("CardNewDealsFilter",{attrs:{defaultFilter:e.filters.filtersConfig}})]},proxy:!0},{key:"chart",fn:function(){return[i("CardNewDealsData",{attrs:{defaultFilter:e.filters.filtersConfig}})]},proxy:!0},{key:"table",fn:function(){return[i("TableDeals",{attrs:{defaultFilter:e.filters.filtersTable}})]},proxy:!0}])})},o=[],l=i("8b70"),d=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalFilters",{attrs:{isOpen:e.isOpenModalFilter,isIcon:e.isIcon},on:{save:e.saveFilter,statusModal:e.statusModal}},[i("v-row",[i("v-col",{attrs:{cols:"12"}},[i("Select",{attrs:{name:"Filtrar por",defaultSelect:e.defaultFilter.filterBy,list:e.listFilterBy},on:{change:e.changeFilterBy}})],1),i("v-col",{attrs:{cols:"12"}},[i("SelectUsers",{attrs:{all:"",defaultSelect:e.defaultFilter.users},on:{change:e.changeUsers}})],1),i("v-col",{attrs:{cols:"12"}},[i("SelectPipeline",{attrs:{defaultSelect:e.defaultFilter.pipeline},on:{change:e.changePipeline}})],1),i("v-col",{attrs:{cols:"12"}},[i("PeriodPredefined",{attrs:{defaultSelect:e.defaultFilter.periodPredefined},on:{change:e.changePeriodPredefined}})],1),e.isPreview?e._e():i("v-col",{attrs:{cols:"12"}},[i("ComparePeriod",{attrs:{periodPredefined:e.filters.periodPredefined[0]},on:{change:e.changeComparePeriod}})],1)],1)],1)},c=[],p=i("5530"),f=i("740f"),u=i("d344"),v=i("6321"),h=i("c065"),m=i("0db6"),g={name:"CardNewDealsFilter",components:{SelectUsers:f["a"],SelectPipeline:v["a"],Select:u["a"]},mixins:[m["b"]],props:{defaultFilter:{type:Object,default:function(){return{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""}}}},isIcon:{type:Boolean,default:!1},isPreview:{type:Boolean,default:!1}},data:function(){return{listTime:h["d"],listFilterBy:h["e"],filters:{filterBy:"count",filterTime:"WEEKS",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""}}}},methods:{changeComparePeriod:function(e){var t=e.isCompare,i=e.periodCompare;if(t){if(i&&(this.filters.periodRangeToCompare.period=i.periodSelected,i.periodRange.length>0)){var r=Object(s["a"])(i.periodRange,2);this.filters.periodRangeToCompare.start=r[0],this.filters.periodRangeToCompare.end=r[1]}}else this.filters.periodRangeToCompare.period="",this.filters.periodRangeToCompare.start="",this.filters.periodRangeToCompare.end=""},saveFilter:function(){this.changeChart({id:"card-newDeals",filtersFull:Object(p["a"])(Object(p["a"])({},this.noReactive(this.filters)),{},{periodRange:Object(p["a"])({__typename:"PeriodRange"},this.filters.periodRange)})}),this.isOpenModalFilter=!1}}},C=g,y=i("0c7c"),T=i("6544"),R=i.n(T),b=i("62ad"),S=i("0fd9"),P=Object(y["a"])(C,d,c,!1,null,"7b5b0d3b",null),F=P.exports;R()(P,{VCol:b["a"],VRow:S["a"]});var A=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.isPreview?e._e():i("ListFilters",{attrs:{settings:e.settings}}),i("BaseCardNumber",{attrs:{information:{numberMain:""+("count"===e.settings.filterBy?e.generalConvertionRateFormat:e.formatPrice(e.generalConvertionRateFormat)),textMain:e.textMain,valueMain:e.valueMain,textMainType:e.textChart,isCompare:!e.isPreview&&e.settings.periodRangeToCompare.period.length>0,numberCompare:""+("count"===e.settings.filterBy?e.generalConvertionRateCompare:e.formatPrice(e.generalConvertionRateCompare)),textCompare:e.textCompare,valueCompare:e.valueCompare,numberDifferenceCompare:e.comparePercentage}}}),e.isPreview?e._e():i("CardNewDealsInformation",{attrs:{information:e.newDealsCard.informationBar,filterBy:e.settings.filterBy}})],1)},B=[],_=(i("b680"),i("99af"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-card",{staticClass:"mt-5",attrs:{flat:""}},[i("v-container",[i("v-row",[i("v-col",{attrs:{cols:"3"}},[e._l(e.information.userNewDeals,(function(t,r){return[i("span",{key:r,staticClass:"d-block"},[i("b",[e._v(e._s(t.name))]),e._v(" : "+e._s("count"===e.filterBy?t[e.filterBy]:e.formatPrice(t[e.filterBy]))+" ")])]}))],2),e._l(e.information.periodsNewDeals,(function(t,r){return[i("v-col",{key:r,attrs:{cols:"3"}},[i("span",{staticClass:"d-block"},[i("b",[e._v(e._s(e.periods[r]))]),e._v(" : "+e._s("count"===e.filterBy?t[e.filterBy]:e.formatPrice(t[e.filterBy]))+" ")])])]}))],2)],1)],1)}),w=[],O={name:"CardNewDealsInformation",props:{information:{type:Object,default:function(){return{}}},filterBy:{type:String,default:"count"}},data:function(){return{periods:["Promedio anual","Promedio trimestral","Promedio mensual"],pastPeriods:["Este período","Período pasado","Mismo período el mes anterior"]}}},E=O,D=i("b0af"),x=i("a523"),M=Object(y["a"])(E,_,w,!1,null,null,null),I=M.exports;R()(M,{VCard:D["a"],VCol:b["a"],VContainer:x["a"],VRow:S["a"]});var k=i("8d7e"),H={name:"CardNewDealsData",mixins:[m["a"]],components:{CardNewDealsInformation:I},props:{defaultFilter:{type:Object,default:function(){return{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""}}}},isPreview:{type:Boolean,default:!1}},data:function(){return{newDealsCard:{},modalSettings:{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:[],periodRangeToCompare:{period:"",start:"",end:""}},settings:{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:[],periodRangeToCompare:{period:"",start:"",end:""}}}},computed:{comparePercentage:function(){return"0"===this.generalConvertionRateCompare?"100":(100*this.generalConvertionRateFormat/this.generalConvertionRateCompare-100).toFixed(2)},generalConvertionRateFormat:function(){var e,t,i,r,a;return this.newDealsCard&&void 0!==(null===(e=this.newDealsCard)||void 0===e||null===(t=e.mainNewDeals)||void 0===t?void 0:t.count)&&void 0!==(null===(i=this.newDealsCard)||void 0===i||null===(r=i.mainNewDeals)||void 0===r?void 0:r.sum)&&(null===(a=this.newDealsCard)||void 0===a?void 0:a.mainNewDeals[this.settings.filterBy])||"0"},generalConvertionRateCompare:function(){var e,t,i,r;if(this.newDealsCard&&void 0!==(null===(e=this.newDealsCard)||void 0===e||null===(t=e.secondNewDeals)||void 0===t?void 0:t.count)&&void 0!==(null===(i=this.newDealsCard)||void 0===i||null===(r=i.secondNewDeals)||void 0===r?void 0:r.sum)){var a,s=null===(a=this.newDealsCard)||void 0===a?void 0:a.secondNewDeals[this.settings.filterBy];return s?s.toFixed(2):"0"}return"0"},textCompare:function(){return"PREVIOUS_PERIOD"===this.settings.periodRangeToCompare.period?this.settings.periodPredefined[3]:"PREVIOUS_YEAR"===this.settings.periodRangeToCompare.period?"Año anterior":"CUSTOM"===this.settings.periodRangeToCompare.period?"Personalizado":""},valueCompare:function(){return this.isPreview||"CUSTOM"!==this.settings.periodRangeToCompare.period?"":"".concat(this.formatDate(this.filters.dateRangeToCompare.dateStart)," - ").concat(this.formatDate(this.filters.dateRangeToCompare.dateEnd))},textMain:function(){return this.isPreview?"":this.settings.periodPredefined[2]},valueMain:function(){return!this.isPreview&&this.settings.periodPredefined.length>0&&"CUSTOM"===this.settings.periodPredefined[0]?"".concat(this.formatDate(this.filters.dateRange.dateStart)," - ").concat(this.formatDate(this.filters.dateRange.dateEnd)):""},filters:function(){var e={dateRange:{dateStart:this.dateStart,dateEnd:this.dateEnd},owners:this.ownersFilter,pipeline:this.pipelineFilter};return this.dateRangeToCompare&&""!==this.dateRangeToCompare.dateStart&&""!==this.dateRangeToCompare.dateEnd&&(e.dateRangeToCompare=this.dateRangeToCompare),e}},methods:{update:function(){this.$apollo.queries.newDealsCard.refetch()}},apollo:{newDealsCard:{query:k["v"],fetchPolicy:"no-cache",client:"charts",variables:function(){return{filters:this.filters}},skip:function(){return""===this.dateStart||""===this.dateEnd||!this.pipelineFilter.id||0===this.ownersFilter.length},loadingKey:"isLoading"}}},V=H,j=Object(y["a"])(V,A,B,!1,null,"83119946",null),L=j.exports,W={name:"CardNewDealsModal",components:{TableDeals:l["a"],CardNewDealsFilter:F,CardNewDealsData:L},mixins:[m["c"]],props:{isOpen:{type:Boolean,default:!1},title:{type:String,default:"Sin título"},titleRegular:{type:String,default:""},filters:{type:Object,default:function(){return{filtersConfig:{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""}},filtersTable:{users:[],pipelines:[],periodRange:{start:"",end:""},dealStatus:""}}}}}},N=W,G=Object(y["a"])(N,n,o,!1,null,"026cb42c",null),U=G.exports,$={name:"CardNewDealsPreview",components:{CardNewDealsData:L,CardNewDealsModal:U,CardNewDealsFilter:F},mixins:[m["d"]],props:{defaultPeriod:{type:String,default:"THIS_MONTH"}},data:function(){return{chartId:"card-newDeals",title:"Tratos",titleRegular:"nuevos",isOpenModal:!1,filtersChartsDefault:{},initFilter:{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""},dealStatus:"ALL"}}},computed:{filtersConfig:function(){var e,t,i,r,a,s;return{filterBy:(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.filterBy)||this.initFilter.filterBy,users:this.usersGlobal||(null===(t=this.chart.filtersFull)||void 0===t?void 0:t.users)||this.initUsers,pipeline:(null===(i=this.chart.filtersFull)||void 0===i?void 0:i.pipeline)||this.initPipeline,periodRange:this.periodRangeGlobal||(null===(r=this.chart.filtersFull)||void 0===r?void 0:r.periodRange)||this.periodRange,periodPredefined:this.periodPredefinedGlobal||(null===(a=this.chart.filtersFull)||void 0===a?void 0:a.periodPredefined)||[this.defaultPeriod]||this.initFilter.periodPredefined,periodRangeToCompare:(null===(s=this.chart.filtersFull)||void 0===s?void 0:s.periodRangeToCompare)||this.initFilter.periodRangeToCompare}},filtersTable:function(){var e,t=this.getPeriod(this.initFilter.periodPredefined[0]).get(),i=Object(s["a"])(t,2),r=i[0],a=i[1];return{users:this.usersGlobal||this.users||this.initUsers,pipelines:this.pipelines||this.filtersChartsDefault.pipelines,periodRange:this.periodRangeGlobal||(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.periodRange)||{start:r,end:a},dealStatus:this.initFilter.dealStatus}}}},z=$,Y=(i("15d3"),Object(y["a"])(z,r,a,!1,null,"ad1d328e",null));t["a"]=Y.exports},cad0:function(e,t,i){"use strict";var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseCardChart",{attrs:{title:e.title,titleRegular:e.titleRegular,settings:e.filtersConfig},on:{updateRefetch:function(t){e.isRefetch=!0}},scopedSlots:e._u([{key:"modal",fn:function(){return[i("CardAdvancedDealsFilter",{attrs:{defaultFilter:e.filtersConfig,isIcon:"",isPreview:""}})]},proxy:!0}])},[i("div",{staticClass:"hoverClick",on:{click:e.openModal}},[i("CardAdvancedDealsData",{attrs:{defaultFilter:e.filtersConfig,isPreview:"",isRefetch:e.isRefetch},on:{updateRefetch:function(t){e.isRefetch=!1}}})],1),i("CardAdvancedDealsModal",{attrs:{isOpen:e.isOpenModal,filters:{filtersConfig:e.filtersConfig,filtersTable:e.filtersTable},title:e.title,titleRegular:e.titleRegular},on:{close:e.closeModal}})],1)},a=[],s=i("3835"),n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalChart",{attrs:{title:e.title,titleRegular:e.titleRegular,isOpen:e.isOpen},on:{close:e.closeModal},scopedSlots:e._u([{key:"filters",fn:function(){return[i("CardAdvancedDealsFilter",{attrs:{defaultFilter:e.filters.filtersConfig}})]},proxy:!0},{key:"chart",fn:function(){return[i("CardAdvancedDealsData",{attrs:{defaultFilter:e.filters.filtersConfig}})]},proxy:!0},{key:"table",fn:function(){return[i("TableDeals",{attrs:{defaultFilter:e.filters.filtersTable}})]},proxy:!0}])})},o=[],l=i("8b70"),d=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalFilters",{attrs:{isOpen:e.isOpenModalFilter,isIcon:e.isIcon},on:{save:e.saveFilter,statusModal:e.statusModal}},[i("v-row",[i("v-col",{attrs:{cols:"12"}},[i("Select",{attrs:{name:"Filtrar por",defaultSelect:e.defaultFilter.filterBy,list:e.listFilterBy},on:{change:e.changeFilterBy}})],1),i("v-col",{attrs:{cols:"12"}},[i("SelectUsers",{attrs:{all:"",defaultSelect:e.defaultFilter.users},on:{change:e.changeUsers}})],1),i("v-col",{attrs:{cols:"12"}},[i("SelectPipeline",{attrs:{defaultSelect:e.defaultFilter.pipeline},on:{change:e.changePipeline}})],1),i("v-col",{attrs:{cols:"12"}},[i("PeriodPredefined",{attrs:{defaultSelect:e.defaultFilter.periodPredefined},on:{change:e.changePeriodPredefined}})],1),e.isPreview?e._e():i("v-col",{attrs:{cols:"12"}},[i("ComparePeriod",{attrs:{periodPredefined:e.filters.periodPredefined[0]},on:{change:e.changeComparePeriod}})],1)],1)],1)},c=[],p=i("5530"),f=i("740f"),u=i("d344"),v=i("6321"),h=i("c065"),m=i("0db6"),g={name:"CardAdvancedDealsFilter",components:{SelectUsers:f["a"],SelectPipeline:v["a"],Select:u["a"]},mixins:[m["b"]],props:{defaultFilter:{type:Object,default:function(){return{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""}}}},isIcon:{type:Boolean,default:!1},isPreview:{type:Boolean,default:!1}},data:function(){return{listTime:h["d"],listFilterBy:h["e"],filters:{filterBy:"count",filterTime:"WEEKS",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""}}}},methods:{changeComparePeriod:function(e){var t=e.isCompare,i=e.periodCompare;if(t){if(i&&(this.filters.periodRangeToCompare.period=i.periodSelected,i.periodRange.length>0)){var r=Object(s["a"])(i.periodRange,2);this.filters.periodRangeToCompare.start=r[0],this.filters.periodRangeToCompare.end=r[1]}}else this.filters.periodRangeToCompare.period="",this.filters.periodRangeToCompare.start="",this.filters.periodRangeToCompare.end=""},saveFilter:function(){this.changeChart({id:"card-advancedDeals",filtersFull:Object(p["a"])(Object(p["a"])({},this.noReactive(this.filters)),{},{periodRange:Object(p["a"])({__typename:"PeriodRange"},this.filters.periodRange)})}),this.isOpenModalFilter=!1}}},C=g,y=i("0c7c"),T=i("6544"),R=i.n(T),b=i("62ad"),S=i("0fd9"),P=Object(y["a"])(C,d,c,!1,null,"01ef0109",null),F=P.exports;R()(P,{VCol:b["a"],VRow:S["a"]});var A=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.isPreview?e._e():i("ListFilters",{attrs:{settings:e.settings}}),i("BaseCardNumber",{attrs:{information:{numberMain:""+("count"===e.settings.filterBy?e.generalConvertionRateFormat:e.formatPrice(e.generalConvertionRateFormat)),textMain:e.textMain,valueMain:e.valueMain,textMainType:e.textChart,isCompare:!e.isPreview&&e.settings.periodRangeToCompare.period.length>0,numberCompare:""+("count"===e.settings.filterBy?e.generalConvertionRateCompare:e.formatPrice(e.generalConvertionRateCompare)),textCompare:e.textCompare,valueCompare:e.valueCompare,numberDifferenceCompare:e.comparePercentage}}}),e.isPreview?e._e():i("CardAdvancedDealsInformation",{attrs:{information:e.advancedDealsCard.informationBar,filterBy:e.settings.filterBy}})],1)},B=[],_=(i("b680"),i("99af"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-card",{staticClass:"mt-5",attrs:{flat:""}},[i("v-container",[i("v-row",[i("v-col",{attrs:{cols:"3"}},[e._l(e.information.usersAdvancedDeals,(function(t,r){return[i("span",{key:r,staticClass:"d-block"},[i("b",[e._v(e._s(t.name))]),e._v(" : "+e._s("count"===e.filterBy?t[e.filterBy]:e.formatPrice(t[e.filterBy]))+" ")])]}))],2),e._l(e.information.periodsAdvancedDeals,(function(t,r){return[i("v-col",{key:r,attrs:{cols:"3"}},[i("span",{staticClass:"d-block"},[i("b",[e._v(e._s(e.periods[r]))]),e._v(" : "+e._s("count"===e.filterBy?t[e.filterBy]:e.formatPrice(t[e.filterBy]))+" ")])])]}))],2)],1)],1)}),w=[],O={name:"CardAdvancedDealsInformation",props:{information:{type:Object,default:function(){return{}}},filterBy:{type:String,default:"count"}},data:function(){return{periods:["Promedio anual","Promedio trimestral","Promedio mensual"],pastPeriods:["Este período","Período pasado","Mismo período el mes anterior"]}}},E=O,D=i("b0af"),x=i("a523"),M=Object(y["a"])(E,_,w,!1,null,null,null),I=M.exports;R()(M,{VCard:D["a"],VCol:b["a"],VContainer:x["a"],VRow:S["a"]});var k=i("8d7e"),H={name:"CardAdvancedDealsData",mixins:[m["a"]],components:{CardAdvancedDealsInformation:I},props:{defaultFilter:{type:Object,default:function(){return{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""}}}},isPreview:{type:Boolean,default:!1}},data:function(){return{advancedDealsCard:{},modalSettings:{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:[],periodRangeToCompare:{period:"",start:"",end:""}},settings:{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:[],periodRangeToCompare:{period:"",start:"",end:""}}}},computed:{comparePercentage:function(){return"0"===this.generalConvertionRateCompare?"100":(100*this.generalConvertionRateFormat/this.generalConvertionRateCompare-100).toFixed(2)},generalConvertionRateFormat:function(){var e,t,i,r,a;return this.advancedDealsCard&&void 0!==(null===(e=this.advancedDealsCard)||void 0===e||null===(t=e.mainAdvancedDeals)||void 0===t?void 0:t.count)&&void 0!==(null===(i=this.advancedDealsCard)||void 0===i||null===(r=i.mainAdvancedDeals)||void 0===r?void 0:r.sum)&&(null===(a=this.advancedDealsCard)||void 0===a?void 0:a.mainAdvancedDeals[this.settings.filterBy])||"0"},generalConvertionRateCompare:function(){var e,t,i,r;if(this.advancedDealsCard&&void 0!==(null===(e=this.advancedDealsCard)||void 0===e||null===(t=e.secondAdvancedDeals)||void 0===t?void 0:t.count)&&void 0!==(null===(i=this.advancedDealsCard)||void 0===i||null===(r=i.secondAdvancedDeals)||void 0===r?void 0:r.sum)){var a,s=null===(a=this.advancedDealsCard)||void 0===a?void 0:a.secondAdvancedDeals[this.settings.filterBy];return s?s.toFixed(2):"0"}return"0"},textCompare:function(){return"PREVIOUS_PERIOD"===this.settings.periodRangeToCompare.period?this.settings.periodPredefined[3]:"PREVIOUS_YEAR"===this.settings.periodRangeToCompare.period?"Año anterior":"CUSTOM"===this.settings.periodRangeToCompare.period?"Personalizado":""},valueCompare:function(){return this.isPreview||"CUSTOM"!==this.settings.periodRangeToCompare.period?"":"".concat(this.formatDate(this.filters.dateRangeToCompare.dateStart)," - ").concat(this.formatDate(this.filters.dateRangeToCompare.dateEnd))},textMain:function(){return this.isPreview?"":this.settings.periodPredefined[2]},valueMain:function(){return!this.isPreview&&this.settings.periodPredefined.length>0&&"CUSTOM"===this.settings.periodPredefined[0]?"".concat(this.formatDate(this.filters.dateRange.dateStart)," - ").concat(this.formatDate(this.filters.dateRange.dateEnd)):""},filters:function(){var e={dateRange:{dateStart:this.dateStart,dateEnd:this.dateEnd},owners:this.ownersFilter,pipeline:this.pipelineFilter};return this.dateRangeToCompare&&""!==this.dateRangeToCompare.dateStart&&""!==this.dateRangeToCompare.dateEnd&&(e.dateRangeToCompare=this.dateRangeToCompare),e}},methods:{update:function(){this.$apollo.queries.advancedDealsCard.refetch()}},apollo:{advancedDealsCard:{query:k["d"],fetchPolicy:"no-cache",client:"charts",variables:function(){return{filters:this.filters}},skip:function(){return""===this.dateStart||""===this.dateEnd||!this.pipelineFilter.id||0===this.ownersFilter.length},loadingKey:"isLoading"}}},V=H,j=Object(y["a"])(V,A,B,!1,null,"085fa648",null),L=j.exports,W={name:"CardAdvancedDealsModal",components:{TableDeals:l["a"],CardAdvancedDealsFilter:F,CardAdvancedDealsData:L},mixins:[m["c"]],props:{isOpen:{type:Boolean,default:!1},title:{type:String,default:"Sin título"},titleRegular:{type:String,default:""},filters:{type:Object,default:function(){return{filtersConfig:{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""}},filtersTable:{users:[],pipelines:[],periodRange:{start:"",end:""},dealStatus:""}}}}}},N=W,G=Object(y["a"])(N,n,o,!1,null,"21df61f2",null),U=G.exports,$={name:"CardAdvancedDealsPreview",components:{CardAdvancedDealsData:L,CardAdvancedDealsModal:U,CardAdvancedDealsFilter:F},mixins:[m["d"]],props:{defaultPeriod:{type:String,default:"THIS_MONTH"}},data:function(){return{chartId:"card-advancedDeals",title:"Tratos",titleRegular:"avanzados",isOpenModal:!1,filtersChartsDefault:{},initFilter:{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""},dealStatus:"ADVANCED_DEALS_CARD"}}},computed:{filtersConfig:function(){var e,t,i,r,a,s;return{filterBy:(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.filterBy)||this.initFilter.filterBy,users:this.usersGlobal||(null===(t=this.chart.filtersFull)||void 0===t?void 0:t.users)||this.initUsers,pipeline:(null===(i=this.chart.filtersFull)||void 0===i?void 0:i.pipeline)||this.initPipeline,periodRange:this.periodRangeGlobal||(null===(r=this.chart.filtersFull)||void 0===r?void 0:r.periodRange)||this.periodRange,periodPredefined:this.periodPredefinedGlobal||(null===(a=this.chart.filtersFull)||void 0===a?void 0:a.periodPredefined)||[this.defaultPeriod]||this.initFilter.periodPredefined,periodRangeToCompare:(null===(s=this.chart.filtersFull)||void 0===s?void 0:s.periodRangeToCompare)||this.initFilter.periodRangeToCompare}},filtersTable:function(){var e,t=this.getPeriod(this.initFilter.periodPredefined[0]).get(),i=Object(s["a"])(t,2),r=i[0],a=i[1];return{users:this.usersGlobal||this.users||this.initUsers,pipelines:this.pipelines||this.filtersChartsDefault.pipelines,periodRange:this.periodRangeGlobal||(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.periodRange)||{start:r,end:a},dealStatus:this.initFilter.dealStatus}}}},z=$,Y=(i("3c11"),Object(y["a"])(z,r,a,!1,null,"d5148998",null));t["a"]=Y.exports},d3a1:function(e,t,i){},df27:function(e,t,i){},e1f5:function(e,t,i){},e4a7:function(e,t,i){"use strict";i("e8ff")},e4c9:function(e,t,i){},e51d:function(e,t,i){},e5d2:function(e,t,i){},e808:function(e,t,i){},e869:function(e,t,i){},e8ff:function(e,t,i){},ea8d:function(e,t,i){"use strict";var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseCardChart",{attrs:{title:e.title,titleRegular:e.titleRegular,settings:e.filtersConfig},on:{updateRefetch:function(t){e.isRefetch=!0}},scopedSlots:e._u([{key:"modal",fn:function(){return[i("CardEffectiveActivitiesFilter",{attrs:{defaultFilter:e.filtersConfig,isIcon:"",isPreview:""}})]},proxy:!0}])},[i("div",{staticClass:"hoverClick",on:{click:e.openModal}},[i("CardEffectiveActivitiesData",{attrs:{defaultFilter:e.filtersConfig,isPreview:"",isRefetch:e.isRefetch},on:{updateRefetch:function(t){e.isRefetch=!1}}})],1),i("CardEffectiveActivitiesModal",{attrs:{isOpen:e.isOpenModal,filters:{filtersConfig:e.filtersConfig,filtersTable:e.filtersTable},title:e.title,titleRegular:e.titleRegular},on:{close:e.closeModal}})],1)},a=[],s=i("3835"),n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalChart",{attrs:{title:e.title,titleRegular:e.titleRegular,isOpen:e.isOpen},on:{close:e.closeModal},scopedSlots:e._u([{key:"filters",fn:function(){return[i("CardEffectiveActivitiesFilter",{attrs:{defaultFilter:e.filters.filtersConfig}})]},proxy:!0},{key:"chart",fn:function(){return[i("CardEffectiveActivitiesData",{attrs:{defaultFilter:e.filters.filtersConfig}})]},proxy:!0},{key:"table",fn:function(){return[i("TableActivities",{attrs:{defaultFilter:e.filters.filtersTable}})]},proxy:!0}])})},o=[],l=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.isPreview?e._e():i("ListFilters",{attrs:{settings:e.settings}}),i("BaseCardNumber",{attrs:{information:{numberMain:""+e.generalConvertionRateFormat,textMain:e.textMain,valueMain:e.valueMain,textMainType:e.textChart,isCompare:!e.isPreview&&e.settings.periodRangeToCompare.period.length>0,numberCompare:""+e.generalConvertionRateCompare,textCompare:e.textCompare,valueCompare:e.valueCompare,numberDifferenceCompare:e.comparePercentage}}}),e.isPreview?e._e():i("CardEffectiveActivitiesInformation",{attrs:{information:e.effectiveActivitiesCard.informationBar,filterBy:e.settings.filterBy}})],1)},d=[],c=(i("b680"),i("99af"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-card",{staticClass:"mt-5",attrs:{flat:""}},[i("v-container",[i("v-row",{staticClass:"justify-center"},[i("v-col",{attrs:{cols:"3"}},[e._l(e.information.usersEffectiveActivities,(function(t,r){return[i("span",{key:r,staticClass:"d-block"},[i("b",[e._v(e._s(t.name))]),e._v(" : "+e._s(t[e.filterBy])+" ")])]}))],2),e._l(e.information.periodsEffectiveActivities,(function(t,r){return[i("v-col",{key:r,attrs:{cols:"3"}},[i("span",{staticClass:"d-block"},[i("b",[e._v(e._s(e.rowOne[r]))]),e._v(" : "+e._s(t.count)+" ")])])]}))],2)],1)],1)}),p=[],f={name:"CardEffectiveActivitiesInformation",props:{information:{type:Object,default:function(){return{}}},filterBy:{type:String,default:"count"}},data:function(){return{rowOne:["Este período","Período pasado","Mismo período el mes anterior"]}}},u=f,v=i("0c7c"),h=i("6544"),m=i.n(h),g=i("b0af"),C=i("62ad"),y=i("a523"),T=i("0fd9"),R=Object(v["a"])(u,c,p,!1,null,null,null),b=R.exports;m()(R,{VCard:g["a"],VCol:C["a"],VContainer:y["a"],VRow:T["a"]});var S=i("8d7e"),P=i("0db6"),F={name:"CardEffectiveActivitiesData",mixins:[P["a"]],components:{CardEffectiveActivitiesInformation:b},props:{defaultFilter:{type:Object,default:function(){return{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""}}}},isPreview:{type:Boolean,default:!1}},data:function(){return{effectiveActivitiesCard:{},modalSettings:{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:[],periodRangeToCompare:{period:"",start:"",end:""}},settings:{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:[],periodRangeToCompare:{period:"",start:"",end:""}}}},computed:{comparePercentage:function(){return"0"===this.generalConvertionRateCompare?"100":(100*this.generalConvertionRateFormat/this.generalConvertionRateCompare-100).toFixed(2)},generalConvertionRateFormat:function(){var e,t,i;return this.effectiveActivitiesCard&&void 0!==(null===(e=this.effectiveActivitiesCard)||void 0===e||null===(t=e.mainEffectiveActivities)||void 0===t?void 0:t.count)&&(null===(i=this.effectiveActivitiesCard)||void 0===i?void 0:i.mainEffectiveActivities.count)||"0"},generalConvertionRateCompare:function(){var e,t,i;return this.effectiveActivitiesCard&&void 0!==(null===(e=this.effectiveActivitiesCard)||void 0===e||null===(t=e.secondEffectiveActivities)||void 0===t?void 0:t.count)&&(null===(i=this.effectiveActivitiesCard)||void 0===i?void 0:i.secondEffectiveActivities.count)||"0"},textCompare:function(){return"PREVIOUS_PERIOD"===this.settings.periodRangeToCompare.period?this.settings.periodPredefined[3]:"PREVIOUS_YEAR"===this.settings.periodRangeToCompare.period?"Año anterior":"CUSTOM"===this.settings.periodRangeToCompare.period?"Personalizado":""},valueCompare:function(){return this.isPreview||"CUSTOM"!==this.settings.periodRangeToCompare.period?"":"".concat(this.formatDate(this.filters.dateRangeToCompare.dateStart)," - ").concat(this.formatDate(this.filters.dateRangeToCompare.dateEnd))},textMain:function(){return this.isPreview?"":this.settings.periodPredefined[2]},valueMain:function(){return!this.isPreview&&this.settings.periodPredefined.length>0&&"CUSTOM"===this.settings.periodPredefined[0]?"".concat(this.formatDate(this.filters.dateRange.dateStart)," - ").concat(this.formatDate(this.filters.dateRange.dateEnd)):""},filters:function(){var e={dateRange:{dateStart:this.dateStart,dateEnd:this.dateEnd},owners:this.ownersFilter,pipeline:this.pipelineFilter};return this.dateRangeToCompare&&""!==this.dateRangeToCompare.dateStart&&""!==this.dateRangeToCompare.dateEnd&&(e.dateRangeToCompare=this.dateRangeToCompare),e}},methods:{update:function(){this.$apollo.queries.effectiveActivitiesCard.refetch()}},apollo:{effectiveActivitiesCard:{query:S["m"],fetchPolicy:"no-cache",client:"charts",variables:function(){return{filters:this.filters}},skip:function(){return""===this.dateStart||""===this.dateEnd||!this.pipelineFilter.id||0===this.ownersFilter.length},loadingKey:"isLoading"}}},A=F,B=Object(v["a"])(A,l,d,!1,null,"e383cdd2",null),_=B.exports,w=i("157d"),O=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalFilters",{attrs:{isOpen:e.isOpenModalFilter,isIcon:e.isIcon},on:{save:e.saveFilter,statusModal:e.statusModal}},[i("v-row",[i("v-col",{attrs:{cols:"12"}},[i("SelectUsers",{attrs:{all:"",defaultSelect:e.defaultFilter.users},on:{change:e.changeUsers}})],1),i("v-col",{attrs:{cols:"12"}},[i("SelectPipeline",{attrs:{defaultSelect:e.defaultFilter.pipeline},on:{change:e.changePipeline}})],1),i("v-col",{attrs:{cols:"12"}},[i("PeriodPredefined",{attrs:{defaultSelect:e.defaultFilter.periodPredefined},on:{change:e.changePeriodPredefined}})],1),e.isPreview?e._e():i("v-col",{attrs:{cols:"12"}},[i("ComparePeriod",{attrs:{periodPredefined:e.filters.periodPredefined[0]},on:{change:e.changeComparePeriod}})],1)],1)],1)},E=[],D=i("5530"),x=i("740f"),M=i("6321"),I={name:"CardEffectiveActivitiesFilter",components:{SelectUsers:x["a"],SelectPipeline:M["a"]},mixins:[P["b"]],props:{defaultFilter:{type:Object,default:function(){return{users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""}}}},isIcon:{type:Boolean,default:!1},isPreview:{type:Boolean,default:!1}},data:function(){return{filters:{users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""}}}},methods:{changeComparePeriod:function(e){var t=e.isCompare,i=e.periodCompare;if(t){if(i&&(this.filters.periodRangeToCompare.period=i.periodSelected,i.periodRange.length>0)){var r=Object(s["a"])(i.periodRange,2);this.filters.periodRangeToCompare.start=r[0],this.filters.periodRangeToCompare.end=r[1]}}else this.filters.periodRangeToCompare.period="",this.filters.periodRangeToCompare.start="",this.filters.periodRangeToCompare.end=""},saveFilter:function(){this.changeChart({id:"card-effectiveActivities",filtersFull:Object(D["a"])(Object(D["a"])({},this.noReactive(this.filters)),{},{periodRange:Object(D["a"])({__typename:"PeriodRange"},this.filters.periodRange)})}),this.isOpenModalFilter=!1}}},k=I,H=Object(v["a"])(k,O,E,!1,null,"48f8af1c",null),V=H.exports;m()(H,{VCol:C["a"],VRow:T["a"]});var j={name:"CardEffectiveActivitiesModal",components:{CardEffectiveActivitiesData:_,CardEffectiveActivitiesFilter:V,TableActivities:w["a"]},mixins:[P["c"]],props:{isOpen:{type:Boolean,default:!1},title:{type:String,default:"Sin título"},titleRegular:{type:String,default:""},filters:{type:Object,default:function(){return{filtersConfig:{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""}},filtersTable:{users:[],pipelines:[],periodRange:{start:"",end:""},dealStatus:"",stages:[],activityTypes:[],fromReportStatus:"ACTIVITIESBYSTAGE"}}}}}},L=j,W=Object(v["a"])(L,n,o,!1,null,"50904a93",null),N=W.exports,G={name:"CardEffectiveActivitiesPreview",components:{CardEffectiveActivitiesData:_,CardEffectiveActivitiesModal:N,CardEffectiveActivitiesFilter:V},mixins:[P["d"]],props:{defaultPeriod:{type:String,default:"THIS_MONTH"}},data:function(){return{title:"Actividades",titleRegular:"efectivas",isOpenModal:!1,chartId:"card-effectiveActivities",filtersChartsDefault:{},initFilter:{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""},activitiesFilter:"EFFECTIVE",activityTypes:[],fromReportStatus:"ACTIVITIES_CARD"}}},computed:{filtersConfig:function(){var e,t,i,r,a,s;return{filterBy:(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.filterBy)||this.initFilter.filterBy,users:this.usersGlobal||(null===(t=this.chart.filtersFull)||void 0===t?void 0:t.users)||this.initUsers,pipeline:(null===(i=this.chart.filtersFull)||void 0===i?void 0:i.pipeline)||this.initPipeline,periodRange:this.periodRangeGlobal||(null===(r=this.chart.filtersFull)||void 0===r?void 0:r.periodRange)||this.periodRange,periodPredefined:this.periodPredefinedGlobal||(null===(a=this.chart.filtersFull)||void 0===a?void 0:a.periodPredefined)||[this.defaultPeriod]||this.initFilter.periodPredefined,periodRangeToCompare:(null===(s=this.chart.filtersFull)||void 0===s?void 0:s.periodRangeToCompare)||this.initFilter.periodRangeToCompare}},filtersTable:function(){var e,t=this.getPeriod(this.initFilter.periodPredefined[0]).get(),i=Object(s["a"])(t,2),r=i[0],a=i[1];return{users:this.usersGlobal||this.users||this.initUsers,pipelines:this.pipelines||[this.initPipeline],periodRange:this.periodRangeGlobal||(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.periodRange)||{start:r,end:a},activitiesStatus:this.initFilter.activitiesFilter,activityTypes:this.filtersChartsDefault.activityTypes||this.initFilter.activityTypes,fromReportStatus:this.initFilter.fromReportStatus}}}},U=G,$=(i("7695"),Object(v["a"])(U,r,a,!1,null,"de51ec4a",null));t["a"]=$.exports},f005:function(e,t,i){"use strict";i("0da8")},f543:function(e,t,i){"use strict";i("5b21")},fca4:function(e,t,i){"use strict";var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseCardChart",{attrs:{title:e.title,titleRegular:e.titleRegular,settings:e.filtersConfig,isChart:""},on:{updateRefetch:function(t){e.isRefetch=!0}},scopedSlots:e._u([{key:"modal",fn:function(){return[i("BarUncompletedActivitiesByStageFilter",{attrs:{defaultFilter:e.filtersConfig,isIcon:"",isPreview:""}})]},proxy:!0}])},[i("div",{staticClass:"hoverClick",on:{click:e.openModal}},[i("BarUncompletedActivitiesByStageData",{attrs:{defaultFilter:e.filtersConfig,isPreview:"",isRefetch:e.isRefetch},on:{updateRefetch:function(t){e.isRefetch=!1}}})],1),i("BarUncompletedActivitiesByStageModal",{attrs:{isOpen:e.isOpenModal,filters:{filtersConfig:e.filtersConfig,filtersTable:e.filtersTable},title:e.title,titleRegular:e.titleRegular},on:{close:e.closeModal}})],1)},a=[],s=i("3835"),n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalChart",{attrs:{title:e.title,titleRegular:e.titleRegular,isOpen:e.isOpen},on:{close:e.closeModal},scopedSlots:e._u([{key:"filters",fn:function(){return[i("BarUncompletedActivitiesByStageFilter",{attrs:{defaultFilter:e.filters.filtersConfig}})]},proxy:!0},{key:"chart",fn:function(){return[i("BarUncompletedActivitiesByStageData",{attrs:{defaultFilter:e.filters.filtersConfig,isFull:""}})]},proxy:!0},{key:"table",fn:function(){return[i("TableActivities",{attrs:{defaultFilter:e.filters.filtersTable}})]},proxy:!0}])})},o=[],l=i("52e2"),d=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalFilters",{attrs:{isOpen:e.isOpenModalFilter,isIcon:e.isIcon},on:{save:e.saveFilter,statusModal:e.statusModal}},[i("v-row",[i("v-col",{attrs:{cols:"12"}},[i("Select",{attrs:{name:"Estado de trato",defaultSelect:e.defaultFilter.dealsFilter,list:e.listStatusDeals},on:{change:e.changeStatusDeal}})],1),i("v-col",{attrs:{cols:"12"}},[i("SelectUsers",{attrs:{all:"",defaultSelect:e.defaultFilter.users},on:{change:e.changeUsers}})],1),i("v-col",{attrs:{cols:"12"}},[i("SelectPipeline",{attrs:{defaultSelect:e.defaultFilter.pipeline},on:{change:e.changePipeline}})],1),i("v-col",{attrs:{cols:"12"}},[i("PeriodPredefined",{attrs:{defaultSelect:e.defaultFilter.periodPredefined},on:{change:e.changePeriodPredefined}})],1),e.isPreview?e._e():i("v-col",{attrs:{cols:"12"}},[i("ComparePeriodBars",{attrs:{periodPredefined:e.filters.periodPredefined[0]},on:{change:e.changeComparePeriod}})],1)],1)],1)},c=[],p=i("5530"),f=i("740f"),u=i("d344"),v=i("6321"),h=i("c065"),m={name:"BarUncompletedActivitiesByStageFilter",components:{SelectUsers:f["a"],SelectPipeline:v["a"],Select:u["a"]},mixins:[l["b"]],props:{defaultFilter:{type:Object,default:function(){return{dealsFilter:"ALL",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},typeCompare:"none"}}}},data:function(){return{listStatusActivities:h["b"],listStatusDeals:h["c"],filters:{dealsFilter:"ALL",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},typeCompare:"none"}}},methods:{saveFilter:function(){this.changeChart({id:"bar-uncompletedActivitiesByStage",filtersFull:Object(p["a"])(Object(p["a"])({},this.noReactive(this.filters)),{},{periodRange:Object(p["a"])({__typename:"PeriodRange"},this.filters.periodRange)})}),this.isOpenModalFilter=!1}}},g=m,C=i("0c7c"),y=i("6544"),T=i.n(y),R=i("62ad"),b=i("0fd9"),S=Object(C["a"])(g,d,c,!1,null,"b2868b62",null),P=S.exports;T()(S,{VCol:R["a"],VRow:b["a"]});var F=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.isPreview?e._e():i("ListFilters",{attrs:{settings:e.settings}}),i("div",{staticClass:"text-center bgWhite",class:[{"py-5 px-3":!e.isPreview},{showScroll:e.isWithScroll}]},[i("apexchart",{attrs:{height:e.isPreview?250:350,type:"bar",options:e.options,series:e.series}}),e.isPreview||"date"!==e.settings.typeCompare?e._e():i("h4",[e._v(" Comparación de fecha ")]),e.isPreview||"user"!==e.settings.typeCompare?e._e():i("h4",[e._v(" Comparación con otro usuario ")]),e.isPreview||"none"===e.settings.typeCompare?e._e():i("apexchart",{attrs:{height:e.isPreview?250:350,type:"bar",options:e.optionsCompare,series:e.seriesCompare}})],1),e.isPreview?e._e():i("BarUncompletedActivitiesByStageInformation",{attrs:{information:e.uncompletedActivitiesByStageHorizontalBarsAndTable.informationBar,filterBy:e.settings.filterBy}})],1)},A=[],B=(i("b680"),i("d81d"),i("8d7e")),_=i("b3b3"),w=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-card",{staticClass:"mt-5",attrs:{flat:""}},[i("v-container",[i("v-row",[i("v-col",{attrs:{cols:"3"}},[i("span",{staticClass:"d-block"},[i("b",[e._v("Actividades reagendadas:")]),e._v(" "+e._s(e.information.periodsActivities&&e.information.periodsActivities.bookedActivities)+" ")]),i("span",{staticClass:"d-block"},[i("b",[e._v("Activitiades completadas:")]),e._v(" "+e._s(e.information.periodsActivities&&e.information.periodsActivities.completedActivities)+" ")]),i("span",{staticClass:"d-block"},[i("b",[e._v("Actividades cumplidas:")]),e._v(" "+e._s(e.information.periodsActivities&&e.information.periodsActivities.compliedActivities)+" ")])]),i("v-col",{attrs:{cols:"3"}},[i("span",{staticClass:"d-block"},[i("b",[e._v("Actividades efectivas:")]),e._v(" "+e._s(e.information.periodsActivities&&e.information.periodsActivities.effectiveActivities)+" ")]),i("span",{staticClass:"d-block"},[i("b",[e._v("Actividades vencidas:")]),e._v(" "+e._s(e.information.periodsActivities&&e.information.periodsActivities.expiredActivities)+" ")]),i("span",{staticClass:"d-block"},[i("b",[e._v("Actividades inefectivas:")]),e._v(" "+e._s(e.information.periodsActivities&&e.information.periodsActivities.ineffectiveActivities)+" ")])]),i("v-col",{attrs:{cols:"3"}},[i("span",{staticClass:"d-block"},[i("b",[e._v("Actividades reagendadas anterior:")]),e._v(" "+e._s(e.information.pastPeriodsActivities&&e.information.pastPeriodsActivities.bookedActivities)+" ")]),i("span",{staticClass:"d-block"},[i("b",[e._v("Activitiades completadas anterior:")]),e._v(" "+e._s(e.information.pastPeriodsActivities&&e.information.pastPeriodsActivities.completedActivities)+" ")]),i("span",{staticClass:"d-block"},[i("b",[e._v("Actividades cumplidas anterior:")]),e._v(" "+e._s(e.information.pastPeriodsActivities&&e.information.pastPeriodsActivities.compliedActivities)+" ")])]),i("v-col",{attrs:{cols:"3"}},[i("span",{staticClass:"d-block"},[i("b",[e._v("Actividades efectivas anterior:")]),e._v(" "+e._s(e.information.pastPeriodsActivities&&e.information.pastPeriodsActivities.effectiveActivities)+" ")]),i("span",{staticClass:"d-block"},[i("b",[e._v("Actividades vencidas anterior:")]),e._v(" "+e._s(e.information.pastPeriodsActivities&&e.information.pastPeriodsActivities.expiredActivities)+" ")]),i("span",{staticClass:"d-block"},[i("b",[e._v("Actividades inefectivas anterior:")]),e._v(" "+e._s(e.information.pastPeriodsActivities&&e.information.pastPeriodsActivities.ineffectiveActivities)+" ")])])],1)],1)],1)},O=[],E={name:"BarUncompletedActivitiesByStageInformation",props:{information:{type:Object,default:function(){return{}}},filterBy:{type:String,default:"count"}}},D=E,x=i("b0af"),M=i("a523"),I=Object(C["a"])(D,w,O,!1,null,null,null),k=I.exports;T()(I,{VCard:x["a"],VCol:R["a"],VContainer:M["a"],VRow:b["a"]});var H={name:"BarUncompletedActivitiesByStageData",mixins:[l["a"]],components:{BarUncompletedActivitiesByStageInformation:k},props:{defaultFilter:{type:Object,default:function(){return{dealsFilter:"ALL",activitiesFilter:"ALL",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],typeCompare:"none"}}}},data:function(){return{listFilterBy:h["e"],uncompletedActivitiesByStageHorizontalBarsAndTable:{mainUncompletedActivitiesByStage:[],secondUncompletedActivitiesByStage:[]},modalSettings:{dealsFilter:"ALL",activitiesFilter:"ALL",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],typeCompare:"none"},settings:{dealsFilter:"ALL",activitiesFilter:"ALL",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],typeCompare:"none"}}},computed:{options:function(){return this.formatOptions(this.uncompletedActivitiesByStageHorizontalBarsAndTable.stages)},optionsCompare:function(){return this.formatOptions(this.uncompletedActivitiesByStageHorizontalBarsAndTable.stages)},series:function(){return this.formatSeries(this.uncompletedActivitiesByStageHorizontalBarsAndTable.mainUncompletedActivitiesByStage)},seriesCompare:function(){return this.formatSeries(this.uncompletedActivitiesByStageHorizontalBarsAndTable.secondUncompletedActivitiesByStage)},showTitleXaxis:function(){if(!this.isPreview)return"Total"},showTitleYaxis:function(){if(!this.isPreview)return"Etapas"},isWithScroll:function(){return this.isLargeWidth&&this.isPreview},filters:function(){var e={dateRange:{dateStart:this.dateStart,dateEnd:this.dateEnd},owners:this.ownersFilter,pipeline:this.pipelineFilter,dealsFilter:this.settings.dealsFilter,activitiesFilter:this.settings.activitiesFilter};return this.dateRangeToCompare&&""!==this.dateRangeToCompare.dateStart&&""!==this.dateRangeToCompare.dateEnd&&(e.dateRangeToCompare=this.dateRangeToCompare),e}},methods:{formatOptions:function(e){return{chart:{type:"bar",height:this.isPreview?"250":"350",width:this.isWithScroll?"600":"100%",stacked:!0,toolbar:{show:!1},zoom:{enabled:!1}},plotOptions:{bar:{borderRadius:4,horizontal:!0}},colors:_["a"],dataLabels:{enabled:!0,style:{fontSize:"12px",fontWeight:"bold",colors:["#000"]},background:{enabled:!0,foreColor:"#fff"}},grid:{row:{colors:["#f3f3f3","transparent"],opacity:.5}},xaxis:{categories:e||[],title:{text:this.showTitleXaxis},tickAmount:1,labels:{formatter:function(e){return e.toFixed(0)}}},yaxis:{title:{text:this.showTitleYaxis}},tooltip:{y:{formatter:function(e){return e}}},legend:{position:"top",horizontalAlign:this.isPreview?"left":"center",showForSingleSeries:!0}}},formatSeries:function(e){return e&&e.length?e.map((function(e){var t=e.typeName,i=e.countList;return{name:t,data:i.map((function(e){return e.count}))}})):[]},update:function(){this.$apollo.queries.uncompletedActivitiesByStageHorizontalBarsAndTable.refetch()}},apollo:{uncompletedActivitiesByStageHorizontalBarsAndTable:{query:B["S"],fetchPolicy:"no-cache",client:"charts",variables:function(){return{filters:this.filters}},skip:function(){return""===this.dateStart||""===this.dateEnd||!this.pipelineFilter.id||0===this.ownersFilter.length},watchLoading:function(e){this.isLoading=e}}}},V=H,j=(i("e4a7"),Object(C["a"])(V,F,A,!1,null,"fdf40a26",null)),L=j.exports,W=i("157d"),N={name:"BarUncompletedActivitiesByStageModal",components:{BarUncompletedActivitiesByStageFilter:P,BarUncompletedActivitiesByStageData:L,TableActivities:W["a"]},mixins:[l["c"]],props:{filters:{type:Object,default:function(){return{filtersConfig:{dealsFilter:"ALL",activitiesFilter:"ALL",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},typeCompare:"none"},filtersTable:{users:[],pipelines:[],periodRange:{start:"",end:""},dealStatus:"",stages:[],activityTypes:[],fromReportStatus:"ACTIVITIESBYSTAGE"}}}}}},G=N,U=Object(C["a"])(G,n,o,!1,null,"7c846a94",null),$=U.exports,z={name:"BarUncompletedActivitiesByStagePreview",components:{BarUncompletedActivitiesByStageData:L,BarUncompletedActivitiesByStageModal:$,BarUncompletedActivitiesByStageFilter:P},mixins:[l["d"]],props:{defaultPeriod:{type:String,default:"THIS_MONTH"}},data:function(){return{chartId:"bar-uncompletedActivitiesByStage",title:"Actividades",titleRegular:"Incompletas",filtersChartsDefault:{},initFilter:{dealsFilter:"ALL",activitiesFilter:"PENDING",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},typeCompare:"none",stages:[],activityTypes:[],fromReportStatus:"ACTIVITIESBYSTAGE"}}},computed:{filtersConfig:function(){var e,t,i,r,a,s,n;return{dealsFilter:(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.dealsFilter)||this.initFilter.dealsFilter,users:this.usersGlobal||(null===(t=this.chart.filtersFull)||void 0===t?void 0:t.users)||this.initUsers,pipeline:(null===(i=this.chart.filtersFull)||void 0===i?void 0:i.pipeline)||this.initPipeline,periodRange:this.periodRangeGlobal||(null===(r=this.chart.filtersFull)||void 0===r?void 0:r.periodRange)||this.periodRange,periodPredefined:this.periodPredefinedGlobal||(null===(a=this.chart.filtersFull)||void 0===a?void 0:a.periodPredefined)||[this.defaultPeriod]||this.initFilter.periodPredefined,periodRangeToCompare:(null===(s=this.chart.filtersFull)||void 0===s?void 0:s.periodRangeToCompare)||this.initFilter.periodRangeToCompare,typeCompare:(null===(n=this.chart.filtersFull)||void 0===n?void 0:n.typeCompare)||this.initFilter.typeCompare}},filtersTable:function(){var e,t=this.getPeriod(this.initFilter.periodPredefined[0]).get(),i=Object(s["a"])(t,2),r=i[0],a=i[1];return{users:this.usersGlobal||this.users||this.initUsers,pipelines:this.pipelines||[this.initPipeline],periodRange:this.periodRangeGlobal||(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.periodRange)||{start:r,end:a},dealStatus:this.initFilter.dealsFilter,activitiesStatus:this.initFilter.activitiesFilter,activityTypes:this.filtersChartsDefault.activityTypes||this.initFilter.activityTypes,fromReportStatus:this.initFilter.fromReportStatus}}}},Y=z,q=(i("8120"),Object(C["a"])(Y,r,a,!1,null,"627da6f6",null));t["a"]=q.exports}}]);
//# sourceMappingURL=chunk-5485707a.fae03d33.js.map