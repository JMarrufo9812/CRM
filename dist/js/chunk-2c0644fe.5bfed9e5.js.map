{"version":3,"sources":["webpack:///./src/components/settingsEnterprise/GeneralSettings.vue?f128","webpack:///./src/components/settingsEnterprise/GeneralSettings.vue?c81b","webpack:///src/components/settingsEnterprise/GeneralSettings.vue","webpack:///./src/components/settingsEnterprise/GeneralSettings.vue?bf72","webpack:///./src/components/settingsEnterprise/GeneralSettings.vue?75e5","webpack:///./src/graphql/mutations/enterprisesMutations.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","_v","staticStyle","model","value","enterprise","callback","$$v","$set","expression","isLoading","nameVerification","on","updateEnterprise","staticRenderFns","watch","userCurrent","id","name","data","computed","methods","$apollo","outData","type","$emit","info","apollo","query","component","VAvatar","VBtn","VCard","VIcon","VTextField","CREATE_ENTERPRISE","gql","UPDATE_ENTERPRISE","UPDATE_ENTERPRISE_DEFAULT"],"mappings":"kHAAA,W,2CCAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,SAAS,CAACE,MAAM,CAAC,MAAQ,OAAO,OAAS,SAAS,CAACF,EAAG,MAAM,CAACG,YAAY,0CAA0C,CAACH,EAAG,OAAO,CAACG,YAAY,4CAA4C,CAACP,EAAIQ,GAAG,8CAA8CJ,EAAG,MAAM,CAACG,YAAY,yBAAyB,CAACH,EAAG,WAAW,CAACE,MAAM,CAAC,KAAO,KAAK,MAAQ,cAAc,CAACF,EAAG,SAAS,CAACG,YAAY,cAAcD,MAAM,CAAC,UAAU,KAAK,CAACN,EAAIQ,GAAG,iBAAiB,IAAI,GAAGJ,EAAG,MAAM,CAACG,YAAY,yBAAyB,CAACH,EAAG,MAAM,CAACG,YAAY,eAAeE,YAAY,CAAC,MAAQ,QAAQ,CAACL,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQ,GAAG,MAAQ,uBAAuB,SAAW,GAAG,eAAe,OAAO,UAAY,KAAK,QAAU,IAAII,MAAM,CAACC,MAAOX,EAAIY,WAAe,KAAEC,SAAS,SAAUC,GAAMd,EAAIe,KAAKf,EAAIY,WAAY,OAAQE,IAAME,WAAW,sBAAsB,KAAKZ,EAAG,MAAM,CAACG,YAAY,8BAA8B,CAACH,EAAG,QAAQ,CAACE,MAAM,CAAC,MAAQ,GAAG,QAAUN,EAAIiB,UAAU,SAAWjB,EAAIkB,iBAAiB,MAAQ,aAAaC,GAAG,CAAC,MAAQnB,EAAIoB,mBAAmB,CAACpB,EAAIQ,GAAG,gBAAgB,MAChnCa,EAAkB,G,8CC0CtB,GACEC,MAAO,CACLC,YADJ,YACA,mCACMtB,KAAKW,WAAa,CAChBY,GAAR,EACQC,KAAR,KAIEC,KATF,WAUI,MAAO,CACLT,WAAW,EACXL,WAAY,CACVY,GAAI,GACJC,KAAM,MAIZE,SAAU,CACRT,iBADJ,WACA,QACM,SACN,kGACA,0EAOEU,QAAS,CACPR,iBADJ,WACA,WACMnB,KAAKgB,WAAY,EACjBhB,KAAK4B,QACX,QACQ,SAAR,OACQ,UAAR,CACU,MAAV,CACY,KAAZ,yBAIA,iBACQ,EAAR,aACQ,EAAR,mBACU,QAAV,EACU,MAAV,UACU,KAAV,+CAGA,kBACQ,EAAR,aACQ,IAAR,EACA,yEACQ,EAAR,iBACU,QAAV,EACU,MAAV,QAIIC,QA9BJ,SA8BA,KACmB,YAATC,GAAoB9B,KAAK+B,MAAM,UAAWC,GACjC,UAATF,GAAkB9B,KAAK+B,MAAM,QAASC,KAG9CC,OAAQ,CACNX,YAAa,CACXY,MAAO,EAAb,QC7G6gB,I,yGCQzgBC,EAAY,eACd,EACArC,EACAsB,GACA,EACA,KACA,WACA,MAIa,aAAAe,EAAiB,QAShC,IAAkBA,EAAW,CAACC,UAAA,KAAQC,OAAA,KAAKC,QAAA,KAAMC,QAAA,KAAMC,aAAA,Q,iMC1B1CC,EAAoBC,eAAH,qPAYjBC,EAAoBD,eAAH,iLASjBE,EAA4BF,eAAH","file":"js/chunk-2c0644fe.5bfed9e5.js","sourcesContent":["export * from \"-!../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./GeneralSettings.vue?vue&type=style&index=0&id=509041be&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',{attrs:{\"width\":\"35em\",\"height\":\"28em\"}},[_c('div',{staticClass:\"d-flex justify-center pt-12 px-12 pb-6\"},[_c('span',{staticClass:\"text-center title-general-settings mx-12\"},[_vm._v(\" Configuraciones generales de empresa \")])]),_c('div',{staticClass:\"d-flex justify-center\"},[_c('v-avatar',{attrs:{\"size\":\"80\",\"color\":\"secondary\"}},[_c('v-icon',{staticClass:\"white--text\",attrs:{\"x-large\":\"\"}},[_vm._v(\"mdi-domain\")])],1)],1),_c('div',{staticClass:\"d-flex justify-center\"},[_c('div',{staticClass:\"pt-12 d-flex\",staticStyle:{\"width\":\"60%\"}},[_c('v-text-field',{attrs:{\"dense\":\"\",\"label\":\"Nombre de la empresa\",\"outlined\":\"\",\"hide-details\":\"auto\",\"maxlength\":\"50\",\"counter\":\"\"},model:{value:(_vm.enterprise.name),callback:function ($$v) {_vm.$set(_vm.enterprise, \"name\", $$v)},expression:\"enterprise.name\"}})],1)]),_c('div',{staticClass:\"d-flex justify-center pt-6\"},[_c('v-btn',{attrs:{\"large\":\"\",\"loading\":_vm.isLoading,\"disabled\":_vm.nameVerification,\"color\":\"secondary\"},on:{\"click\":_vm.updateEnterprise}},[_vm._v(\" Guardar \")])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-card width=\"35em\" height=\"28em\">\n    <div class=\"d-flex justify-center pt-12 px-12 pb-6\">\n      <span class=\"text-center title-general-settings mx-12\">\n        Configuraciones generales de empresa\n      </span>\n    </div>\n    <div class=\"d-flex justify-center\">\n      <v-avatar size=\"80\" color=\"secondary\">\n        <v-icon class=\"white--text\" x-large>mdi-domain</v-icon>\n      </v-avatar>\n    </div>\n    <div class=\"d-flex justify-center\">\n      <div class=\"pt-12 d-flex\" style=\"width:60%\">\n        <v-text-field\n          v-model=\"enterprise.name\"\n          dense\n          label=\"Nombre de la empresa\"\n          outlined\n          hide-details=\"auto\"\n          maxlength=\"50\"\n          counter\n        ></v-text-field>\n      </div>\n    </div>\n    <div class=\"d-flex justify-center pt-6\">\n      <v-btn\n        large\n        :loading=\"isLoading\"\n        :disabled=\"nameVerification\"\n        @click=\"updateEnterprise\"\n        color=\"secondary\"\n      >\n        Guardar\n      </v-btn>\n    </div>\n  </v-card>\n</template>\n\n<script>\nimport { GET_USER_LOGGED } from '@/graphql/local-state/queries';\nimport { UPDATE_ENTERPRISE } from '@/graphql/mutations/enterprisesMutations';\n\nexport default {\n  watch: {\n    userCurrent({ enterprise: { id, name } }) {\n      this.enterprise = {\n        id,\n        name,\n      };\n    },\n  },\n  data() {\n    return {\n      isLoading: false,\n      enterprise: {\n        id: '',\n        name: '',\n      },\n    };\n  },\n  computed: {\n    nameVerification() {\n      if (\n        this.enterprise.name?.trim() !== this.userCurrent.enterprise.name &&\n        this.enterprise.name?.trim().length >= 1\n      ) {\n        return false;\n      }\n      return true;\n    },\n  },\n  methods: {\n    updateEnterprise() {\n      this.isLoading = true;\n      this.$apollo\n        .mutate({\n          mutation: UPDATE_ENTERPRISE,\n          variables: {\n            input: {\n              name: this.enterprise.name,\n            },\n          },\n        })\n        .then(() => {\n          this.isLoading = false;\n          this.outData('SUCCESS', {\n            isOpen: true,\n            color: 'success',\n            text: 'El nombre de tu empresa fuÃ© actualizado',\n          });\n        })\n        .catch(() => {\n          this.isLoading = false;\n          const errorMessage =\n            'No se pudo actualizar el nombre, intente de nuevo o contacte a soporte';\n          this.outData('ERROR', {\n            isOpen: true,\n            error: errorMessage,\n          });\n        });\n    },\n    outData(type, info) {\n      if (type === 'SUCCESS') this.$emit('success', info);\n      if (type === 'ERROR') this.$emit('error', info);\n    },\n  },\n  apollo: {\n    userCurrent: {\n      query: GET_USER_LOGGED,\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import '{ .title-general-settings } from ../../../../scss/components/general.settings';\n</style>\n","import mod from \"-!../../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/@vue/cli-plugin-babel/node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./GeneralSettings.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/@vue/cli-plugin-babel/node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./GeneralSettings.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./GeneralSettings.vue?vue&type=template&id=509041be&scoped=true&\"\nimport script from \"./GeneralSettings.vue?vue&type=script&lang=js&\"\nexport * from \"./GeneralSettings.vue?vue&type=script&lang=js&\"\nimport style0 from \"./GeneralSettings.vue?vue&type=style&index=0&id=509041be&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"509041be\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAvatar } from 'vuetify/lib/components/VAvatar';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VAvatar,VBtn,VCard,VIcon,VTextField})\n","import gql from 'graphql-tag';\n\nexport const CREATE_ENTERPRISE = gql`\n  mutation createEnterprise($enterpriseInput: enterpriseOtherCreateInput!) {\n    createEnterprise(enterpriseInput: $enterpriseInput) {\n      id\n      enterprise {\n        id\n        name\n      }\n    }\n  }\n`;\n\nexport const UPDATE_ENTERPRISE = gql`\n  mutation UpdateEnterprise($input: enterpriseUpdateInput!) {\n    updateEnterprise(enterpriseInput: $input) {\n      id\n      name\n    }\n  }\n`;\n\nexport const UPDATE_ENTERPRISE_DEFAULT = gql`\n  mutation updateEnterpriseDefault($enterpriseId: ID!) {\n    updateEnterpriseDefault(enterpriseId: $enterpriseId)\n  }\n`;\n"],"sourceRoot":""}