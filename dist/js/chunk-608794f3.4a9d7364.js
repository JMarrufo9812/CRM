(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-608794f3"],{"172b":function(n,e,t){"use strict";t("511b")},"1de0":function(n,e,t){"use strict";t.d(e,"a",(function(){return s}));t("99af"),t("b0c0");var a=t("7029"),o=t("8b3e"),s={data:function(){return{modalMergeDuplicates:{isOpen:!1,isLoading:!1},duplicateList:[]}},watch:{modalMergeDuplicates:function(n){var e=n.isOpen;e||(this.duplicateList=[])}},methods:{modalHandlerMergeDuplicates:function(n){var e=n.isOpen,t=n.isLoading;this.modalMergeDuplicates={isOpen:e,isLoading:t}},correctDuplicate:function(n,e){this.updateData=!0,this.snackbarHandler({isOpen:!0,color:"success",text:"".concat("CONTACT"===n?"El contacto":"La empresa"," \n        ").concat(e.name," se ha fusionado correctamente")}),"CONTACT"===n?this.getDuplicateContacts():this.getDuplicateCompanies()},getDuplicateContacts:function(){var n=this;this.modalHandlerMergeDuplicates({isOpen:!0,isLoading:!0}),this.$apollo.mutate({mutation:a["f"]}).then((function(e){var t=e.data.duplicateContacts;n.duplicateList=t,n.modalHandlerMergeDuplicates({isOpen:!0,isLoading:!1})})).catch((function(){var e="No se ha podido obtener los contactos duplicados, intente de nuevo o contacte a soporte";n.modalHandlerError({isOpen:!0,error:e})}))},getDuplicateCompanies:function(){var n=this;this.modalHandlerMergeDuplicates({isOpen:!0,isLoading:!0}),this.$apollo.mutate({mutation:o["e"]}).then((function(e){var t=e.data.duplicateCompanies;n.duplicateList=t,n.modalHandlerMergeDuplicates({isOpen:!0,isLoading:!1})})).catch((function(){var e="No se ha podido obtener las empresas duplicadas, intente de nuevo o contacte a soporte";n.modalHandlerError({isOpen:!0,error:e})}))}}}},"511b":function(n,e,t){},7029:function(n,e,t){"use strict";t.d(e,"b",(function(){return m})),t.d(e,"g",(function(){return p})),t.d(e,"a",(function(){return f})),t.d(e,"e",(function(){return v})),t.d(e,"c",(function(){return C})),t.d(e,"d",(function(){return h})),t.d(e,"f",(function(){return y}));var a,o,s,i,r,c,l,d=t("8785"),u=t("5184"),m=Object(u["a"])(a||(a=Object(d["a"])(["\n  query getContacts($filters: FilterContacts, $importId: ID) {\n    contacts(filters: $filters, importId: $importId) {\n      count\n      informationBar {\n        totalCount\n        contactsWithOpenDeals\n        contactsWithWonDeals\n      }\n      list {\n        id\n        name\n        email\n        phones\n        isClient\n        socialMedias\n        birthday\n        createdAt\n        updatedAt\n        customForms\n        createdBy {\n          id\n          user {\n            id\n            name\n            lastName\n          }\n        }\n        contactCounts {\n          openDeals\n          closedDeals\n          lostDeals\n          wonDeals\n          emailMessages\n          totalActivities\n          doneActivities\n          undoneActivities\n          files\n          notes\n        }\n        owner {\n          id\n          user {\n            id\n            name\n            lastName\n          }\n        }\n        tags {\n          id\n          name\n          color\n          order\n        }\n        companies {\n          id\n          name\n        }\n      }\n    }\n  }\n"]))),p=Object(u["a"])(o||(o=Object(d["a"])(["\n  query getContacts($filters: FilterContacts, $importId: ID) {\n    searchContacts: contacts(filters: $filters, importId: $importId) {\n      list {\n        id\n        name\n        companies {\n          id\n          name\n        }\n        owner {\n          id\n        }\n      }\n    }\n  }\n"]))),f=Object(u["a"])(s||(s=Object(d["a"])(["\n  query GetContact($contactId: ID!) {\n    contact(contactId: $contactId) {\n      id\n      name\n      email\n      phones\n      isClient\n      socialMedias\n      birthday\n      customForms\n      owner {\n        id\n        user {\n          id\n          name\n          lastName\n        }\n      }\n      enterprise {\n        id\n        name\n      }\n      tags {\n        id\n        name\n        color\n        order\n      }\n      companies {\n        id\n        name\n        owner {\n          id\n        }\n      }\n      deals {\n        id\n        title\n        value\n        status\n        contact {\n          id\n          name\n        }\n        company {\n          id\n          name\n        }\n        stage {\n          id\n        }\n        pipeline {\n          id\n          stages {\n            id\n          }\n        }\n        owner {\n          id\n        }\n      }\n      createdAt\n      isDelete\n    }\n  }\n"]))),v=Object(u["a"])(i||(i=Object(d["a"])(["\n  query GetContactHistory($contactId: ID!) {\n    contactHistory: contact(contactId: $contactId) {\n      id\n      name\n      email\n      files\n      import {\n        id\n      }\n      activityEmailStream {\n        id\n        flow\n        users {\n          id\n          user {\n            id\n            name\n            lastName\n          }\n        }\n      }\n      activityStream {\n        id\n        flow\n        users {\n          id\n          user {\n            id\n            name\n            lastName\n          }\n        }\n        companies {\n          id\n          name\n        }\n        deals {\n          id\n          title\n        }\n        customs {\n          id\n          label\n        }\n      }\n      notes {\n        id\n        content\n        type\n        createdAt\n        userTags {\n          id\n          user {\n            id\n            name\n            lastName\n          }\n        }\n        createdBy {\n          id\n          user {\n            id\n            name\n            lastName\n          }\n        }\n        comments {\n          id\n          comment\n          createdAt\n          createdBy {\n            id\n            user {\n              id\n              name\n              lastName\n            }\n          }\n          userTags {\n            id\n            user {\n              id\n              name\n              lastName\n            }\n          }\n        }\n      }\n      activities {\n        id\n        title\n        status\n        start\n        end\n        location\n        description\n        deal {\n          id\n          title\n        }\n        contacts {\n          id\n          name\n        }\n        companies {\n          id\n          name\n        }\n        type {\n          id\n          name\n          color\n        }\n        owner {\n          id\n          user {\n            id\n            name\n            lastName\n          }\n        }\n        notes {\n          id\n          content\n          type\n          userTags {\n            id\n            user {\n              id\n              name\n              lastName\n            }\n          }\n          createdBy {\n            id\n            user {\n              id\n              name\n              lastName\n            }\n          }\n          createdAt\n          comments {\n            id\n            comment\n            userTags {\n              id\n            }\n            createdBy {\n              id\n              user {\n                id\n                name\n                lastName\n              }\n            }\n            createdAt\n          }\n        }\n        completedDate\n        createdAt\n        isAllDay\n        guests\n      }\n    }\n  }\n"]))),C=Object(u["a"])(r||(r=Object(d["a"])(["\n  query getContactsToEmail($filters: FilterContacts) {\n    contacts(filters: $filters) {\n      list {\n        id\n        name\n        email\n        birthday\n        companies {\n          id\n          name\n        }\n      }\n    }\n  }\n"]))),h=Object(u["a"])(c||(c=Object(d["a"])(["\n  query getContactsToInvites($filters: FilterContacts) {\n    contacts(filters: $filters) {\n      list {\n        id\n        name\n        email\n      }\n    }\n  }\n"]))),y=Object(u["a"])(l||(l=Object(d["a"])(["\n  query DuplicateContacts {\n    duplicateContacts {\n      list {\n        id\n        name\n        email\n        phones\n        companies {\n          id\n          name\n        }\n        contactCounts {\n          openDeals\n          totalActivities\n        }\n        owner {\n          id\n          user {\n            id\n            name\n            lastName\n          }\n        }\n        createdBy {\n          id\n          user {\n            id\n            name\n            lastName\n          }\n        }\n        createdAt\n      }\n    }\n  }\n"])))},"8b3e":function(n,e,t){"use strict";t.d(e,"a",(function(){return u})),t.d(e,"f",(function(){return m})),t.d(e,"c",(function(){return p})),t.d(e,"d",(function(){return f})),t.d(e,"b",(function(){return v})),t.d(e,"e",(function(){return C}));var a,o,s,i,r,c,l=t("8785"),d=t("5184"),u=Object(d["a"])(a||(a=Object(l["a"])(["\n  query getCompanies($filters: FilterCompanies, $importId: ID) {\n    companies(filters: $filters, importId: $importId) {\n      count\n      informationBar {\n        totalCount\n        companiesWithOpenDeals\n        companiesWithWonDeals\n      }\n      list {\n        id\n        name\n        address\n        website\n        phones\n        socialMedias\n        createdAt\n        updatedAt\n        customForms\n        createdBy {\n          id\n          user {\n            id\n            name\n            lastName\n          }\n        }\n        companyCounts {\n          openDeals\n          closedDeals\n          lostDeals\n          wonDeals\n          emailMessages\n          totalActivities\n          doneActivities\n          undoneActivities\n          files\n          notes\n        }\n        owner {\n          id\n          user {\n            id\n            name\n            lastName\n          }\n        }\n        tags {\n          id\n          name\n          color\n          order\n        }\n        contacts {\n          id\n          name\n        }\n      }\n    }\n  }\n"]))),m=Object(d["a"])(o||(o=Object(l["a"])(["\n  query getCompanies($filters: FilterCompanies) {\n    searchCompanies: companies(filters: $filters) {\n      count\n      list {\n        id\n        name\n        owner {\n          id\n        }\n      }\n    }\n  }\n"]))),p=Object(d["a"])(s||(s=Object(l["a"])(["\n  query getCompany($companyId: ID!) {\n    company(companyId: $companyId) {\n      id\n      name\n      address\n      website\n      phones\n      customForms\n      socialMedias\n      files\n      isDelete\n      tags {\n        id\n        name\n        color\n        order\n      }\n      owner {\n        id\n        user {\n          id\n          name\n          lastName\n        }\n      }\n      contacts {\n        id\n        name\n        owner {\n          id\n        }\n      }\n      deals {\n        id\n        title\n        value\n        status\n        contact {\n          id\n          name\n        }\n        company {\n          id\n          name\n        }\n        stage {\n          id\n        }\n        pipeline {\n          id\n          stages {\n            id\n          }\n        }\n        owner {\n          id\n        }\n      }\n    }\n  }\n"]))),f=Object(d["a"])(i||(i=Object(l["a"])(["\n  query getCompanyHistory($companyId: ID!) {\n    companyHistory: company(companyId: $companyId) {\n      id\n      name\n      files\n      import {\n        id\n      }\n      activityStream {\n        id\n        flow\n        users {\n          id\n          user {\n            id\n            name\n            lastName\n          }\n        }\n        contacts {\n          id\n          name\n        }\n        deals {\n          id\n          title\n        }\n        customs {\n          id\n          label\n        }\n      }\n      notes {\n        id\n        content\n        type\n        userTags {\n          id\n          user {\n            id\n            name\n            lastName\n          }\n        }\n        comments {\n          id\n          comment\n          createdBy {\n            id\n            user {\n              id\n              name\n              lastName\n            }\n          }\n          createdAt\n          userTags {\n            id\n            user {\n              id\n              name\n              lastName\n            }\n          }\n        }\n        createdBy {\n          id\n          user {\n            id\n            name\n            lastName\n          }\n        }\n        createdAt\n      }\n      activities {\n        id\n        title\n        status\n        start\n        end\n        location\n        description\n        deal {\n          id\n          title\n        }\n        contacts {\n          id\n          name\n        }\n        companies {\n          id\n          name\n        }\n        type {\n          id\n          name\n          color\n        }\n        owner {\n          id\n          user {\n            id\n            name\n            lastName\n          }\n        }\n        notes {\n          id\n          content\n          type\n          userTags {\n            id\n            user {\n              id\n              name\n              lastName\n            }\n          }\n          createdBy {\n            id\n            user {\n              id\n              name\n              lastName\n            }\n          }\n          createdAt\n          comments {\n            id\n            comment\n            userTags {\n              id\n            }\n            createdBy {\n              id\n              user {\n                id\n                name\n                lastName\n              }\n            }\n            createdAt\n          }\n        }\n        completedDate\n        createdAt\n        isAllDay\n        guests\n      }\n    }\n  }\n"]))),v=Object(d["a"])(r||(r=Object(l["a"])(["\n  query getCompaniesToActivity($filters: FilterCompanies) {\n    companies(filters: $filters) {\n      count\n      list {\n        id\n        name\n      }\n    }\n  }\n"]))),C=Object(d["a"])(c||(c=Object(l["a"])(["\n  query DuplicateCompanies {\n    duplicateCompanies {\n      list {\n        id\n        name\n        address\n        contacts {\n          id\n          name\n        }\n        companyCounts {\n          openDeals\n          totalActivities\n        }\n        owner {\n          id\n          user {\n            id\n            name\n            lastName\n          }\n        }\n        createdBy {\n          id\n          user {\n            id\n            name\n            lastName\n          }\n        }\n        createdAt\n      }\n    }\n  }\n"])))},c93c:function(n,e,t){"use strict";t.r(e);var a=function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("v-container",{staticStyle:{height:"100%"},attrs:{fluid:""}},[t("v-row",[t("v-col",{staticClass:"header-search",attrs:{cols:"8"}},[t("p",{staticClass:"ml-6 my-4"},[n._v(" "+n._s(n.title)+" ")])]),t("v-col",{staticClass:"header-search",attrs:{cols:"4"}},[n.$route.query.filterId||n.$route.query.recyclebin?n._e():t("v-text-field",{staticClass:"py-2 pr-8",attrs:{color:"#ffffff",label:"Buscar",outlined:"",dense:"","append-icon":"mdi-magnify","hide-details":"auto",dark:!0},model:{value:n.searchContact,callback:function(e){n.searchContact=e},expression:"searchContact"}})],1),t("v-col",{staticClass:"pa-0",attrs:{cols:"12"}},[t("ContactsDataTable",{attrs:{headers:n.formatHeaders,updateData:n.updateData,searchContact:n.searchContact},on:{endUpdateData:function(e){n.updateData=!1},selectContacts:n.updateSelectContacts,changeHeaderOrder:n.updateHeaders,contacts:n.updateContactsShow,informationBar:n.updateInformationBar},scopedSlots:n._u([{key:"top",fn:function(){return[t("v-col",{staticClass:"white py-6 pl-12",attrs:{cols:"6"}},[n.$route.query.filterId||n.$route.query.recyclebin?n._e():t("v-menu",{attrs:{bottom:"","offset-y":""},scopedSlots:n._u([{key:"activator",fn:function(e){var a=e.on;return[t("v-tooltip",{attrs:{bottom:""},scopedSlots:n._u([{key:"activator",fn:function(e){var o=e.on;return[t("v-btn",n._g({staticClass:"mr-4",attrs:{outlined:""}},Object.assign({},a,o)),[t("v-icon",[n._v("mdi-cog")])],1)]}}],null,!0)},[t("span",[n._v("Configuraciones")])])]}}],null,!1,1819942147)},[t("v-list",{attrs:{dense:""}},[t("ListHeaders",{attrs:{type:n.viewInfo.type,headers:n.headers,form:n.getForm},on:{outData:n.updateHeaders}}),n.$can(n.FUSE,n.PERMISSIONS_CONTACTS)?t("v-list-item",{staticClass:"text-list-menu",on:{click:n.getDuplicateContacts}},[t("v-icon",{staticClass:"mr-2"},[n._v("mdi-account-switch-outline")]),n._v(" Buscar duplicados ")],1):n._e(),n.$can(n.EXPORT,n.PERMISSIONS_CONTACTS)?t("v-list-item",{staticClass:"text-list-menu",on:{click:function(e){return n.modalHandlerExport({isOpen:!0})}}},[t("v-icon",{attrs:{left:""}},[n._v(" mdi-clipboard-arrow-up-outline ")]),n._v(" Exportar contactos ")],1):n._e(),t("v-list-item",{staticClass:"text-list-menu",on:{click:function(e){return n.$router.push({path:"/contacts",query:{recyclebin:!0}})}}},[t("v-icon",{staticClass:"mr-2"},[n._v(" mdi-delete-outline ")]),n._v(" Papelera de reciclaje ")],1)],1)],1),n.$can(n.BULK_DELETE,n.PERMISSIONS_ADMIN)?t("v-tooltip",{attrs:{bottom:""},scopedSlots:n._u([{key:"activator",fn:function(e){var a=e.on,o=e.attrs;return[t("v-btn",n._g(n._b({directives:[{name:"show",rawName:"v-show",value:n.contactsSelected.length>=1,expression:"contactsSelected.length >= 1"}],staticClass:"mr-2 white--text",attrs:{color:"secondary"},on:{click:function(e){n.$route.query.recyclebin?n.trashContactConfirmation():n.deleteContactConfirmation()}}},"v-btn",o,!1),a),[t("v-icon",[n._v("mdi-delete")])],1)]}}],null,!1,4068540366)},[t("span",[n._v(" "+n._s(n.$route.query.recyclebin?"Eliminar Permanentemente":"Mover a pepelera")+" ")])]):n._e(),n.$can(n.BULK_DELETE,n.PERMISSIONS_ADMIN)&&n.$route.query.recyclebin?t("v-tooltip",{attrs:{bottom:""},scopedSlots:n._u([{key:"activator",fn:function(e){var a=e.on,o=e.attrs;return[t("v-btn",n._g(n._b({directives:[{name:"show",rawName:"v-show",value:n.contactsSelected.length>=1,expression:"contactsSelected.length >= 1"}],staticClass:"mr-2 white--text",attrs:{color:"success"},on:{click:n.restoreContactsConfirmation}},"v-btn",o,!1),a),[t("v-icon",[n._v("mdi-restore")])],1)]}}],null,!1,3395308586)},[t("span",[n._v("Restaurar")])]):n._e(),n.$route.query.recyclebin?n._e():t("ChangeOwner",{attrs:{isOpen:n.isOpenMenuOwner,isLoading:n.isLoading,typeItem:n.typeItem,itemsSelected:n.contactsSelected},on:{"update:isOpen":function(e){n.isOpenMenuOwner=e},"update:is-open":function(e){n.isOpenMenuOwner=e},success:n.changeOwnerSuccess,error:n.changeOwnerError},scopedSlots:n._u([{key:"activator",fn:function(){return[n.$can(n.TO_ASSIGN,n.PERMISSIONS_ADMIN)?t("v-tooltip",{attrs:{bottom:""},scopedSlots:n._u([{key:"activator",fn:function(e){var a=e.on,o=e.attrs;return[t("v-btn",n._g(n._b({directives:[{name:"show",rawName:"v-show",value:n.contactsSelected.length>=1,expression:"contactsSelected.length >= 1"}],staticClass:"mr-2",attrs:{color:"primary"},on:{click:function(e){n.isOpenMenuOwner=!0}}},"v-btn",Object.assign({},o),!1),Object.assign({},a)),[t("v-icon",[n._v("mdi-account-switch")])],1)]}}],null,!1,1291272934)},[t("span",[n._v("Cambiar propietario")])]):n._e()]},proxy:!0}],null,!1,610734628)})],1),t("v-col",{staticClass:"d-flex justify-end white py-6 pr-12",attrs:{cols:"6"}},[n.$route.query.filterId||n.$route.query.recyclebin?n._e():t("MenuFilters",{attrs:{filters:n.customFilters},on:{action:n.actionsHandler},scopedSlots:n._u([{key:"text-button",fn:function(){return[t("span",[n._v(" "+n._s(n.filterSelected.isFilterSelected?n.filterSelected.name:"Filtros")+" ")])]},proxy:!0}],null,!1,1423877413)}),n.$route.query.filterId||n.$route.query.recyclebin?n._e():t("v-menu",{attrs:{"offset-y":"",left:"",ransition:"scale-transition"},scopedSlots:n._u([{key:"activator",fn:function(e){var a=e.on;return[t("v-btn",n._g({staticClass:"ml-4",attrs:{small:"",color:"secondary",fab:"",depressed:""}},a),[t("v-icon",{attrs:{dark:""}},[n._v("mdi-plus")])],1)]}}],null,!1,930373874)},[t("v-list",{attrs:{dense:""}},[t("v-list-item",{staticClass:"text-list-menu",on:{click:function(e){return n.modalHandlerContact({isOpen:!0,isLoading:!1})}}},[t("v-icon",{attrs:{color:"primary",left:""}},[n._v("mdi-account-plus")]),n._v(" Nuevo Contacto ")],1),n.$can(n.IMPORT,n.PERMISSIONS_CONTACTS)?t("v-list-item",{staticClass:"text-list-menu",on:{click:function(e){return n.modalHandlerImport({isOpen:!0})}}},[t("v-icon",{attrs:{color:"primary",left:""}},[n._v(" mdi-clipboard-arrow-down-outline ")]),n._v(" Importar Contactos ")],1):n._e()],1)],1),n.$route.query.filterId||n.$route.query.recyclebin?t("v-btn",{staticClass:"mr-2",attrs:{outlined:""},on:{click:n.goToAllContacts}},[n._v(" ver todos los contactos ")]):n._e()],1)]},proxy:!0}])})],1),!n.$route.query.recyclebin&&n.informationBar.totalCount?t("v-col",{staticClass:"d-inline-flex white mt-10 pl-12 pt-8",attrs:{cols:"12"}},[t("div",{staticClass:"d-inline-flex mr-12"},[t("p",{staticClass:"mr-10 footer-title"},[n._v("Total")]),t("p",{staticClass:"footer-info"},[n._v(n._s(n.informationBar.totalCount))])]),t("div",{staticClass:"d-inline-flex mr-12"},[t("p",{staticClass:"footer-title-info mr-4"},[n._v("Con tratos abiertos")]),t("p",{staticClass:"footer-info"},[n._v(n._s(n.informationBar.contactsWithOpenDeals))])]),t("div",{staticClass:"d-inline-flex mr-12"},[t("p",{staticClass:"footer-title-info mr-4"},[n._v("Con tratos ganados")]),t("p",{staticClass:"footer-info"},[n._v(n._s(n.informationBar.contactsWithWonDeals))])])]):n._e()],1),t("BaseModalError",{attrs:{modalHandler:n.modalError},on:{close:n.modalHandlerError}}),t("BaseModalDelete",{attrs:{modalHandler:n.modalDelete},on:{cancel:n.modalHandlerDelete,confirm:n.confirmHandler}}),t("BaseModalRestore",{attrs:{modalHandler:n.modalRestore},on:{confirm:n.restoreContacts,cancel:n.modalHandlerRestore}}),t("ModalContact",{attrs:{modalHandler:n.modalContact,inputs:n.inputsForm},on:{close:n.modalHandlerContact,outData:n.createContact}}),t("ModalFilter",{attrs:{modalHandler:n.modalFilter,type:n.viewInfo},on:{outData:n.outDataFilterHandler,close:n.modalHandlerFilter}}),t("ModalContactsDuplicate",{attrs:{modalHandler:n.modalMergeDuplicates,contacts:n.duplicateList},on:{correctDuplicate:n.correctDuplicate,close:n.modalHandlerMergeDuplicates}}),t("ModalExportData",{attrs:{typeItems:n.viewInfo,items:n.contacts,headers:n.formatHeaders,modalHandler:n.modalExport},on:{close:n.modalHandlerExport}}),t("ModalImportData",{attrs:{typeItems:n.viewInfo,modalHandler:n.modalImport,form:n.getForm},on:{close:n.modalHandlerImport}}),t("v-snackbar",{attrs:{color:n.snackbar.color,timeout:5e3},scopedSlots:n._u([{key:"action",fn:function(){return[t("v-btn",{attrs:{text:""},on:{click:function(e){return n.snackbarHandler({isOpen:!1,color:"",text:""})}}},[n._v(" Cerrar ")])]},proxy:!0}]),model:{value:n.snackbar.isOpen,callback:function(e){n.$set(n.snackbar,"isOpen",e)},expression:"snackbar.isOpen"}},[n._v(" "+n._s(n.snackbar.text)+" ")])],1)},o=[],s=t("1da1"),i=(t("96cf"),t("d3b7"),t("3ca3"),t("ddb0"),t("99af"),t("d81d"),t("1b56")),r=t("9685"),c=t("ee2e"),l=t("891c"),d=t("a2b6"),u=t("2cff"),m=t("e50e"),p=t("1599"),f=t("1e6d"),v=t("4420"),C=t("5ff3"),h=t("1de0"),y=t("af8d"),b=t("3a72"),g=t("f82aa"),O={name:"Contacts",mixins:[C["a"],f["a"],v["a"],h["a"],y["a"],b["a"],g["a"]],components:{ContactsDataTable:function(){return Promise.all([t.e("chunk-47120d2e"),t.e("chunk-4a5f46a6"),t.e("chunk-0c2bbd6b")]).then(t.bind(null,"a2ced"))},ModalContact:function(){return t.e("chunk-980fca3c").then(t.bind(null,"52a5"))},ModalFilter:function(){return t.e("chunk-68670e43").then(t.bind(null,"1c33"))},MenuFilters:function(){return t.e("chunk-59dc59e6").then(t.bind(null,"580d"))},ModalContactsDuplicate:function(){return t.e("chunk-428412b9").then(t.bind(null,"a221"))},ListHeaders:function(){return t.e("chunk-4c3f2f2c").then(t.bind(null,"ee7a"))},ChangeOwner:i["a"]},data:function(){return{typeItem:"CONTACT",isOpenMenuOwner:!1,isLoading:!1,viewInfo:{type:"CONTACT",name:"Contactos"},PERMISSIONS_CONTACTS:c["e"],PERMISSIONS_ADMIN:c["b"],CREATE:l["d"],IMPORT:l["n"],EXPORT:l["k"],DELETE:l["g"],BULK_DELETE:l["c"],TO_ASSIGN:l["q"],FUSE:l["l"],inputsForm:[],updateData:!1,contacts:[],informationBar:{},contactsSelected:[],modalContact:{isOpen:!1,isLoading:!1},headers:[],searchContact:""}},watch:{getForm:function(n){var e=n.defaultForm,t=n.customForm,a=t.inputs?e.inputs.concat(t.inputs):e.inputs;this.inputsForm=Object(d["a"])({listItems:a,orderBy:"ASC",nextElement:"order"})}},computed:{title:function(){return this.$route.query.filterId?"Contactos importados":this.$route.query.recyclebin?"Papelera de contactos":"Todos los contactos"}},methods:{changeOwnerSuccess:function(n){this.snackbarHandler({isOpen:!0,color:"success",text:n}),this.contactsSelected=[],this.updateData=!0},changeOwnerError:function(n){this.modalHandlerError({isOpen:!0,error:n})},updateInformationBar:function(n){this.informationBar=n},modalHandlerContact:function(n){var e=n.isOpen,t=n.isLoading;this.modalContact={isOpen:e,isLoading:t}},createContact:function(n){var e=this;this.modalHandlerContact({isOpen:!0,isLoading:!0}),this.$apollo.mutate({mutation:u["a"],variables:{input:n},update:function(){e.updateData=!0,e.modalHandlerContact({isOpen:!1,isLoading:!1}),e.snackbarHandler({isOpen:!0,color:"success",text:"El contacto se creó correctamente"})}}).finally((function(){e.updateData=!1})).catch((function(){var n="No se pudo crear el contacto, intente de nuevo o contacte a soporte";e.modalHandlerError({isOpen:!0,error:n}),e.modalHandlerContact({isOpen:!0,isLoading:!1})}))},updateSelectContacts:function(n){this.contactsSelected=n.map((function(n){var e=n.id;return{id:e}}))},updateContactsShow:function(n){this.contacts=n},deleteContactConfirmation:function(){this.modalHandlerDelete({isOpen:!0,isLoading:!1,message:{title:"¿Seguro que deseas mover a la papelera?",nameItem:"Los contactos seleccionados",text:"serán movidos a la papelera"},infoDelete:{}})},deleteContacts:function(n){var e=this,t=n.isOpen,a=n.isLoading,o=n.message,s=n.infoDelete;r["a"].can(l["c"],c["b"])&&(this.modalHandlerDelete({isOpen:t,isLoading:a,message:o,infoDelete:s}),this.$apollo.mutate({mutation:u["b"],variables:{input:this.contactsSelected}}).then((function(){e.updateData=!0})).finally((function(){e.updateData=!1,e.contactsSelected=[],e.modalHandlerDelete({isOpen:!1,isLoading:a,message:o,infoDelete:s}),e.snackbarHandler({isOpen:!0,color:"success",text:"Se eliminó correctamente"})})).catch((function(){var n="No se pudieron eliminar los contactos, intente de nuevo o contacte a soporte";e.modalHandlerError({isOpen:!0,error:n})})))},confirmHandler:function(n){var e=n.isOpen,t=n.isLoading,a=n.message,o=n.infoDelete;this.$route.query.recyclebin?this.trashContacts({isOpen:e,isLoading:t,message:a,infoDelete:o}):this.deleteContacts({isOpen:e,isLoading:t,message:a,infoDelete:o})},trashContactConfirmation:function(){this.modalHandlerDelete({isOpen:!0,isLoading:!1,message:{nameItem:"Los contactos seleccionados",text:"serán eliminados permanentemente"},infoDelete:{}})},trashContacts:function(n){var e=this,t=n.isOpen,a=n.isLoading,o=n.message,s=n.infoDelete;r["a"].can(l["c"],c["b"])&&(this.modalHandlerDelete({isOpen:t,isLoading:a,message:o,infoDelete:s}),this.$apollo.mutate({mutation:u["e"],variables:{input:this.contactsSelected},update:function(){e.updateData=!0}}).finally((function(){e.updateData=!1,e.contactsSelected=[],e.modalHandlerDelete({isOpen:!1,isLoading:a,message:o,infoDelete:s}),e.snackbarHandler({isOpen:!0,color:"success",text:"Se eliminó correctamente"})})).catch((function(){var n="No se pudieron eliminar los contactos, intente de nuevo o contacte a soporte";e.modalHandlerError({isOpen:!0,error:n})})))},restoreContactsConfirmation:function(){this.modalHandlerRestore({isOpen:!0,isLoading:!1,message:{title:"¿Seguro que deseas restaurar?",nameItem:"Los contactos seleccionados",text:"serán restaurados"},infoRestore:{}})},restoreContacts:function(n){var e=this,t=n.isOpen,a=n.isLoading,o=n.message,s=n.infoRestore;r["a"].can(l["c"],c["b"])&&(this.modalHandlerRestore({isOpen:t,isLoading:a,message:o,infoRestore:s}),this.$apollo.mutate({mutation:u["d"],variables:{input:this.contactsSelected},update:function(){e.updateData=!0}}).finally((function(){e.updateData=!1,e.contactsSelected=[],e.modalHandlerRestore({isOpen:!1,isLoading:a,message:o,infoRestore:s}),e.snackbarHandler({isOpen:!0,color:"success",text:"Se restauró correctamente"})})).catch((function(){var n="No se pudieron restaurar los contactos, intente de nuevo o contacte a soporte";e.modalHandlerError({isOpen:!0,error:n})})))},goToAllContacts:function(){var n=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,n.$router.push({name:"contacts"});case 2:n.updateData=!0;case 3:case"end":return e.stop()}}),e)})))()}},apollo:{getForm:{query:m["a"],fetchPolicy:"no-cache",variables:{type:"CONTACT"}},headers:{query:p["a"],variables:{type:"CONTACTS"}}}},D=O,_=(t("172b"),t("0c7c")),I=t("6544"),S=t.n(I),w=t("8336"),H=t("62ad"),N=t("a523"),$=t("132d"),L=t("8860"),k=t("da13"),E=t("e449"),M=t("0fd9"),T=t("2db4"),A=t("8654"),x=t("3a2f"),q=Object(_["a"])(D,a,o,!1,null,"3e4f3868",null);e["default"]=q.exports;S()(q,{VBtn:w["a"],VCol:H["a"],VContainer:N["a"],VIcon:$["a"],VList:L["a"],VListItem:k["a"],VMenu:E["a"],VRow:M["a"],VSnackbar:T["a"],VTextField:A["a"],VTooltip:x["a"]})}}]);
//# sourceMappingURL=chunk-608794f3.4a9d7364.js.map