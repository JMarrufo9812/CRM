(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-046c1e77"],{"0481":function(t,e,i){"use strict";var a=i("23e7"),n=i("a2bf"),s=i("7b0b"),c=i("50c4"),o=i("a691"),r=i("65f0");a({target:"Array",proto:!0},{flat:function(){var t=arguments.length?arguments[0]:void 0,e=s(this),i=c(e.length),a=r(e,0);return a.length=n(a,e,e,i,0,void 0===t?1:o(t)),a}})},1681:function(t,e,i){},"20b0":function(t,e,i){"use strict";i.d(e,"a",(function(){return r}));var a=i("d4ec"),n=i("bee2"),s=i("262e"),c=i("2caf"),o=i("cd42"),r=function(t){Object(s["a"])(i,t);var e=Object(c["a"])(i);function i(){return Object(a["a"])(this,i),e.apply(this,arguments)}return Object(n["a"])(i,[{key:"name",get:function(){return"maxSize"}},{key:"defaultOptions",get:function(){return{maxSize:null}}},{key:"plugins",get:function(){var t=this;return[new o["h"]({filterTransaction:function(e){if(!e.docChanged||!t.options.maxSize)return!0;var i=e.doc&&e.doc.textContent.length,a=i>t.options.maxSize;return!a}})]}}]),i}(o["e"])},3398:function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));var a=i("3835"),n=(i("caad"),i("2532"),i("d81d"),i("ac1f"),i("466d"),i("5319"),{methods:{getBestColor:function(t){if(t&&t.includes("#")){var e=t.replace("#","").match(/.{1,2}/g).map((function(t){return parseInt(t,16)})),i=Object(a["a"])(e,3),n=i[0],s=i[1],c=i[2],o=Math.sqrt(n*n*.299+s*s*.587+c*c*.114);return o>135?"dark":"white"}return""}}})},"466d":function(t,e,i){"use strict";var a=i("d784"),n=i("825a"),s=i("50c4"),c=i("1d80"),o=i("8aa5"),r=i("14c3");a("match",(function(t,e,i){return[function(e){var i=c(this),a=void 0==e?void 0:e[t];return void 0!==a?a.call(e,i):new RegExp(e)[t](String(i))},function(t){var a=i(e,this,t);if(a.done)return a.value;var c=n(this),l=String(t);if(!c.global)return r(c,l);var d=c.unicode;c.lastIndex=0;var u,m=[],v=0;while(null!==(u=r(c,l))){var h=String(u[0]);m[v]=h,""===h&&(c.lastIndex=o(l,s(c.lastIndex),d)),v++}return 0===v?null:m}]}))},"46f4":function(t,e,i){},"4fad":function(t,e,i){var a=i("23e7"),n=i("6f53").entries;a({target:"Object",stat:!0},{entries:function(t){return n(t)}})},"6a78":function(t,e,i){},"6f53":function(t,e,i){var a=i("83ab"),n=i("df75"),s=i("fc6a"),c=i("d1e7").f,o=function(t){return function(e){var i,o=s(e),r=n(o),l=r.length,d=0,u=[];while(l>d)i=r[d++],a&&!c.call(o,i)||u.push(t?[i,o[i]]:o[i]);return u}};t.exports={entries:o(!0),values:o(!1)}},7351:function(t,e,i){"use strict";i("46f4")},8021:function(t,e,i){"use strict";i("e02f")},"8f5a":function(t,e,i){},"949a":function(t,e,i){"use strict";i.d(e,"g",(function(){return h})),i.d(e,"f",(function(){return p})),i.d(e,"e",(function(){return f})),i.d(e,"b",(function(){return y})),i.d(e,"i",(function(){return b})),i.d(e,"d",(function(){return C})),i.d(e,"a",(function(){return g})),i.d(e,"h",(function(){return _})),i.d(e,"c",(function(){return A}));var a,n,s,c,o,r,l,d,u,m=i("8785"),v=i("5184"),h=Object(v["a"])(a||(a=Object(m["a"])(["\n  mutation syncronizeGoogleCalendar($codeToken: String!) {\n    syncronizeGoogleCalendar(codeToken: $codeToken) {\n      success\n      email\n    }\n  }\n"]))),p=Object(v["a"])(n||(n=Object(m["a"])(["\n  mutation setCalendar($calendarId: String!) {\n    setPrimaryCalendar(calendarId: $calendarId) {\n      success\n      calendarSummary\n    }\n  }\n"]))),f=Object(v["a"])(s||(s=Object(m["a"])(["\n  mutation desynchronizeGoogleCalendar {\n    desynchronizeGoogleCalendar\n  }\n"]))),y=Object(v["a"])(c||(c=Object(m["a"])(["\n  mutation createActivityType($activityTypeInput: activityTypeCreateInput!) {\n    createActivityType(activityTypeInput: $activityTypeInput) {\n      id\n      name\n      color\n      order\n    }\n  }\n"]))),b=Object(v["a"])(o||(o=Object(m["a"])(["\n  mutation updateActivityType($activityTypeInput: activityTypeUpdateInput!) {\n    updateActivityType(activityTypeInput: $activityTypeInput) {\n      id\n      name\n      color\n      order\n    }\n  }\n"]))),C=Object(v["a"])(r||(r=Object(m["a"])(["\n  mutation deleteActivityType($activityTypeId: ID!) {\n    deleteActivityType(activityTypeId: $activityTypeId) {\n      id\n      name\n      color\n      order\n    }\n  }\n"]))),g=Object(v["a"])(l||(l=Object(m["a"])(["\n  mutation createActivity($activityInput: activityCreateInput!) {\n    createActivity(activityInput: $activityInput) {\n      id\n      title\n      status\n      start\n      end\n      location\n      description\n      createdAt\n      isAllDay\n      deal {\n        id\n        title\n      }\n      contacts {\n        id\n        name\n      }\n      companies {\n        id\n        name\n      }\n      type {\n        id\n        name\n        color\n      }\n      owner {\n        id\n        user {\n          id\n          name\n          lastName\n        }\n      }\n      guests\n    }\n  }\n"]))),_=Object(v["a"])(d||(d=Object(m["a"])(["\n  mutation updateActivity($activityInput: activityUpdateInput!) {\n    updateActivity(activityInput: $activityInput) {\n      id\n      title\n      status\n      start\n      end\n      location\n      description\n      createdAt\n      isAllDay\n      deal {\n        id\n        title\n      }\n      contacts {\n        id\n        name\n      }\n      companies {\n        id\n        name\n      }\n      type {\n        id\n        name\n        color\n      }\n      owner {\n        id\n        user {\n          id\n          name\n          lastName\n        }\n      }\n      guests\n    }\n  }\n"]))),A=Object(v["a"])(u||(u=Object(m["a"])(["\n  mutation deleteActivities($activities: [deleteActivityInput!]!) {\n    deleteActivities(activities: $activities) {\n      id\n    }\n  }\n"])))},a2bf:function(t,e,i){"use strict";var a=i("e8b5"),n=i("50c4"),s=i("0366"),c=function(t,e,i,o,r,l,d,u){var m,v=r,h=0,p=!!d&&s(d,u,3);while(h<o){if(h in i){if(m=p?p(i[h],h,e):i[h],l>0&&a(m))v=c(t,e,m,n(m.length),v,l-1)-1;else{if(v>=9007199254740991)throw TypeError("Exceed the acceptable array length");t[v]=m}v++}h++}return v};t.exports=c},a844:function(t,e,i){"use strict";i("1681");var a=i("8654"),n=i("58df");const s=Object(n["a"])(a["a"]);e["a"]=s.extend({name:"v-textarea",props:{autoGrow:Boolean,noResize:Boolean,rowHeight:{type:[Number,String],default:24,validator:t=>!isNaN(parseFloat(t))},rows:{type:[Number,String],default:5,validator:t=>!isNaN(parseInt(t,10))}},computed:{classes(){return{"v-textarea":!0,"v-textarea--auto-grow":this.autoGrow,"v-textarea--no-resize":this.noResizeHandle,...a["a"].options.computed.classes.call(this)}},noResizeHandle(){return this.noResize||this.autoGrow}},watch:{autoGrow(t){this.$nextTick(()=>{var e;t?this.calculateInputHeight():null==(e=this.$refs.input)||e.style.removeProperty("height")})},lazyValue(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)},rowHeight(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)}},mounted(){setTimeout(()=>{this.autoGrow&&this.calculateInputHeight()},0)},methods:{calculateInputHeight(){const t=this.$refs.input;if(!t)return;t.style.height="0";const e=t.scrollHeight,i=parseInt(this.rows,10)*parseFloat(this.rowHeight);t.style.height=Math.max(i,e)+"px"},genInput(){const t=a["a"].options.methods.genInput.call(this);return t.tag="textarea",delete t.data.attrs.type,t.data.attrs.rows=this.rows,t},onInput(t){a["a"].options.methods.onInput.call(this,t),this.autoGrow&&this.calculateInputHeight()},onKeyDown(t){this.isFocused&&13===t.keyCode&&t.stopPropagation(),this.$emit("keydown",t)}}})},af08:function(t,e,i){"use strict";i("6a78")},caab:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-dialog",{attrs:{scrollable:"","max-width":"800px",persistent:""},model:{value:t.modal.status,callback:function(e){t.$set(t.modal,"status",e)},expression:"modal.status"}},[i("v-card",[i("v-card-title",{staticClass:"primary white--text"},[t._v(" "+t._s(t.formatTitle)+" "),i("v-spacer"),i("v-btn",{attrs:{icon:"",color:"white"},on:{click:t.close}},[i("v-icon",[t._v("mdi-close")])],1)],1),i("v-divider"),i("v-card-text",{staticClass:"px-12"},[i("div",{staticClass:"d-flex justify-center py-10"},[i("v-chip-group",{attrs:{"center-active":"",mandatory:"","show-arrows":t.listActivityTypes.length>3},model:{value:t.activity.typeActivity,callback:function(e){t.$set(t.activity,"typeActivity",e)},expression:"activity.typeActivity"}},t._l(t.listActivityTypes,(function(e){return i("v-chip",{key:e.id,attrs:{color:e.color,"text-color":t.getBestColor(e.color),small:"",filter:""}},[t._v(" "+t._s(e.name)+" ")])})),1)],1),t.modal.item&&t.modal.item.isReschedule?i("div",[i("v-row",[i("v-col",{attrs:{cols:"12"}},[i("v-list-item",{attrs:{dense:""}},[i("v-list-item-icon",[i("v-icon",[t._v("mdi-square-rounded")])],1),i("v-list-item-content",[i("v-list-item-title",[t._v(" "+t._s(t.activity.title)+" ")])],1)],1),i("span",{staticClass:"ml-4"},[t._v("Fecha actual")]),i("v-list-item",{attrs:{dense:""}},[i("v-list-item-icon",[i("v-icon",[t._v("mdi-calendar")])],1),i("v-list-item-content",[i("v-list-item-title",[t._v(" "+t._s(t.activity.isAllDay?t.formatDate(t.activityBefore.dateStart)+" - Todo el día":t.formatTime(t.activityBefore.dateStart,t.activityBefore.timeStart,t.activityBefore.timeEnd))+" ")])],1)],1)],1)],1),i("v-row",{attrs:{"no-gutters":""}},[i("v-col",{staticClass:"mb-2 ml-4",attrs:{cols:"12"}},[i("span",[t._v(" Asigna una nueva fecha ")])]),i("v-col",{attrs:{cols:"5"}},[i("v-text-field",{staticClass:"dateCalendar required",attrs:{dense:"",outlined:"",type:"date",placeholder:"dd/mm/yyyy",min:t.today,max:"2100-12-31","hide-details":"auto"},on:{change:t.isFreeBusy},model:{value:t.activity.dateStart,callback:function(e){t.$set(t.activity,"dateStart",e)},expression:"activity.dateStart"}})],1),i("v-col",{staticClass:"d-flex justify-end align-center pl-1",attrs:{cols:"7"}},[i("v-select",{staticClass:"time-calendar",attrs:{label:"Hora inicio",items:t.listTimeStart,dense:"",outlined:"","hide-details":"auto","menu-props":"auto","append-outer-icon":"mdi-minus"},model:{value:t.activity.timeStart,callback:function(e){t.$set(t.activity,"timeStart",e)},expression:"activity.timeStart"}}),i("v-select",{staticClass:"time-calendar",attrs:{label:"Hora final",items:t.listTimeEnd,dense:"",outlined:"","hide-details":"auto","menu-props":"auto"},model:{value:t.activity.timeEnd,callback:function(e){t.$set(t.activity,"timeEnd",e)},expression:"activity.timeEnd"}})],1)],1),t.isFreeTime?i("v-row",{attrs:{"no-gutters":""}},[i("v-col",[i("p",{staticClass:"red--text"},[t._v(" Tienes una actividad en ese mismo horario. ")])])],1):t._e()],1):i("v-form",{ref:"formActivity",model:{value:t.isValidateFormActivity,callback:function(e){t.isValidateFormActivity=e},expression:"isValidateFormActivity"}},[i("v-row",{staticClass:"pb-4",attrs:{"no-gutters":""}},[i("v-col",{attrs:{cols:"12"}},[i("v-text-field",{staticClass:"required",attrs:{label:"Nombre de la actividad",outlined:"",dense:"","hide-details":"auto",rules:t.rules.general,required:"",counter:"80",maxlength:"80"},model:{value:t.activity.title,callback:function(e){t.$set(t.activity,"title",e)},expression:"activity.title"}})],1)],1),!t.modal.isEdit||t.modal.item.isReschedule||t.isActiveReschedule?i("v-row",{attrs:{"no-gutters":"",justify:"space-between"}},[i("v-col",{staticClass:"pr-6",attrs:{cols:"5"}},[i("v-text-field",{staticClass:"dateCalendar required",attrs:{dense:"",outlined:"",type:"date",placeholder:"dd/mm/yyyy",min:t.today,max:"2100-12-31","hide-details":"auto"},on:{change:t.isFreeBusy},model:{value:t.activity.dateStart,callback:function(e){t.$set(t.activity,"dateStart",e)},expression:"activity.dateStart"}})],1),i("v-col",{staticClass:"d-flex justify-end align-center",attrs:{cols:"7"}},[i("v-select",{staticClass:"time-calendar pr-4",attrs:{label:"Hora inicio",items:t.listTimeStart,dense:"",outlined:"","hide-details":"auto","menu-props":"auto",clearable:""},on:{click:t.setHourNow},model:{value:t.activity.timeStart,callback:function(e){t.$set(t.activity,"timeStart",e)},expression:"activity.timeStart"}}),i("v-icon",[t._v("mdi-minus")]),i("v-select",{staticClass:"time-calendar pl-4",attrs:{label:"Hora final",items:t.listTimeEnd,dense:"",outlined:"","hide-details":"auto","menu-props":"auto",clearable:""},model:{value:t.activity.timeEnd,callback:function(e){t.$set(t.activity,"timeEnd",e)},expression:"activity.timeEnd"}})],1)],1):i("v-row",{staticClass:"no-gutters"},[i("v-col",[i("v-icon",{staticClass:"mr-2"},[t._v("mdi-calendar")]),i("span",[t._v(" "+t._s(t.activity.isAllDay?t.formatDate(t.activityBefore.dateStart)+" - Todo el día":t.formatTime(t.activityBefore.dateStart,t.activityBefore.timeStart,t.activityBefore.timeEnd))+" ")]),i("v-btn",{attrs:{color:"success",small:""},on:{click:function(e){t.isActiveReschedule=!0}}},[t._v(" Reagendar ")])],1)],1),t.isFreeTime?i("v-row",{attrs:{"no-gutters":""}},[i("v-col",[i("p",{staticClass:"red--text"},[t._v(" Tienes una actividad en ese mismo horario. ")])])],1):t._e(),i("v-row",{directives:[{name:"show",rawName:"v-show",value:!t.isActiveInvites||!t.isActiveLocation||!t.isActiveDescription||!t.isActiveContact||!t.isActiveCompany||!t.isActiveDeal,expression:"\n            !isActiveInvites ||\n              !isActiveLocation ||\n              !isActiveDescription ||\n              !isActiveContact ||\n              !isActiveCompany ||\n              !isActiveDeal\n          "}]},[i("v-col",{staticClass:"d-flex justify-center",attrs:{cols:"4"}},[t.isActiveInvites?t._e():i("v-btn",{attrs:{text:"",small:""},on:{click:function(e){t.isActiveInvites=!0}}},[i("v-icon",{staticClass:"mr-1"},[t._v(" mdi-account-multiple-plus-outline ")]),t._v(" Invitados ")],1)],1),i("v-col",{staticClass:"d-flex justify-center",attrs:{cols:"4"}},[t.isActiveLocation?t._e():i("v-btn",{attrs:{text:"",small:""},on:{click:function(e){t.isActiveLocation=!0}}},[i("v-icon",[t._v(" mdi-map-marker-plus-outline ")]),t._v(" Lugar ")],1)],1),i("v-col",{staticClass:"d-flex justify-center",attrs:{cols:"4"}},[t.isActiveDescription?t._e():i("v-btn",{attrs:{text:"",small:""},on:{click:function(e){t.isActiveDescription=!0}}},[i("v-icon",[t._v(" mdi-text-box-plus-outline ")]),t._v(" Descripción ")],1)],1),i("v-col",{staticClass:"d-flex justify-center",attrs:{cols:"4"}},[t.isActiveContact?t._e():i("v-btn",{attrs:{text:"",small:""},on:{click:function(e){t.isActiveContact=!0}}},[i("v-icon",[t._v(" mdi-account-plus-outline ")]),t._v(" Contactos ")],1)],1),i("v-col",{staticClass:"d-flex justify-center",attrs:{cols:"4"}},[t.isActiveCompany?t._e():i("v-btn",{attrs:{text:"",small:""},on:{click:function(e){t.isActiveCompany=!0}}},[i("v-icon",[t._v(" mdi-office-building ")]),t._v(" Empresa ")],1)],1),i("v-col",{staticClass:"d-flex justify-center",attrs:{cols:"4"}},[t.isActiveDeal?t._e():i("v-btn",{attrs:{text:"",small:""},on:{click:function(e){t.isActiveDeal=!0}}},[i("v-icon",[t._v(" mdi-currency-usd-circle-outline ")]),t._v(" Tratos ")],1)],1)],1),t.isActiveLocation?i("v-row",{attrs:{dense:""}},[i("v-col",{staticClass:"d-flex"},[i("vuetify-google-autocomplete",{attrs:{id:"map",placeholder:"Agregar lugar",country:"mx","prepend-icon":"mdi-map-marker-outline",outlined:"",dense:"","hide-details":!0,clearable:"",classname:"form-control"},model:{value:t.activity.location,callback:function(e){t.$set(t.activity,"location",e)},expression:"activity.location"}}),i("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,n=e.attrs;return[i("v-btn",t._g(t._b({attrs:{icon:"",color:"primary"},on:{click:function(e){t.isActiveLocation=!1}}},"v-btn",n,!1),a),[i("v-icon",[t._v("mdi-minus-circle")])],1)]}}],null,!1,3188294450)},[i("span",[t._v("Quitar")])])],1)],1):t._e(),t.isActiveInvites?i("v-row",{attrs:{dense:""}},[i("v-col",{staticClass:"d-flex"},[i("ActivityInvites",{attrs:{isEdit:t.modal.isEdit,defaultInvites:t.activity.invites,reset:!t.modal.status},on:{listInvites:t.listInvites}}),i("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,n=e.attrs;return[i("v-btn",t._g(t._b({attrs:{icon:"",color:"primary"},on:{click:function(e){t.isActiveInvites=!1}}},"v-btn",n,!1),a),[i("v-icon",[t._v("mdi-minus-circle")])],1)]}}],null,!1,1036699573)},[i("span",[t._v("Quitar")])])],1)],1):t._e(),t.isActiveDescription?i("v-row",{attrs:{dense:""}},[i("v-col",{staticClass:"d-flex justify-space-between"},[i("v-icon",{staticClass:"mx-1 align-start"},[t._v(" mdi-text ")]),i("NoteEditorDescription",{staticClass:"note flex-grow-1",attrs:{placeholder:"Escribe la descripción de la actividad",defaultContent:t.activity.description,isEdit:t.modal.isEdit,reset:!t.modal.status},on:{updateContent:t.updateContent}}),i("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,n=e.attrs;return[i("v-btn",t._g(t._b({attrs:{icon:"",color:"primary"},on:{click:function(e){t.isActiveDescription=!1}}},"v-btn",n,!1),a),[i("v-icon",[t._v("mdi-minus-circle")])],1)]}}],null,!1,3408147817)},[i("span",[t._v("Quitar")])])],1)],1):t._e(),t.isActiveContact?i("v-row",{attrs:{dense:""}},[i("v-col",{staticClass:"d-flex"},[i("ActivityContacts",{attrs:{defaultContacts:t.activity.contacts,isEdit:t.modal.isEdit||t.isActiveContact,reset:!t.modal.status||!t.isActiveContact,disabled:t.modal.status&&!t.modal.isEdit&&"CONTACT"===this.typeItem},on:{listContacts:t.listContacts}}),"CONTACT"!==this.typeItem?i("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,n=e.attrs;return[i("v-btn",t._g(t._b({attrs:{icon:"",color:"primary"},on:{click:function(e){t.isActiveContact=!1}}},"v-btn",n,!1),a),[i("v-icon",[t._v("mdi-minus-circle")])],1)]}}],null,!1,2196301423)},[i("span",[t._v("Quitar")])]):t._e()],1)],1):t._e(),t.isActiveCompany?i("v-row",{attrs:{dense:""}},[i("v-col",{staticClass:"d-flex"},[i("ActivityCompanies",{attrs:{defaultCompanies:t.activity.companies,isEdit:t.modal.isEdit||t.isActiveCompany,reset:!t.modal.status||!t.isActiveCompany,disabled:t.modal.status&&!t.modal.isEdit&&"COMPANY"===this.typeItem},on:{listCompanies:t.listCompanies}}),"COMPANY"!==this.typeItem?i("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,n=e.attrs;return[i("v-btn",t._g(t._b({attrs:{icon:"",color:"primary"},on:{click:function(e){t.isActiveCompany=!1}}},"v-btn",n,!1),a),[i("v-icon",[t._v("mdi-minus-circle")])],1)]}}],null,!1,3116293288)},[i("span",[t._v("Quitar")])]):t._e()],1)],1):t._e(),t.isActiveDeal?i("v-row",{attrs:{dense:""}},[i("v-col",{staticClass:"d-flex"},[i("ActivityDeal",{attrs:{defaultDeal:t.activity.deal,isEdit:t.modal.isEdit||t.isActiveDeal,reset:!t.modal.status||!t.isActiveDeal,disabled:t.modal.status&&"DEAL"===this.typeItem},on:{listDeal:t.listDeal}}),"DEAL"!==this.typeItem?i("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,n=e.attrs;return[i("v-btn",t._g(t._b({attrs:{icon:"",color:"primary"},on:{click:function(e){t.isActiveDeal=!1}}},"v-btn",n,!1),a),[i("v-icon",[t._v("mdi-minus-circle")])],1)]}}],null,!1,3402884035)},[i("span",[t._v("Quitar")])]):t._e()],1)],1):t._e()],1),i("ModalEffective",{attrs:{modalIdDefault:"modalEffectiveActivity",reset:!t.isLoadingComplete},on:{cancel:t.cancelComplete,save:t.saveComplete}}),i("BaseModalError",{attrs:{modalHandler:t.modalError},on:{close:t.modalHandlerError}})],1),i("v-divider"),i("v-card-actions",[i("MenuOwner",{attrs:{ownerDefaultId:t.activity.owner.id},on:{updateOwner:t.updateOwner}}),i("v-spacer"),i("v-checkbox",{staticClass:"mt-0 mr-5",attrs:{label:"Completado","hide-details":"auto"},model:{value:t.activity.isComplete,callback:function(e){t.$set(t.activity,"isComplete",e)},expression:"activity.isComplete"}}),i("v-btn",{attrs:{loading:t.isLoading,color:"secondary"},on:{click:function(e){t.modal.isEdit?t.updateActivity():t.createActivity()}}},[t._v(" "+t._s(t.modal.isEdit?"Actualizar":"Crear")+" ")])],1)],1)],1)},n=[],s=i("5530"),c=i("1da1"),o=i("2909"),r=(i("96cf"),i("a9e3"),i("a4d3"),i("e01a"),i("ac1f"),i("1276"),i("d81d"),i("b0c0"),i("4de4"),i("99af"),i("4e827"),i("c740"),i("fb6a"),i("caad"),i("2532"),i("b64b"),i("4fad"),i("7db0"),i("c1df")),l=i.n(r),d=i("f9f5"),u=i("f82a"),m=i("949a"),v=i("e815"),h=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-menu",{attrs:{"close-on-content-click":!1,"nudge-width":200,"offset-x":""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,n=e.attrs;return[i("v-btn",t._g(t._b({attrs:{text:""}},"v-btn",n,!1),a),[i("v-icon",{staticClass:"mr-1"},[t._v(" mdi-account-circle ")]),t._v(" "+t._s(t.selectedOwner)+" ")],1)]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[i("v-card",{attrs:{tile:""}},[i("v-card-title",{staticClass:"py-1 title-menu"},[t._v(" Asignar a ")]),i("v-divider"),i("v-card-text",[i("v-autocomplete",{attrs:{items:t.ownersList,loading:t.isLoading,"item-text":function(t){return t.user.name+" "+t.user.lastName},"item-value":"id",outlined:"",dense:"","hide-details":"auto","no-data-text":"No se encuentran usuarios"},model:{value:t.ownerId,callback:function(e){t.ownerId=e},expression:"ownerId"}})],1),i("v-divider"),i("v-card-actions",[i("v-spacer"),i("v-btn",{staticClass:"mr-3",attrs:{color:"primary",outlined:"",small:""},on:{click:t.cancel}},[t._v(" Cancelar ")]),i("v-btn",{attrs:{color:"secondary",small:""},on:{click:function(e){return t.updateOwner()}}},[t._v(" Guardar ")])],1)],1)],1)},p=[],f=i("7592"),y={name:"MenuOwner",props:{ownerDefaultId:{type:String,default:""}},data:function(){return{fav:!0,menu:!1,message:!1,hints:!0,ownerId:"",isOpenMenuOwner:!1,ownersList:[],isLoading:!1}},watch:{ownerDefaultId:{handler:function(t){this.ownerId=t},immediate:!0}},computed:{selectedOwner:function(){var t=this.getOwner();return t&&t.user?"".concat(t.user.name," ").concat(t.user.lastName):""}},methods:{getOwner:function(){var t=this;return this.ownersList.length?this.ownersList.find((function(e){return e.id===t.ownerId})):""},close:function(){this.menu=!1},cancel:function(){this.close(),this.ownerId=this.ownerDefaultId},updateOwner:function(){this.$emit("updateOwner",this.getOwner()),this.close()}},apollo:{ownersList:{query:f["e"],fetchPolicy:"no-cache"}}},b=y,C=(i("8021"),i("0c7c")),g=i("6544"),_=i.n(g),A=i("c6a6"),E=i("8336"),I=i("b0af"),x=i("99d9"),w=i("ce7e"),S=i("132d"),k=i("e449"),D=i("2fa4"),O=Object(C["a"])(b,h,p,!1,null,"1d5e1cea",null),T=O.exports;_()(O,{VAutocomplete:A["a"],VBtn:E["a"],VCard:I["a"],VCardActions:x["a"],VCardText:x["c"],VCardTitle:x["d"],VDivider:w["a"],VIcon:S["a"],VMenu:k["a"],VSpacer:D["a"]});var V=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("TiptapVuetify",{attrs:{placeholder:t.placeholder,"card-props":t.cardProps,extensions:t.extensions,"native-extensions":t.nativeExtensions},on:{init:t.onInit},scopedSlots:t._u([{key:"toolbar",fn:function(e){var a=e.commands,n=e.isActive;return[i("div",{staticClass:"menubar"},[i("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,c=e.attrs;return[i("v-btn",t._g(t._b({class:{"is-active":n.bold()},attrs:{text:"",icon:""},on:{click:a.bold}},"v-btn",c,!1),s),[i("v-icon",[t._v("mdi-format-bold")])],1)]}}],null,!0)},[i("span",[t._v("Negritas")])]),i("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,c=e.attrs;return[i("v-btn",t._g(t._b({class:{"is-active":n.italic()},attrs:{text:"",icon:""},on:{click:a.italic}},"v-btn",c,!1),s),[i("v-icon",[t._v("mdi-format-italic")])],1)]}}],null,!0)},[i("span",[t._v("Itálica")])]),i("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,c=e.attrs;return[i("v-btn",t._g(t._b({class:{"is-active":n.underline()},attrs:{text:"",icon:""},on:{click:a.underline}},"v-btn",c,!1),s),[i("v-icon",[t._v("mdi-format-underline")])],1)]}}],null,!0)},[i("span",[t._v("Subrayado")])]),i("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,c=e.attrs;return[i("v-btn",t._g(t._b({class:{"is-active":n.ordered_list()},attrs:{text:"",icon:""},on:{click:a.ordered_list}},"v-btn",c,!1),s),[i("v-icon",[t._v("mdi-format-list-numbered")])],1)]}}],null,!0)},[i("span",[t._v("Lista ordenada")])]),i("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,c=e.attrs;return[i("v-btn",t._g(t._b({class:{"is-active":n.bullet_list()},attrs:{text:"",icon:""},on:{click:a.bullet_list}},"v-btn",c,!1),s),[i("v-icon",[t._v("mdi-format-list-bulleted")])],1)]}}],null,!0)},[i("span",[t._v("Lista desordenada")])]),i("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,n=e.attrs;return[i("v-btn",t._g(t._b({attrs:{text:"",icon:"",disabled:!t.isSelected},on:{click:t.openEditorLink}},"v-btn",n,!1),a),[i("v-icon",[t._v("mdi-link")])],1)]}}],null,!0)},[i("span",[t._v("Añadir enlace")])]),i("EmailEditorLink",{attrs:{isOpen:t.isOpenEditorLink},on:{close:t.closeEditorLink,save:function(e){var i=arguments.length,n=Array(i);while(i--)n[i]=arguments[i];return t.saveLink.apply(void 0,[a.link].concat(n))}}})],1)]}}]),model:{value:t.content,callback:function(e){t.content=e},expression:"content"}}),i("p",{staticClass:"mb-0 text-right"},[t._v(t._s(t.isMaxSize)+"/"+t._s(t.maxSize))])],1)},j=[],L=(i("d3b7"),i("3ca3"),i("ddb0"),i("0481"),i("3f38")),$=i("20b0"),N=i("e207"),B={name:"NoteEditor",components:{TiptapVuetify:L["k"],EmailEditorLink:function(){return i.e("chunk-2d228fe6").then(i.bind(null,"dc0a"))}},props:{flat:{type:Boolean,default:!1},placeholder:{type:String,default:"Escribe algo..."},defaultContent:{type:String,default:""},isEdit:{type:Boolean,default:!1},reset:{type:Boolean,default:!1},maxSize:{type:Number,required:!1,default:250}},data:function(){return{editor:{},extensions:[L["a"],L["g"],L["m"],[N["a"],{options:{target:"_blank"}}],L["i"],L["b"],L["j"]],content:"",nativeExtensions:[new $["a"]({maxSize:this.maxSize})],isOpenEditorLink:!1,isSelected:!1}},watch:{"editor.selection":{handler:function(){var t=this.editor,e=t.selection,i=t.state,a=e.from,n=e.to,s=i.doc.textBetween(a,n," ");s.length>0?this.isSelected=!0:this.isSelected=!1}},reset:function(t){t&&this.resetContent()},isEdit:{handler:function(t){var e;t&&null!==(e=this.defaultContent)&&void 0!==e&&e.length&&(this.content=this.defaultContent)},immediate:!0},content:function(t){this.$emit("updateContent",t)}},computed:{isMaxSize:function(){var t,e,i=this.editor.state;return(null===i||void 0===i||null===(t=i.doc)||void 0===t||null===(e=t.textContent)||void 0===e?void 0:e.length)||0},cardProps:function(){return{flat:this.flat,"max-width":"640"}}},methods:{openEditorLink:function(){this.isOpenEditorLink=!0},closeEditorLink:function(){this.isOpenEditorLink=!1},saveLink:function(t,e){null!==e.href&&t({href:e.href})},onInit:function(t){var e=t.editor;this.editor=e},resetContent:function(){this.content=""}}},F=B,M=(i("af08"),i("3a2f")),H=Object(C["a"])(F,V,j,!1,null,"0645ad1d",null),P=H.exports;_()(H,{VBtn:E["a"],VIcon:S["a"],VTooltip:M["a"]});var q=i("ffd2"),G=i("1891"),z=i("3398"),Y=i("1e6d"),R=["12:00am","12:15am","12:30am","12:45am","01:00am","01:15am","01:30am","01:45am","02:00am","02:15am","02:30am","02:45am","03:00am","03:15am","03:30am","03:45am","04:00am","04:15am","04:30am","04:45am","05:00am","05:15am","05:30am","05:45am","06:00am","06:15am","06:30am","06:45am","07:00am","07:15am","07:30am","07:45am","08:00am","08:15am","08:30am","08:45am","09:00am","09:15am","09:30am","09:45am","10:00am","10:15am","10:30am","10:45am","11:00am","11:15am","11:30am","11:45am","12:00pm","12:15pm","12:30pm","12:45pm","01:00pm","01:15pm","01:30pm","01:45pm","02:00pm","02:15pm","02:30pm","02:45pm","03:00pm","03:15pm","03:30pm","03:45pm","04:00pm","04:15pm","04:30pm","04:45pm","05:00pm","05:15pm","05:30pm","05:45pm","06:00pm","06:15pm","06:30pm","06:45pm","07:00pm","07:15pm","07:30pm","07:45pm","08:00pm","08:15pm","08:30pm","08:45pm","09:00pm","09:15pm","09:30pm","09:45pm","10:00pm","10:15pm","10:30pm","10:45pm","11:00pm","11:15pm","11:30pm","11:45pm"],Q=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-combobox",{ref:"combo",staticClass:"mb-2",attrs:{items:t.listContactsWithEmail,filter:t.filterObject,"menu-props":t.menuProps,"search-input":t.search,label:"Invitados","item-text":"email","hide-details":"auto",dense:"",multiple:"",outlined:"",placeholder:"Escribe el nombre del contacto o el correo","hide-selected":"","append-icon":"","prepend-icon":"mdi-account-multiple-outline",rules:[].concat(t.rules.emailsCombobox),"hide-no-data":t.$apollo.queries.contacts.loading,loading:t.$apollo.queries.contacts.loading},on:{"update:searchInput":function(e){t.search=e},"update:search-input":function(e){t.search=e},input:t.updateSelectedContacts},scopedSlots:t._u([{key:"selection",fn:function(e){return[i("v-chip",t._b({key:JSON.stringify(e.item),staticClass:"my-1",attrs:{"input-value":e.selected,disabled:e.disabled,color:t.validEmail(e.item.email?e.item.email:e.item)?"success":"error"}},"v-chip",e.attrs,!1),[e.item===Object(e.item)?i("v-avatar",{attrs:{color:"secondary",left:""},domProps:{textContent:t._s(e.item.name.slice(0,1).toUpperCase())}}):i("v-avatar",{attrs:{color:"secondary",left:""},domProps:{textContent:t._s(e.item.slice(0,1).toUpperCase())}}),t._v(" "+t._s(e.item.name?e.item.name:e.item)+" "),i("v-icon",{attrs:{small:""},on:{click:function(t){return e.parent.selectItem(e.item)}}},[t._v(" mdi-close ")])],1)]}},{key:"item",fn:function(e){var a=e.on,n=e.attrs,s=e.item;return[i("v-list-item",t._g({attrs:{dense:"",attrs:n}},a),[i("v-list-item-content",[i("v-list-item-title",[t._v(t._s(s.name))]),i("v-list-item-subtitle",[t._v(" "+t._s(s.email)+" ")])],1)],1)]}},{key:"no-data",fn:function(){return[i("v-list-item",[i("v-list-item-content",[i("v-list-item-title",[t._v(' No se encontró " '),i("strong",[t._v(t._s(t.search))]),t._v(' ". Presiona '),i("kbd",[t._v("entrar")]),t._v(" para invitarlo. ")])],1)],1)]},proxy:!0}]),model:{value:t.selectedContacts,callback:function(e){t.selectedContacts=e},expression:"selectedContacts"}})},U=[],J=(i("841c"),i("a15b"),i("7029")),W={name:"ActivityInvites",mixins:[u["a"]],props:{defaultInvites:{type:Array,default:function(){return[]}},isEdit:{type:Boolean,default:!1},reset:{type:Boolean,default:!1}},data:function(){return{search:"",selectedContacts:[],contacts:[],isNewContact:!1}},watch:{reset:function(t){t&&this.resetInvites()},isEdit:{handler:function(t){t&&this.defaultInvites.length&&(this.selectedContacts=this.defaultInvites)},immediate:!0},search:function(t){this.search=""===t||null===t?null:t.split(" ").join("")},selectedContacts:{handler:function(){this.search=null}}},computed:{listContactsWithEmail:function(){return this.contacts.filter((function(t){var e;return(null===(e=t.email)||void 0===e?void 0:e.length)>0}))},hasSearch:function(){return null!==this.search&&void 0!==this.search&&""!==this.search&&this.search.length>0},menuProps:function(){return this.search?{}:{value:!1}},readOnly:function(){return null!==this.selectedContacts&&void 0!==this.selectedContacts&&0!==this.selectedContacts.length}},methods:{resetInvites:function(){this.selectedContacts=[],this.isNewContact=!0},validEmail:function(t){var e=/^[\w-.]+@([\w-]+\.)+[\w-]{2,4}$/g;return e.test(t)},filterObject:function(t,e){var i;return t.name.toLocaleLowerCase().indexOf(e.toLocaleLowerCase())>-1||(null===(i=t.email)||void 0===i?void 0:i.toLocaleLowerCase().indexOf(e.toLocaleLowerCase()))>-1},updateSelectedContacts:function(t){this.$emit("listInvites",t)}},apollo:{contacts:{query:J["d"],update:function(t){return t.contacts.list},variables:function(){return{filters:{orderBy:"desc",search:this.search,take:10}}},skip:function(){return!this.hasSearch}}}},K=W,Z=i("8212"),X=i("cc20"),tt=i("2b5d"),et=i("da13"),it=i("5d23"),at=Object(C["a"])(K,Q,U,!1,null,null,null),nt=at.exports;_()(at,{VAvatar:Z["a"],VChip:X["a"],VCombobox:tt["a"],VIcon:S["a"],VListItem:et["a"],VListItemContent:it["a"],VListItemSubtitle:it["b"],VListItemTitle:it["c"]});var st=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-combobox",{staticClass:"mb-2",attrs:{items:t.contacts,filter:t.filterObject,"menu-props":t.menuProps,"search-input":t.search,label:"Contactos","item-text":"name","hide-details":"auto",dense:"",multiple:"",outlined:"","hide-selected":"","append-icon":"","prepend-icon":"mdi-account","hide-no-data":t.$apollo.queries.contacts.loading,loading:t.$apollo.queries.contacts.loading,disabled:t.disabled},on:{"update:searchInput":function(e){t.search=e},"update:search-input":function(e){t.search=e},input:t.updateselectedContacts},scopedSlots:t._u([{key:"selection",fn:function(e){return[i("v-chip",t._b({key:JSON.stringify(e.item),staticClass:"my-1",attrs:{"input-value":e.selected,disabled:e.disabled,label:""}},"v-chip",e.attrs,!1),[i("strong",[t._v(" "+t._s(e.item.name?e.item.name:e.item)+" ")]),e.item!==Object(e.item)?i("v-chip",{attrs:{color:"success",small:""}},[t._v(" Nuevo ")]):t._e(),i("v-icon",{attrs:{color:"error",small:""},on:{click:function(t){return e.parent.selectItem(e.item)}}},[t._v(" mdi-close ")])],1)]}},{key:"item",fn:function(e){var a=e.on,n=e.attrs,s=e.item;return[i("v-list-item",t._g({attrs:{dense:"",attrs:n}},a),[i("v-list-item-content",[i("v-list-item-title",[t._v(t._s(s.name))])],1)],1)]}},{key:"no-data",fn:function(){return[i("v-list-item",[i("v-list-item-content",[i("v-list-item-title",[t._v(' No se encontró " '),i("strong",[t._v(t._s(t.search))]),t._v(' ". Presiona '),i("kbd",[t._v("entrar")]),t._v(" para crearlo. ")])],1)],1)]},proxy:!0}]),model:{value:t.selectedContacts,callback:function(e){t.selectedContacts=e},expression:"selectedContacts"}})},ct=[],ot={name:"ActivityContacts",mixins:[u["a"]],props:{defaultContacts:{type:Array,default:function(){return[]}},isEdit:{type:Boolean,default:!1},reset:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},data:function(){return{search:"",selectedContacts:[],contacts:[],isNewContact:!1}},watch:{reset:function(t){t&&this.resetContacts()},isEdit:{handler:function(t){t&&this.defaultContacts.length&&(this.selectedContacts=this.defaultContacts)},immediate:!0},search:function(t){""===t&&(this.search=null)},selectedContacts:{handler:function(){this.search=null}}},computed:{hasSearch:function(){return null!==this.search&&void 0!==this.search&&""!==this.search&&this.search.length>0},menuProps:function(){return this.search?{}:{value:!1}},readOnly:function(){return null!==this.selectedContacts&&void 0!==this.selectedContacts&&0!==this.selectedContacts.length}},methods:{resetContacts:function(){this.selectedContacts=[]},filterObject:function(t,e){return t.name.toLocaleLowerCase().indexOf(e.toLocaleLowerCase())>-1},updateselectedContacts:function(t){this.$emit("listContacts",t)}},apollo:{contacts:{query:J["d"],update:function(t){return t.contacts.list},variables:function(){return{filters:{orderBy:"desc",search:this.search,take:10}}},skip:function(){return!this.hasSearch}}}},rt=ot,lt=Object(C["a"])(rt,st,ct,!1,null,null,null),dt=lt.exports;_()(lt,{VChip:X["a"],VCombobox:tt["a"],VIcon:S["a"],VListItem:et["a"],VListItemContent:it["a"],VListItemTitle:it["c"]});var ut=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-combobox",{staticClass:"mb-2",attrs:{items:t.companies,filter:t.filterObject,"menu-props":t.menuProps,"search-input":t.search,label:"Empresas","item-text":"name","hide-details":"auto",dense:"",multiple:"",outlined:"","hide-selected":"","append-icon":"","prepend-icon":"mdi-office-building","hide-no-data":t.$apollo.queries.companies.loading,loading:t.$apollo.queries.companies.loading,disabled:t.disabled},on:{"update:searchInput":function(e){t.search=e},"update:search-input":function(e){t.search=e},input:t.updateSelectedCompanies},scopedSlots:t._u([{key:"selection",fn:function(e){return[i("v-chip",t._b({key:JSON.stringify(e.item),staticClass:"my-1",attrs:{"input-value":e.selected,disabled:e.disabled,label:""}},"v-chip",e.attrs,!1),[i("strong",[t._v(" "+t._s(e.item.name?e.item.name:e.item)+" ")]),e.item!==Object(e.item)?i("v-chip",{attrs:{color:"success",small:""}},[t._v(" Nuevo ")]):t._e(),i("v-icon",{attrs:{color:"error",small:""},on:{click:function(t){return e.parent.selectItem(e.item)}}},[t._v(" mdi-close ")])],1)]}},{key:"item",fn:function(e){var a=e.on,n=e.attrs,s=e.item;return[i("v-list-item",t._g({attrs:{dense:"",attrs:n}},a),[i("v-list-item-content",[i("v-list-item-title",[t._v(t._s(s.name))])],1)],1)]}},{key:"no-data",fn:function(){return[i("v-list-item",[i("v-list-item-content",[i("v-list-item-title",[t._v(' No se encontró " '),i("strong",[t._v(t._s(t.search))]),t._v(' ". Presiona '),i("kbd",[t._v("entrar")]),t._v(" para crearlo. ")])],1)],1)]},proxy:!0}]),model:{value:t.selectedCompanies,callback:function(e){t.selectedCompanies=e},expression:"selectedCompanies"}})},mt=[],vt=i("8b3e"),ht={name:"ActivityCompanies",mixins:[u["a"]],props:{defaultCompanies:{type:Array,default:function(){return[]}},isEdit:{type:Boolean,default:!1},reset:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},data:function(){return{search:"",selectedCompanies:[],companies:[],isNewCompanie:!1}},watch:{reset:function(t){t&&this.resetCompanies()},isEdit:{handler:function(t){t&&this.defaultCompanies.length&&(this.selectedCompanies=this.defaultCompanies)},immediate:!0},search:function(t){""===t&&(this.search=null)},selectedCompanies:{handler:function(){this.search=null}}},computed:{hasSearch:function(){return null!==this.search&&void 0!==this.search&&""!==this.search&&this.search.length>0},menuProps:function(){return this.search?{}:{value:!1}},readOnly:function(){return null!==this.selectedCompanies&&void 0!==this.selectedCompanies&&0!==this.selectedCompanies.length}},methods:{resetCompanies:function(){this.selectedCompanies=[]},filterObject:function(t,e){return t.name.toLocaleLowerCase().indexOf(e.toLocaleLowerCase())>-1},clearValue:function(){this.selectedCompanies=[],this.isNewCompany=!0},updateSelectedCompanies:function(t){this.$emit("listCompanies",t)}},apollo:{companies:{query:vt["b"],update:function(t){return t.companies.list},variables:function(){return{filters:{orderBy:"desc",search:this.search,take:10}}},skip:function(){return!this.hasSearch}}}},pt=ht,ft=Object(C["a"])(pt,ut,mt,!1,null,null,null),yt=ft.exports;_()(ft,{VChip:X["a"],VCombobox:tt["a"],VIcon:S["a"],VListItem:et["a"],VListItemContent:it["a"],VListItemTitle:it["c"]});var bt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-autocomplete",{staticClass:"mb-2",attrs:{items:t.deals,filter:t.filterObject,"menu-props":t.menuProps,"search-input":t.search,label:"Trato","item-text":"title","hide-details":"auto",dense:"",outlined:"","hide-selected":"","return-object":"","append-icon":"","prepend-icon":"mdi-currency-usd-circle-outline",clearable:"","hide-no-data":t.$apollo.queries.deals.loading,loading:t.$apollo.queries.deals.loading,disabled:t.disabled},on:{"update:searchInput":function(e){t.search=e},"update:search-input":function(e){t.search=e},input:t.updateSelectedDeals},scopedSlots:t._u([{key:"item",fn:function(e){var a=e.on,n=e.attrs,s=e.item;return[i("v-list-item",t._g({attrs:{dense:"",attrs:n}},a),[i("v-list-item-content",{attrs:{"two-line":""}},[i("v-list-item-title",[t._v(t._s(s.title))]),i("v-list-item-subtitle",[i("b",[t._v("Embudo:")]),t._v(" "+t._s(s.pipeline.name)+" "),i("v-icon",[t._v("mdi-minus")]),i("b",[t._v("Etapa:")]),t._v(" "+t._s(s.stage.name)+" ")],1)],1)],1)]}}]),model:{value:t.selectedDeal,callback:function(e){t.selectedDeal=e},expression:"selectedDeal"}})},Ct=[],gt=i("6675"),_t={name:"ActivityDeal",mixins:[u["a"]],props:{defaultDeal:{type:Object,default:function(){}},isEdit:{type:Boolean,default:!1},reset:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},data:function(){return{search:"",selectedDeal:"",deals:[]}},watch:{reset:function(t){t&&this.resetDeal()},isEdit:{handler:function(t){t&&this.defaultDeal&&this.defaultDeal.id&&(this.selectedDeal=this.noReactive(this.defaultDeal),this.deals=[this.defaultDeal])},immediate:!0},search:function(t){""===t&&(this.search=null)},selectedDeal:{handler:function(){this.search=null}}},computed:{hasSearch:function(){return null!==this.search&&void 0!==this.search&&""!==this.search&&this.search.length>0},menuProps:function(){return this.search?{}:{value:!1}},readOnly:function(){return null!==this.selectedDeal&&void 0!==this.selectedDeal&&0!==this.selectedDeal.length}},methods:{resetDeal:function(){this.selectedDeal=""},filterObject:function(t,e){return t.title.toLocaleLowerCase().indexOf(e.toLocaleLowerCase())>-1},clearValue:function(){this.selectedDeal=""},updateSelectedDeals:function(t){this.$emit("listDeal",t)}},apollo:{deals:{query:gt["c"],update:function(t){return t.deals.list},variables:function(){return{filters:{orderBy:"desc",search:this.search,take:10}}},skip:function(){return!this.hasSearch}}}},At=_t,Et=Object(C["a"])(At,bt,Ct,!1,null,null,null),It=Et.exports;_()(Et,{VAutocomplete:A["a"],VIcon:S["a"],VListItem:et["a"],VListItemContent:it["a"],VListItemSubtitle:it["b"],VListItemTitle:it["c"]});var xt=i("1675"),wt={name:"ModalActivity",mixins:[G["b"],G["a"],z["a"],Y["a"],u["a"],xt["a"]],components:{NoteEditorDescription:P,MenuOwner:T,ActivityInvites:nt,ActivityContacts:dt,ActivityCompanies:yt,ActivityDeal:It,ModalEffective:d["a"]},props:{item:{type:Object,default:function(){}},typeItem:{type:String,default:""}},data:function(){return{tags:["Work","Home Improvement","Vacation","Food","Drawers","Shopping","Art","Tech","Creative Writing"],isLoadingComplete:!1,isValidateFormActivity:!0,flagActivity:!1,isLoading:!1,isFreeTime:!1,userCurrent:{},timeNow:l()().hour(Number),modalId:"createActivity",modal:{},activityTypes:[],listTime:R,today:l()().format("YYYY-MM-DD"),isActiveReschedule:!1,isActiveDescription:!1,isActiveLocation:!1,isActiveCompany:!1,isActiveDeal:!1,isActiveInvites:!1,isActiveContact:!1,typeActivity:"",activityBefore:{dateStart:l()().format("YYYY-MM-DD"),timeStart:"",timeEnd:""},activityBeforeEdit:{id:"",title:"",typeActivity:null,dateStart:"",timeStart:"",timeEnd:"",invites:[],location:"",description:"",createdAt:"",companies:[],contacts:[],deal:{},isComplete:!1,owner:{id:"",user:{id:"",name:"",lastName:""}},status:"",comments:""},activity:{id:"",title:"",typeActivity:null,dateStart:l()().format("YYYY-MM-DD"),timeStart:"",timeEnd:"",invites:[],location:"",description:"",createdAt:"",companies:[],contacts:[],deal:{},isComplete:!1,owner:{id:"",user:{id:"",name:"",lastName:""}},status:"PENDING",comments:"",isAllDay:!1}}},watch:{"modal.isEdit":{handler:function(t){if(t){var e=this.modal.item,i=e.id,a=e.title,n=e.type,s=e.start,c=e.end,o=e.guests,r=e.location,d=e.description,u=e.createdAt,m=e.companies,v=e.contacts,h=e.deal,p=e.owner,f=e.status,y=e.isAllDay,b=this.getActivityTypeIndex(n.id),C=s.split(" ")[0],g=s?s.split(" "):[],_=c?c.split(" "):[],A=g.length>1?l()(g[1],["h:mm:ss"]):null,E=_.length>1?l()(_[1],["h:mm:ss"]):null,I=[];o&&(I=o.map((function(t,e){return{id:e,name:t.displayName,email:t.email}})));var x="PENDING"!==f;I&&I.length&&(this.isActiveInvites=!0),r&&r.length&&(this.isActiveLocation=!0),d&&d.length&&(this.isActiveDescription=!0),v&&v.length&&(this.isActiveContact=!0),m&&m.length&&(this.isActiveCompany=!0),h&&(this.isActiveDeal=!0),this.flagActivity=!x,this.activity={id:i,title:a,typeActivity:b,dateStart:C,timeStart:A&&null!==A?A.format("hh:mma"):null,timeEnd:E?E.format("hh:mma"):null,invites:I,location:r,description:d,createdAt:u,companies:m,contacts:v,deal:h,isComplete:x,owner:p,status:f,comments:"",isAllDay:y},this.activityBeforeEdit={id:i,title:a,typeActivity:b,dateStart:C,timeStart:A?A.format("hh:mma"):null,timeEnd:E?E.format("hh:mma"):null,invites:I,location:r,description:d,createdAt:u,companies:m,contacts:v,deal:h,isComplete:x,owner:p,status:f,comments:"",isAllDay:y},this.activityBefore={dateStart:C,timeStart:A?A.format("hh:mma"):null,timeEnd:E?E.format("hh:mma"):""}}}},"modal.status":{handler:function(t){var e,i;(t&&this.isFreeBusy(),t&&!this.modal.isEdit)&&("DEAL"===this.typeItem?(this.activity.deal={__typename:"Deal",id:this.item.id,title:this.item.title},this.isActiveDeal=!0,null!==(e=this.item.contact)&&void 0!==e&&e.id&&(this.activity.contacts=[{__typename:"Contact",id:this.item.contact.id,email:this.item.contact.email,name:this.item.contact.name}],this.isActiveContact=!0),null!==(i=this.item.company)&&void 0!==i&&i.id&&(this.activity.companies=[{__typename:"Company",id:this.item.company.id,name:this.item.company.name}],this.isActiveCompany=!0)):"CONTACT"===this.typeItem?(this.activity.contacts=[{__typename:"Contact",id:this.item.id,email:this.item.email,name:this.item.name}],this.isActiveContact=!0):"COMPANY"===this.typeItem&&(this.activity.companies=[{__typename:"Company",id:this.item.id,name:this.item.name}],this.isActiveCompany=!0,this.item.contacts&&this.item.contacts.length&&(this.activity.contacts=this.item.contacts,this.isActiveContact=!0)));t||this.reset()},immediate:!0},"userCurrent.id":{handler:function(){var t=this.userCurrent,e=t.id,i=t.user;e&&i&&(this.activity.owner={id:e,user:i})},immediate:!0},"activity.owner":{handler:function(){this.isFreeBusy()}},"activity.dateStart":{handler:function(){this.isFreeBusy()}},"activity.timeEnd":{handler:function(){this.isFreeBusy()}},"activity.timeStart":{handler:function(t){var e=l()("10:45pm",["hh:mma"]);this.modal.isEdit&&this.isAllDayEdit&&""!==t&&(l()(t,["hh:mma"]).isSameOrAfter(e,"hour")?this.activity.timeEnd="11:45pm":this.activity.timeEnd=l()(t,["hh:mma"]).add(1,"h").format("hh:mma")),this.modal.isEdit?""===t||this.isAllDayEdit||(l()(t,["hh:mma"]).isSameOrAfter(e,"hour")?this.activity.timeEnd="11:45pm":this.activity.timeEnd=l()(t,["hh:mma"]).add(1,"h").format("hh:mma")):""!==t&&(l()(t,["hh:mma"]).isSameOrAfter(e,"hour")?this.activity.timeEnd="11:45pm":this.activity.timeEnd=l()(t,["hh:mma"]).add(1,"h").format("hh:mma")),this.isFreeBusy()},immediate:!0},"activity.isComplete":{handler:function(t){t&&(this.modal.isEdit?this.modal.isEdit&&this.flagActivity&&this.openModalEffective():this.openModalEffective()),!t&&this.modal.isEdit?this.saveEventIncomplete():t||(this.activity.comments="",this.activity.status="PENDING"),this.flagActivity=!0}},isActiveLocation:function(t){t||(this.activity.location="")},isActiveCompany:function(t){t||(this.activity.companies=[])},isActiveContact:function(t){t||(this.activity.contacts=[])},isActiveDeal:function(t){t||(this.activity.deal={})}},computed:{isAllDayEdit:function(){return this.modal.isEdit&&this.modal.item.isAllDay},listActivityTypes:function(){var t=Object(o["a"])(this.activityTypes);return this.sortList(t)},deals:function(){return this.item.deals.map((function(t){return{__typename:"Deal",id:t.id,title:t.title}}))},listTimeStart:function(){var t=this,e=this.getTime("11:45pm");return this.listTime.filter((function(i){return t.getTime(i)<e}))},listTimeEnd:function(){var t=this,e=this.getTime(this.activity.timeStart);return this.listTime.filter((function(i){return t.getTime(i)>e}))},event:function(){var t="",e="",i=this.getActivityType(this.activity.typeActivity)||"",a=i.color;return this.activity.timeStart&&(t=this.getTime(this.activity.timeStart)),this.activity.timeEnd&&(e=this.getTime(this.activity.timeEnd)),{id:this.modal.isEdit?this.modal.item.id:"",name:this.activity.title||"Nombre de la actividad",start:"".concat(this.activity.dateStart).concat(t),end:"".concat(this.activity.dateStart).concat(e),color:a}},formatTitle:function(){return this.modal.isEdit&&this.modal.item&&this.modal.item.isReschedule?"Reagendar actividad":this.modal.isEdit?"Editar actividad":"Crear actividad"}},methods:{sortList:function(t){return t.sort((function(t,e){return t.order>e.order?1:-1}))},isFreeBusy:function(){if(this.modal.isEdit){var t=this.modal.item,e=t.start,i=t.end,a=e.split(" ")[0],n=l()(e.split(" ")[1],["h:mm:ss"]),s=i?l()(i.split(" ")[1],["h:mm:ss"]):null,c=l()(this.activity.timeStart,["h:mma"]),o=l()(this.activity.timeEnd,["h:mma"]);this.activity.dateStart===a&&((c<n||c>=s)&&(o<=n||o>s)?this.mutationIsFreeBusy():c<n&&o>n&&o<s?this.mutationIsFreeBusy(c.format("hh:mma"),n.format("hh:mma")):c===n&&o>n&&o<s||c===n&&o===s||c>n&&c<s&&o>n&&o<s?this.isFreeTime=!1:c>n&&c<s&&o>s?this.mutationIsFreeBusy(o.format("hh:mma"),s.format("hh:mma")):c>n&&c<s&&o===s&&(this.isFreeTime=!1))}else this.mutationIsFreeBusy()},mutationIsFreeBusy:function(t,e){var i=this;return Object(c["a"])(regeneratorRuntime.mark((function a(){var n,s,c,o,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:s=t||i.activity.timeStart,c=e||i.activity.timeEnd,i.activity.dateStart&&s&&c&&null!==(n=i.activity.owner)&&void 0!==n&&n.id&&(o=i.createADateComplete(i.activity.dateStart,s),r=i.createADateComplete(i.activity.dateStart,c),i.$apollo.query({query:q["a"],fetchPolicy:"no-cache",variables:{activityInput:{userEnterpriseId:i.activity.owner.id,dateStart:o,dateEnd:r}}}).then((function(t){var e=t.data.activitiesFreeBusy;i.isFreeTime=e})));case 3:case"end":return a.stop()}}),a)})))()},formatTime:function(t,e,i){if(t&&e&&i){var a=l()(t),n=l()(e,["h:mm:ss"]),s=l()(i,["h:mm:ss"]);return"".concat(a.format("LL")," ⋅ ").concat(n.format("h:mma")," - ").concat(s.format("h:mma"))}return""},formatDate:function(t){return l()(t).format("LL")},getTime:function(t){return" ".concat(this.convertHour24(t))},convertHour24:function(t){var e=l()(t,"HH:mmA");return e.format("HH:mm")},cancelComplete:function(){this.activity.isComplete=!1,this.activity.status="PENDING",this.activity.comments=""},saveComplete:function(t){var e=t.status,i=t.comments;if(this.modal.isEdit){this.isLoadingComplete=!0;var a=this.modal.item.id;e?this.saveCompleteMutation({id:a,status:"EFFECTIVE"}):this.saveCompleteMutation({id:a,status:"INEFFECTIVE",comments:i})}else this.activity.isComplete=!0,e?this.activity.status="EFFECTIVE":(this.activity.status="INEFFECTIVE",this.activity.comments=i)},saveEventIncomplete:function(){var t=this.modal.item.id;this.isLoadingIncomplete=!0,this.saveCompleteMutation({id:t,status:"PENDING"})},saveCompleteMutation:function(t){var e=this,i=t.id,a=t.status,n=t.comments;this.$apollo.mutate({mutation:m["h"],variables:{activityInput:{id:i,status:a,comments:n}}}).then((function(t){var i=t.data.updateActivity;"PENDING"!==i.status?e.addSuccess("Se completó la actividad."):e.addSuccess("Marcaste como incompleta la actividad.")})).catch((function(){var t="No se pudo actualizar el estado de la actividad, intente de nuevo o contacte a soporte";e.modalHandlerError({isOpen:!0,error:t})}))},openModalEffective:function(){this.changeModal({id:"modalEffectiveActivity",status:!0})},updateOwner:function(t){this.activity.owner=t},updateContent:function(t){this.activity.description=t},listContacts:function(t){this.activity.contacts=t},listInvites:function(t){this.activity.invites=t},listCompanies:function(t){this.activity.companies=t},listDeal:function(t){this.activity.deal=t},close:function(){this.changeModal({id:this.modalId,status:!1,isEdit:!1,item:null})},getActivityType:function(t){return this.listActivityTypes[t]},getActivityTypeIndex:function(t){return this.listActivityTypes.findIndex((function(e){return e.id===t}))},createADateComplete:function(t,e){return t&&e?l()("".concat(t," ").concat(e),"YYYY-MM-DD HH:mmA").format():null},formatElement:function(t){return t.map((function(t){return t===Object(t)?{id:t.id}:{name:t}}))},formatGuests:function(t){return t&&t.length>0?t.map((function(t){if(t===Object(t))return{displayName:t.name,email:t.email};var e=t.slice(0,t.indexOf("@"));return{displayName:e,email:t}})):[]},isValidHour:function(t){return l()(t,"hh:mma",!0).isValid()},isValidDateTime:function(t){return!!t&&l()(t).isValid()},createActivity:function(){var t=this;if(this.$refs.formActivity.validate(),this.isValidateFormActivity&&""!==this.activity.title&&!this.isFreeTime){this.isLoading=!0;var e=this.activity,i=e.title,a=e.typeActivity,n=e.dateStart,c=e.timeStart,o=e.timeEnd,r=e.invites,l=e.location,d=e.description,u=e.contacts,v=e.companies,h=e.deal,p=e.owner,f=e.status,y=e.comments,b=this.getActivityType(a),C=this.createADateComplete(n,c||"12:00am"),g=this.createADateComplete(n,o||"12:00am"),_=this.formatGuests(r),A={title:i,status:f,description:d,location:l,owner:{id:p.id},type:{id:b.id},start:C,end:g,contacts:this.formatElement(u),companies:this.formatElement(v),deal:null!==h&&void 0!==h&&h.id?{id:h.id}:void 0,comments:y,guests:_},E=this.deleteEmptyProperties(A),I=!(this.isValidHour(c)&&this.isValidHour(o));this.$apollo.mutate({mutation:m["a"],variables:{activityInput:Object(s["a"])(Object(s["a"])({},E),{},{isAllDay:I})}}).then((function(){t.$emit("updateHistory"),t.$emit("refetch"),t.isLoading=!1,t.close(),t.addSuccess("Se creó la actividad.")})).catch((function(){t.isLoading=!1;var e="No se pudo crear la actividad, intente de nuevo o contacte a soporte";t.modalHandlerError({isOpen:!0,error:e})}))}},justNewsElementsToCreate:function(t){return t&&t.length>0?t.filter((function(t){return"string"===typeof t})).map((function(t){return{name:t}})):[]},justNewsElementsToConnect:function(t,e){return t&&t.length>0?t.filter((function(t){return!e.includes(t.id)&&"string"!==typeof t})).map((function(t){return{id:t.id}})):[]},justElementsToDisconnect:function(t,e){return t&&t.length?e.filter((function(e){return!t.some((function(t){return t.id===e}))})).map((function(t){return{disconnect:{id:t}}})):[]},updateActivity:function(){var t=this;this.isLoading=!0;var e={id:this.activity.id};this.activityBeforeEdit.title!==this.activity.title&&(e.title=this.activity.title),this.activityBeforeEdit.typeActivity!==this.activity.typeActivity&&(e.typeActivity=this.activity.typeActivity);var i=this.activityBeforeEdit.dateStart!==this.activity.dateStart||this.activityBeforeEdit.timeStart!==this.activity.timeStart||this.activityBeforeEdit.timeEnd!==this.activity.timeEnd;i&&(e.dateStart=this.activity.dateStart,e.timeStart=this.activity.timeStart,e.timeEnd=this.activity.timeEnd),this.activityBeforeEdit.invites!==this.activity.invites&&(e.invites=this.activity.invites),this.activityBeforeEdit.location!==this.activity.location&&(e.location=this.activity.location),this.activityBeforeEdit.description!==this.activity.description&&(e.description=this.activity.description),this.activityBeforeEdit.contacts!==this.activity.contacts&&(e.contacts=this.activity.contacts),this.activityBeforeEdit.companies!==this.activity.companies&&(e.companies=this.activity.companies),this.activityBeforeEdit.deal!==this.activity.deal&&(e.deal=this.activity.deal),this.activityBeforeEdit.owner!==this.activity.owner&&(e.owner=this.activity.owner),this.activityBeforeEdit.status!==this.activity.status&&(e.status=this.activity.status);var a,n,c=e.id,o=e.title,r=e.typeActivity,l=e.dateStart,d=e.timeStart,u=e.timeEnd,v=e.invites,h=e.location,p=e.description,f=e.contacts,y=e.companies,b=e.deal,C=e.owner,g=e.status,_=e.comments;if(this.modal.isEdit){var A=this.justNewsElementsToConnect(f,this.modal.item.contacts.map((function(t){return t.id}))),E=this.justElementsToDisconnect(f,this.modal.item.contacts.map((function(t){return t.id}))),I=f&&f.length>0?this.justNewsElementsToCreate(f):[];a=A.concat(I,E)}else a=this.formatElement(f);if(this.modal.isEdit){var x=y&&y.length>0?this.justNewsElementsToConnect(y,this.modal.item.companies.map((function(t){return t.id}))):[],w=this.justElementsToDisconnect(y,this.modal.item.companies.map((function(t){return t.id}))),S=this.justNewsElementsToCreate(y);n=x.concat(S,w)}else n=this.formatElement(y);var k=this.getActivityType(r),D=k&&k.id?{id:k.id}:null,O=C&&C.id?{id:C.id}:null,T=l?this.createADateComplete(l,d):null,V=l?this.createADateComplete(l,u):null,j=this.formatGuests(v),L=g!==this.modal.item.status?g:void 0,$=g!==this.modal.item.status?_:void 0,N=b?{id:b.id}:void 0,B={id:c};o&&(B.title=o),L&&(B.status=L),p&&(B.description=p),h&&(B.location=h),O&&(B.owner=O),D&&(B.type=D),T&&(B.start=T),V&&(B.end=V),h&&(B.location=h),a&&a.length>0&&(B.contacts=a),n&&n.length>0&&(B.companies=n),N&&N.id&&(B.deal=N),$&&(B.comments=$),j&&j.length>0&&(B.guests=j),i&&(B.isAllDay=!(this.isValidDateTime(B.start)&&this.isValidDateTime(B.end))),B.isAllDay&&B.start&&(B.end=B.start),this.$apollo.mutate({mutation:m["h"],variables:{activityInput:Object(s["a"])({},B)}}).then((function(){t.close(),t.isLoading=!1,t.$emit("updateHistory"),t.$emit("refetch"),t.addSuccess("Se actualizó la actividad.")})).catch((function(){t.isLoading=!1;var e="No se pudo actualizar la actividad, intente de nuevo o contacte a soporte";t.modalHandlerError({isOpen:!0,error:e})}))},reset:function(){var t=this.userCurrent,e=t.id,i=t.user;this.isActiveReschedule=!1,this.isFreeTime=!1,this.isActiveDescription=!1,this.isActiveLocation=!1,this.isActiveCompany=!1,this.isActiveDeal=!1,this.isActiveInvites=!1,this.isActiveContact=!1,this.activity={id:"",title:"",typeActivity:0,dateStart:l()().format("YYYY-MM-DD"),timeStart:"",timeEnd:"",invites:[],location:"",description:"",companies:[],contacts:[],deal:{},isComplete:!1,owner:{id:e,user:i},status:"PENDING",comments:""},this.$refs.formActivity&&this.$refs.formActivity.resetValidation(),this.isValidateFormActivity=!0},deleteEmptyProperties:function(t){return Object.keys(t).filter((function(e){return!!t[e]&&t[e].length>0||!!t[e]&&t[e].constructor===Object&&Object.entries(t[e]).length>0})).reduce((function(e,i){return e[i]=t[i],e}),{})},setHourNow:function(){var t=this,e=l()().format("hh:mma"),i=this.listTime.find((function(i){return t.getTime(i)>t.getTime(e)}));""===this.activity.timeStart&&(this.activity.timeStart=i||"")}},apollo:{activityTypes:{query:q["c"],fetchPolicy:"no-cache"},userCurrent:{query:v["k"]},activities:{query:q["b"],fetchPolicy:"no-cache"}}},St=wt,kt=(i("7351"),i("ac7c")),Dt=i("ef9a"),Ot=i("62ad"),Tt=i("169a"),Vt=i("4bd4"),jt=i("34c3"),Lt=i("0fd9"),$t=i("b974"),Nt=i("8654"),Bt=Object(C["a"])(St,a,n,!1,null,"96f5ed3c",null);e["a"]=Bt.exports;_()(Bt,{VBtn:E["a"],VCard:I["a"],VCardActions:x["a"],VCardText:x["c"],VCardTitle:x["d"],VCheckbox:kt["a"],VChip:X["a"],VChipGroup:Dt["a"],VCol:Ot["a"],VDialog:Tt["a"],VDivider:w["a"],VForm:Vt["a"],VIcon:S["a"],VListItem:et["a"],VListItemContent:it["a"],VListItemIcon:jt["a"],VListItemTitle:it["c"],VRow:Lt["a"],VSelect:$t["a"],VSpacer:D["a"],VTextField:Nt["a"],VTooltip:M["a"]})},e02f:function(t,e,i){},e207:function(t,e,i){"use strict";i.d(e,"a",(function(){return l}));var a=i("5530"),n=i("d4ec"),s=i("bee2"),c=i("262e"),o=i("2caf"),r=i("3f38"),l=function(t){Object(c["a"])(i,t);var e=Object(o["a"])(i);function i(t){var s;return Object(n["a"])(this,i),s=e.call(this,Object(a["a"])({},t)),s.target="_blank",s}return Object(s["a"])(i,[{key:"schema",get:function(){var t=this;return{attrs:{href:{default:null},target:{default:"_blank"}},inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs:function(t){return{href:t.getAttribute("href"),target:t.getAttribute("target")}}}],toDOM:function(e){return["a",Object(a["a"])(Object(a["a"])({},e.attrs),{},{target:t.target}),0]}}}}]),i}(r["h"])},ef9a:function(t,e,i){"use strict";i("8f5a");var a=i("7efd"),n=i("a9ad"),s=i("58df");e["a"]=Object(s["a"])(a["a"],n["a"]).extend({name:"v-chip-group",provide(){return{chipGroup:this}},props:{column:Boolean},computed:{classes(){return{...a["a"].options.computed.classes.call(this),"v-chip-group":!0,"v-chip-group--column":this.column}}},watch:{column(t){t&&(this.scrollOffset=0),this.$nextTick(this.onResize)}},methods:{genData(){return this.setTextColor(this.color,{...a["a"].options.methods.genData.call(this)})}}})},f9f5:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-dialog",{attrs:{scrollable:"","max-width":"330px",persistent:""},model:{value:t.modal.status,callback:function(e){t.$set(t.modal,"status",e)},expression:"modal.status"}},[i("v-card",[i("v-card-title",{staticClass:"primary white--text"},[t._v(" Actividad completada "),i("v-spacer"),i("v-btn",{attrs:{icon:"",color:"white"},on:{click:t.cancel}},[i("v-icon",[t._v("mdi-close")])],1)],1),i("v-divider"),i("v-container",[i("p",{staticClass:"text-center"},[t._v("¿Fué efectiva?")]),i("v-row",[i("v-col",{staticClass:"text-center"},[i("v-btn",{staticClass:"mr-5",attrs:{color:"error",outlined:!1!==t.effective.status,elevation:!1===t.effective.status?10:0},on:{click:function(e){t.effective.status=!1}}},[i("v-icon",[t._v("mdi-close")]),!1===t.effective.status?i("span",[t._v("No")]):t._e()],1)],1),i("v-col",{staticClass:"text-center"},[i("v-btn",{attrs:{outlined:!0!==t.effective.status,color:"success",elevation:t.effective.status?10:0},on:{click:function(e){t.effective.status=!0}}},[i("v-icon",[t._v("mdi-check")]),!0===t.effective.status?i("span",[t._v("Si")]):t._e()],1)],1)],1),t.isValidateEffective?t._e():i("p",{staticClass:"red--text"},[t._v("Elige una opción")]),!1===t.effective.status?i("v-textarea",{staticClass:"mt-7",attrs:{outlined:"",label:"¿Por qué no fue efectiva?",rows:"2","hide-details":"auto"},model:{value:t.effective.comments,callback:function(e){t.$set(t.effective,"comments",e)},expression:"effective.comments"}}):t._e(),t.isValidateComments?t._e():i("p",{staticClass:"red--text"},[t._v(" Escribe un comentario ")])],1),i("v-divider"),i("v-card-actions",{staticClass:"pt-4"},[i("v-btn",{attrs:{outlined:"",color:"primary"},on:{click:t.cancel}},[t._v(" Cancelar ")]),i("v-spacer"),i("v-btn",{attrs:{color:"secondary",loading:t.isLoading},on:{click:t.save}},[t._v(" Guardar ")])],1)],1)],1)},n=[],s=i("1891"),c={name:"ModalEffective",mixins:[s["b"],s["a"]],props:{modalIdDefault:{type:String,default:"modalEffective"},isLoading:{type:Boolean,default:!1},reset:{type:Boolean,default:!1}},data:function(){return{modalId:this.modalIdDefault,modal:{},effective:{status:null,comments:""},isValidateEffective:!0,isValidateComments:!0}},watch:{reset:function(){this.effective.status=null,this.effective.comments="",this.isValidateEffective=!0,this.isValidateComments=!0},"modal.status":{handler:function(t){t||(this.isValidateEffective=!0,this.isValidateComments=!0,this.effective={status:null,comments:""})}},"effective.status":{handler:function(t){null!==t&&(this.isValidateEffective=!0)}},"effective.comments":{handler:function(t){""!==t&&(this.isValidateComments=!0)}}},methods:{close:function(){this.changeModal({id:this.modalId,status:!1,isEdit:!1,item:null})},cancel:function(){this.$emit("cancel"),this.close()},save:function(){this.validateFields(),this.isValidateEffective&&this.isValidateComments&&(this.$emit("save",this.effective),this.close())},validateFields:function(){null===this.effective.status&&(this.isValidateEffective=!1),!1===this.effective.status&&""===this.effective.comments&&(this.isValidateComments=!1)}}},o=c,r=i("0c7c"),l=i("6544"),d=i.n(l),u=i("8336"),m=i("b0af"),v=i("99d9"),h=i("62ad"),p=i("a523"),f=i("169a"),y=i("ce7e"),b=i("132d"),C=i("0fd9"),g=i("2fa4"),_=i("a844"),A=Object(r["a"])(o,a,n,!1,null,"1f4dcadf",null);e["a"]=A.exports;d()(A,{VBtn:u["a"],VCard:m["a"],VCardActions:v["a"],VCardTitle:v["d"],VCol:h["a"],VContainer:p["a"],VDialog:f["a"],VDivider:y["a"],VIcon:b["a"],VRow:C["a"],VSpacer:g["a"],VTextarea:_["a"]})},ffd2:function(t,e,i){"use strict";i.d(e,"e",(function(){return m})),i.d(e,"f",(function(){return v})),i.d(e,"c",(function(){return h})),i.d(e,"d",(function(){return p})),i.d(e,"b",(function(){return f})),i.d(e,"a",(function(){return y}));var a,n,s,c,o,r,l,d=i("8785"),u=i("5184"),m=Object(u["a"])(a||(a=Object(d["a"])(["\n  query getCalendarUri {\n    getCalendarUri\n  }\n"]))),v=Object(u["a"])(n||(n=Object(d["a"])(["\n  query listCalendar {\n    listCalendar {\n      id\n      kind\n      etag\n      summary\n      description\n      timeZone\n      colorId\n      backgroundColor\n      foregroundColor\n      accessRole\n      selected\n      primary\n    }\n  }\n"]))),h=Object(u["a"])(s||(s=Object(d["a"])(["\n  query readActivityTypes {\n    activityTypes {\n      id\n      name\n      color\n      order\n      activitiesCount\n    }\n  }\n"]))),p=Object(u["a"])(c||(c=Object(d["a"])(["\n  query GetActivity($activityId: ID!) {\n    activity(activityId: $activityId) {\n      id\n      title\n      start\n      end\n      status\n      location\n      description\n      guests\n      createdAt\n      isAllDay\n      companies {\n        id\n        name\n      }\n      contacts {\n        id\n        name\n      }\n      deal {\n        id\n        title\n      }\n      owner {\n        id\n        user {\n          id\n          name\n          lastName\n        }\n      }\n      type {\n        id\n        color\n        name\n        order\n      }\n    }\n  }\n"]))),f=(Object(u["a"])(o||(o=Object(d["a"])(["\n  query readActivityType($activityTypeId: ID!) {\n    activityType(activityTypeId: activityTypeId) {\n      id\n      name\n      color\n      order\n    }\n  }\n"]))),Object(u["a"])(r||(r=Object(d["a"])(["\n  query readActivities($filters: FilterActivities) {\n    activities(filters: $filters) {\n      count\n      list {\n        id\n        title\n        status\n        start\n        end\n        location\n        description\n        createdAt\n        isAllDay\n        deal {\n          id\n          title\n        }\n        contacts {\n          id\n          name\n        }\n        companies {\n          id\n          name\n        }\n        type {\n          id\n          name\n          color\n        }\n        owner {\n          id\n          user {\n            id\n            name\n            lastName\n          }\n        }\n        guests\n      }\n    }\n  }\n"])))),y=Object(u["a"])(l||(l=Object(d["a"])(["\n  query readFreeBusy($activityInput: activityFreeBusyInput!) {\n    activitiesFreeBusy(activityInput: $activityInput)\n  }\n"])))}}]);
//# sourceMappingURL=chunk-046c1e77.10c4d9a4.js.map