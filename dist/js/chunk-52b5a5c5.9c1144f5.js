(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-52b5a5c5"],{"024a":function(e,t,i){},"0416":function(e,t,i){},"0486":function(e,t,i){"use strict";var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseCardChart",{attrs:{title:e.title,titleRegular:e.titleRegular,settings:e.filtersConfig,isChart:""},on:{updateRefetch:function(t){e.isRefetch=!0}},scopedSlots:e._u([{key:"modal",fn:function(){return[i("LineTotalIncomeGoalFilter",{attrs:{defaultFilter:e.filtersConfig,isIcon:"",isPreview:""}})]},proxy:!0}])},[i("div",{staticClass:"hoverClick",on:{click:e.openModal}},[i("LineTotalIncomeGoalData",{attrs:{defaultFilter:e.filtersConfig,isPreview:"",isRefetch:e.isRefetch},on:{updateRefetch:function(t){e.isRefetch=!1}}})],1),i("LineTotalIncomeGoalModal",{attrs:{isOpen:e.isOpenModal,filters:{filtersConfig:e.filtersConfig,filtersConfig:e.filtersConfig,filtersTable:e.filtersTable},title:e.title,titleRegular:e.titleRegular},on:{close:e.closeModal}})],1)},a=[],o=i("3835"),n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalChart",{attrs:{title:e.title,titleRegular:e.titleRegular,isOpen:e.isOpen},on:{close:e.closeModal},scopedSlots:e._u([{key:"filters",fn:function(){return[i("LineTotalIncomeGoalFilter",{attrs:{defaultFilter:e.filters.filtersConfig}})]},proxy:!0},{key:"chart",fn:function(){return[i("LineTotalIncomeGoalData",{attrs:{defaultFilter:e.filters.filtersConfig,isFull:""}})]},proxy:!0},{key:"table",fn:function(){return[i("TableDeals",{attrs:{defaultFilter:e.filters.filtersTable}})]},proxy:!0}])})},s=[],l=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalFilters",{attrs:{isOpen:e.isOpenModalFilter,isIcon:e.isIcon},on:{save:e.saveFilter,statusModal:e.statusModal}},[i("v-row",[i("v-col",{attrs:{cols:"12"}},[i("Select",{attrs:{name:"Filtrar por",defaultSelect:e.defaultFilter.filterTime,list:e.listTime},on:{change:e.changeTime}})],1),i("v-col",{attrs:{cols:"12"}},[i("Select",{attrs:{name:"Filtrar por",defaultSelect:e.defaultFilter.filterBy,list:e.listFilterBy},on:{change:e.changeFilterBy}})],1),"none"===e.typeCompare?i("v-col",{attrs:{cols:"12"}},[i("SelectUsers",{attrs:{all:"",defaultSelect:e.defaultFilter.users},on:{change:e.changeUsers}})],1):e._e(),i("v-col",{attrs:{cols:"12"}},[i("SelectPipeline",{attrs:{defaultSelect:e.defaultFilter.pipeline},on:{change:e.changePipeline}})],1),i("v-col",{attrs:{cols:"12"}},[i("PeriodPredefined",{attrs:{defaultSelect:e.defaultFilter.periodPredefined},on:{change:e.changePeriodPredefined}})],1),e.isPreview?e._e():i("v-col",{attrs:{cols:"12"}},[i("ComparePeriodLines",{attrs:{periodPredefined:e.filters.periodPredefined[0]},on:{change:e.changeComparePeriod}})],1)],1)],1)},d=[],p=i("2909"),c=i("5530"),u=i("740f"),f=i("d344"),h=i("6321"),v=i("c065"),m=i("e050"),g={name:"LineTotalIncomeGoalFilter",components:{SelectUsers:u["a"],SelectPipeline:h["a"],Select:f["a"]},mixins:[m["b"]],props:{defaultFilter:{type:Object,default:function(){return{filterBy:"count",filterTime:"WEEKS",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownersToCompare:[]}}}},data:function(){return{listTime:v["d"],listFilterBy:v["e"],filters:{filterBy:"count",filterTime:"WEEKS",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownersToCompare:[]}}},methods:{saveFilter:function(){this.changeChart({id:"line-totalIncomeGoal",filtersFull:Object(c["a"])(Object(c["a"])({},this.noReactive(this.filters)),{},{periodRange:Object(c["a"])({__typename:"PeriodRange"},this.filters.periodRange),ownersToCompare:Object(p["a"])(this.filters.ownersToCompare)})}),this.isOpenModalFilter=!1}}},C=g,R=i("0c7c"),T=i("6544"),y=i.n(T),P=i("62ad"),S=i("0fd9"),b=Object(R["a"])(C,l,d,!1,null,"f752c262",null),F=b.exports;y()(b,{VCol:P["a"],VRow:S["a"]});var O=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.isPreview?e._e():i("ListFilters",{attrs:{settings:e.settings}}),i("div",{staticClass:"text-center bgWhite",class:[{"py-5 px-3":!e.isPreview},{showScroll:e.isWithScroll}]},[i("apexchart",{attrs:{height:e.isPreview?250:350,type:"line",options:e.options,series:e.series}})],1)],1)},w=[],_=(i("d81d"),i("b680"),i("b0c0"),i("99af"),i("8d7e")),B=i("b3b3"),D={name:"LineTotalIncomeGoalData",mixins:[m["a"]],props:{defaultFilter:{type:Object,default:function(){return{filterBy:"count",filterTime:"WEEKS",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"]}}}},data:function(){return{totalIncomeGoalLinearGraph:{mainDateList:[],secondDateList:[],mainAverageDateTotalIncomeGoal:[],secondAverageDateTotalIncomeGoal:[]},modalSettings:{filterBy:"count",filterTime:"WEEKS",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:[]},settings:{filterBy:"count",filterTime:"WEEKS",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:[]}}},computed:{options:function(){var e=this;return{chart:{height:this.isPreview?"250":"350",width:this.isWithScroll?"1200":"100%",type:"line",toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1},legend:{position:"top",horizontalAlign:this.isWithScroll?"left":"center",showForSingleSeries:!0},stroke:{curve:"smooth"},markers:{size:5,colors:void 0,strokeColors:"#fff",strokeWidth:2,strokeOpacity:.9,strokeDashArray:0,fillOpacity:1,discrete:[],shape:"circle",radius:2,offsetX:0,offsetY:0,onClick:void 0,onDblClick:void 0,showNullDataPoints:!0,hover:{size:void 0,sizeOffset:3}},colors:B["b"],grid:{row:{colors:["#f3f3f3","transparent"],opacity:.5}},xaxis:{categories:this.totalIncomeGoalLinearGraph.mainDateList.map((function(e){return e.dateString})),title:{text:this.showTitleXaxis},labels:{rotate:this.rotate}},yaxis:{title:{text:this.showTitleYaxis},tickAmount:1,labels:{formatter:function(t){return e.isCount?t.toFixed(0):"".concat(e.formatPrice(t)," ")}}}}},rotate:function(){if(this.isLargeWidth){if(this.isWeeks)return"-90";if(this.isMonths)return"0"}return 0},showTitleXaxis:function(){if(!this.isPreview)return this.isWeeks?"Semanas":"Meses"},showTitleYaxis:function(){if(!this.isPreview)return this.isCount?"Cantidad":"Valor"},series:function(){var e,t,i,r,a,o,n,s,l,d,c=this,u=(null===(e=this.totalIncomeGoalLinearGraph)||void 0===e||null===(t=e.mainTotalIncomeGoal)||void 0===t||null===(i=t.totalIncomeGoals)||void 0===i?void 0:i.map((function(e){var t=e.name,i=e.countList,r=e.sumList;return{name:t,data:c.isCount?c.convertTwoDigits(i):c.convertTwoDigits(r)}})))||[],f=this.dateRangeToCompare&&(null===(r=this.totalIncomeGoalLinearGraph)||void 0===r||null===(a=r.secondTotalIncomeGoal)||void 0===a?void 0:a.totalIncomeGoals.length)>0?null===(o=this.totalIncomeGoalLinearGraph)||void 0===o||null===(n=o.secondTotalIncomeGoal)||void 0===n||null===(s=n.totalIncomeGoals)||void 0===s?void 0:s.map((function(e){var t=e.name,i=e.countList,r=e.sumList;return{name:"".concat(t," período anterior"),data:c.isCount?c.convertTwoDigits(i):c.convertTwoDigits(r)}})):[],h=[{name:"Promedio",data:this.isCount?this.convertTwoDigits(this.totalIncomeGoalLinearGraph.mainAverageDateTotalIncomeGoal.map((function(e){return e.avgCount}))):this.convertTwoDigits(this.totalIncomeGoalLinearGraph.mainAverageDateTotalIncomeGoal.map((function(e){return e.avgSum})))}],v=(null===(l=this.totalIncomeGoalLinearGraph)||void 0===l||null===(d=l.secondAverageDateTotalIncomeGoal)||void 0===d?void 0:d.length)>0?[{name:"Promedio anterior",data:this.isCount?this.convertTwoDigits(this.totalIncomeGoalLinearGraph.secondAverageDateTotalIncomeGoal.map((function(e){return e.avgCount}))):this.convertTwoDigits(this.totalIncomeGoalLinearGraph.secondAverageDateTotalIncomeGoal.map((function(e){return e.avgSum})))}]:[];return[].concat(h,Object(p["a"])(u),v,Object(p["a"])(f))},filters:function(){var e={dateRange:{dateStart:this.dateStart,dateEnd:this.dateEnd},owners:this.ownersToCompare.length>0?this.ownersToCompare:this.ownersFilter,pipeline:this.pipelineFilter,typePeriodDisplay:this.settings.filterTime};return this.dateRangeToCompare&&""!==this.dateRangeToCompare.dateStart&&""!==this.dateRangeToCompare.dateEnd&&(e.dateRangeToCompare=this.dateRangeToCompare),e}},methods:{update:function(){this.$apollo.queries.totalIncomeGoalLinearGraph.refetch()}},apollo:{totalIncomeGoalLinearGraph:{query:_["P"],fetchPolicy:"no-cache",client:"charts",variables:function(){return{filters:this.filters}},skip:function(){return""===this.dateStart||""===this.dateEnd||!this.pipelineFilter.id||0===this.ownersFilter.length},watchLoading:function(e){this.isLoading=e}}}},M=D,x=(i("08eb"),Object(R["a"])(M,O,w,!1,null,"51b4fb05",null)),A=x.exports,E={name:"LineTotalIncomeGoalModal",components:{LineTotalIncomeGoalFilter:F,LineTotalIncomeGoalData:A},mixins:[m["c"]],props:{isOpen:{type:Boolean,default:!1},title:{type:String,default:"Sin título"},titleRegular:{type:String,default:""},filters:{type:Object,default:function(){return{filtersConfig:{filterTime:"WEEKS",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownersToCompare:[]},filtersTable:{users:[],pipelines:[],periodRange:{start:"",end:""},dealStatus:""}}}}},methods:{closeModal:function(){this.$emit("close")}}},I=E,k=Object(R["a"])(I,n,s,!1,null,"002a51d7",null),L=k.exports,j={name:"LineTotalIncomeGoalPreview",components:{LineTotalIncomeGoalData:A,LineTotalIncomeGoalModal:L,LineTotalIncomeGoalFilter:F},mixins:[m["d"]],props:{defaultPeriod:{type:String,default:"THIS_MONTH"}},data:function(){return{title:"Ingreso",titleRegular:"total por vendedor",chartId:"line-totalIncomeGoal",filtersChartsDefault:{},initFilter:{filterBy:"count",filterTime:"MONTHS",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownersToCompare:[],dealStatus:"WON"}}},computed:{filtersConfig:function(){var e,t,i,r,a,o,n,s;return{filterBy:(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.filterBy)||this.initFilter.filterBy,filterTime:(null===(t=this.chart.filtersFull)||void 0===t?void 0:t.filterTime)||this.initFilter.filterTime,users:this.usersGlobal||(null===(i=this.chart.filtersFull)||void 0===i?void 0:i.users)||this.filtersChartsDefault.users,pipeline:(null===(r=this.chart.filtersFull)||void 0===r?void 0:r.pipeline)||this.initPipeline,periodRange:this.periodRangeGlobal||(null===(a=this.chart.filtersFull)||void 0===a?void 0:a.periodRange)||this.periodRange,periodPredefined:this.periodPredefinedGlobal||(null===(o=this.chart.filtersFull)||void 0===o?void 0:o.periodPredefined)||[this.defaultPeriod]||this.initFilter.periodPredefined,periodRangeToCompare:(null===(n=this.chart.filtersFull)||void 0===n?void 0:n.periodRangeToCompare)||this.initFilter.periodRangeToCompare,ownersToCompare:(null===(s=this.chart.filtersFull)||void 0===s?void 0:s.ownersToCompare)||this.initFilter.ownersToCompare}},filtersTable:function(){var e,t=this.getPeriod(this.initFilter.periodPredefined[0]).get(),i=Object(o["a"])(t,2),r=i[0],a=i[1];return{users:this.usersGlobal||this.users||this.filtersChartsDefault.users,pipelines:this.pipelines||this.initPipelines,periodRange:this.periodRangeGlobal||(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.periodRange)||{start:r,end:a},dealStatus:this.initFilter.dealStatus}}}},G=j,H=(i("7835"),Object(R["a"])(G,r,a,!1,null,"ddbb4492",null));t["a"]=H.exports},"04ed":function(e,t,i){"use strict";i("546d")},"0846":function(e,t,i){},"08eb":function(e,t,i){"use strict";i("3da9")},"0adc":function(e,t,i){"use strict";i("0dd9")},"0d2b":function(e,t,i){"use strict";var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseCardChart",{attrs:{title:e.title,titleRegular:e.titleRegular,settings:e.filtersConfig,isChart:""},on:{updateRefetch:function(t){e.isRefetch=!0}},scopedSlots:e._u([{key:"modal",fn:function(){return[i("BarActivityTypeByStageFilter",{attrs:{defaultFilter:e.filtersConfig,isIcon:"",isPreview:""}})]},proxy:!0}])},[i("div",{staticClass:"hoverClick",on:{click:e.openModal}},[i("BarActivityTypeByStageData",{attrs:{defaultFilter:e.filtersConfig,isPreview:"",isRefetch:e.isRefetch},on:{updateRefetch:function(t){e.isRefetch=!1}}})],1),i("BarActivityTypeByStageModal",{attrs:{isOpen:e.isOpenModal,filters:{filtersConfig:e.filtersConfig,filtersTable:e.filtersTable},title:e.title,titleRegular:e.titleRegular},on:{close:e.closeModal}})],1)},a=[],o=i("3835"),n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalChart",{attrs:{title:e.title,titleRegular:e.titleRegular,isOpen:e.isOpen},on:{close:e.closeModal},scopedSlots:e._u([{key:"filters",fn:function(){return[i("BarActivityTypeByStageFilter",{attrs:{defaultFilter:e.filters.filtersConfig}})]},proxy:!0},{key:"chart",fn:function(){return[i("BarActivityTypeByStageData",{attrs:{defaultFilter:e.filters.filtersConfig,isFull:""}})]},proxy:!0},{key:"table",fn:function(){return[i("TableActivities",{attrs:{defaultFilter:e.filters.filtersTable}})]},proxy:!0}])})},s=[],l=i("52e2"),d=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalFilters",{attrs:{isOpen:e.isOpenModalFilter,isIcon:e.isIcon},on:{save:e.saveFilter,statusModal:e.statusModal}},[i("v-row",[i("v-col",{attrs:{cols:"12"}},[i("Select",{attrs:{name:"Estado de trato",defaultSelect:e.defaultFilter.dealsFilter,list:e.listStatusDeals},on:{change:e.changeStatusDeal}})],1),i("v-col",{attrs:{cols:"12"}},[i("Select",{attrs:{name:"Estado de actividad",defaultSelect:e.defaultFilter.activitiesFilter,list:e.listStatusActivities},on:{change:e.changeStatusActivity}})],1),i("v-col",{attrs:{cols:"12"}},[i("SelectUsers",{attrs:{all:"",defaultSelect:e.defaultFilter.users},on:{change:e.changeUsers}})],1),i("v-col",{attrs:{cols:"12"}},[i("SelectPipeline",{attrs:{defaultSelect:e.defaultFilter.pipeline},on:{change:e.changePipeline}})],1),i("v-col",{attrs:{cols:"12"}},[i("PeriodPredefined",{attrs:{defaultSelect:e.defaultFilter.periodPredefined},on:{change:e.changePeriodPredefined}})],1),e.isPreview?e._e():i("v-col",{attrs:{cols:"12"}},[i("ComparePeriodBars",{attrs:{periodPredefined:e.filters.periodPredefined[0]},on:{change:e.changeComparePeriod}})],1)],1)],1)},p=[],c=i("5530"),u=i("740f"),f=i("d344"),h=i("6321"),v=i("c065"),m={name:"BarActivityTypeByStageFilter",components:{SelectUsers:u["a"],SelectPipeline:h["a"],Select:f["a"]},mixins:[l["b"]],props:{defaultFilter:{type:Object,default:function(){return{dealsFilter:"ALL",activitiesFilter:"ALL",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{},typeCompare:"none"}}}},data:function(){return{listStatusActivities:v["b"],listStatusDeals:v["c"],filters:{dealsFilter:"ALL",activitiesFilter:"ALL",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{},typeCompare:"none"}}},methods:{saveFilter:function(){this.changeChart({id:"bar-activityTypeByStage",filtersFull:Object(c["a"])(Object(c["a"])({},this.noReactive(this.filters)),{},{periodRange:Object(c["a"])({__typename:"PeriodRange"},this.filters.periodRange),ownerToCompare:Object(c["a"])({},this.filters.ownerToCompare)})}),this.isOpenModalFilter=!1}}},g=m,C=i("0c7c"),R=i("6544"),T=i.n(R),y=i("62ad"),P=i("0fd9"),S=Object(C["a"])(g,d,p,!1,null,"5fe3b2de",null),b=S.exports;T()(S,{VCol:y["a"],VRow:P["a"]});var F=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.isPreview?e._e():i("ListFilters",{attrs:{settings:e.settings}}),i("div",{staticClass:"text-center bgWhite",class:[{"py-5 px-3":!e.isPreview},{showScroll:e.isWithScroll}]},[i("apexchart",{attrs:{height:e.isPreview?250:350,type:"bar",options:e.options,series:e.series}}),e.isPreview||"date"!==e.settings.typeCompare?e._e():i("h4",[e._v(" Comparación de fecha ")]),e.isPreview||"user"!==e.settings.typeCompare?e._e():i("h4",[e._v(" Comparación con otro usuario ")]),e.isPreview||"none"===e.settings.typeCompare?e._e():i("apexchart",{attrs:{height:e.isPreview?250:350,type:"bar",options:e.optionsCompare,series:e.seriesCompare}})],1),e.isPreview?e._e():i("BarActivityTypeByStageInformation",{attrs:{information:e.activitiesByStageHorizontalBarsAndTable.informationBar,filterBy:e.settings.filterBy}})],1)},O=[],w=(i("b680"),i("d81d"),i("8d7e")),_=i("b3b3"),B=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-card",{staticClass:"mt-5",attrs:{flat:""}},[i("v-container",[i("v-row",[i("v-col",{attrs:{cols:"3"}},[i("span",[i("b",[e._v("Actividades reagendadas:")]),e._v(" "+e._s(e.information.periodsActivities&&e.information.periodsActivities.bookedActivities)+" ")])]),i("v-col",{attrs:{cols:"3"}},[i("b",[e._v("Activitiades completadas:")]),e._v(" "+e._s(e.information.periodsActivities&&e.information.periodsActivities.completedActivities)+" ")]),i("v-col",{attrs:{cols:"3"}},[i("b",[e._v("Actividades cumplidas:")]),e._v(" "+e._s(e.information.periodsActivities&&e.information.periodsActivities.compliedActivities)+" ")]),i("v-col",{attrs:{cols:"3"}},[i("b",[e._v("Actividades efectivas:")]),e._v(" "+e._s(e.information.periodsActivities&&e.information.periodsActivities.effectiveActivities)+" ")]),i("v-col",{attrs:{cols:"3"}},[i("b",[e._v("Actividades vencidas:")]),e._v(" "+e._s(e.information.periodsActivities&&e.information.periodsActivities.expiredActivities)+" ")]),i("v-col",{attrs:{cols:"3"}},[i("b",[e._v("Actividades inefectivas:")]),e._v(" "+e._s(e.information.periodsActivities&&e.information.periodsActivities.ineffectiveActivities)+" ")])],1),i("v-row",[i("v-col",{attrs:{cols:"3"}},[i("span",[i("b",[e._v("Actividades reagendadas anterior:")]),e._v(" "+e._s(e.information.pastPeriodsActivities&&e.information.pastPeriodsActivities.bookedActivities)+" ")])]),i("v-col",{attrs:{cols:"3"}},[i("b",[e._v("Activitiades completadas anterior:")]),e._v(" "+e._s(e.information.pastPeriodsActivities&&e.information.pastPeriodsActivities.completedActivities)+" ")]),i("v-col",{attrs:{cols:"3"}},[i("b",[e._v("Actividades cumplidas anterior:")]),e._v(" "+e._s(e.information.pastPeriodsActivities&&e.information.pastPeriodsActivities.compliedActivities)+" ")]),i("v-col",{attrs:{cols:"3"}},[i("b",[e._v("Actividades efectivas anterior:")]),e._v(" "+e._s(e.information.pastPeriodsActivities&&e.information.pastPeriodsActivities.effectiveActivities)+" ")]),i("v-col",{attrs:{cols:"3"}},[i("b",[e._v("Actividades vencidas anterior:")]),e._v(" "+e._s(e.information.pastPeriodsActivities&&e.information.pastPeriodsActivities.expiredActivities)+" ")]),i("v-col",{attrs:{cols:"3"}},[i("b",[e._v("Actividades inefectivas anterior:")]),e._v(" "+e._s(e.information.pastPeriodsActivities&&e.information.pastPeriodsActivities.ineffectiveActivities)+" ")])],1)],1)],1)},D=[],M={name:"BarActivityTypeByStageInformation",props:{information:{type:Object,default:function(){return{}}},filterBy:{type:String,default:"count"}}},x=M,A=i("b0af"),E=i("a523"),I=Object(C["a"])(x,B,D,!1,null,null,null),k=I.exports;T()(I,{VCard:A["a"],VCol:y["a"],VContainer:E["a"],VRow:P["a"]});var L={name:"BarActivityTypeByStageData",mixins:[l["a"]],components:{BarActivityTypeByStageInformation:k},props:{defaultFilter:{type:Object,default:function(){return{dealsFilter:"ALL",activitiesFilter:"ALL",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],typeCompare:"none"}}}},data:function(){return{listFilterBy:v["e"],activitiesByStageHorizontalBarsAndTable:{mainActivitiesByStage:[],secondActivitiesByStage:[]},modalSettings:{dealsFilter:"ALL",activitiesFilter:"ALL",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],typeCompare:"none"},settings:{dealsFilter:"ALL",activitiesFilter:"ALL",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],typeCompare:"none"}}},computed:{options:function(){return this.formatOptions(this.activitiesByStageHorizontalBarsAndTable.stages)},optionsCompare:function(){return this.formatOptions(this.activitiesByStageHorizontalBarsAndTable.stages)},series:function(){return this.formatSeries(this.activitiesByStageHorizontalBarsAndTable.mainActivitiesByStage)},seriesCompare:function(){return this.formatSeries(this.activitiesByStageHorizontalBarsAndTable.secondActivitiesByStage)},showTitleXaxis:function(){if(!this.isPreview)return"Total"},showTitleYaxis:function(){if(!this.isPreview)return"Etapas"},isWithScroll:function(){return this.isLargeWidth&&this.isPreview},filters:function(){var e={dateRange:{dateStart:this.dateStart,dateEnd:this.dateEnd},owners:this.ownersFilter,pipeline:this.pipelineFilter,dealsFilter:this.settings.dealsFilter,activitiesFilter:this.settings.activitiesFilter};return this.ownerToCompare&&(e.ownerToCompare=this.ownerToCompare),this.dateRangeToCompare&&""!==this.dateRangeToCompare.dateStart&&""!==this.dateRangeToCompare.dateEnd&&(e.dateRangeToCompare=this.dateRangeToCompare),e}},methods:{formatOptions:function(e){return{chart:{type:"bar",height:this.isPreview?"250":"350",width:this.isWithScroll?"600":"100%",stacked:!0,toolbar:{show:!1},zoom:{enabled:!1}},plotOptions:{bar:{borderRadius:4,horizontal:!0}},colors:_["a"],dataLabels:{enabled:!0,style:{fontSize:"12px",fontWeight:"bold",colors:["#000"]},background:{enabled:!0,foreColor:"#fff"}},grid:{row:{colors:["#f3f3f3","transparent"],opacity:.5}},xaxis:{categories:e||[],title:{text:this.showTitleXaxis},tickAmount:1,labels:{formatter:function(e){return e.toFixed(0)}}},yaxis:{title:{text:this.showTitleYaxis}},tooltip:{y:{formatter:function(e){return e}}},legend:{position:"top",horizontalAlign:this.isPreview?"left":"center",showForSingleSeries:!0}}},formatSeries:function(e){return e&&e.length?e.map((function(e){var t=e.typeName,i=e.countList;return{name:t,data:i.map((function(e){return e.count}))}})):[]},update:function(){this.$apollo.queries.activitiesByStageHorizontalBarsAndTable.refetch()}},apollo:{activitiesByStageHorizontalBarsAndTable:{query:w["c"],fetchPolicy:"no-cache",client:"charts",variables:function(){return{filters:this.filters}},skip:function(){return""===this.dateStart||""===this.dateEnd||!this.pipelineFilter.id||0===this.ownersFilter.length},watchLoading:function(e){this.isLoading=e}}}},j=L,G=(i("f543"),Object(C["a"])(j,F,O,!1,null,"29391d43",null)),H=G.exports,V=i("157d"),N={name:"BarActivityTypeByStageModal",components:{BarActivityTypeByStageFilter:b,BarActivityTypeByStageData:H,TableActivities:V["a"]},mixins:[l["c"]],props:{filters:{type:Object,default:function(){return{filtersConfig:{dealsFilter:"ALL",activitiesFilter:"ALL",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{},typeCompare:"none"},filtersTable:{users:[],pipelines:[],periodRange:{start:"",end:""},dealStatus:"",stages:[],activityTypes:[],fromReportStatus:"ACTIVITIESBYSTAGE"}}}}}},U=N,W=Object(C["a"])(U,n,s,!1,null,"2f46b56b",null),$=W.exports,z={name:"BarActivityTypeByStagePreview",components:{BarActivityTypeByStageData:H,BarActivityTypeByStageModal:$,BarActivityTypeByStageFilter:b},mixins:[l["d"]],props:{defaultPeriod:{type:String,default:"THIS_MONTH"}},data:function(){return{chartId:"bar-activityTypeByStage",title:"Actividades",titleRegular:"por etapa",filtersChartsDefault:{},initFilter:{dealsFilter:"ALL",activitiesFilter:"ALL",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{},typeCompare:"none",stages:[],activityTypes:[],fromReportStatus:"ACTIVITIESBYSTAGE"}}},computed:{filtersConfig:function(){var e,t,i,r,a,o,n,s,l;return{dealsFilter:(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.dealsFilter)||this.initFilter.dealsFilter,activitiesFilter:(null===(t=this.chart.filtersFull)||void 0===t?void 0:t.activitiesFilter)||this.initFilter.activitiesFilter,users:this.usersGlobal||(null===(i=this.chart.filtersFull)||void 0===i?void 0:i.users)||this.initUsers,pipeline:(null===(r=this.chart.filtersFull)||void 0===r?void 0:r.pipeline)||this.initPipeline,periodRange:this.periodRangeGlobal||(null===(a=this.chart.filtersFull)||void 0===a?void 0:a.periodRange)||this.periodRange,periodPredefined:this.periodPredefinedGlobal||(null===(o=this.chart.filtersFull)||void 0===o?void 0:o.periodPredefined)||[this.defaultPeriod]||this.initFilter.periodPredefined,periodRangeToCompare:(null===(n=this.chart.filtersFull)||void 0===n?void 0:n.periodRangeToCompare)||this.initFilter.periodRangeToCompare,ownerToCompare:(null===(s=this.chart.filtersFull)||void 0===s?void 0:s.ownerToCompare)||this.initFilter.ownerToCompare,typeCompare:(null===(l=this.chart.filtersFull)||void 0===l?void 0:l.typeCompare)||this.initFilter.typeCompare}},filtersTable:function(){var e,t=this.getPeriod(this.initFilter.periodPredefined[0]).get(),i=Object(o["a"])(t,2),r=i[0],a=i[1];return{users:this.usersGlobal||this.users||this.initUsers,pipelines:this.pipelines||[this.initPipeline],periodRange:this.periodRangeGlobal||(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.periodRange)||{start:r,end:a},dealStatus:this.initFilter.dealsFilter,activitiesStatus:this.initFilter.activitiesFilter,activityTypes:this.filtersChartsDefault.activityTypes||this.initFilter.activityTypes,fromReportStatus:this.initFilter.fromReportStatus}}}},q=z,Y=(i("b2b6"),Object(C["a"])(q,r,a,!1,null,"1db771dc",null));t["a"]=Y.exports},"0da8":function(e,t,i){},"0dd9":function(e,t,i){},1351:function(e,t,i){},"157d":function(e,t,i){"use strict";var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.subreportsActivities.list,"items-per-page":5},scopedSlots:e._u([{key:"item.start",fn:function(t){var i=t.item;return[e._v(" "+e._s(e._f("formatDate")(i.start))+" ")]}},{key:"item.end",fn:function(t){var i=t.item;return[e._v(" "+e._s(e._f("formatDate")(i.end))+" ")]}},{key:"item.status",fn:function(t){var r=t.item;return[i("v-chip",{attrs:{color:e.getColor(r.status),dark:""}},[e._v(" "+e._s(e.getText(r.status))+" ")])]}}],null,!0)})},a=[],o=(i("4de4"),i("d81d"),i("8d7e")),n={name:"TableActivities",props:{defaultFilter:{type:Object,default:function(){return{users:[],pipelines:[],periodRange:{start:"",end:""},dealStatus:"",activitiesStatus:"",activityTypes:[],fromReportStatus:""}}}},data:function(){return{subreportsActivities:{count:0,list:[]},headers:[{text:"Título",value:"title",sortable:!1},{text:"Inicio",value:"start",sortable:!1},{text:"Final",value:"end",sortable:!1},{text:"Estado",value:"status",sortable:!1}],filter:{users:[],pipelines:[],periodRange:{start:"",end:""},dealStatus:"",activityTypes:[],fromReportStatus:""}}},created:function(){this.filter=this.noReactive(this.defaultFilter)},watch:{defaultFilter:{handler:function(){this.filter=this.noReactive(this.defaultFilter)},immediate:!0,deep:!0}},computed:{pipelinesFilter:function(){return this.filter.pipelines.length?this.filter.pipelines.map((function(e){return{id:e.id}})):[]},ownersFilter:function(){return this.filter.users.length?this.filter.users.map((function(e){return{id:e.id}})):[]},activityTypes:function(){return this.filter.activityTypes.length?this.filter.activityTypes.map((function(e){return{id:e.id}})):[]}},methods:{getColor:function(e){return"PENDING"===e?"#2E2E2F":"INEFFECTIVE"===e?"#88141":"EFFECTIVE"===e?"#396A5D":"#2E2E2F"},getText:function(e){return"PENDING"===e?"Pendiente":"INEFFECTIVE"===e?"Inefectivo":"EFFECTIVE"===e?"Efectivo":"Pendiente"}},apollo:{subreportsActivities:{query:o["D"],fetchPolicy:"no-cache",client:"charts",variables:function(){return{filters:{dateRange:{dateStart:this.filter.periodRange.start,dateEnd:this.filter.periodRange.end},owners:this.ownersFilter,pipelines:this.pipelinesFilter,dealStatus:this.filter.dealStatus,activitiesStatus:this.filter.activitiesStatus,activityTypes:this.activityTypes,fromReportStatus:this.filter.fromReportStatus}}}}}},s=n,l=i("0c7c"),d=i("6544"),p=i.n(d),c=i("cc20"),u=i("8fea"),f=Object(l["a"])(s,r,a,!1,null,"b3f0498c",null);t["a"]=f.exports;p()(f,{VChip:c["a"],VDataTable:u["a"]})},"15d3":function(e,t,i){"use strict";i("2d41")},"19c4":function(e,t,i){"use strict";var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-select",{attrs:{items:e.activityTypes,"item-value":"id","item-text":"name",label:"Actividades",outlined:"",multiple:"","hide-details":"auto","return-object":"","small-chips":"",loading:e.isLoading},on:{change:e.updateSelect},scopedSlots:e._u([{key:"prepend-item",fn:function(){return[i("v-list-item",{attrs:{ripple:""},on:{click:e.toggle}},[i("v-list-item-action",[i("v-icon",{attrs:{color:e.activityTypes.length>0?"primary":""}},[e._v(" "+e._s(e.icon)+" ")])],1),i("v-list-item-content",[i("v-list-item-title",[e._v(" Todos ")])],1)],1),i("v-divider",{staticClass:"mt-2"})]},proxy:!0}]),model:{value:e.activitiesSelected,callback:function(t){e.activitiesSelected=t},expression:"activitiesSelected"}})},a=[],o=(i("fb6a"),i("ffd2")),n={name:"SelectActivities",props:{all:{type:Boolean,default:!1},defaultSelect:{type:Array,default:function(){return[]}}},data:function(){return{isLoading:!1,activityTypes:[],activitiesSelected:[]}},created:function(){this.activitiesSelected=this.noReactive(this.defaultSelect),this.updateSelect()},watch:{defaultSelect:function(e,t){JSON.stringify(e)!==JSON.stringify(t)&&(this.activitiesSelected=this.noReactive(this.defaultSelect),this.updateSelect())},activityTypes:{handler:function(e){e.length&&(this.all?this.activitiesSelected=e:this.defaulSelect&&this.defaulSelect.length&&(this.activitiesSelected=this.defaultSelect),this.updateSelect())}}},computed:{allActivities:function(){return this.activitiesSelected.length===this.activityTypes.length},someActivities:function(){return this.activitiesSelected.length>0&&!this.activityTypes},icon:function(){return this.allActivities?"mdi-close-box":this.someActivities?"mdi-minus-box":"mdi-checkbox-blank-outline"}},methods:{updateSelect:function(){this.$emit("change",this.activitiesSelected)},toggle:function(){var e=this;this.$nextTick((function(){e.allActivities?e.activitiesSelected=[]:e.activitiesSelected=e.activityTypes.slice(),e.updateSelect()}))}},apollo:{activityTypes:{query:o["c"],fetchPolicy:"no-cache",watchLoading:function(e){this.isLoading=e}}}},s=n,l=i("0c7c"),d=i("6544"),p=i.n(d),c=i("ce7e"),u=i("132d"),f=i("da13"),h=i("1800"),v=i("5d23"),m=i("b974"),g=Object(l["a"])(s,r,a,!1,null,null,null);t["a"]=g.exports;p()(g,{VDivider:c["a"],VIcon:u["a"],VListItem:f["a"],VListItemAction:h["a"],VListItemContent:v["a"],VListItemTitle:v["c"],VSelect:m["a"]})},"19ec":function(e,t,i){},"20e9":function(e,t,i){},"210b":function(e,t,i){"use strict";i("e4c9")},"21e6":function(e,t,i){"use strict";var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseCardChart",{attrs:{title:e.title,titleRegular:e.titleRegular,settings:e.filtersConfig},on:{updateRefetch:function(t){e.isRefetch=!0}},scopedSlots:e._u([{key:"modal",fn:function(){return[i("CardLostDealsFilter",{attrs:{defaultFilter:e.filtersConfig,isIcon:"",isPreview:""},on:{updateRefetch:function(t){e.isRefetch=!0}}})]},proxy:!0}])},[i("div",{staticClass:"hoverClick",on:{click:e.openModal}},[i("CardLostDealsData",{attrs:{defaultFilter:e.filtersConfig,isPreview:"",isRefetch:e.isRefetch},on:{updateRefetch:function(t){e.isRefetch=!1}}})],1),i("CardLostDealsModal",{attrs:{isOpen:e.isOpenModal,filters:{filtersConfig:e.filtersConfig,filtersTable:e.filtersTable},title:e.title,titleRegular:e.titleRegular},on:{close:e.closeModal}})],1)},a=[],o=i("3835"),n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalChart",{attrs:{title:e.title,titleRegular:e.titleRegular,isOpen:e.isOpen},on:{close:e.closeModal},scopedSlots:e._u([{key:"filters",fn:function(){return[i("CardLostDealsFilter",{attrs:{defaultFilter:e.filters.filtersConfig}})]},proxy:!0},{key:"chart",fn:function(){return[i("CardLostDealsData",{attrs:{defaultFilter:e.filters.filtersConfig}})]},proxy:!0},{key:"table",fn:function(){return[i("TableDeals",{attrs:{defaultFilter:e.filters.filtersTable}})]},proxy:!0}])})},s=[],l=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.isPreview?e._e():i("ListFilters",{attrs:{settings:e.settings}}),i("BaseCardNumber",{attrs:{information:{numberMain:""+e.generalConvertionRateFormat,textMain:e.textMain,valueMain:e.valueMain,textMainType:e.textChart,isCompare:!e.isPreview&&(e.settings.periodRangeToCompare.period.length>0||e.isCompareUser),numberCompare:""+e.generalConvertionRateCompare,textCompare:e.textCompare,valueCompare:e.valueCompare,numberDifferenceCompare:e.comparePercentage}}}),e.isPreview?e._e():i("CardLostDealsInformation",{attrs:{information:e.lostDealsCard.informationBar,filterBy:e.settings.filterBy}})],1)},d=[],p=(i("b680"),i("b0c0"),i("99af"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-card",{staticClass:"mt-5",attrs:{flat:""}},[i("v-container",[i("v-row",{staticClass:"justify-center"},[i("v-col",{attrs:{cols:"3"}},[e._l(e.information.userLostDeals,(function(t,r){return[i("span",{key:r,staticClass:"d-block"},[i("b",[e._v(e._s(t.name))]),e._v(" : "+e._s("sum"===e.filterBy?"$"+t[e.filterBy].toFixed(2):t[e.filterBy])+" ")])]}))],2),i("v-col",{attrs:{cols:"9"}},[i("v-row",[i("v-col",e._l(e.getInfo.firstColumn,(function(t,r){return i("span",{key:r,staticClass:"d-block"},[i("b",[e._v(e._s(e.columnOne[r]))]),e._v(" : "+e._s(t)+" ")])})),0),i("v-col",e._l(e.getInfo.secondColumn,(function(t,r){return i("span",{key:r,staticClass:"d-block"},[i("b",[e._v(e._s(e.columnTwo[r]))]),e._v(" : $"+e._s(t)+" ")])})),0),i("v-col",e._l(e.getInfo.thirdColumn,(function(t,r){return i("span",{key:r,staticClass:"d-block"},[i("b",[e._v(e._s(e.columnThree[r]))]),e._v(" : $"+e._s(t)+" ")])})),0)],1)],1)],1)],1)],1)}),c=[],u=(i("d81d"),{name:"CardLostDealsInformation",props:{information:{type:Object,default:function(){return{userLostDeals:[],periodsLostDeals:[]}}},filterBy:{type:String,default:"count"}},data:function(){return{columnOne:["Este período","Período pasado","Mismo período el mes anterior"],columnTwo:["Ingresos este período","Ingresos período pasado","Ingresos mismo período el mes anterior"],columnThree:["Ingresos totales este período","Ingresos totales período pasado","Ingresos totales mismo período el mes anterior"]}},computed:{getInfo:function(){var e=this.information.periodsLostDeals.map((function(e){return e.count})),t=this.information.periodsLostDeals.map((function(e){return e.sum})),i=this.information.periodsLostDeals.map((function(e){return e.totalSum}));return{firstColumn:e,secondColumn:t,thirdColumn:i}}}}),f=u,h=i("0c7c"),v=i("6544"),m=i.n(v),g=i("b0af"),C=i("62ad"),R=i("a523"),T=i("0fd9"),y=Object(h["a"])(f,p,c,!1,null,null,null),P=y.exports;m()(y,{VCard:g["a"],VCol:C["a"],VContainer:R["a"],VRow:T["a"]});var S=i("8d7e"),b=i("0db6"),F={name:"CardLostDealsData",mixins:[b["a"]],components:{CardLostDealsInformation:P},props:{defaultFilter:{type:Object,default:function(){return{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{id:""}}}},isPreview:{type:Boolean,default:!1}},data:function(){return{lostDealsCard:{},modalSettings:{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:[],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{id:""}},settings:{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:[],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{id:""}}}},computed:{isCompareUser:function(){var e,t,i,r,a,o;return(null===(e=this.lostDealsCard)||void 0===e||null===(t=e.mainLostDeals)||void 0===t?void 0:t.id)!==(null===(i=this.lostDealsCard)||void 0===i||null===(r=i.secondLostDeals)||void 0===r?void 0:r.id)&&""!==(null===(a=this.settings)||void 0===a||null===(o=a.ownerToCompare)||void 0===o?void 0:o.id)},comparePercentage:function(){return"0"===this.generalConvertionRateCompare?"0.00":(100*this.generalConvertionRateFormat/this.generalConvertionRateCompare-100).toFixed(2)},generalConvertionRateFormat:function(){var e,t,i,r;if(this.lostDealsCard&&void 0!==(null===(e=this.lostDealsCard)||void 0===e||null===(t=e.mainLostDeals)||void 0===t?void 0:t.count)&&void 0!==(null===(i=this.lostDealsCard)||void 0===i||null===(r=i.mainLostDeals)||void 0===r?void 0:r.sum)){var a,o;if("count"===this.settings.filterBy)return(null===(a=this.lostDealsCard)||void 0===a?void 0:a.mainLostDeals.count)||"0";if("sum"===this.settings.filterBy)return"$".concat(null===(o=this.lostDealsCard)||void 0===o?void 0:o.mainLostDeals.sum)||!1}return"0"},generalConvertionRateCompare:function(){var e,t,i,r;if(this.lostDealsCard&&void 0!==(null===(e=this.lostDealsCard)||void 0===e||null===(t=e.secondLostDeals)||void 0===t?void 0:t.count)&&void 0!==(null===(i=this.lostDealsCard)||void 0===i||null===(r=i.secondLostDeals)||void 0===r?void 0:r.sum)){var a,o=null===(a=this.lostDealsCard)||void 0===a?void 0:a.secondLostDeals[this.settings.filterBy];return o||"0"}return"0"},textCompare:function(){return"PREVIOUS_PERIOD"===this.settings.periodRangeToCompare.period?this.settings.periodPredefined[3]:"PREVIOUS_YEAR"===this.settings.periodRangeToCompare.period?"Año anterior":"CUSTOM"===this.settings.periodRangeToCompare.period?"Personalizado":""},valueCompare:function(){if(!this.isPreview){var e,t;if(this.isCompareUser)return null===(e=this.lostDealsCard)||void 0===e||null===(t=e.secondLostDeals)||void 0===t?void 0:t.name;if("CUSTOM"===this.settings.periodRangeToCompare.period)return"".concat(this.formatDate(this.filters.dateRangeToCompare.dateStart)," - ").concat(this.formatDate(this.filters.dateRangeToCompare.dateEnd))}return""},textMain:function(){return this.isPreview?"":(this.isCompareUser,this.settings.periodPredefined[2])},valueMain:function(){if(!this.isPreview){var e,t;if(this.isCompareUser)return null===(e=this.lostDealsCard)||void 0===e||null===(t=e.mainLostDeals)||void 0===t?void 0:t.name;if(this.settings.periodPredefined.length>0&&"CUSTOM"===this.settings.periodPredefined[0])return"".concat(this.formatDate(this.filters.dateRange.dateStart)," - ").concat(this.formatDate(this.filters.dateRange.dateEnd))}return""},filters:function(){var e={dateRange:{dateStart:this.dateStart,dateEnd:this.dateEnd},owners:this.ownersFilter,pipeline:this.pipelineFilter};return this.ownerToCompare&&""!==this.ownerToCompare.id&&(e.ownerToCompare=this.ownerToCompare),this.dateRangeToCompare&&""!==this.dateRangeToCompare.dateStart&&""!==this.dateRangeToCompare.dateEnd&&(e.dateRangeToCompare=this.dateRangeToCompare),e}},methods:{update:function(){this.$apollo.queries.lostDealsCard.refetch()}},apollo:{lostDealsCard:{query:S["r"],fetchPolicy:"no-cache",client:"charts",variables:function(){return{filters:this.filters}},skip:function(){return""===this.dateStart||""===this.dateEnd||!this.pipelineFilter.id||0===this.ownersFilter.length},loadingKey:"isLoading"}}},O=F,w=Object(h["a"])(O,l,d,!1,null,"5444d3d1",null),_=w.exports,B=i("8b70"),D=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalFilters",{attrs:{isOpen:e.isOpenModalFilter,isIcon:e.isIcon},on:{save:e.saveFilter,statusModal:e.statusModal}},[i("v-row",[i("v-col",{attrs:{cols:"12"}},[i("Select",{attrs:{name:"Filtrar por",defaultSelect:e.defaultFilter.filterBy,list:e.listFilterBy},on:{change:e.changeFilterBy}})],1),i("v-col",{attrs:{cols:"12"}},[i("SelectUsers",{attrs:{all:"",defaultSelect:e.defaultFilter.users},on:{change:e.changeUsers}})],1),i("v-col",{attrs:{cols:"12"}},[i("SelectPipeline",{attrs:{defaultSelect:e.defaultFilter.pipeline},on:{change:e.changePipeline}})],1),i("v-col",{attrs:{cols:"12"}},[i("PeriodPredefined",{attrs:{defaultSelect:e.defaultFilter.periodPredefined},on:{change:e.changePeriodPredefined}})],1),e.isPreview?e._e():i("v-col",{attrs:{cols:"12"}},[i("ComparePeriod",{attrs:{periodPredefined:e.filters.periodPredefined[0]},on:{change:e.changeComparePeriod}})],1)],1)],1)},M=[],x=i("5530"),A=i("740f"),E=i("d344"),I=i("6321"),k=i("c065"),L={name:"CardLostDealsFilter",components:{SelectUsers:A["a"],SelectPipeline:I["a"],Select:E["a"]},mixins:[b["b"]],props:{defaultFilter:{type:Object,default:function(){return{filterBy:"count",filterTime:"WEEKS",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{id:""}}}},isIcon:{type:Boolean,default:!1},isPreview:{type:Boolean,default:!1}},data:function(){return{listTime:k["d"],listFilterBy:k["e"],filters:{filterBy:"count",filterTime:"WEEKS",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{id:""}}}},methods:{changeComparePeriod:function(e){var t=e.isCompare,i=e.periodCompare,r=e.ownerCompare;if(t){if(r&&r.id&&(this.filters.ownerToCompare.id=r.id,this.filters.periodRangeToCompare.period="",this.filters.periodRangeToCompare.start="",this.filters.periodRangeToCompare.end=""),i){if(this.filters.periodRangeToCompare.period=i.periodSelected,i.periodRange.length>0){var a=Object(o["a"])(i.periodRange,2);this.filters.periodRangeToCompare.start=a[0],this.filters.periodRangeToCompare.end=a[1]}this.filters.ownerToCompare.id=""}}else this.filters.periodRangeToCompare.period="",this.filters.periodRangeToCompare.start="",this.filters.periodRangeToCompare.end="",this.filters.ownerToCompare.id=""},saveFilter:function(){this.changeChart({id:"card-lostDeals",filtersFull:Object(x["a"])(Object(x["a"])({},this.noReactive(this.filters)),{},{periodRange:Object(x["a"])({__typename:"PeriodRange"},this.filters.periodRange),ownerToCompare:Object(x["a"])({__typename:"OwnerToCompare"},this.filters.ownerToCompare)})}),this.isOpenModalFilter=!1}}},j=L,G=Object(h["a"])(j,D,M,!1,null,"e9e3db44",null),H=G.exports;m()(G,{VCol:C["a"],VRow:T["a"]});var V={name:"CardLostDealsModal",components:{CardLostDealsData:_,TableDeals:B["a"],CardLostDealsFilter:H},mixins:[b["c"]],props:{isOpen:{type:Boolean,default:!1},title:{type:String,default:"Sin título"},titleRegular:{type:String,default:""},filters:{type:Object,default:function(){return{filtersConfig:{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{id:""}},filtersTable:{users:[],pipelines:[],periodRange:{start:"",end:""},dealStatus:""}}}}}},N=V,U=Object(h["a"])(N,n,s,!1,null,"22af62d4",null),W=U.exports,$={name:"CardLostDealsPreview",components:{CardLostDealsData:_,CardLostDealsModal:W,CardLostDealsFilter:H},mixins:[b["d"]],props:{defaultPeriod:{type:String,default:"THIS_MONTH"}},data:function(){return{chartId:"card-lostDeals",title:"Tratos",titleRegular:"perdidos",isOpenModal:!1,filtersChartsDefault:{},initFilter:{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{id:""},dealStatus:"LOST"}}},computed:{filtersConfig:function(){var e,t,i,r,a,o,n;return{filterBy:(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.filterBy)||this.initFilter.filterBy,users:this.usersGlobal||(null===(t=this.chart.filtersFull)||void 0===t?void 0:t.users)||this.initUsers,pipeline:(null===(i=this.chart.filtersFull)||void 0===i?void 0:i.pipeline)||this.initPipeline,periodRange:this.periodRangeGlobal||(null===(r=this.chart.filtersFull)||void 0===r?void 0:r.periodRange)||this.periodRange,periodPredefined:this.periodPredefinedGlobal||(null===(a=this.chart.filtersFull)||void 0===a?void 0:a.periodPredefined)||[this.defaultPeriod]||this.initFilter.periodPredefined,periodRangeToCompare:(null===(o=this.chart.filtersFull)||void 0===o?void 0:o.periodRangeToCompare)||this.initFilter.periodRangeToCompare,ownerToCompare:(null===(n=this.chart.filtersFull)||void 0===n?void 0:n.ownerToCompare)||this.initFilter.ownerToCompare}},filtersTable:function(){var e,t=this.getPeriod(this.initFilter.periodPredefined[0]).get(),i=Object(o["a"])(t,2),r=i[0],a=i[1];return{users:this.usersGlobal||this.users||this.initUsers,pipelines:this.pipelines||this.filtersChartsDefault.pipelines,periodRange:this.periodRangeGlobal||(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.periodRange)||{start:r,end:a},dealStatus:this.initFilter.dealStatus}}}},z=$,q=(i("c67a"),Object(h["a"])(z,r,a,!1,null,"4cbab865",null));t["a"]=q.exports},2330:function(e,t,i){},2456:function(e,t,i){"use strict";i("e1f5")},"252f":function(e,t,i){},2695:function(e,t,i){"use strict";i("20e9")},"2d06":function(e,t,i){"use strict";var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseCardChart",{attrs:{title:e.title,titleRegular:e.titleRegular,settings:e.filtersConfig,isChart:""},on:{updateRefetch:function(t){e.isRefetch=!0}},scopedSlots:e._u([{key:"modal",fn:function(){return[i("LineOpportunitySalesByWeekFilter",{attrs:{defaultFilter:e.filtersConfig,isIcon:"",isPreview:""}})]},proxy:!0}])},[i("div",{staticClass:"hoverClick",on:{click:e.openModal}},[i("LineOpportunitySalesByWeekData",{attrs:{defaultFilter:e.filtersConfig,isPreview:"",isRefetch:e.isRefetch},on:{updateRefetch:function(t){e.isRefetch=!1}}})],1),i("LineOpportunitySalesByWeekModal",{attrs:{isOpen:e.isOpenModal,filters:{filtersConfig:e.filtersConfig,filtersConfig:e.filtersConfig,filtersTable:e.filtersTable},title:e.title,titleRegular:e.titleRegular},on:{close:e.closeModal}})],1)},a=[],o=i("3835"),n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalChart",{attrs:{title:e.title,titleRegular:e.titleRegular,isOpen:e.isOpen},on:{close:e.closeModal},scopedSlots:e._u([{key:"filters",fn:function(){return[i("LineOpportunitySalesByWeekFilter",{attrs:{defaultFilter:e.filters.filtersConfig}})]},proxy:!0},{key:"chart",fn:function(){return[i("LineOpportunitySalesByWeekData",{attrs:{defaultFilter:e.filters.filtersConfig,isFull:""}})]},proxy:!0},{key:"table",fn:function(){return[i("TableDeals",{attrs:{defaultFilter:e.filters.filtersTable}})]},proxy:!0}])})},s=[],l=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalFilters",{attrs:{isOpen:e.isOpenModalFilter,isIcon:e.isIcon},on:{save:e.saveFilter,statusModal:e.statusModal}},[i("v-row",[i("v-col",{attrs:{cols:"12"}},[i("Select",{attrs:{name:"Filtrar por",defaultSelect:e.defaultFilter.filterBy,list:e.listFilterBy},on:{change:e.changeFilterBy}})],1),"none"===e.typeCompare?i("v-col",{attrs:{cols:"12"}},[i("SelectUsers",{attrs:{all:"",defaultSelect:e.defaultFilter.users},on:{change:e.changeUsers}})],1):e._e(),i("v-col",{attrs:{cols:"12"}},[i("SelectPipeline",{attrs:{defaultSelect:e.defaultFilter.pipeline},on:{change:e.changePipeline}})],1),i("v-col",{attrs:{cols:"12"}},[i("PeriodPredefined",{attrs:{defaultSelect:e.defaultFilter.periodPredefined},on:{change:e.changePeriodPredefined}})],1),e.isPreview?e._e():i("v-col",{attrs:{cols:"12"}},[i("ComparePeriodLines",{attrs:{periodPredefined:e.filters.periodPredefined[0]},on:{change:e.changeComparePeriod}})],1)],1)],1)},d=[],p=i("5530"),c=i("740f"),u=i("d344"),f=i("6321"),h=i("c065"),v=i("e050"),m={name:"LineOpportunitySalesByWeekFilter",components:{SelectUsers:c["a"],SelectPipeline:f["a"],Select:u["a"]},mixins:[v["b"]],props:{defaultFilter:{type:Object,default:function(){return{filterBy:"count",filterTime:"WEEKS",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""}}}}},data:function(){return{listTime:h["d"],listFilterBy:h["e"],filters:{filterBy:"count",filterTime:"WEEKS",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""}}}},methods:{saveFilter:function(){this.changeChart({id:"line-opportunitySalesByWeek",filtersFull:Object(p["a"])(Object(p["a"])({},this.noReactive(this.filters)),{},{periodRange:Object(p["a"])({__typename:"PeriodRange"},this.filters.periodRange)})}),this.isOpenModalFilter=!1}}},g=m,C=i("0c7c"),R=i("6544"),T=i.n(R),y=i("62ad"),P=i("0fd9"),S=Object(C["a"])(g,l,d,!1,null,"3a359d36",null),b=S.exports;T()(S,{VCol:y["a"],VRow:P["a"]});var F=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.isPreview?e._e():i("ListFilters",{attrs:{settings:e.settings}}),i("div",{staticClass:"text-center bgWhite",class:[{"py-5 px-3":!e.isPreview},{showScroll:e.isWithScroll}]},[i("apexchart",{attrs:{height:e.isPreview?250:350,type:"line",options:e.options,series:e.series}})],1)],1)},O=[],w=i("2909"),_=(i("d81d"),i("b680"),i("b0c0"),i("99af"),i("8d7e")),B=i("b3b3"),D={name:"LineOpportunitySalesByWeekData",mixins:[v["a"]],props:{defaultFilter:{type:Object,default:function(){return{filterBy:"count",filterTime:"WEEKS",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"]}}}},data:function(){return{dealsLinearGraph:{mainDateList:[],secondDateList:[],mainDeals:[],secondDeals:[],mainAverageDateDeals:[],secondAverageDateDeals:[]},modalSettings:{filterBy:"count",filterTime:"WEEKS",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:[]},settings:{filterBy:"count",filterTime:"WEEKS",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:[]}}},computed:{options:function(){var e,t,i=this;return{chart:{height:this.isPreview?"250":"350",width:this.isWithScroll?"1200":"100%",type:"line",toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1},legend:{position:"top",horizontalAlign:this.isWithScroll?"left":"center",showForSingleSeries:!0},stroke:{width:[5,7,5],curve:"straight",dashArray:[0,8,5]},markers:{size:5,colors:void 0,strokeColors:"#fff",strokeWidth:2,strokeOpacity:.9,strokeDashArray:0,fillOpacity:1,discrete:[],shape:"circle",radius:2,offsetX:0,offsetY:0,onClick:void 0,onDblClick:void 0,showNullDataPoints:!0,hover:{size:void 0,sizeOffset:3}},colors:B["b"],grid:{row:{colors:["#f3f3f3","transparent"],opacity:.5}},xaxis:{categories:null===(e=this.dealsLinearGraph)||void 0===e||null===(t=e.mainDateList)||void 0===t?void 0:t.map((function(e){return e.dateString})),title:{text:this.showTitleXaxis},labels:{rotate:this.rotate}},yaxis:{title:{text:this.showTitleYaxis},tickAmount:1,labels:{formatter:function(e){return i.isCount?e.toFixed(0):"".concat(i.formatPrice(e)," ")}}}}},rotate:function(){if(this.isLargeWidth){if(this.isWeeks)return"-90";if(this.isMonths)return"0"}return 0},showTitleXaxis:function(){if(!this.isPreview)return this.isWeeks?"Semanas":"Meses"},showTitleYaxis:function(){if(!this.isPreview)return this.isCount?"Cantidad":"Valor"},series:function(){var e,t,i,r,a,o,n,s,l,d,p,c=this,u=(null===(e=this.dealsLinearGraph)||void 0===e||null===(t=e.mainDeals)||void 0===t||null===(i=t.usersDeals)||void 0===i?void 0:i.map((function(e){var t=e.name,i=e.countList,r=e.sumList;return{name:t,data:c.isCount?c.convertTwoDigits(i):c.convertTwoDigits(r)}})))||[],f=this.dateRangeToCompare&&(null===(r=this.dealsLinearGraph)||void 0===r||null===(a=r.secondDeals)||void 0===a||null===(o=a.usersDeals)||void 0===o?void 0:o.length)>0?null===(n=this.dealsLinearGraph)||void 0===n||null===(s=n.secondDeals)||void 0===s||null===(l=s.usersDeals)||void 0===l?void 0:l.map((function(e){var t=e.name,i=e.countList,r=e.sumList;return{name:"".concat(t," período anterior"),data:c.isCount?c.convertTwoDigits(i):c.convertTwoDigits(r)}})):[],h=[{name:"Promedio",data:this.isCount?this.convertTwoDigits(this.dealsLinearGraph.mainAverageDateDeals.map((function(e){return e.avgCount}))):this.convertTwoDigits(this.dealsLinearGraph.mainAverageDateDeals.map((function(e){return e.avgSum})))}],v=(null===(d=this.dealsLinearGraph)||void 0===d||null===(p=d.secondDeals)||void 0===p?void 0:p.length)>0?[{name:"Promedio anterior",data:this.isCount?this.convertTwoDigits(this.dealsLinearGraph.secondAverageDateDeals.map((function(e){return e.avgCount}))):this.convertTwoDigits(this.dealsLinearGraph.secondAverageDateDeals.map((function(e){return e.avgSum})))}]:[];return[].concat(h,Object(w["a"])(u),v,Object(w["a"])(f))},filters:function(){var e={dateRange:{dateStart:this.dateStart,dateEnd:this.dateEnd},owners:this.ownersToCompare.length>0?this.ownersToCompare:this.ownersFilter,pipeline:this.pipelineFilter,typePeriod:this.settings.periodPredefined[0],typePeriodDisplay:"WEEKS"};return this.dateRangeToCompare&&""!==this.dateRangeToCompare.dateStart&&""!==this.dateRangeToCompare.dateEnd&&(e.dateRangeToCompare=this.dateRangeToCompare),e}},methods:{update:function(){this.$apollo.queries.dealsLinearGraph.refetch()}},apollo:{dealsLinearGraph:{query:_["y"],fetchPolicy:"no-cache",client:"charts",variables:function(){return{filters:this.filters}},skip:function(){return""===this.dateStart||""===this.dateEnd||!this.pipelineFilter.id||0===this.ownersFilter.length},watchLoading:function(e){this.isLoading=e}}}},M=D,x=(i("fa25"),Object(C["a"])(M,F,O,!1,null,"477f5db4",null)),A=x.exports,E={name:"LineOpportunitySalesByWeekModal",components:{LineOpportunitySalesByWeekFilter:b,LineOpportunitySalesByWeekData:A},mixins:[v["c"]],props:{isOpen:{type:Boolean,default:!1},title:{type:String,default:"Sin título"},titleRegular:{type:String,default:""},filters:{type:Object,default:function(){return{filtersConfig:{filterTime:"WEEKS",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownersToCompare:[]},filtersTable:{users:[],pipelines:[],periodRange:{start:"",end:""},dealStatus:""}}}}}},I=E,k=Object(C["a"])(I,n,s,!1,null,"757a9c98",null),L=k.exports,j={name:"LineOpportunitySalesByWeekPreview",components:{LineOpportunitySalesByWeekData:A,LineOpportunitySalesByWeekModal:L,LineOpportunitySalesByWeekFilter:b},mixins:[v["d"]],props:{defaultPeriod:{type:String,default:"THIS_MONTH"}},data:function(){return{title:"Oportunidades",titleRegular:"por semana",chartId:"line-opportunitySalesByWeek",filtersChartsDefault:{},initFilter:{filterBy:"count",filterTime:"MONTHS",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownersToCompare:[],dealStatus:"ALL"}}},computed:{filtersConfig:function(){var e,t,i,r,a,o,n,s;return{filterBy:(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.filterBy)||this.initFilter.filterBy,filterTime:(null===(t=this.chart.filtersFull)||void 0===t?void 0:t.filterTime)||this.initFilter.filterTime,users:this.usersGlobal||(null===(i=this.chart.filtersFull)||void 0===i?void 0:i.users)||this.filtersChartsDefault.users,pipeline:(null===(r=this.chart.filtersFull)||void 0===r?void 0:r.pipeline)||this.initPipeline,periodRange:this.periodRangeGlobal||(null===(a=this.chart.filtersFull)||void 0===a?void 0:a.periodRange)||this.periodRange,periodPredefined:this.periodPredefinedGlobal||(null===(o=this.chart.filtersFull)||void 0===o?void 0:o.periodPredefined)||[this.defaultPeriod]||this.initFilter.periodPredefined,periodRangeToCompare:(null===(n=this.chart.filtersFull)||void 0===n?void 0:n.periodRangeToCompare)||this.initFilter.periodRangeToCompare,ownersToCompare:(null===(s=this.chart.filtersFull)||void 0===s?void 0:s.ownersToCompare)||this.initFilter.ownersToCompare}},filtersTable:function(){var e,t=this.getPeriod(this.initFilter.periodPredefined[0]).get(),i=Object(o["a"])(t,2),r=i[0],a=i[1];return{users:this.usersGlobal||this.users||this.filtersChartsDefault.users,pipelines:this.pipelines||this.initPipelines,periodRange:this.periodRangeGlobal||(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.periodRange)||{start:r,end:a},dealStatus:this.initFilter.dealStatus}}}},G=j,H=(i("508e"),Object(C["a"])(G,r,a,!1,null,"566bcf8c",null));t["a"]=H.exports},"2d41":function(e,t,i){},"2eee":function(e,t,i){},3044:function(e,t,i){},3288:function(e,t,i){"use strict";var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseCardChart",{attrs:{title:e.title,titleRegular:e.titleRegular,settings:e.filtersConfig},on:{updateRefetch:function(t){e.isRefetch=!0}},scopedSlots:e._u([{key:"modal",fn:function(){return[i("CardTotalIncomeGoalFilter",{attrs:{defaultFilter:e.filtersConfig,isIcon:"",isPreview:""}})]},proxy:!0}])},[i("div",{staticClass:"hoverClick",on:{click:e.openModal}},[i("CardTotalIncomeGoalData",{attrs:{defaultFilter:e.filtersConfig,isPreview:"",isRefetch:e.isRefetch},on:{updateRefetch:function(t){e.isRefetch=!1}}}),i("CardTotalIncomeGoalModal",{attrs:{isOpen:e.isOpenModal,filters:{filtersConfig:e.filtersConfig,filtersTable:e.filtersTable},title:e.title,titleRegular:e.titleRegular},on:{close:e.closeModal}})],1)])},a=[],o=i("3835"),n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalChart",{attrs:{title:e.title,titleRegular:e.titleRegular,isOpen:e.isOpen},on:{close:e.closeModal},scopedSlots:e._u([{key:"filters",fn:function(){return[i("CardTotalIncomeGoalFilter",{attrs:{defaultFilter:e.filters.filtersConfig}})]},proxy:!0},{key:"chart",fn:function(){return[i("CardTotalIncomeGoalData",{attrs:{defaultFilter:e.filters.filtersConfig}})]},proxy:!0},{key:"table",fn:function(){return[i("TableDeals",{attrs:{defaultFilter:e.filters.filtersTable}})]},proxy:!0}])})},s=[],l=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.isPreview?e._e():i("ListFilters",{attrs:{settings:e.settings}}),i("BaseCardNumber",{attrs:{information:{numberMain:""+e.generalConvertionRateFormat,textMain:e.textMain,valueMain:e.valueMain,textMainType:e.textChart,isCompare:!e.isPreview&&(e.settings.periodRangeToCompare.period.length>0||e.isCompareUser),numberCompare:""+e.generalConvertionRateCompare,textCompare:e.textCompare,valueCompare:e.valueCompare,numberDifferenceCompare:e.comparePercentage}}}),e.isPreview?e._e():i("CardTotalIncomeGoalInformation",{attrs:{information:e.totalIncomeGoalCard.informationBar,filterBy:e.settings.filterBy}})],1)},d=[],p=(i("b680"),i("b0c0"),i("99af"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-card",{staticClass:"mt-5",attrs:{flat:""}},[i("v-container",[i("v-row",{staticClass:"justify-center"},[i("v-col",{attrs:{cols:"3"}},[e._l(e.information.userTotalIncome,(function(t,r){return[i("span",{key:r,staticClass:"d-block"},[i("b",[e._v(e._s(t.name))]),e._v(" : "+e._s("sum"===e.filterBy?"$"+t[e.filterBy].toFixed(2):t[e.filterBy])+" ")])]}))],2),i("v-col",{attrs:{cols:"9"}},[i("v-row",[i("v-col",e._l(e.getInfo.firstColumn,(function(t,r){return i("span",{key:r,staticClass:"d-block"},[i("b",[e._v(e._s(e.columnOne[r]))]),e._v(" : "+e._s(t)+" ")])})),0),i("v-col",e._l(e.getInfo.secondColumn,(function(t,r){return i("span",{key:r,staticClass:"d-block"},[i("b",[e._v(e._s(e.columnTwo[r]))]),e._v(" : $"+e._s(t)+" ")])})),0),i("v-col",e._l(e.getInfo.thirdColumn,(function(t,r){return i("span",{key:r,staticClass:"d-block"},[i("b",[e._v(e._s(e.columnThree[r]))]),e._v(" : $"+e._s(t)+" ")])})),0)],1)],1)],1)],1)],1)}),c=[],u=(i("d81d"),{name:"CardTotalIncomeGoalInformation",props:{information:{type:Object,default:function(){return{userTotalIncome:[],periodsTotalIncome:[]}}},filterBy:{type:String,default:"count"}},data:function(){return{columnOne:["Este período","Período pasado","Mismo período el mes anterior"],columnTwo:["Ingresos este período","Ingresos período pasado","Ingresos mismo período el mes anterior"],columnThree:["Ingresos totales este período","Ingresos totales período pasado","Ingresos totales mismo período el mes anterior"]}},computed:{getInfo:function(){var e=this.information.periodsTotalIncome.map((function(e){return e.count})),t=this.information.periodsTotalIncome.map((function(e){return e.sum})),i=this.information.periodsTotalIncome.map((function(e){return e.totalSum}));return{firstColumn:e,secondColumn:t,thirdColumn:i}}}}),f=u,h=i("0c7c"),v=i("6544"),m=i.n(v),g=i("b0af"),C=i("62ad"),R=i("a523"),T=i("0fd9"),y=Object(h["a"])(f,p,c,!1,null,null,null),P=y.exports;m()(y,{VCard:g["a"],VCol:C["a"],VContainer:R["a"],VRow:T["a"]});var S=i("8d7e"),b=i("0db6"),F={name:"CardTotalIncomeGoalData",mixins:[b["a"]],components:{CardTotalIncomeGoalInformation:P},props:{defaultFilter:{type:Object,default:function(){return{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{id:""}}}},isPreview:{type:Boolean,default:!1}},data:function(){return{totalIncomeGoalCard:{},modalSettings:{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:[],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{id:""}},settings:{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:[],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{id:""}}}},computed:{isCompareUser:function(){var e,t,i,r,a,o;return(null===(e=this.totalIncomeGoalCard)||void 0===e||null===(t=e.mainTotalIncome)||void 0===t?void 0:t.id)!==(null===(i=this.totalIncomeGoalCard)||void 0===i||null===(r=i.secondTotalIncome)||void 0===r?void 0:r.id)&&""!==(null===(a=this.settings)||void 0===a||null===(o=a.ownerToCompare)||void 0===o?void 0:o.id)},comparePercentage:function(){return"0"===this.generalConvertionRateCompare?"0.00":(100*this.generalConvertionRateFormat/this.generalConvertionRateCompare-100).toFixed(2)},generalConvertionRateFormat:function(){var e,t,i,r;if(this.totalIncomeGoalCard&&void 0!==(null===(e=this.totalIncomeGoalCard)||void 0===e||null===(t=e.mainTotalIncome)||void 0===t?void 0:t.count)&&void 0!==(null===(i=this.totalIncomeGoalCard)||void 0===i||null===(r=i.mainTotalIncome)||void 0===r?void 0:r.sum)){var a,o;if("count"===this.settings.filterBy)return(null===(a=this.totalIncomeGoalCard)||void 0===a?void 0:a.mainTotalIncome.count)||"0";if("sum"===this.settings.filterBy)return"$".concat(null===(o=this.totalIncomeGoalCard)||void 0===o?void 0:o.mainTotalIncome.sum)||!1}return"0"},generalConvertionRateCompare:function(){var e,t,i,r;if(this.totalIncomeGoalCard&&void 0!==(null===(e=this.totalIncomeGoalCard)||void 0===e||null===(t=e.secondTotalIncome)||void 0===t?void 0:t.count)&&void 0!==(null===(i=this.totalIncomeGoalCard)||void 0===i||null===(r=i.secondTotalIncome)||void 0===r?void 0:r.sum)){var a,o=null===(a=this.totalIncomeGoalCard)||void 0===a?void 0:a.secondTotalIncome[this.settings.filterBy];return o||"0"}return"0"},textCompare:function(){return"PREVIOUS_PERIOD"===this.settings.periodRangeToCompare.period?this.settings.periodPredefined[3]:"PREVIOUS_YEAR"===this.settings.periodRangeToCompare.period?"Año anterior":"CUSTOM"===this.settings.periodRangeToCompare.period?"Personalizado":""},valueCompare:function(){if(!this.isPreview){var e,t;if(this.isCompareUser)return null===(e=this.totalIncomeGoalCard)||void 0===e||null===(t=e.secondTotalIncome)||void 0===t?void 0:t.name;if("CUSTOM"===this.settings.periodRangeToCompare.period)return"".concat(this.formatDate(this.filters.dateRangeToCompare.dateStart)," - ").concat(this.formatDate(this.filters.dateRangeToCompare.dateEnd))}return""},textMain:function(){return this.isPreview?"":(this.isCompareUser,this.settings.periodPredefined[2])},valueMain:function(){if(!this.isPreview){var e,t;if(this.isCompareUser)return null===(e=this.totalIncomeGoalCard)||void 0===e||null===(t=e.mainTotalIncome)||void 0===t?void 0:t.name;if(this.settings.periodPredefined.length>0&&"CUSTOM"===this.settings.periodPredefined[0])return"".concat(this.formatDate(this.filters.dateRange.dateStart)," - ").concat(this.formatDate(this.filters.dateRange.dateEnd))}return""},filters:function(){var e={dateRange:{dateStart:this.dateStart,dateEnd:this.dateEnd},owners:this.ownersFilter,pipeline:this.pipelineFilter};return this.ownerToCompare&&""!==this.ownerToCompare.id&&(e.ownerToCompare=this.ownerToCompare),this.dateRangeToCompare&&""!==this.dateRangeToCompare.dateStart&&""!==this.dateRangeToCompare.dateEnd&&(e.dateRangeToCompare=this.dateRangeToCompare),e}},methods:{update:function(){this.$apollo.queries.totalIncomeGoalCard.refetch()}},apollo:{totalIncomeGoalCard:{query:S["Q"],fetchPolicy:"no-cache",client:"charts",variables:function(){return{filters:this.filters}},skip:function(){return""===this.dateStart||""===this.dateEnd||!this.pipelineFilter.id||0===this.ownersFilter.length},loadingKey:"isLoading"}}},O=F,w=Object(h["a"])(O,l,d,!1,null,"0e37f735",null),_=w.exports,B=i("8b70"),D=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalFilters",{attrs:{isOpen:e.isOpenModalFilter,isIcon:e.isIcon},on:{save:e.saveFilter,statusModal:e.statusModal}},[i("v-row",[i("v-col",{attrs:{cols:"12"}},[i("Select",{attrs:{name:"Filtrar por",defaultSelect:e.defaultFilter.filterBy,list:e.listFilterBy},on:{change:e.changeFilterBy}})],1),i("v-col",{attrs:{cols:"12"}},[i("SelectUsers",{attrs:{all:"",defaultSelect:e.defaultFilter.users},on:{change:e.changeUsers}})],1),i("v-col",{attrs:{cols:"12"}},[i("SelectPipeline",{attrs:{defaultSelect:e.defaultFilter.pipeline},on:{change:e.changePipeline}})],1),i("v-col",{attrs:{cols:"12"}},[i("PeriodPredefined",{attrs:{defaultSelect:e.defaultFilter.periodPredefined},on:{change:e.changePeriodPredefined}})],1),e.isPreview?e._e():i("v-col",{attrs:{cols:"12"}},[i("ComparePeriod",{attrs:{periodPredefined:e.filters.periodPredefined[0]},on:{change:e.changeComparePeriod}})],1)],1)],1)},M=[],x=i("5530"),A=i("740f"),E=i("d344"),I=i("6321"),k=i("c065"),L={name:"CardTotalIncomeGoalFilter",components:{SelectUsers:A["a"],SelectPipeline:I["a"],Select:E["a"]},mixins:[b["b"]],props:{defaultFilter:{type:Object,default:function(){return{filterBy:"count",filterTime:"WEEKS",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{id:""}}}},isIcon:{type:Boolean,default:!1},isPreview:{type:Boolean,default:!1}},data:function(){return{listTime:k["d"],listFilterBy:k["e"],filters:{filterBy:"count",filterTime:"WEEKS",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{id:""}}}},methods:{changeComparePeriod:function(e){var t=e.isCompare,i=e.periodCompare,r=e.ownerCompare;if(t){if(r&&r.id&&(this.filters.ownerToCompare.id=r.id,this.filters.periodRangeToCompare.period="",this.filters.periodRangeToCompare.start="",this.filters.periodRangeToCompare.end=""),i){if(this.filters.periodRangeToCompare.period=i.periodSelected,i.periodRange.length>0){var a=Object(o["a"])(i.periodRange,2);this.filters.periodRangeToCompare.start=a[0],this.filters.periodRangeToCompare.end=a[1]}this.filters.ownerToCompare.id=""}}else this.filters.periodRangeToCompare.period="",this.filters.periodRangeToCompare.start="",this.filters.periodRangeToCompare.end="",this.filters.ownerToCompare.id=""},saveFilter:function(){this.changeChart({id:"card-totalIncomeGoal",filtersFull:Object(x["a"])(Object(x["a"])({},this.noReactive(this.filters)),{},{periodRange:Object(x["a"])({__typename:"PeriodRange"},this.filters.periodRange),ownerToCompare:Object(x["a"])({__typename:"OwnerToCompare"},this.filters.ownerToCompare)})}),this.isOpenModalFilter=!1}}},j=L,G=Object(h["a"])(j,D,M,!1,null,"3aa2a1a1",null),H=G.exports;m()(G,{VCol:C["a"],VRow:T["a"]});var V={name:"CardTotalIncomeGoalModal",components:{CardTotalIncomeGoalData:_,TableDeals:B["a"],CardTotalIncomeGoalFilter:H},mixins:[b["c"]],props:{isOpen:{type:Boolean,default:!1},title:{type:String,default:"Sin título"},titleRegular:{type:String,default:""},filters:{type:Object,default:function(){return{filtersConfig:{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{id:""}},filtersTable:{users:[],pipelines:[],periodRange:{start:"",end:""},dealStatus:""}}}}}},N=V,U=Object(h["a"])(N,n,s,!1,null,"dabaa4f0",null),W=U.exports,$={name:"CardTotalIncomeGoalPreview",components:{CardTotalIncomeGoalData:_,CardTotalIncomeGoalModal:W,CardTotalIncomeGoalFilter:H},mixins:[b["d"]],props:{defaultPeriod:{type:String,default:"THIS_MONTH"}},data:function(){return{chartId:"card-totalIncomeGoal",title:"Ingreso",titleRegular:"total",isOpenModal:!1,filtersChartsDefault:{},initFilter:{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{id:""},dealStatus:"WON"}}},computed:{filtersConfig:function(){var e,t,i,r,a,o,n;return{filterBy:(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.filterBy)||this.initFilter.filterBy,users:this.usersGlobal||(null===(t=this.chart.filtersFull)||void 0===t?void 0:t.users)||this.initUsers,pipeline:(null===(i=this.chart.filtersFull)||void 0===i?void 0:i.pipeline)||this.initPipeline,periodRange:this.periodRangeGlobal||(null===(r=this.chart.filtersFull)||void 0===r?void 0:r.periodRange)||this.periodRange,periodPredefined:this.periodPredefinedGlobal||(null===(a=this.chart.filtersFull)||void 0===a?void 0:a.periodPredefined)||[this.defaultPeriod]||this.initFilter.periodPredefined,periodRangeToCompare:(null===(o=this.chart.filtersFull)||void 0===o?void 0:o.periodRangeToCompare)||this.initFilter.periodRangeToCompare,ownerToCompare:(null===(n=this.chart.filtersFull)||void 0===n?void 0:n.ownerToCompare)||this.initFilter.ownerToCompare}},filtersTable:function(){var e,t=this.getPeriod(this.initFilter.periodPredefined[0]).get(),i=Object(o["a"])(t,2),r=i[0],a=i[1];return{users:this.usersGlobal||this.users||this.initUsers,pipelines:this.pipelines||this.filtersChartsDefault.pipelines,periodRange:this.periodRangeGlobal||(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.periodRange)||{start:r,end:a},dealStatus:this.initFilter.dealStatus}}}},z=$,q=(i("cfa6"),Object(h["a"])(z,r,a,!1,null,"7a7d1054",null));t["a"]=q.exports},3420:function(e,t,i){},"35e9":function(e,t,i){"use strict";i("f937")},3614:function(e,t,i){"use strict";i("6ab5")},3753:function(e,t,i){},"3a04":function(e,t,i){"use strict";i("9c2b")},"3c11":function(e,t,i){"use strict";i("e869")},"3da9":function(e,t,i){},"438c":function(e,t,i){},4605:function(e,t,i){},4696:function(e,t,i){"use strict";i("ea8e")},"49b3":function(e,t,i){"use strict";var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseCardChart",{attrs:{title:e.title,titleRegular:e.titleRegular,settings:e.filtersConfig},on:{updateRefetch:function(t){e.isRefetch=!0}},scopedSlots:e._u([{key:"modal",fn:function(){return[i("CardOpenRateEmailsFilter",{attrs:{defaultFilter:e.filtersConfig,isIcon:"",isPreview:""}})]},proxy:!0}])},[i("div",{staticClass:"hoverClick",on:{click:e.openModal}},[i("CardOpenRateEmailsData",{attrs:{defaultFilter:e.filtersConfig,isPreview:"",isRefetch:e.isRefetch},on:{updateRefetch:function(t){e.isRefetch=!1}}})],1),i("CardOpenRateEmailsModal",{attrs:{isOpen:e.isOpenModal,filters:{filtersConfig:e.filtersConfig,filtersTable:e.filtersTable},title:e.title,titleRegular:e.titleRegular},on:{close:e.closeModal}})],1)},a=[],o=i("3835"),n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalChart",{attrs:{title:e.title,titleRegular:e.titleRegular,isOpen:e.isOpen},on:{close:e.closeModal},scopedSlots:e._u([{key:"filters",fn:function(){return[i("CardOpenRateEmailsFilter",{attrs:{defaultFilter:e.filters.filtersConfig}})]},proxy:!0},{key:"chart",fn:function(){return[i("CardOpenRateEmailsData",{attrs:{defaultFilter:e.filters.filtersConfig}})]},proxy:!0},{key:"table",fn:function(){return[i("TableEmails",{attrs:{defaultFilter:e.filters.filtersTable}})]},proxy:!0}])})},s=[],l=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.isPreview?e._e():i("ListFilters",{attrs:{settings:e.settings}}),i("BaseCardNumber",{attrs:{information:{numberMain:e.generalConvertionRateFormat+"%",textMain:e.textMain,valueMain:e.valueMain,textMainType:e.textChart,isCompare:!e.isPreview&&e.settings.periodRangeToCompare.period.length>0,numberCompare:e.generalConvertionRateCompare+"%",textCompare:e.textCompare,valueCompare:e.valueCompare,numberDifferenceCompare:e.comparePercentage}}}),e.isPreview?e._e():i("CardOpenRateEmailsInformation",{attrs:{information:e.openedRateEmailsCard.informationBar,filterBy:e.settings.filterBy}})],1)},d=[],p=(i("b680"),i("99af"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-card",{staticClass:"mt-5",attrs:{flat:""}},[i("v-container",[i("v-row",[i("v-col",{attrs:{cols:"3"}},[e._l(e.information.usersOpenedRateEmails,(function(t,r){return[i("span",{key:r,staticClass:"d-block"},[i("b",[e._v(e._s(t.name))]),e._v(" : "+e._s(t[e.filterBy])+"% ")])]}))],2),i("v-col",{attrs:{cols:"3"}},[e._l(e.information.periodsOpenedRateEmails,(function(t,r){return[i("span",{key:r,staticClass:"d-block"},[i("b",[e._v(e._s(e.rowOne[r]))]),e._v(" : "+e._s(t.count)+"% ")])]}))],2),i("v-col",{attrs:{cols:"3"}},[e._l(e.information.pastPeriodsOpenedRateEmails,(function(t,r){return[i("span",{key:r,staticClass:"d-block"},[i("b",[e._v(e._s(e.rowTwo[r]))]),e._v(" : "+e._s(t.count)+"% ")])]}))],2)],1)],1)],1)}),c=[],u={name:"CardOpenRateEmailsInformation",props:{information:{type:Object,default:function(){return{}}},filterBy:{type:String,default:"count"}},data:function(){return{rowOne:["Promedio anual","Promedio trimestral","Promedio mensual"],rowTwo:["Este período","Período pasado","Mismo período el mes anterior"]}}},f=u,h=i("0c7c"),v=i("6544"),m=i.n(v),g=i("b0af"),C=i("62ad"),R=i("a523"),T=i("0fd9"),y=Object(h["a"])(f,p,c,!1,null,null,null),P=y.exports;m()(y,{VCard:g["a"],VCol:C["a"],VContainer:R["a"],VRow:T["a"]});var S=i("8d7e"),b=i("0db6"),F={name:"CardOpenRateEmailsData",mixins:[b["a"]],components:{CardOpenRateEmailsInformation:P},props:{defaultFilter:{type:Object,default:function(){return{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""}}}},isPreview:{type:Boolean,default:!1}},data:function(){return{openedRateEmailsCard:{},modalSettings:{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:[],periodRangeToCompare:{period:"",start:"",end:""}},settings:{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:[],periodRangeToCompare:{period:"",start:"",end:""}}}},computed:{comparePercentage:function(){return"0"===this.generalConvertionRateCompare?"100":(100*this.generalConvertionRateFormat/this.generalConvertionRateCompare-100).toFixed(2)},generalConvertionRateFormat:function(){var e,t,i;return this.openedRateEmailsCard&&void 0!==(null===(e=this.openedRateEmailsCard)||void 0===e||null===(t=e.mainOpenedRate)||void 0===t?void 0:t.count)?null===(i=this.openedRateEmailsCard)||void 0===i?void 0:i.mainOpenedRate[this.settings.filterBy]:"0"},generalConvertionRateCompare:function(){var e,t;if(this.openedRateEmailsCard&&void 0!==(null===(e=this.openedRateEmailsCard)||void 0===e||null===(t=e.secondOpenedRate)||void 0===t?void 0:t.count)){var i,r=null===(i=this.openedRateEmailsCard)||void 0===i?void 0:i.secondOpenedRate[this.settings.filterBy];return r||"0"}return"0"},textCompare:function(){return"PREVIOUS_PERIOD"===this.settings.periodRangeToCompare.period?this.settings.periodPredefined[3]:"PREVIOUS_YEAR"===this.settings.periodRangeToCompare.period?"Año anterior":"CUSTOM"===this.settings.periodRangeToCompare.period?"Personalizado":""},valueCompare:function(){return this.isPreview||"CUSTOM"!==this.settings.periodRangeToCompare.period?"":"".concat(this.formatDate(this.filters.dateRangeToCompare.dateStart)," - ").concat(this.formatDate(this.filters.dateRangeToCompare.dateEnd))},textMain:function(){return this.isPreview?"":this.settings.periodPredefined[2]},valueMain:function(){return!this.isPreview&&this.settings.periodPredefined.length>0&&"CUSTOM"===this.settings.periodPredefined[0]?"".concat(this.formatDate(this.filters.dateRange.dateStart)," - ").concat(this.formatDate(this.filters.dateRange.dateEnd)):""},filters:function(){var e={dateRange:{dateStart:this.dateStart,dateEnd:this.dateEnd},owners:this.ownersFilter,pipeline:this.pipelineFilter};return this.dateRangeToCompare&&""!==this.dateRangeToCompare.dateStart&&""!==this.dateRangeToCompare.dateEnd&&(e.dateRangeToCompare=this.dateRangeToCompare),e}},methods:{update:function(){this.$apollo.queries.openedRateEmailsCard.refetch()}},apollo:{openedRateEmailsCard:{query:S["x"],fetchPolicy:"no-cache",client:"charts",variables:function(){return{filters:this.filters}},skip:function(){return""===this.dateStart||""===this.dateEnd||!this.pipelineFilter.id||0===this.ownersFilter.length},loadingKey:"isLoading"}}},O=F,w=Object(h["a"])(O,l,d,!1,null,"cc33b12e",null),_=w.exports,B=i("6c94"),D=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalFilters",{attrs:{isOpen:e.isOpenModalFilter,isIcon:e.isIcon},on:{save:e.saveFilter,statusModal:e.statusModal}},[i("v-row",[i("v-col",{attrs:{cols:"12"}},[i("SelectUsers",{attrs:{all:"",defaultSelect:e.defaultFilter.users},on:{change:e.changeUsers}})],1),i("v-col",{attrs:{cols:"12"}},[i("SelectPipeline",{attrs:{defaultSelect:e.defaultFilter.pipeline},on:{change:e.changePipeline}})],1),i("v-col",{attrs:{cols:"12"}},[i("PeriodPredefined",{attrs:{defaultSelect:e.defaultFilter.periodPredefined},on:{change:e.changePeriodPredefined}})],1),e.isPreview?e._e():i("v-col",{attrs:{cols:"12"}},[i("ComparePeriod",{attrs:{periodPredefined:e.filters.periodPredefined[0]},on:{change:e.changeComparePeriod}})],1)],1)],1)},M=[],x=i("5530"),A=i("740f"),E=i("6321"),I={name:"CardOpenRateEmailsFilter",components:{SelectUsers:A["a"],SelectPipeline:E["a"]},mixins:[b["b"]],props:{defaultFilter:{type:Object,default:function(){return{users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""}}}},isIcon:{type:Boolean,default:!1},isPreview:{type:Boolean,default:!1}},data:function(){return{filters:{users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""}}}},methods:{changeComparePeriod:function(e){var t=e.isCompare,i=e.periodCompare;if(t){if(i&&(this.filters.periodRangeToCompare.period=i.periodSelected,i.periodRange.length>0)){var r=Object(o["a"])(i.periodRange,2);this.filters.periodRangeToCompare.start=r[0],this.filters.periodRangeToCompare.end=r[1]}}else this.filters.periodRangeToCompare.period="",this.filters.periodRangeToCompare.start="",this.filters.periodRangeToCompare.end=""},saveFilter:function(){this.changeChart({id:"card-openRateEmails",filtersFull:Object(x["a"])(Object(x["a"])({},this.noReactive(this.filters)),{},{periodRange:Object(x["a"])({__typename:"PeriodRange"},this.filters.periodRange)})}),this.isOpenModalFilter=!1}}},k=I,L=Object(h["a"])(k,D,M,!1,null,"acefcabe",null),j=L.exports;m()(L,{VCol:C["a"],VRow:T["a"]});var G={name:"CardOpenRateEmailsModal",components:{CardOpenRateEmailsData:_,CardOpenRateEmailsFilter:j,TableEmails:B["a"]},mixins:[b["c"]],props:{isOpen:{type:Boolean,default:!1},title:{type:String,default:"Sin título"},titleRegular:{type:String,default:""},filters:{type:Object,default:function(){return{filtersConfig:{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""}},filtersTable:{users:[],pipelines:[],periodRange:{start:"",end:""}}}}}}},H=G,V=Object(h["a"])(H,n,s,!1,null,"5b05024c",null),N=V.exports,U={name:"CardOpenRateEmailsPreview",components:{CardOpenRateEmailsData:_,CardOpenRateEmailsModal:N,CardOpenRateEmailsFilter:j},mixins:[b["d"]],props:{defaultPeriod:{type:String,default:"THIS_MONTH"}},data:function(){return{title:"Tasa de correos",titleRegular:"abiertos",isOpenModal:!1,chartId:"card-openRateEmails",filtersChartsDefault:{},initFilter:{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""}}}},computed:{filtersConfig:function(){var e,t,i,r,a,o;return{filterBy:(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.filterBy)||this.initFilter.filterBy,users:this.usersGlobal||(null===(t=this.chart.filtersFull)||void 0===t?void 0:t.users)||this.initUsers,pipeline:(null===(i=this.chart.filtersFull)||void 0===i?void 0:i.pipeline)||this.initPipeline,periodRange:this.periodRangeGlobal||(null===(r=this.chart.filtersFull)||void 0===r?void 0:r.periodRange)||this.periodRange,periodPredefined:this.periodPredefinedGlobal||(null===(a=this.chart.filtersFull)||void 0===a?void 0:a.periodPredefined)||[this.defaultPeriod]||this.initFilter.periodPredefined,periodRangeToCompare:(null===(o=this.chart.filtersFull)||void 0===o?void 0:o.periodRangeToCompare)||this.initFilter.periodRangeToCompare}},filtersTable:function(){var e,t=this.getPeriod(this.initFilter.periodPredefined[0]).get(),i=Object(o["a"])(t,2),r=i[0],a=i[1];return{users:this.usersGlobal||this.users||this.initUsers,pipelines:this.pipelines||this.filtersChartsDefault.pipelines,periodRange:this.periodRangeGlobal||(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.periodRange)||{start:r,end:a},emailStatus:"ALL"}}}},W=U,$=(i("a052"),Object(h["a"])(W,r,a,!1,null,"3c15f024",null));t["a"]=$.exports},"4ac6":function(e,t,i){"use strict";var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseCardChart",{attrs:{title:e.title,titleRegular:e.titleRegular,settings:e.filtersConfig,isChart:""},on:{updateRefetch:function(t){e.isRefetch=!0}},scopedSlots:e._u([{key:"modal",fn:function(){return[i("BarLostDealsByStageFilter",{attrs:{defaultFilter:e.filtersConfig,isIcon:"",isPreview:""}})]},proxy:!0}])},[i("div",{staticClass:"hoverClick",on:{click:e.openModal}},[i("BarLostDealsByStageData",{attrs:{defaultFilter:e.filtersConfig,isPreview:"",isRefetch:e.isRefetch},on:{updateRefetch:function(t){e.isRefetch=!1}}})],1),i("BarLostDealsByStageModal",{attrs:{isOpen:e.isOpenModal,filters:{filtersConfig:e.filtersConfig,filtersTable:e.filtersTable},title:e.title,titleRegular:e.titleRegular},on:{close:e.closeModal}})],1)},a=[],o=i("3835"),n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalChart",{attrs:{title:e.title,titleRegular:e.titleRegular,isOpen:e.isOpen},on:{close:e.closeModal},scopedSlots:e._u([{key:"filters",fn:function(){return[i("BarLostDealsByStageFilter",{attrs:{defaultFilter:e.filters.filtersConfig}})]},proxy:!0},{key:"chart",fn:function(){return[i("BarLostDealsByStageData",{attrs:{defaultFilter:e.filters.filtersConfig,isFull:""}})]},proxy:!0},{key:"table",fn:function(){return[i("TableDeals",{attrs:{defaultFilter:e.filters.filtersTable}})]},proxy:!0}])})},s=[],l=i("52e2"),d=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalFilters",{attrs:{isOpen:e.isOpenModalFilter,isIcon:e.isIcon},on:{save:e.saveFilter,statusModal:e.statusModal}},[i("v-row",[i("v-col",{attrs:{cols:"12"}},[i("Select",{attrs:{name:"Filtrar por",defaultSelect:e.defaultFilter.filterBy,list:e.listFilterBy},on:{change:e.changeFilterBy}})],1),i("v-col",{attrs:{cols:"12"}},[i("SelectUsers",{attrs:{all:"",defaultSelect:e.defaultFilter.users},on:{change:e.changeUsers}})],1),i("v-col",{attrs:{cols:"12"}},[i("SelectPipeline",{attrs:{defaultSelect:e.defaultFilter.pipeline},on:{change:e.changePipeline}})],1),i("v-col",{attrs:{cols:"12"}},[i("PeriodPredefined",{attrs:{defaultSelect:e.defaultFilter.periodPredefined},on:{change:e.changePeriodPredefined}})],1),e.isPreview?e._e():i("v-col",{attrs:{cols:"12"}},[i("ComparePeriodBars",{attrs:{periodPredefined:e.filters.periodPredefined[0]},on:{change:e.changeComparePeriod}})],1)],1)],1)},p=[],c=i("5530"),u=i("740f"),f=i("d344"),h=i("6321"),v=i("c065"),m={name:"BarLostDealsByStageFilter",components:{SelectUsers:u["a"],SelectPipeline:h["a"],Select:f["a"]},mixins:[l["b"]],props:{defaultFilter:{type:Object,default:function(){return{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{},typeCompare:"none"}}}},data:function(){return{listTime:v["d"],listFilterBy:v["e"],filters:{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{},typeCompare:"none"}}},methods:{saveFilter:function(){this.changeChart({id:"bar-lostDealsByStage",filtersFull:Object(c["a"])(Object(c["a"])({},this.noReactive(this.filters)),{},{periodRange:Object(c["a"])({__typename:"PeriodRange"},this.filters.periodRange),ownerToCompare:Object(c["a"])({},this.filters.ownerToCompare)})}),this.isOpenModalFilter=!1}}},g=m,C=i("0c7c"),R=i("6544"),T=i.n(R),y=i("62ad"),P=i("0fd9"),S=Object(C["a"])(g,d,p,!1,null,"049e76c9",null),b=S.exports;T()(S,{VCol:y["a"],VRow:P["a"]});var F=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.isPreview?e._e():i("ListFilters",{attrs:{settings:e.settings}}),i("div",{staticClass:"text-center bgWhite",class:[{"py-5 px-3":!e.isPreview},{showScroll:e.isWithScroll}]},[e.isPreview||"date"!==e.settings.typeCompare?e._e():i("div",[i("h4",[e._v(" "+e._s(e.textMain)+" ")]),i("span",[e._v(e._s(e.valuePeriodRange))])]),e.isPreview||"user"!==e.settings.typeCompare?e._e():i("div",[i("h4",[e._v(" "+e._s(e.textMain)+" ")]),i("span",[e._v(e._s(e.userMain))])]),i("apexchart",{attrs:{height:e.isPreview?250:350,type:"bar",options:e.options,series:e.series}}),e.isPreview||"date"!==e.settings.typeCompare?e._e():i("div",[i("h4",[e._v(" "+e._s(e.textCompare)+" ")]),i("span",[e._v(e._s(e.valuePeriodRangeToCompare))])]),e.isPreview||"user"!==e.settings.typeCompare?e._e():i("div",[i("span",[e._v(e._s(e.valueOwnerToCompare))])]),e.isPreview||"none"===e.settings.typeCompare?e._e():i("apexchart",{attrs:{height:e.isPreview?250:350,type:"bar",options:e.optionsCompare,series:e.seriesCompare}})],1),e.isPreview?e._e():i("BarLostDealsByStageInformation",{attrs:{information:e.lostDealsByStageVerticalBarsGraph.informationBar,filterBy:e.settings.filterBy}})],1)},O=[],w=i("2909"),_=(i("99af"),i("b0c0"),i("d81d"),i("8d7e")),B=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-card",{staticClass:"mt-5",attrs:{flat:""}},[i("v-container",[i("v-row",{staticClass:"justify-center"},[i("v-col",{attrs:{cols:"3"}},[i("span",[i("b",[e._v("Tasa de conversión general:")]),e._v(" "+e._s(e.information.generalConvertionRate&&e.information.generalConvertionRate[e.filterBy])+" ")])]),i("v-col",{attrs:{cols:"3"}},[i("b",[e._v("Tasa de oportunidades ganadas:")]),e._v(" "+e._s(e.information.wonDeals&&e.information.wonDeals[e.filterBy])+" ")]),i("v-col",{attrs:{cols:"3"}},[i("b",[e._v("Tasa de oportunidades perdidas:")]),e._v(" "+e._s(e.information.lostDeals&&e.information.lostDeals[e.filterBy])+" ")]),i("v-col",{attrs:{cols:"3"}},[i("b",[e._v("Tasa de oportunidades abiertas:")]),e._v(" "+e._s(e.information.openDeals&&e.information.openDeals[e.filterBy])+" ")])],1)],1)],1)},D=[],M={name:"BarLostDealsByStageInformation",props:{information:{type:Object,default:function(){return{}}},filterBy:{type:String,default:"count"}}},x=M,A=i("b0af"),E=i("a523"),I=Object(C["a"])(x,B,D,!1,null,null,null),k=I.exports;T()(I,{VCard:A["a"],VCol:y["a"],VContainer:E["a"],VRow:P["a"]});var L={name:"BarLostDealsByStageData",mixins:[l["a"]],components:{BarLostDealsByStageInformation:k},props:{defaultFilter:{type:Object,default:function(){return{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],typeCompare:"none"}}}},data:function(){return{listFilterBy:v["e"],lostDealsByStageVerticalBarsGraph:{mainLostDealsByStage:[],secondLostDealsByStage:[]},modalSettings:{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],typeCompare:"none"},settings:{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],typeCompare:"none"}}},computed:{textMain:function(){return this.isPreview?"":this.settings.periodPredefined[2]},userMain:function(){return"".concat(this.settings.user.user.name," ").concat(this.settings.user.user.lastName)},textCompare:function(){return"PREVIOUS_PERIOD"===this.settings.periodRangeToCompare.period?this.settings.periodPredefined[3]:"PREVIOUS_YEAR"===this.settings.periodRangeToCompare.period?"Año anterior":"CUSTOM"===this.settings.periodRangeToCompare.period?"Personalizado":""},valuePeriodRange:function(){return this.isPreview?"":"".concat(this.formatDate(this.settings.periodRange.start)," - ").concat(this.formatDate(this.settings.periodRange.end))},valuePeriodRangeToCompare:function(){return this.isPreview?"":"".concat(this.formatDate(this.settings.periodRangeToCompare.start)," - ").concat(this.formatDate(this.settings.periodRangeToCompare.end))},valueOwnerToCompare:function(){return"".concat(this.settings.ownerToCompare.user.name," ").concat(this.settings.ownerToCompare.user.lastName)},listDataChart:function(){return this.formatData(this.lostDealsByStageVerticalBarsGraph.mainLostDealsByStage)},listDataChartCompare:function(){return this.formatData(this.lostDealsByStageVerticalBarsGraph.secondLostDealsByStage)},options:function(){return this.formatOptions(this.listDataChart)},optionsCompare:function(){return this.formatOptions(this.listDataChartCompare)},series:function(){return this.formatSeries(this.listDataChart)},seriesCompare:function(){return this.formatSeries(this.listDataChartCompare)},showTitleXaxis:function(){if(!this.isPreview)return"Etapas"},showTitleYaxis:function(){if(!this.isPreview)return this.isCount?"Cantidad de tratos":"Valor de tratos"},isWithScroll:function(){return this.isPreview},filters:function(){var e={dateRange:{dateStart:this.dateStart,dateEnd:this.dateEnd},owners:this.ownersFilter,pipeline:this.pipelineFilter};return this.dateRangeToCompare&&""!==this.dateRangeToCompare.dateStart&&""!==this.dateRangeToCompare.dateEnd&&(e.dateRangeToCompare=this.dateRangeToCompare),e}},mounted:function(){var e=this;this.$nextTick((function(){window.addEventListener("resize",e.onResize)}))},beforeDestroy:function(){window.removeEventListener("resize",this.onResize)},methods:{update:function(){this.$apollo.queries.lostDealsByStageVerticalBarsGraph.refetch()},onResize:function(){this.windowWidth=window.innerWidth},formatData:function(e){if(null!==e&&void 0!==e&&e.count&&null!==e&&void 0!==e&&e.sum){var t=JSON.parse(JSON.stringify(e)),i=t.count,r=t.sum,a=this.isCount?i.map((function(e){return e.stageName})):r.map((function(e){return e.stageName})),o=i.map((function(){return"#881414"}));return{count:i.map((function(e){return e.count})),sum:r.map((function(e){return e.sum})),stages:a,colors:o}}return{count:[],sum:[],stages:[],colors:[]}},formatOptions:function(e){var t=this,i=e.stages,r=void 0===i?[]:i,a=e.points,o=void 0===a?[]:a,n=e.colors,s=void 0===n?[]:n;return{chart:{height:this.isPreview?"250":"350",width:this.isWithScroll?"1200":"100%",toolbar:{show:!1},zoom:{enabled:!1}},colors:s,plotOptions:{bar:{distributed:!0,columnWidth:"45%",borderRadius:10,dataLabels:{position:"top",orientation:"horizontal"}}},legend:{show:!1},dataLabels:{enabled:!0,style:{fontSize:"12px"},offsetY:-20,background:{enabled:!0,foreColor:"#000",borderRadius:0},formatter:function(e){return"".concat(t.isCount?e:t.formatPrice(e))}},grid:{row:{colors:["#fff","#f2f2f2"]}},annotations:{points:o},xaxis:{tickPlacement:"on",type:"category",categories:Object(w["a"])(r),labels:{show:!0},title:{text:this.showTitleXaxis}},yaxis:{labels:{formatter:function(e){return"".concat(e===1/0?t.isCount?0:t.formatPrice(0):t.isCount?e:t.formatPrice(e))}},title:{text:this.showTitleYaxis}}}},formatSeries:function(e){var t=e.count,i=void 0===t?[]:t,r=e.sum,a=void 0===r?[]:r;return i.length&&a.length?[{name:this.isCount?"Cantidad":"Valor",data:this.isCount?Object(w["a"])(i):Object(w["a"])(a)}]:[]}},apollo:{lostDealsByStageVerticalBarsGraph:{query:_["s"],fetchPolicy:"no-cache",client:"charts",variables:function(){return{filters:this.filters}},skip:function(){return""===this.dateStart||""===this.dateEnd||!this.pipelineFilter.id||0===this.ownersFilter.length},watchLoading:function(e){this.isLoading=e}}}},j=L,G=(i("3614"),Object(C["a"])(j,F,O,!1,null,"d033a38a",null)),H=G.exports,V=i("8b70"),N={name:"BarLostDealsByStageModal",components:{BarLostDealsByStageFilter:b,BarLostDealsByStageData:H,TableDeals:V["a"]},mixins:[l["c"]],props:{filters:{type:Object,default:function(){return{filtersConfig:{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{},typeCompare:"none"},filtersTable:{users:[],pipelines:[],periodRange:{start:"",end:""},dealStatus:""}}}}}},U=N,W=Object(C["a"])(U,n,s,!1,null,"50b46d4e",null),$=W.exports,z={name:"BarLostDealsByStagePreview",components:{BarLostDealsByStageData:H,BarLostDealsByStageModal:$,BarLostDealsByStageFilter:b},mixins:[l["d"]],props:{defaultPeriod:{type:String,default:"THIS_MONTH"}},data:function(){return{chartId:"bar-lostDealsByStage",title:"Pérdida",titleRegular:"por etapa",filtersChartsDefault:{},initFilter:{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{},dealStatus:"WON",typeCompare:"none"}}},computed:{filtersConfig:function(){var e,t,i,r,a,o,n,s;return{filterBy:(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.filterBy)||this.initFilter.filterBy,users:this.usersGlobal||(null===(t=this.chart.filtersFull)||void 0===t?void 0:t.users)||this.initUsers,pipeline:(null===(i=this.chart.filtersFull)||void 0===i?void 0:i.pipeline)||this.initPipeline,periodRange:this.periodRangeGlobal||(null===(r=this.chart.filtersFull)||void 0===r?void 0:r.periodRange)||this.periodRange,periodPredefined:this.periodPredefinedGlobal||(null===(a=this.chart.filtersFull)||void 0===a?void 0:a.periodPredefined)||[this.defaultPeriod]||this.initFilter.periodPredefined,periodRangeToCompare:(null===(o=this.chart.filtersFull)||void 0===o?void 0:o.periodRangeToCompare)||this.initFilter.periodRangeToCompare,ownerToCompare:(null===(n=this.chart.filtersFull)||void 0===n?void 0:n.ownerToCompare)||this.initFilter.ownerToCompare,typeCompare:(null===(s=this.chart.filtersFull)||void 0===s?void 0:s.typeCompare)||this.initFilter.typeCompare}},filtersTable:function(){var e,t=this.getPeriod(this.initFilter.periodPredefined[0]).get(),i=Object(o["a"])(t,2),r=i[0],a=i[1];return{users:this.usersGlobal||this.users||this.initUsers,pipelines:this.pipelines||[this.initPipeline],periodRange:this.periodRangeGlobal||(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.periodRange)||{start:r,end:a},dealStatus:this.initFilter.dealStatus}}}},q=z,Y=(i("d1c1"),Object(C["a"])(q,r,a,!1,null,"0eb15fe5",null));t["a"]=Y.exports},"4c96":function(e,t,i){"use strict";i("c2dd")},"4de43":function(e,t,i){},"4e48":function(e,t,i){},"4fbc":function(e,t,i){"use strict";i("b2bb")},"504f":function(e,t,i){},"508e":function(e,t,i){"use strict";i("4de43")},5317:function(e,t,i){"use strict";i("5f74")},5348:function(e,t,i){"use strict";i("4605")},"53b2":function(e,t,i){},"546d":function(e,t,i){},"548b":function(e,t,i){"use strict";i("53b2")},"56a9":function(e,t,i){"use strict";var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseCardChart",{attrs:{title:e.title,titleRegular:e.titleRegular,settings:e.filtersConfig,isChart:""},on:{updateRefetch:function(t){e.isRefetch=!0}},scopedSlots:e._u([{key:"modal",fn:function(){return[i("LineOpportunitySalesFilter",{attrs:{defaultFilter:e.filtersConfig,isIcon:"",isPreview:""}})]},proxy:!0}])},[i("div",{staticClass:"hoverClick",on:{click:e.openModal}},[i("LineOpportunitySalesData",{attrs:{defaultFilter:e.filtersConfig,isPreview:"",isRefetch:e.isRefetch},on:{updateRefetch:function(t){e.isRefetch=!1}}})],1),i("LineOpportunitySalesModal",{attrs:{isOpen:e.isOpenModal,filters:{filtersConfig:e.filtersConfig,filtersConfig:e.filtersConfig,filtersTable:e.filtersTable},title:e.title,titleRegular:e.titleRegular},on:{close:e.closeModal}})],1)},a=[],o=i("3835"),n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalChart",{attrs:{title:e.title,titleRegular:e.titleRegular,isOpen:e.isOpen},on:{close:e.closeModal},scopedSlots:e._u([{key:"filters",fn:function(){return[i("LineOpportunitySalesFilter",{attrs:{defaultFilter:e.filters.filtersConfig}})]},proxy:!0},{key:"chart",fn:function(){return[i("LineOpportunitySalesData",{attrs:{defaultFilter:e.filters.filtersConfig,isFull:""}})]},proxy:!0},{key:"table",fn:function(){return[i("TableDeals",{attrs:{defaultFilter:e.filters.filtersTable}})]},proxy:!0}])})},s=[],l=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalFilters",{attrs:{isOpen:e.isOpenModalFilter,isIcon:e.isIcon},on:{save:e.saveFilter,statusModal:e.statusModal}},[i("v-row",[i("v-col",{attrs:{cols:"12"}},[i("Select",{attrs:{name:"Filtrar por",defaultSelect:e.defaultFilter.filterTime,list:e.listTime},on:{change:e.changeTime}})],1),i("v-col",{attrs:{cols:"12"}},[i("Select",{attrs:{name:"Filtrar por",defaultSelect:e.defaultFilter.filterBy,list:e.listFilterBy},on:{change:e.changeFilterBy}})],1),"none"===e.typeCompare?i("v-col",{attrs:{cols:"12"}},[i("SelectUsers",{attrs:{all:"",defaultSelect:e.defaultFilter.users},on:{change:e.changeUsers}})],1):e._e(),i("v-col",{attrs:{cols:"12"}},[i("SelectPipeline",{attrs:{defaultSelect:e.defaultFilter.pipeline},on:{change:e.changePipeline}})],1),i("v-col",{attrs:{cols:"12"}},[i("PeriodPredefined",{attrs:{defaultSelect:e.defaultFilter.periodPredefined},on:{change:e.changePeriodPredefined}})],1),e.isPreview?e._e():i("v-col",{attrs:{cols:"12"}},[i("ComparePeriodLines",{attrs:{periodPredefined:e.filters.periodPredefined[0]},on:{change:e.changeComparePeriod}})],1)],1)],1)},d=[],p=i("5530"),c=i("740f"),u=i("d344"),f=i("6321"),h=i("c065"),v=i("e050"),m={name:"LineOpportunitySalesFilter",components:{SelectUsers:c["a"],SelectPipeline:f["a"],Select:u["a"]},mixins:[v["b"]],props:{defaultFilter:{type:Object,default:function(){return{filterBy:"count",filterTime:"WEEKS",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""}}}}},data:function(){return{listTime:h["d"],listFilterBy:h["e"],filters:{filterBy:"count",filterTime:"WEEKS",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""}}}},methods:{saveFilter:function(){this.changeChart({id:"line-opportunitySales",filtersFull:Object(p["a"])(Object(p["a"])({},this.noReactive(this.filters)),{},{periodRange:Object(p["a"])({__typename:"PeriodRange"},this.filters.periodRange)})}),this.isOpenModalFilter=!1}}},g=m,C=i("0c7c"),R=i("6544"),T=i.n(R),y=i("62ad"),P=i("0fd9"),S=Object(C["a"])(g,l,d,!1,null,"5e89f985",null),b=S.exports;T()(S,{VCol:y["a"],VRow:P["a"]});var F=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.isPreview?e._e():i("ListFilters",{attrs:{settings:e.settings}}),i("div",{staticClass:"text-center bgWhite",class:[{"py-5 px-3":!e.isPreview},{showScroll:e.isWithScroll}]},[i("apexchart",{attrs:{height:e.isPreview?250:350,type:"line",options:e.options,series:e.series}})],1)],1)},O=[],w=i("2909"),_=(i("d81d"),i("b680"),i("b0c0"),i("99af"),i("8d7e")),B=i("b3b3"),D={name:"LineOpportunitySalesData",mixins:[v["a"]],props:{defaultFilter:{type:Object,default:function(){return{filterBy:"count",filterTime:"WEEKS",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"]}}}},data:function(){return{compareSalesBySalesmanLinearGraph:{mainDateList:[],mainAverageDateCompareSalesBySalesman:[],secondAverageDateCompareSalesBySalesman:[]},modalSettings:{filterBy:"count",filterTime:"WEEKS",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:[]},settings:{filterBy:"count",filterTime:"WEEKS",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:[]}}},computed:{options:function(){var e,t,i=this;return{chart:{height:this.isPreview?"250":"350",width:this.isWithScroll?"1200":"100%",type:"line",toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1},legend:{position:"top",horizontalAlign:this.isWithScroll?"left":"center",showForSingleSeries:!0},stroke:{width:[5,7,5],curve:"straight",dashArray:[0,8,5]},markers:{size:5,colors:void 0,strokeColors:"#fff",strokeWidth:2,strokeOpacity:.9,strokeDashArray:0,fillOpacity:1,discrete:[],shape:"circle",radius:2,offsetX:0,offsetY:0,onClick:void 0,onDblClick:void 0,showNullDataPoints:!0,hover:{size:void 0,sizeOffset:3}},colors:B["b"],grid:{row:{colors:["#f3f3f3","transparent"],opacity:.5}},xaxis:{categories:null===(e=this.compareSalesBySalesmanLinearGraph)||void 0===e||null===(t=e.mainDateList)||void 0===t?void 0:t.map((function(e){return e.dateString})),title:{text:this.showTitleXaxis},labels:{rotate:this.rotate}},yaxis:{title:{text:this.showTitleYaxis},tickAmount:1,labels:{formatter:function(e){return i.isCount?e.toFixed(0):"".concat(i.formatPrice(e)," ")}}}}},rotate:function(){if(this.isLargeWidth){if(this.isWeeks)return"-90";if(this.isMonths)return"0"}return 0},showTitleXaxis:function(){if(!this.isPreview)return this.isWeeks?"Semanas":"Meses"},showTitleYaxis:function(){if(!this.isPreview)return this.isCount?"Cantidad":"Valor"},series:function(){var e,t,i,r,a,o,n,s,l,d,p,c=this,u=(null===(e=this.compareSalesBySalesmanLinearGraph)||void 0===e||null===(t=e.mainCompareSalesBySalesman)||void 0===t||null===(i=t.compareSalesBySalesman)||void 0===i?void 0:i.map((function(e){var t=e.name,i=e.countList,r=e.sumList;return{name:t,data:c.isCount?c.convertTwoDigits(i):c.convertTwoDigits(r)}})))||[],f=this.dateRangeToCompare&&(null===(r=this.compareSalesBySalesmanLinearGraph)||void 0===r||null===(a=r.secondCompareSalesBySalesman)||void 0===a||null===(o=a.compareSalesBySalesman)||void 0===o?void 0:o.length)>0?null===(n=this.compareSalesBySalesmanLinearGraph)||void 0===n||null===(s=n.secondCompareSalesBySalesman)||void 0===s||null===(l=s.compareSalesBySalesman)||void 0===l?void 0:l.map((function(e){var t=e.name,i=e.countList,r=e.sumList;return{name:"".concat(t," período anterior"),data:c.isCount?c.convertTwoDigits(i):c.convertTwoDigits(r)}})):[],h=[{name:"Promedio",data:this.isCount?this.convertTwoDigits(this.compareSalesBySalesmanLinearGraph.mainAverageDateCompareSalesBySalesman.map((function(e){return e.avgCount}))):this.convertTwoDigits(this.compareSalesBySalesmanLinearGraph.mainAverageDateCompareSalesBySalesman.map((function(e){return e.avgSum})))}],v=(null===(d=this.compareSalesBySalesmanLinearGraph)||void 0===d||null===(p=d.secondAverageDateCompareSalesBySalesman)||void 0===p?void 0:p.length)>0?[{name:"Promedio anterior",data:this.isCount?this.convertTwoDigits(this.compareSalesBySalesmanLinearGraph.secondAverageDateCompareSalesBySalesman.map((function(e){return e.avgCount}))):this.convertTwoDigits(this.compareSalesBySalesmanLinearGraph.secondAverageDateCompareSalesBySalesman.map((function(e){return e.avgSum})))}]:[];return[].concat(h,Object(w["a"])(u),v,Object(w["a"])(f))},filters:function(){var e={dateRange:{dateStart:this.dateStart,dateEnd:this.dateEnd},owners:this.ownersToCompare.length>0?this.ownersToCompare:this.ownersFilter,pipeline:this.pipelineFilter,typePeriod:this.settings.periodPredefined[0],typePeriodDisplay:this.settings.filterTime};return this.dateRangeToCompare&&""!==this.dateRangeToCompare.dateStart&&""!==this.dateRangeToCompare.dateEnd&&(e.dateRangeToCompare=this.dateRangeToCompare),e}},methods:{update:function(){this.$apollo.queries.compareSalesBySalesmanLinearGraph.refetch()}},apollo:{compareSalesBySalesmanLinearGraph:{query:_["i"],fetchPolicy:"no-cache",client:"charts",variables:function(){return{filters:this.filters}},skip:function(){return""===this.dateStart||""===this.dateEnd||!this.pipelineFilter.id||0===this.ownersFilter.length},watchLoading:function(e){this.isLoading=e}}}},M=D,x=(i("5cbc"),Object(C["a"])(M,F,O,!1,null,"794cc8ac",null)),A=x.exports,E={name:"LineOpportunitySalesModal",components:{LineOpportunitySalesFilter:b,LineOpportunitySalesData:A},mixins:[v["c"]],props:{isOpen:{type:Boolean,default:!1},title:{type:String,default:"Sin título"},titleRegular:{type:String,default:""},filters:{type:Object,default:function(){return{filtersConfig:{filterTime:"WEEKS",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownersToCompare:[]},filtersTable:{users:[],pipelines:[],periodRange:{start:"",end:""},dealStatus:""}}}}}},I=E,k=Object(C["a"])(I,n,s,!1,null,"26e27464",null),L=k.exports,j={name:"LineOpportunitySalesPreview",components:{LineOpportunitySalesData:A,LineOpportunitySalesModal:L,LineOpportunitySalesFilter:b},mixins:[v["d"]],props:{defaultPeriod:{type:String,default:"THIS_MONTH"}},data:function(){return{title:"Oportunidades",titleRegular:"de ventas",chartId:"line-opportunitySales",filtersChartsDefault:{},initFilter:{filterBy:"count",filterTime:"MONTHS",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownersToCompare:[],dealStatus:"WON"}}},computed:{filtersConfig:function(){var e,t,i,r,a,o,n,s;return{filterBy:(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.filterBy)||this.initFilter.filterBy,filterTime:(null===(t=this.chart.filtersFull)||void 0===t?void 0:t.filterTime)||this.initFilter.filterTime,users:this.usersGlobal||(null===(i=this.chart.filtersFull)||void 0===i?void 0:i.users)||this.filtersChartsDefault.users,pipeline:(null===(r=this.chart.filtersFull)||void 0===r?void 0:r.pipeline)||this.initPipeline,periodRange:this.periodRangeGlobal||(null===(a=this.chart.filtersFull)||void 0===a?void 0:a.periodRange)||this.periodRange,periodPredefined:this.periodPredefinedGlobal||(null===(o=this.chart.filtersFull)||void 0===o?void 0:o.periodPredefined)||[this.defaultPeriod]||this.initFilter.periodPredefined,periodRangeToCompare:(null===(n=this.chart.filtersFull)||void 0===n?void 0:n.periodRangeToCompare)||this.initFilter.periodRangeToCompare,ownersToCompare:(null===(s=this.chart.filtersFull)||void 0===s?void 0:s.ownersToCompare)||this.initFilter.ownersToCompare}},filtersTable:function(){var e,t=this.getPeriod(this.initFilter.periodPredefined[0]).get(),i=Object(o["a"])(t,2),r=i[0],a=i[1];return{users:this.usersGlobal||this.users||this.filtersChartsDefault.users,pipelines:this.pipelines||this.initPipelines,periodRange:this.periodRangeGlobal||(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.periodRange)||{start:r,end:a},dealStatus:this.initFilter.dealStatus}}}},G=j,H=(i("2695"),Object(C["a"])(G,r,a,!1,null,"76be3dae",null));t["a"]=H.exports},"574b":function(e,t,i){},"57cc":function(e,t,i){"use strict";i("df27")},"57db":function(e,t,i){"use strict";i("9f4f")},"58a7":function(e,t,i){"use strict";var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseCardChart",{attrs:{title:e.title,titleRegular:e.titleRegular,settings:e.filtersConfig},on:{updateRefetch:function(t){e.isRefetch=!0}},scopedSlots:e._u([{key:"modal",fn:function(){return[i("CardIneffectiveActivitiesFilter",{attrs:{defaultFilter:e.filtersConfig,isIcon:"",isPreview:""}})]},proxy:!0}])},[i("div",{staticClass:"hoverClick",on:{click:e.openModal}},[i("CardIneffectiveActivitiesData",{attrs:{defaultFilter:e.filtersConfig,isPreview:"",isRefetch:e.isRefetch},on:{updateRefetch:function(t){e.isRefetch=!1}}})],1),i("CardIneffectiveActivitiesModal",{attrs:{isOpen:e.isOpenModal,filters:{filtersConfig:e.filtersConfig,filtersTable:e.filtersTable},title:e.title,titleRegular:e.titleRegular},on:{close:e.closeModal}})],1)},a=[],o=i("3835"),n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalChart",{attrs:{title:e.title,titleRegular:e.titleRegular,isOpen:e.isOpen},on:{close:e.closeModal},scopedSlots:e._u([{key:"filters",fn:function(){return[i("CardIneffectiveActivitiesFilter",{attrs:{defaultFilter:e.filters.filtersConfig}})]},proxy:!0},{key:"chart",fn:function(){return[i("CardIneffectiveActivitiesData",{attrs:{defaultFilter:e.filters.filtersConfig}})]},proxy:!0},{key:"table",fn:function(){return[i("TableActivities",{attrs:{defaultFilter:e.filters.filtersTable}})]},proxy:!0}])})},s=[],l=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.isPreview?e._e():i("ListFilters",{attrs:{settings:e.settings}}),i("BaseCardNumber",{attrs:{information:{numberMain:""+e.generalConvertionRateFormat,textMain:e.textMain,valueMain:e.valueMain,textMainType:e.textChart,isCompare:!e.isPreview&&e.settings.periodRangeToCompare.period.length>0,numberCompare:""+e.generalConvertionRateCompare,textCompare:e.textCompare,valueCompare:e.valueCompare,numberDifferenceCompare:e.comparePercentage}}}),e.isPreview?e._e():i("CardIneffectiveActivitiesInformation",{attrs:{information:e.ineffectiveActivitiesCard.informationBar,filterBy:e.settings.filterBy}})],1)},d=[],p=(i("b680"),i("99af"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-card",{staticClass:"mt-5",attrs:{flat:""}},[i("v-container",[i("v-row",{staticClass:"justify-center"},[i("v-col",{attrs:{cols:"3"}},[e._l(e.information.usersIneffectiveActivities,(function(t,r){return[i("span",{key:r,staticClass:"d-block"},[i("b",[e._v(e._s(t.name))]),e._v(" : "+e._s(t[e.filterBy])+" ")])]}))],2),e._l(e.information.periodsIneffectiveActivities,(function(t,r){return[i("v-col",{key:r,attrs:{cols:"3"}},[i("span",{staticClass:"d-block"},[i("b",[e._v(e._s(e.rowOne[r]))]),e._v(" : "+e._s(t.count)+" ")])])]}))],2)],1)],1)}),c=[],u={name:"CardIneffectiveActivitiesInformation",props:{information:{type:Object,default:function(){return{}}},filterBy:{type:String,default:"count"}},data:function(){return{rowOne:["Este período","Período pasado","Mismo período el mes anterior"]}}},f=u,h=i("0c7c"),v=i("6544"),m=i.n(v),g=i("b0af"),C=i("62ad"),R=i("a523"),T=i("0fd9"),y=Object(h["a"])(f,p,c,!1,null,null,null),P=y.exports;m()(y,{VCard:g["a"],VCol:C["a"],VContainer:R["a"],VRow:T["a"]});var S=i("8d7e"),b=i("0db6"),F={name:"CardIneffectiveActivitiesData",mixins:[b["a"]],components:{CardIneffectiveActivitiesInformation:P},props:{defaultFilter:{type:Object,default:function(){return{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""}}}},isPreview:{type:Boolean,default:!1}},data:function(){return{ineffectiveActivitiesCard:{},modalSettings:{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:[],periodRangeToCompare:{period:"",start:"",end:""}},settings:{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:[],periodRangeToCompare:{period:"",start:"",end:""}}}},computed:{comparePercentage:function(){return"0"===this.generalConvertionRateCompare?"100":(100*this.generalConvertionRateFormat/this.generalConvertionRateCompare-100).toFixed(2)},generalConvertionRateFormat:function(){var e,t,i;return this.ineffectiveActivitiesCard&&void 0!==(null===(e=this.ineffectiveActivitiesCard)||void 0===e||null===(t=e.mainIneffectiveActivities)||void 0===t?void 0:t.count)&&(null===(i=this.ineffectiveActivitiesCard)||void 0===i?void 0:i.mainIneffectiveActivities.count)||"0"},generalConvertionRateCompare:function(){var e,t,i;return this.ineffectiveActivitiesCard&&void 0!==(null===(e=this.ineffectiveActivitiesCard)||void 0===e||null===(t=e.secondIneffectiveActivities)||void 0===t?void 0:t.count)&&(null===(i=this.ineffectiveActivitiesCard)||void 0===i?void 0:i.secondIneffectiveActivities.count)||"0"},textCompare:function(){return"PREVIOUS_PERIOD"===this.settings.periodRangeToCompare.period?this.settings.periodPredefined[3]:"PREVIOUS_YEAR"===this.settings.periodRangeToCompare.period?"Año anterior":"CUSTOM"===this.settings.periodRangeToCompare.period?"Personalizado":""},valueCompare:function(){return this.isPreview||"CUSTOM"!==this.settings.periodRangeToCompare.period?"":"".concat(this.formatDate(this.filters.dateRangeToCompare.dateStart)," - ").concat(this.formatDate(this.filters.dateRangeToCompare.dateEnd))},textMain:function(){return this.isPreview?"":this.settings.periodPredefined[2]},valueMain:function(){return!this.isPreview&&this.settings.periodPredefined.length>0&&"CUSTOM"===this.settings.periodPredefined[0]?"".concat(this.formatDate(this.filters.dateRange.dateStart)," - ").concat(this.formatDate(this.filters.dateRange.dateEnd)):""},filters:function(){var e={dateRange:{dateStart:this.dateStart,dateEnd:this.dateEnd},owners:this.ownersFilter,pipeline:this.pipelineFilter};return this.dateRangeToCompare&&""!==this.dateRangeToCompare.dateStart&&""!==this.dateRangeToCompare.dateEnd&&(e.dateRangeToCompare=this.dateRangeToCompare),e}},methods:{update:function(){this.$apollo.queries.ineffectiveActivitiesCard.refetch()}},apollo:{ineffectiveActivitiesCard:{query:S["q"],fetchPolicy:"no-cache",client:"charts",variables:function(){return{filters:this.filters}},skip:function(){return""===this.dateStart||""===this.dateEnd||!this.pipelineFilter.id||0===this.ownersFilter.length},loadingKey:"isLoading"}}},O=F,w=Object(h["a"])(O,l,d,!1,null,"4537b388",null),_=w.exports,B=i("157d"),D=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalFilters",{attrs:{isOpen:e.isOpenModalFilter,isIcon:e.isIcon},on:{save:e.saveFilter,statusModal:e.statusModal}},[i("v-row",[i("v-col",{attrs:{cols:"12"}},[i("SelectUsers",{attrs:{all:"",defaultSelect:e.defaultFilter.users},on:{change:e.changeUsers}})],1),i("v-col",{attrs:{cols:"12"}},[i("SelectPipeline",{attrs:{defaultSelect:e.defaultFilter.pipeline},on:{change:e.changePipeline}})],1),i("v-col",{attrs:{cols:"12"}},[i("PeriodPredefined",{attrs:{defaultSelect:e.defaultFilter.periodPredefined},on:{change:e.changePeriodPredefined}})],1),e.isPreview?e._e():i("v-col",{attrs:{cols:"12"}},[i("ComparePeriod",{attrs:{periodPredefined:e.filters.periodPredefined[0]},on:{change:e.changeComparePeriod}})],1)],1)],1)},M=[],x=i("5530"),A=i("740f"),E=i("6321"),I={name:"CardIneffectiveActivitiesFilter",components:{SelectUsers:A["a"],SelectPipeline:E["a"]},mixins:[b["b"]],props:{defaultFilter:{type:Object,default:function(){return{users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""}}}},isIcon:{type:Boolean,default:!1},isPreview:{type:Boolean,default:!1}},data:function(){return{filters:{users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""}}}},methods:{changeComparePeriod:function(e){var t=e.isCompare,i=e.periodCompare;if(t){if(i&&(this.filters.periodRangeToCompare.period=i.periodSelected,i.periodRange.length>0)){var r=Object(o["a"])(i.periodRange,2);this.filters.periodRangeToCompare.start=r[0],this.filters.periodRangeToCompare.end=r[1]}}else this.filters.periodRangeToCompare.period="",this.filters.periodRangeToCompare.start="",this.filters.periodRangeToCompare.end=""},saveFilter:function(){this.changeChart({id:"card-ineffectiveActivities",filtersFull:Object(x["a"])(Object(x["a"])({},this.noReactive(this.filters)),{},{periodRange:Object(x["a"])({__typename:"PeriodRange"},this.filters.periodRange)})}),this.isOpenModalFilter=!1}}},k=I,L=Object(h["a"])(k,D,M,!1,null,"dee32992",null),j=L.exports;m()(L,{VCol:C["a"],VRow:T["a"]});var G={name:"CardIneffectiveActivitiesModal",components:{CardIneffectiveActivitiesData:_,CardIneffectiveActivitiesFilter:j,TableActivities:B["a"]},mixins:[b["c"]],props:{isOpen:{type:Boolean,default:!1},title:{type:String,default:"Sin título"},titleRegular:{type:String,default:""},filters:{type:Object,default:function(){return{filtersConfig:{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""}},filtersTable:{users:[],pipelines:[],periodRange:{start:"",end:""},dealStatus:"",stages:[],activityTypes:[],fromReportStatus:"ACTIVITIESBYSTAGE"}}}}}},H=G,V=Object(h["a"])(H,n,s,!1,null,"35f67611",null),N=V.exports,U={name:"CardIneffectiveActivitiesPreview",components:{CardIneffectiveActivitiesData:_,CardIneffectiveActivitiesModal:N,CardIneffectiveActivitiesFilter:j},mixins:[b["d"]],props:{defaultPeriod:{type:String,default:"THIS_MONTH"}},data:function(){return{title:"Actividades",titleRegular:"inefectivas",isOpenModal:!1,chartId:"card-ineffectiveActivities",filtersChartsDefault:{},initFilter:{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""},activitiesFilter:"INEFFECTIVE",activityTypes:[],fromReportStatus:"ACTIVITIES_CARD"}}},computed:{filtersConfig:function(){var e,t,i,r,a,o;return{filterBy:(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.filterBy)||this.initFilter.filterBy,users:this.usersGlobal||(null===(t=this.chart.filtersFull)||void 0===t?void 0:t.users)||this.initUsers,pipeline:(null===(i=this.chart.filtersFull)||void 0===i?void 0:i.pipeline)||this.initPipeline,periodRange:this.periodRangeGlobal||(null===(r=this.chart.filtersFull)||void 0===r?void 0:r.periodRange)||this.periodRange,periodPredefined:this.periodPredefinedGlobal||(null===(a=this.chart.filtersFull)||void 0===a?void 0:a.periodPredefined)||[this.defaultPeriod]||this.initFilter.periodPredefined,periodRangeToCompare:(null===(o=this.chart.filtersFull)||void 0===o?void 0:o.periodRangeToCompare)||this.initFilter.periodRangeToCompare}},filtersTable:function(){var e,t=this.getPeriod(this.initFilter.periodPredefined[0]).get(),i=Object(o["a"])(t,2),r=i[0],a=i[1];return{users:this.usersGlobal||this.users||this.initUsers,pipelines:this.pipelines||[this.initPipeline],periodRange:this.periodRangeGlobal||(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.periodRange)||{start:r,end:a},activitiesStatus:this.initFilter.activitiesFilter,activityTypes:this.filtersChartsDefault.activityTypes||this.initFilter.activityTypes,fromReportStatus:this.initFilter.fromReportStatus}}}},W=U,$=(i("804c"),Object(h["a"])(W,r,a,!1,null,"e6e8141e",null));t["a"]=$.exports},"591a":function(e,t,i){"use strict";i("2eee")},"5b21":function(e,t,i){},"5ba8":function(e,t,i){},"5cb2":function(e,t,i){"use strict";i("92c9")},"5cbc":function(e,t,i){"use strict";i("504f")},"5cf0":function(e,t,i){"use strict";var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseCardChart",{attrs:{title:e.title,titleRegular:e.titleRegular,settings:e.filtersConfig},on:{updateRefetch:function(t){e.isRefetch=!0}},scopedSlots:e._u([{key:"modal",fn:function(){return[i("CardOpportunitySaleFilter",{attrs:{defaultFilter:e.filtersConfig,isIcon:"",isPreview:""}})]},proxy:!0}])},[i("div",{staticClass:"hoverClick",on:{click:e.openModal}},[i("CardOpportunitySaleData",{attrs:{defaultFilter:e.filtersConfig,isPreview:"",isRefetch:e.isRefetch},on:{updateRefetch:function(t){e.isRefetch=!1}}})],1),i("CardOpportunitySaleModal",{attrs:{isOpen:e.isOpenModal,filters:{filtersConfig:e.filtersConfig,filtersTable:e.filtersTable},title:e.title,titleRegular:e.titleRegular},on:{close:e.closeModal}})],1)},a=[],o=i("3835"),n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalChart",{attrs:{title:e.title,titleRegular:e.titleRegular,isOpen:e.isOpen},on:{close:e.closeModal},scopedSlots:e._u([{key:"filters",fn:function(){return[i("CardOpportunitySaleFilter",{attrs:{defaultFilter:e.filters.filtersConfig}})]},proxy:!0},{key:"chart",fn:function(){return[i("CardOpportunitySaleData",{attrs:{defaultFilter:e.filters.filtersConfig}})]},proxy:!0},{key:"table",fn:function(){return[i("TableDeals",{attrs:{defaultFilter:e.filters.filtersTable}})]},proxy:!0}])})},s=[],l=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.isPreview?e._e():i("ListFilters",{attrs:{settings:e.settings}}),i("BaseCardNumber",{attrs:{information:{numberMain:""+e.generalConvertionRateFormat,textMain:e.textMain,valueMain:e.valueMain,textMainType:e.textChart,isCompare:!e.isPreview&&(e.settings.periodRangeToCompare.period.length>0||e.isCompareUser),numberCompare:""+e.generalConvertionRateCompare,textCompare:e.textCompare,valueCompare:e.valueCompare,numberDifferenceCompare:e.comparePercentage}}}),e.isPreview?e._e():i("CardOpportunitySaleInformation",{attrs:{information:e.opportunitySaleCard.informationBar,filterBy:e.settings.filterBy}})],1)},d=[],p=(i("b680"),i("b0c0"),i("99af"),i("8d7e")),c=i("0db6"),u=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-card",{staticClass:"mt-5",attrs:{flat:""}},[i("v-container",[i("v-row",{staticClass:"justify-center"},[i("v-col",{attrs:{cols:"3"}},[e._l(e.information.usersOpportunitySales,(function(t,r){return[i("span",{key:r,staticClass:"d-block"},[i("b",[e._v(e._s(t.name))]),e._v(" : "+e._s("sum"===e.filterBy?"$"+t[e.filterBy].toFixed(2):t[e.filterBy])+" ")])]}))],2),i("v-col",{attrs:{cols:"9"}},[i("v-row",[i("v-col",e._l(e.getInfo.firstColumn,(function(t,r){return i("span",{key:r,staticClass:"d-block"},[i("b",[e._v(e._s(e.columnOne[r]))]),e._v(" : "+e._s(t)+" ")])})),0),i("v-col",e._l(e.getInfo.secondColumn,(function(t,r){return i("span",{key:r,staticClass:"d-block"},[i("b",[e._v(e._s(e.columnTwo[r]))]),e._v(" : $"+e._s(t)+" ")])})),0),i("v-col",e._l(e.getInfo.thirdColumn,(function(t,r){return i("span",{key:r,staticClass:"d-block"},[i("b",[e._v(e._s(e.columnThree[r]))]),e._v(" : $"+e._s(t)+" ")])})),0)],1)],1)],1)],1)],1)},f=[],h=(i("d81d"),{name:"CardOpportunitySaleInformation",props:{information:{type:Object,default:function(){return{usersOpportunitySales:[],periodsOpportunitySales:[]}}},filterBy:{type:String,default:"count"}},data:function(){return{columnOne:["Este período","Período pasado","Mismo período el mes anterior"],columnTwo:["Ingresos este período","Ingresos período pasado","Ingresos mismo período el mes anterior"],columnThree:["Ingresos totales este período","Ingresos totales período pasado","Ingresos totales mismo período el mes anterior"]}},computed:{getInfo:function(){var e=this.information.periodsOpportunitySales.map((function(e){return e.count})),t=this.information.periodsOpportunitySales.map((function(e){return e.sum})),i=this.information.periodsOpportunitySales.map((function(e){return e.totalSum}));return{firstColumn:e,secondColumn:t,thirdColumn:i}}}}),v=h,m=i("0c7c"),g=i("6544"),C=i.n(g),R=i("b0af"),T=i("62ad"),y=i("a523"),P=i("0fd9"),S=Object(m["a"])(v,u,f,!1,null,null,null),b=S.exports;C()(S,{VCard:R["a"],VCol:T["a"],VContainer:y["a"],VRow:P["a"]});var F={name:"CardOpportunitySaleData",mixins:[c["a"]],components:{CardOpportunitySaleInformation:b},props:{defaultFilter:{type:Object,default:function(){return{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{id:""}}}},isPreview:{type:Boolean,default:!1}},data:function(){return{opportunitySaleCard:{},modalSettings:{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:[],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{id:""}},settings:{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:[],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{id:""}}}},computed:{isCompareUser:function(){var e,t,i,r,a,o;return(null===(e=this.opportunitySaleCard)||void 0===e||null===(t=e.mainOpportunitySales)||void 0===t?void 0:t.id)!==(null===(i=this.opportunitySaleCard)||void 0===i||null===(r=i.secondOpportunitySales)||void 0===r?void 0:r.id)&&""!==(null===(a=this.settings)||void 0===a||null===(o=a.ownerToCompare)||void 0===o?void 0:o.id)},comparePercentage:function(){return"0"===this.generalConvertionRateCompare?"0.00":(100*this.generalConvertionRateFormat/this.generalConvertionRateCompare-100).toFixed(2)},generalConvertionRateFormat:function(){var e,t,i,r;if(this.opportunitySaleCard&&void 0!==(null===(e=this.opportunitySaleCard)||void 0===e||null===(t=e.mainOpportunitySales)||void 0===t?void 0:t.count)&&void 0!==(null===(i=this.opportunitySaleCard)||void 0===i||null===(r=i.mainOpportunitySales)||void 0===r?void 0:r.sum)){var a,o;if("count"===this.settings.filterBy)return(null===(a=this.opportunitySaleCard)||void 0===a?void 0:a.mainOpportunitySales.count)||"0";if("sum"===this.settings.filterBy)return"$".concat(null===(o=this.opportunitySaleCard)||void 0===o?void 0:o.mainOpportunitySales.sum)||!1}return"0"},generalConvertionRateCompare:function(){var e,t,i,r;if(this.opportunitySaleCard&&void 0!==(null===(e=this.opportunitySaleCard)||void 0===e||null===(t=e.secondOpportunitySales)||void 0===t?void 0:t.count)&&void 0!==(null===(i=this.opportunitySaleCard)||void 0===i||null===(r=i.secondOpportunitySales)||void 0===r?void 0:r.sum)){var a,o=null===(a=this.opportunitySaleCard)||void 0===a?void 0:a.secondOpportunitySales[this.settings.filterBy];return o||"0"}return"0"},textCompare:function(){return"PREVIOUS_PERIOD"===this.settings.periodRangeToCompare.period?this.settings.periodPredefined[3]:"PREVIOUS_YEAR"===this.settings.periodRangeToCompare.period?"Año anterior":"CUSTOM"===this.settings.periodRangeToCompare.period?"Personalizado":""},valueCompare:function(){if(!this.isPreview){var e,t;if(this.isCompareUser)return null===(e=this.opportunitySaleCard)||void 0===e||null===(t=e.secondOpportunitySales)||void 0===t?void 0:t.name;if("CUSTOM"===this.settings.periodRangeToCompare.period)return"".concat(this.formatDate(this.filters.dateRangeToCompare.dateStart)," - ").concat(this.formatDate(this.filters.dateRangeToCompare.dateEnd))}return""},textMain:function(){return this.isPreview?"":(this.isCompareUser,this.settings.periodPredefined[2])},valueMain:function(){if(!this.isPreview){var e,t;if(this.isCompareUser)return null===(e=this.opportunitySaleCard)||void 0===e||null===(t=e.mainmainOpportunitySalesLostDeals)||void 0===t?void 0:t.name;if(this.settings.periodPredefined.length>0&&"CUSTOM"===this.settings.periodPredefined[0])return"".concat(this.formatDate(this.filters.dateRange.dateStart)," - ").concat(this.formatDate(this.filters.dateRange.dateEnd))}return""},filters:function(){var e={dateRange:{dateStart:this.dateStart,dateEnd:this.dateEnd},owners:this.ownersFilter,pipeline:this.pipelineFilter};return this.ownerToCompare&&""!==this.ownerToCompare.id&&(e.ownerToCompare=this.ownerToCompare),this.dateRangeToCompare&&""!==this.dateRangeToCompare.dateStart&&""!==this.dateRangeToCompare.dateEnd&&(e.dateRangeToCompare=this.dateRangeToCompare),e}},methods:{update:function(){this.$apollo.queries.opportunitySaleCard.refetch()}},apollo:{opportunitySaleCard:{query:p["A"],fetchPolicy:"no-cache",client:"charts",variables:function(){return{filters:this.filters}},skip:function(){return""===this.dateStart||""===this.dateEnd||!this.pipelineFilter.id||0===this.ownersFilter.length},loadingKey:"isLoading"}}},O=F,w=Object(m["a"])(O,l,d,!1,null,"048acc72",null),_=w.exports,B=i("8b70"),D=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalFilters",{attrs:{isOpen:e.isOpenModalFilter,isIcon:e.isIcon},on:{save:e.saveFilter,statusModal:e.statusModal}},[i("v-row",[i("v-col",{attrs:{cols:"12"}},[i("Select",{attrs:{name:"Filtrar por",defaultSelect:e.defaultFilter.filterBy,list:e.listFilterBy},on:{change:e.changeFilterBy}})],1),i("v-col",{attrs:{cols:"12"}},[i("SelectUsers",{attrs:{all:"",defaultSelect:e.defaultFilter.users},on:{change:e.changeUsers}})],1),i("v-col",{attrs:{cols:"12"}},[i("SelectPipeline",{attrs:{defaultSelect:e.defaultFilter.pipeline},on:{change:e.changePipeline}})],1),i("v-col",{attrs:{cols:"12"}},[i("PeriodPredefined",{attrs:{defaultSelect:e.defaultFilter.periodPredefined},on:{change:e.changePeriodPredefined}})],1),e.isPreview?e._e():i("v-col",{attrs:{cols:"12"}},[i("ComparePeriod",{attrs:{periodPredefined:e.filters.periodPredefined[0]},on:{change:e.changeComparePeriod}})],1)],1)],1)},M=[],x=i("5530"),A=i("740f"),E=i("d344"),I=i("6321"),k=i("c065"),L={name:"CardOpportunitySaleFilter",components:{SelectUsers:A["a"],SelectPipeline:I["a"],Select:E["a"]},mixins:[c["b"]],props:{defaultFilter:{type:Object,default:function(){return{filterBy:"count",filterTime:"WEEKS",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{id:""}}}},isIcon:{type:Boolean,default:!1},isPreview:{type:Boolean,default:!1}},data:function(){return{listTime:k["d"],listFilterBy:k["e"],filters:{filterBy:"count",filterTime:"WEEKS",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{id:""}}}},methods:{changeComparePeriod:function(e){var t=e.isCompare,i=e.periodCompare,r=e.ownerCompare;if(t){if(r&&r.id&&(this.filters.ownerToCompare.id=r.id,this.filters.periodRangeToCompare.period="",this.filters.periodRangeToCompare.start="",this.filters.periodRangeToCompare.end=""),i){if(this.filters.periodRangeToCompare.period=i.periodSelected,i.periodRange.length>0){var a=Object(o["a"])(i.periodRange,2);this.filters.periodRangeToCompare.start=a[0],this.filters.periodRangeToCompare.end=a[1]}this.filters.ownerToCompare.id=""}}else this.filters.periodRangeToCompare.period="",this.filters.periodRangeToCompare.start="",this.filters.periodRangeToCompare.end="",this.filters.ownerToCompare.id=""},saveFilter:function(){this.changeChart({id:"card-opportunitySales",filtersFull:Object(x["a"])(Object(x["a"])({},this.noReactive(this.filters)),{},{periodRange:Object(x["a"])({__typename:"PeriodRange"},this.filters.periodRange),ownerToCompare:Object(x["a"])({__typename:"OwnerToCompare"},this.filters.ownerToCompare)})}),this.isOpenModalFilter=!1}}},j=L,G=Object(m["a"])(j,D,M,!1,null,"b4c192c0",null),H=G.exports;C()(G,{VCol:T["a"],VRow:P["a"]});var V={name:"CardOpportunitySaleModal",components:{CardOpportunitySaleData:_,TableDeals:B["a"],CardOpportunitySaleFilter:H},mixins:[c["c"]],props:{isOpen:{type:Boolean,default:!1},title:{type:String,default:"Sin título"},titleRegular:{type:String,default:""},filters:{type:Object,default:function(){return{filtersConfig:{filterBy:"count",user:{},pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{id:""}},filtersTable:{users:[],pipelines:[],periodRange:{start:"",end:""},dealStatus:""}}}}}},N=V,U=Object(m["a"])(N,n,s,!1,null,"1d7013f1",null),W=U.exports,$={name:"CardOpportunitySalePreview",components:{CardOpportunitySaleData:_,CardOpportunitySaleModal:W,CardOpportunitySaleFilter:H},mixins:[c["d"]],props:{defaultPeriod:{type:String,default:"THIS_MONTH"}},data:function(){return{chartId:"card-opportunitySales",isOpenModal:!1,filtersChartsDefault:{},title:"Oportunidades",titleRegular:"de ventas",initFilter:{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{id:""},dealStatus:"ALL"}}},computed:{filtersConfig:function(){var e,t,i,r,a,o,n,s,l,d,p,c,u;return{filterBy:(null===(e=this.chart)||void 0===e||null===(t=e.filtersFull)||void 0===t?void 0:t.filterBy)||this.initFilter.filterBy,users:this.usersGlobal||(null===(i=this.chart.filtersFull)||void 0===i?void 0:i.users)||this.initUsers,pipeline:(null===(r=this.chart)||void 0===r||null===(a=r.filtersFull)||void 0===a?void 0:a.pipeline)||this.initPipeline,periodRange:this.periodRangeGlobal||(null===(o=this.chart)||void 0===o||null===(n=o.filtersFull)||void 0===n?void 0:n.periodRange)||this.periodRange,periodPredefined:this.periodPredefinedGlobal||(null===(s=this.chart)||void 0===s||null===(l=s.filtersFull)||void 0===l?void 0:l.periodPredefined)||[this.defaultPeriod]||this.initFilter.periodPredefined,periodRangeToCompare:(null===(d=this.chart)||void 0===d||null===(p=d.filtersFull)||void 0===p?void 0:p.periodRangeToCompare)||this.initFilter.periodRangeToCompare,ownerToCompare:(null===(c=this.chart)||void 0===c||null===(u=c.filtersFull)||void 0===u?void 0:u.ownerToCompare)||this.initFilter.ownerToCompare}},filtersTable:function(){var e,t,i=this.getPeriod(this.initFilter.periodPredefined[0]).get(),r=Object(o["a"])(i,2),a=r[0],n=r[1];return{users:this.usersGlobal||this.users||this.initUsers,pipelines:this.pipelines||this.filtersChartsDefault.pipelines,periodRange:this.periodRangeGlobal||(null===(e=this.chart)||void 0===e||null===(t=e.filtersFull)||void 0===t?void 0:t.periodRange)||{start:a,end:n},dealStatus:this.initFilter.dealStatus}}}},z=$,q=(i("94a1"),Object(m["a"])(z,r,a,!1,null,"20b52419",null));t["a"]=q.exports},"5d7c":function(e,t,i){"use strict";i("9d7f")},"5f74":function(e,t,i){},6533:function(e,t,i){"use strict";i("a15d")},"65ac":function(e,t,i){},6748:function(e,t,i){"use strict";i("d3a1")},6854:function(e,t,i){"use strict";var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseCardChart",{attrs:{title:e.title,titleRegular:e.titleRegular,settings:e.filtersConfig,isChart:""},on:{updateRefetch:function(t){e.isRefetch=!0}},scopedSlots:e._u([{key:"modal",fn:function(){return[i("LineSalesGrowthMonthlyFilter",{attrs:{defaultFilter:e.filtersConfig,isIcon:"",isPreview:""}})]},proxy:!0}])},[i("div",{staticClass:"hoverClick",on:{click:e.openModal}},[i("LineSalesGrowthMonthlyData",{attrs:{defaultFilter:e.filtersConfig,isPreview:"",isRefetch:e.isRefetch},on:{updateRefetch:function(t){e.isRefetch=!1}}})],1),i("LineSalesGrowthMonthlyModal",{attrs:{isOpen:e.isOpenModal,filters:{filtersConfig:e.filtersConfig,filtersTable:e.filtersTable},title:e.title,titleRegular:e.titleRegular},on:{close:e.closeModal}})],1)},a=[],o=i("3835"),n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalChart",{attrs:{title:e.title,titleRegular:e.titleRegular,isOpen:e.isOpen},on:{close:e.closeModal},scopedSlots:e._u([{key:"filters",fn:function(){return[i("LineSalesGrowthMonthlyFilter",{attrs:{defaultFilter:e.filters.filtersConfig}})]},proxy:!0},{key:"chart",fn:function(){return[i("LineSalesGrowthMonthlyData",{attrs:{defaultFilter:e.filters.filtersConfig,isFull:""}})]},proxy:!0},{key:"table",fn:function(){return[i("TableDeals",{attrs:{defaultFilter:e.filters.filtersTable}})]},proxy:!0}])})},s=[],l=i("52e2"),d=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalFilters",{attrs:{isOpen:e.isOpenModalFilter,isIcon:e.isIcon},on:{save:e.saveFilter,statusModal:e.statusModal}},[i("v-row",[i("v-col",{attrs:{cols:"12"}},[i("Select",{attrs:{name:"Filtrar por",defaultSelect:e.defaultFilter.filterTime,list:e.listTime},on:{change:e.changeTime}})],1),i("v-col",{attrs:{cols:"12"}},[i("Select",{attrs:{name:"Filtrar por",defaultSelect:e.defaultFilter.filterBy,list:e.listFilterBy},on:{change:e.changeFilterBy}})],1),i("v-col",{attrs:{cols:"12"}},[i("SelectUsers",{attrs:{all:"",defaultSelect:e.defaultFilter.users},on:{change:e.changeUsers}})],1),i("v-col",{attrs:{cols:"12"}},[i("SelectPipeline",{attrs:{defaultSelect:e.defaultFilter.pipeline},on:{change:e.changePipeline}})],1),i("v-col",{attrs:{cols:"12"}},[i("PeriodPredefined",{attrs:{defaultSelect:e.defaultFilter.periodPredefined},on:{change:e.changePeriodPredefined}})],1),e.isPreview?e._e():i("v-col",{attrs:{cols:"12"}},[i("ComparePeriodBars",{attrs:{periodPredefined:e.filters.periodPredefined[0]},on:{change:e.changeComparePeriod}})],1)],1)],1)},p=[],c=i("5530"),u=i("740f"),f=i("d344"),h=i("6321"),v=i("c065"),m=i("e050"),g={name:"LineSalesGrowthMonthlyFilter",components:{SelectUsers:u["a"],SelectPipeline:h["a"],Select:f["a"]},mixins:[m["b"]],props:{defaultFilter:{type:Object,default:function(){return{filterBy:"count",filterTimep:"MONTHS",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{},typeCompare:"none"}}}},data:function(){return{listTime:v["d"],listFilterBy:v["e"],filters:{filterBy:"count",filterTimep:"MONTHS",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{},typeCompare:"none"}}},methods:{saveFilter:function(){this.changeChart({id:"line-salesGrowthMonthly",filtersFull:Object(c["a"])(Object(c["a"])({},this.noReactive(this.filters)),{},{periodRange:Object(c["a"])({__typename:"PeriodRange"},this.filters.periodRange),ownerToCompare:Object(c["a"])({},this.filters.ownerToCompare)})}),this.isOpenModalFilter=!1}}},C=g,R=i("0c7c"),T=i("6544"),y=i.n(T),P=i("62ad"),S=i("0fd9"),b=Object(R["a"])(C,d,p,!1,null,"409e8960",null),F=b.exports;y()(b,{VCol:P["a"],VRow:S["a"]});var O=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.isPreview?e._e():i("ListFilters",{attrs:{settings:e.settings}}),i("div",{staticClass:"text-center bgWhite",class:[{"py-5 px-3":!e.isPreview},{showScroll:e.isWithScroll}]},[i("apexchart",{attrs:{height:e.isPreview?250:350,type:"line",options:e.options,series:e.series}})],1)],1)},w=[],_=i("2909"),B=(i("d81d"),i("b0c0"),i("99af"),i("b680"),i("8d7e")),D=i("b3b3"),M={name:"LineSalesGrowthMonthlyData",mixins:[l["a"]],props:{defaultFilter:{type:Object,default:function(){return{filterBy:"count",filterTimep:"MONTHS",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],typeCompare:"none"}}}},data:function(){return{listFilterBy:v["e"],salesGrowthMonthByMonthLinearGraph:{mainDateList:[],secondDateList:[],mainGrowthMonthByMonth:[],secondGrowthMonthByMonth:[],mainAverageGrowthMonthByMonth:[],secondAverageGrowthMonthByMonth:[]},modalSettings:{filterBy:"count",filterTimep:"MONTHS",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],typeCompare:"none"},settings:{filterBy:"count",filterTimep:"MONTHS",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],typeCompare:"none"}}},computed:{options:function(){return this.formatOptions(this.salesGrowthMonthByMonthLinearGraph.mainDateList.map((function(e){return e.dateString})))},series:function(){var e,t,i,r,a,o,n,s,l,d,p,c=this,u=(null===(e=this.salesGrowthMonthByMonthLinearGraph)||void 0===e||null===(t=e.mainGrowthMonthByMonth)||void 0===t||null===(i=t.growthMonthByMonth)||void 0===i?void 0:i.map((function(e){var t=e.name,i=e.countList,r=e.sumList;return{name:t,data:c.isCount?c.convertTwoDigits(i):c.convertTwoDigits(r)}})))||[],f=this.dateRangeToCompare&&(null===(r=this.salesGrowthMonthByMonthLinearGraph)||void 0===r||null===(a=r.secondGrowthMonthByMonth)||void 0===a||null===(o=a.growthMonthByMonth)||void 0===o?void 0:o.length)>0?null===(n=this.salesGrowthMonthByMonthLinearGraph)||void 0===n||null===(s=n.secondGrowthMonthByMonth)||void 0===s||null===(l=s.growthMonthByMonth)||void 0===l?void 0:l.map((function(e){var t=e.name,i=e.countList,r=e.sumList;return{name:"".concat(t," período anterior"),data:c.isCount?c.convertTwoDigits(i):c.convertTwoDigits(r)}})):[],h=[{name:"Promedio",data:this.isCount?this.convertTwoDigits(this.salesGrowthMonthByMonthLinearGraph.mainAverageGrowthMonthByMonth.map((function(e){return e.avgCount}))):this.convertTwoDigits(this.salesGrowthMonthByMonthLinearGraph.mainAverageGrowthMonthByMonth.map((function(e){return e.avgSum})))}],v=(null===(d=this.salesGrowthMonthByMonthLinearGraph)||void 0===d||null===(p=d.secondAverageGrowthMonthByMonth)||void 0===p?void 0:p.length)>0?[{name:"Promedio anterior",data:this.isCount?this.convertTwoDigits(this.salesGrowthMonthByMonthLinearGraph.secondAverageGrowthMonthByMonth.map((function(e){return e.avgCount}))):this.convertTwoDigits(this.salesGrowthMonthByMonthLinearGraph.secondAverageGrowthMonthByMonth.map((function(e){return e.avgSum})))}]:[];return[].concat(h,Object(_["a"])(u),v,Object(_["a"])(f))},showTitleXaxis:function(){if(!this.isPreview)return this.isWeeks?"Semanas":"Meses"},showTitleYaxis:function(){if(!this.isPreview)return this.isCount?"Cantidad de tratos":"Valor de tratos"},isWithScroll:function(){return this.isLargeWidth&&this.isPreview},filters:function(){var e={dateRange:{dateStart:this.dateStart,dateEnd:this.dateEnd},owners:this.ownersFilter,pipeline:this.pipelineFilter,typePeriodDisplay:this.settings.filterTime};return this.ownerToCompare&&(e.ownerToCompare=this.ownerToCompare),this.dateRangeToCompare&&""!==this.dateRangeToCompare.dateStart&&""!==this.dateRangeToCompare.dateEnd&&(e.dateRangeToCompare=this.dateRangeToCompare),e}},methods:{formatOptions:function(e){var t;return e&&(t=e),{chart:{type:"line",height:this.isPreview?"250":"350",width:this.isWithScroll?"600":"100%",toolbar:{show:!1},zoom:{enabled:!1}},markers:{size:5,colors:void 0,strokeColors:"#fff",strokeWidth:2,strokeOpacity:.9,strokeDashArray:0,fillOpacity:1,discrete:[],shape:"circle",radius:2,offsetX:0,offsetY:0,onClick:void 0,onDblClick:void 0,showNullDataPoints:!0,hover:{size:void 0,sizeOffset:3}},colors:D["b"],grid:{row:{colors:["#f3f3f3","transparent"],opacity:.5}},stroke:{width:[5,7,5],curve:"straight",dashArray:[0,8,5]},dataLabels:{enabled:!1},legend:{position:"top",horizontalAlign:this.isWithScroll?"left":"center",showForSingleSeries:!0},xaxis:{categories:t,title:{text:this.showTitleXaxis}},yaxis:{labels:{formatter:function(e){return"".concat(e.toFixed(2),"%")}},title:{text:this.showTitleYaxis}}}},formatSeries:function(e){var t=this;return e&&e.length?e.map((function(e,i){return{name:"date"===t.settings.typeCompare&&1===i?"".concat(e.name," anterior"):e.name,data:t.isCount?Object(_["a"])(e.countList):Object(_["a"])(e.sumList)}})):[]},update:function(){this.$apollo.queries.salesGrowthMonthByMonthLinearGraph.refetch()}},apollo:{salesGrowthMonthByMonthLinearGraph:{query:B["J"],fetchPolicy:"no-cache",client:"charts",variables:function(){return{filters:this.filters}},skip:function(){return""===this.dateStart||""===this.dateEnd||!this.pipelineFilter.id||0===this.ownersFilter.length},watchLoading:function(e){this.isLoading=e}}}},x=M,A=(i("e8b6"),Object(R["a"])(x,O,w,!1,null,"51ac5432",null)),E=A.exports,I=i("8b70"),k={name:"LineSalesGrowthMonthlyModal",components:{LineSalesGrowthMonthlyFilter:F,LineSalesGrowthMonthlyData:E,TableDeals:I["a"]},mixins:[l["c"]],props:{filters:{type:Object,default:function(){return{filtersConfig:{filterBy:"count",filterTimep:"MONTHS",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{},typeCompare:"none"},filtersTable:{users:[],pipelines:[],periodRange:{start:"",end:""},dealStatus:""}}}}}},L=k,j=Object(R["a"])(L,n,s,!1,null,"63383482",null),G=j.exports,H={name:"LineSalesGrowthMonthlyPreview",components:{LineSalesGrowthMonthlyData:E,LineSalesGrowthMonthlyModal:G,LineSalesGrowthMonthlyFilter:F},mixins:[m["d"]],props:{defaultPeriod:{type:String,default:"THIS_MONTH"}},data:function(){return{chartId:"line-salesGrowthMonthly",title:"Crecimiento",titleRegular:"mensual",filtersChartsDefault:{},initFilter:{filterBy:"count",filterTime:"MONTHS",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{},dealStatus:"WON",typeCompare:"none"}}},computed:{filtersConfig:function(){var e,t,i,r,a,o,n,s,l;return{filterBy:(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.filterBy)||this.initFilter.filterBy,filterTime:(null===(t=this.chart.filtersFull)||void 0===t?void 0:t.filterTime)||this.initFilter.filterTime,users:this.usersGlobal||(null===(i=this.chart.filtersFull)||void 0===i?void 0:i.users)||this.filtersChartsDefault.users,pipeline:(null===(r=this.chart.filtersFull)||void 0===r?void 0:r.pipeline)||this.initPipeline,periodRange:this.periodRangeGlobal||(null===(a=this.chart.filtersFull)||void 0===a?void 0:a.periodRange)||this.periodRange,periodPredefined:this.periodPredefinedGlobal||(null===(o=this.chart.filtersFull)||void 0===o?void 0:o.periodPredefined)||[this.defaultPeriod]||this.initFilter.periodPredefined,periodRangeToCompare:(null===(n=this.chart.filtersFull)||void 0===n?void 0:n.periodRangeToCompare)||this.initFilter.periodRangeToCompare,ownerToCompare:(null===(s=this.chart.filtersFull)||void 0===s?void 0:s.ownerToCompare)||this.initFilter.ownerToCompare,typeCompare:(null===(l=this.chart.filtersFull)||void 0===l?void 0:l.typeCompare)||this.initFilter.typeCompare}},filtersTable:function(){var e,t=this.getPeriod(this.initFilter.periodPredefined[0]).get(),i=Object(o["a"])(t,2),r=i[0],a=i[1];return{users:this.usersGlobal||this.users||this.filtersChartsDefault.users,pipelines:this.pipelines||[this.initPipeline],periodRange:this.periodRangeGlobal||(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.periodRange)||{start:r,end:a},dealStatus:this.initFilter.dealStatus}}}},V=H,N=(i("feb4"),Object(R["a"])(V,r,a,!1,null,"1ec7a9e8",null));t["a"]=N.exports},"69fa":function(e,t,i){},"6ab5":function(e,t,i){},"6c83":function(e,t,i){},"6c94":function(e,t,i){"use strict";var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.list,"items-per-page":5},scopedSlots:e._u([{key:"item.tracking",fn:function(t){var r=t.item;return[i("v-chip",{attrs:{color:e.getColor(r.tracking),dark:""}},[e._v(" "+e._s(e.getText(r.tracking))+" ")])]}},{key:"item.openingTime",fn:function(t){var i=t.item;return[e._v(" "+e._s(e._f("formatDate")(i.openingTime))+" ")]}}],null,!0)})},a=[],o=(i("4de4"),i("d81d"),i("b0c0"),i("8d7e")),n={name:"TableEmails",props:{defaultFilter:{type:Object,default:function(){return{users:[],pipelines:[],periodRange:{start:"",end:""},emailStatus:"ALL"}}}},data:function(){return{subreportsEmails:{count:0,list:[]},headers:[{text:"Asunto",value:"subject",sortable:!1},{text:"Correo electrónico",value:"address",sortable:!1},{text:"Contacto",value:"contact",sortable:!1},{text:"Seguimiento",value:"tracking",sortable:!1},{text:"Fecha de apertura",value:"openingTime",sortable:!1}],filter:{users:[],pipelines:[],periodRange:{start:"",end:""},emailStatus:"ALL"}}},created:function(){this.filter=this.noReactive(this.defaultFilter)},watch:{defaultFilter:{handler:function(){this.filter=this.noReactive(this.defaultFilter)},immediate:!0,deep:!0}},computed:{list:function(){return this.subreportsEmails.list.map((function(e){var t;return{subject:e.subject,address:e.address,contact:(null===e||void 0===e||null===(t=e.contact)||void 0===t?void 0:t.name)||"Sin contacto",tracking:e.tracking,openingTime:e.openingTime}}))},pipelinesFilter:function(){return this.filter.pipelines.length?this.filter.pipelines.map((function(e){return{id:e.id}})):[]},ownersFilter:function(){return this.filter.users.length?this.filter.users.map((function(e){return{id:e.id}})):[]}},methods:{getColor:function(e){return"OPEN"===e?"#2E2E2F":"NOT_OPEN"===e?"#881414":"NO_TRACK"===e?"#396A5D":"#2E2E2F"},getText:function(e){return"OPEN"===e?"Abierto":"NOT_OPEN"===e?"No abierto":"NO_TRACK"===e?"Sin seguimiento":"Abierto"}},apollo:{subreportsEmails:{query:o["F"],fetchPolicy:"no-cache",client:"charts",variables:function(){return{filters:{dateRange:{dateStart:this.filter.periodRange.start,dateEnd:this.filter.periodRange.end},owners:this.ownersFilter,pipelines:this.pipelinesFilter,emailStatus:this.filter.emailStatus}}}}}},s=n,l=i("0c7c"),d=i("6544"),p=i.n(d),c=i("cc20"),u=i("8fea"),f=Object(l["a"])(s,r,a,!1,null,"08178f74",null);t["a"]=f.exports;p()(f,{VChip:c["a"],VDataTable:u["a"]})},"6d40":function(e,t,i){"use strict";var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseCardChart",{attrs:{title:e.title,titleRegular:e.titleRegular,settings:e.filtersConfig},on:{updateRefetch:function(t){e.isRefetch=!0}},scopedSlots:e._u([{key:"modal",fn:function(){return[i("CardRottenDealsFilter",{attrs:{defaultFilter:e.filtersConfig,isIcon:"",isPreview:""}})]},proxy:!0}])},[i("div",{staticClass:"hoverClick",on:{click:e.openModal}},[i("CardRottenDealsData",{attrs:{defaultFilter:e.filtersConfig,isPreview:"",isRefetch:e.isRefetch},on:{updateRefetch:function(t){e.isRefetch=!1}}})],1),i("CardRottenDealsModal",{attrs:{isOpen:e.isOpenModal,filters:{filtersConfig:e.filtersConfig,filtersTable:e.filtersTable},title:e.title,titleRegular:e.titleRegular},on:{close:e.closeModal}})],1)},a=[],o=i("3835"),n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalChart",{attrs:{title:e.title,titleRegular:e.titleRegular,isOpen:e.isOpen},on:{close:e.closeModal},scopedSlots:e._u([{key:"filters",fn:function(){return[i("CardRottenDealsFilter",{attrs:{defaultFilter:e.filters.filtersConfig}})]},proxy:!0},{key:"chart",fn:function(){return[i("CardRottenDealsData",{attrs:{defaultFilter:e.filters.filtersConfig}})]},proxy:!0},{key:"table",fn:function(){return[i("TableDeals",{attrs:{defaultFilter:e.filters.filtersTable}})]},proxy:!0}])})},s=[],l=i("8b70"),d=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalFilters",{attrs:{isOpen:e.isOpenModalFilter,isIcon:e.isIcon},on:{save:e.saveFilter,statusModal:e.statusModal}},[i("v-row",[i("v-col",{attrs:{cols:"12"}},[i("Select",{attrs:{name:"Filtrar por",defaultSelect:e.defaultFilter.filterBy,list:e.listFilterBy},on:{change:e.changeFilterBy}})],1),i("v-col",{attrs:{cols:"12"}},[i("SelectUsers",{attrs:{all:"",defaultSelect:e.defaultFilter.users},on:{change:e.changeUsers}})],1),i("v-col",{attrs:{cols:"12"}},[i("SelectPipeline",{attrs:{defaultSelect:e.defaultFilter.pipeline},on:{change:e.changePipeline}})],1),i("v-col",{attrs:{cols:"12"}},[i("PeriodPredefined",{attrs:{defaultSelect:e.defaultFilter.periodPredefined},on:{change:e.changePeriodPredefined}})],1),e.isPreview?e._e():i("v-col",{attrs:{cols:"12"}},[i("ComparePeriod",{attrs:{periodPredefined:e.filters.periodPredefined[0]},on:{change:e.changeComparePeriod}})],1)],1)],1)},p=[],c=i("5530"),u=i("740f"),f=i("d344"),h=i("6321"),v=i("c065"),m=i("0db6"),g={name:"CardRottenDealsFilter",components:{SelectUsers:u["a"],SelectPipeline:h["a"],Select:f["a"]},mixins:[m["b"]],props:{defaultFilter:{type:Object,default:function(){return{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""}}}},isIcon:{type:Boolean,default:!1},isPreview:{type:Boolean,default:!1}},data:function(){return{listTime:v["d"],listFilterBy:v["e"],filters:{filterBy:"count",filterTime:"WEEKS",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""}}}},methods:{changeComparePeriod:function(e){var t=e.isCompare,i=e.periodCompare;if(t){if(i&&(this.filters.periodRangeToCompare.period=i.periodSelected,i.periodRange.length>0)){var r=Object(o["a"])(i.periodRange,2);this.filters.periodRangeToCompare.start=r[0],this.filters.periodRangeToCompare.end=r[1]}}else this.filters.periodRangeToCompare.period="",this.filters.periodRangeToCompare.start="",this.filters.periodRangeToCompare.end=""},saveFilter:function(){this.changeChart({id:"card-rottenDeals",filtersFull:Object(c["a"])(Object(c["a"])({},this.noReactive(this.filters)),{},{periodRange:Object(c["a"])({__typename:"PeriodRange"},this.filters.periodRange)})}),this.isOpenModalFilter=!1}}},C=g,R=i("0c7c"),T=i("6544"),y=i.n(T),P=i("62ad"),S=i("0fd9"),b=Object(R["a"])(C,d,p,!1,null,"7298bec5",null),F=b.exports;y()(b,{VCol:P["a"],VRow:S["a"]});var O=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.isPreview?e._e():i("ListFilters",{attrs:{settings:e.settings}}),i("BaseCardNumber",{attrs:{information:{numberMain:""+("count"===e.settings.filterBy?e.generalConvertionRateFormat:e.formatPrice(e.generalConvertionRateFormat)),textMain:e.textMain,valueMain:e.valueMain,textMainType:e.textChart,isCompare:!e.isPreview&&e.settings.periodRangeToCompare.period.length>0,numberCompare:""+("count"===e.settings.filterBy?e.generalConvertionRateCompare:e.formatPrice(e.generalConvertionRateCompare)),textCompare:e.textCompare,valueCompare:e.valueCompare,numberDifferenceCompare:e.comparePercentage}}}),e.isPreview?e._e():i("CardRottenDealsInformation",{attrs:{information:e.rottenDealsCard.informationBar,filterBy:e.settings.filterBy}})],1)},w=[],_=(i("b680"),i("99af"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-card",{staticClass:"mt-5",attrs:{flat:""}},[i("v-container",[i("v-row",[i("v-col",{attrs:{cols:"3"}},[e._l(e.information.userRottenDeals,(function(t,r){return[i("span",{key:r,staticClass:"d-block"},[i("b",[e._v(e._s(t.name))]),e._v(" : "+e._s("count"===e.filterBy?t[e.filterBy]:e.formatPrice(t[e.filterBy]))+" ")])]}))],2),e._l(e.information.periodsRottenDeals,(function(t,r){return[i("v-col",{key:r,attrs:{cols:"3"}},[i("span",{staticClass:"d-block"},[i("b",[e._v(e._s(e.periods[r]))]),e._v(" : "+e._s("count"===e.filterBy?t[e.filterBy]:e.formatPrice(t[e.filterBy]))+" ")])])]}))],2)],1)],1)}),B=[],D={name:"CardRottenDealsInformation",props:{information:{type:Object,default:function(){return{}}},filterBy:{type:String,default:"count"}},data:function(){return{periods:["Promedio anual","Promedio trimestral","Promedio mensual"],pastPeriods:["Este período","Período pasado","Mismo período el mes anterior"]}}},M=D,x=i("b0af"),A=i("a523"),E=Object(R["a"])(M,_,B,!1,null,null,null),I=E.exports;y()(E,{VCard:x["a"],VCol:P["a"],VContainer:A["a"],VRow:S["a"]});var k=i("8d7e"),L={name:"CardRottenDealsData",mixins:[m["a"]],components:{CardRottenDealsInformation:I},props:{defaultFilter:{type:Object,default:function(){return{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""}}}},isPreview:{type:Boolean,default:!1}},data:function(){return{rottenDealsCard:{},modalSettings:{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:[],periodRangeToCompare:{period:"",start:"",end:""}},settings:{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:[],periodRangeToCompare:{period:"",start:"",end:""}}}},computed:{comparePercentage:function(){return"0"===this.generalConvertionRateCompare?"100":(100*this.generalConvertionRateFormat/this.generalConvertionRateCompare-100).toFixed(2)},generalConvertionRateFormat:function(){var e,t,i,r,a;return this.rottenDealsCard&&void 0!==(null===(e=this.rottenDealsCard)||void 0===e||null===(t=e.mainRottenDeals)||void 0===t?void 0:t.count)&&void 0!==(null===(i=this.rottenDealsCard)||void 0===i||null===(r=i.mainRottenDeals)||void 0===r?void 0:r.sum)&&(null===(a=this.rottenDealsCard)||void 0===a?void 0:a.mainRottenDeals[this.settings.filterBy])||"0"},generalConvertionRateCompare:function(){var e,t,i,r;if(this.rottenDealsCard&&void 0!==(null===(e=this.rottenDealsCard)||void 0===e||null===(t=e.secondRottenDeals)||void 0===t?void 0:t.count)&&void 0!==(null===(i=this.rottenDealsCard)||void 0===i||null===(r=i.secondRottenDeals)||void 0===r?void 0:r.sum)){var a,o=null===(a=this.rottenDealsCard)||void 0===a?void 0:a.secondRottenDeals[this.settings.filterBy];return o?o.toFixed(2):"0"}return"0"},textCompare:function(){return"PREVIOUS_PERIOD"===this.settings.periodRangeToCompare.period?this.settings.periodPredefined[3]:"PREVIOUS_YEAR"===this.settings.periodRangeToCompare.period?"Año anterior":"CUSTOM"===this.settings.periodRangeToCompare.period?"Personalizado":""},valueCompare:function(){return this.isPreview||"CUSTOM"!==this.settings.periodRangeToCompare.period?"":"".concat(this.formatDate(this.filters.dateRangeToCompare.dateStart)," - ").concat(this.formatDate(this.filters.dateRangeToCompare.dateEnd))},textMain:function(){return this.isPreview?"":this.settings.periodPredefined[2]},valueMain:function(){return!this.isPreview&&this.settings.periodPredefined.length>0&&"CUSTOM"===this.settings.periodPredefined[0]?"".concat(this.formatDate(this.filters.dateRange.dateStart)," - ").concat(this.formatDate(this.filters.dateRange.dateEnd)):""},filters:function(){var e={dateRange:{dateStart:this.dateStart,dateEnd:this.dateEnd},owners:this.ownersFilter,pipeline:this.pipelineFilter};return this.dateRangeToCompare&&""!==this.dateRangeToCompare.dateStart&&""!==this.dateRangeToCompare.dateEnd&&(e.dateRangeToCompare=this.dateRangeToCompare),e}},methods:{update:function(){this.$apollo.queries.rottenDealsCard.refetch()}},apollo:{rottenDealsCard:{query:k["G"],fetchPolicy:"no-cache",client:"charts",variables:function(){return{filters:this.filters}},skip:function(){return""===this.dateStart||""===this.dateEnd||!this.pipelineFilter.id||0===this.ownersFilter.length},loadingKey:"isLoading"}}},j=L,G=Object(R["a"])(j,O,w,!1,null,"c2325570",null),H=G.exports,V={name:"CardRottenDealsModal",components:{TableDeals:l["a"],CardRottenDealsFilter:F,CardRottenDealsData:H},mixins:[m["c"]],props:{isOpen:{type:Boolean,default:!1},title:{type:String,default:"Sin título"},titleRegular:{type:String,default:""},filters:{type:Object,default:function(){return{filtersConfig:{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""}},filtersTable:{users:[],pipelines:[],periodRange:{start:"",end:""},dealStatus:""}}}}}},N=V,U=Object(R["a"])(N,n,s,!1,null,"97a8664c",null),W=U.exports,$={name:"CardRottenDealsPreview",components:{CardRottenDealsData:H,CardRottenDealsModal:W,CardRottenDealsFilter:F},mixins:[m["d"]],props:{defaultPeriod:{type:String,default:"THIS_MONTH"}},data:function(){return{chartId:"card-rottenDeals",title:"Tratos",titleRegular:"estancados",isOpenModal:!1,filtersChartsDefault:{},initFilter:{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""},dealStatus:"ROTTEN_DEALS_CARD"}}},computed:{filtersConfig:function(){var e,t,i,r,a,o;return{filterBy:(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.filterBy)||this.initFilter.filterBy,users:this.usersGlobal||(null===(t=this.chart.filtersFull)||void 0===t?void 0:t.users)||this.initUsers,pipeline:(null===(i=this.chart.filtersFull)||void 0===i?void 0:i.pipeline)||this.initPipeline,periodRange:this.periodRangeGlobal||(null===(r=this.chart.filtersFull)||void 0===r?void 0:r.periodRange)||this.periodRange,periodPredefined:this.periodPredefinedGlobal||(null===(a=this.chart.filtersFull)||void 0===a?void 0:a.periodPredefined)||[this.defaultPeriod]||this.initFilter.periodPredefined,periodRangeToCompare:(null===(o=this.chart.filtersFull)||void 0===o?void 0:o.periodRangeToCompare)||this.initFilter.periodRangeToCompare}},filtersTable:function(){var e,t=this.getPeriod(this.initFilter.periodPredefined[0]).get(),i=Object(o["a"])(t,2),r=i[0],a=i[1];return{users:this.usersGlobal||this.users||this.initUsers,pipelines:this.pipelines||this.filtersChartsDefault.pipelines,periodRange:this.periodRangeGlobal||(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.periodRange)||{start:r,end:a},dealStatus:this.initFilter.dealStatus}}}},z=$,q=(i("5d7c"),Object(R["a"])(z,r,a,!1,null,"0a19e862",null));t["a"]=q.exports},"723a":function(e,t,i){"use strict";i("3044")},7439:function(e,t,i){"use strict";i("2330")},7502:function(e,t,i){"use strict";var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseCardChart",{attrs:{title:e.title,titleRegular:e.titleRegular,settings:e.filtersConfig},on:{updateRefetch:function(t){e.isRefetch=!0}},scopedSlots:e._u([{key:"modal",fn:function(){return[i("CardTotalOpenDealsFilter",{attrs:{defaultFilter:e.filtersConfig,isIcon:"",isPreview:""}})]},proxy:!0}])},[i("div",{staticClass:"hoverClick",on:{click:e.openModal}},[i("CardTotalOpenDealsData",{attrs:{defaultFilter:e.filtersConfig,isPreview:"",isRefetch:e.isRefetch},on:{updateRefetch:function(t){e.isRefetch=!1}}})],1),i("CardTotalOpenDealsModal",{attrs:{isOpen:e.isOpenModal,filters:{filtersConfig:e.filtersConfig,filtersTable:e.filtersTable},title:e.title,titleRegular:e.titleRegular},on:{close:e.closeModal}})],1)},a=[],o=i("3835"),n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalChart",{attrs:{title:e.title,titleRegular:e.titleRegular,isOpen:e.isOpen},on:{close:e.closeModal},scopedSlots:e._u([{key:"filters",fn:function(){return[i("CardTotalOpenDealsFilter",{attrs:{defaultFilter:e.filters.filtersConfig}})]},proxy:!0},{key:"chart",fn:function(){return[i("CardTotalOpenDealsData",{attrs:{defaultFilter:e.filters.filtersConfig}})]},proxy:!0},{key:"table",fn:function(){return[i("TableDeals",{attrs:{defaultFilter:e.filters.filtersTable}})]},proxy:!0}])})},s=[],l=i("8b70"),d=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalFilters",{attrs:{isOpen:e.isOpenModalFilter,isIcon:e.isIcon},on:{save:e.saveFilter,statusModal:e.statusModal}},[i("v-row",[i("v-col",{attrs:{cols:"12"}},[i("Select",{attrs:{name:"Filtrar por",defaultSelect:e.defaultFilter.filterBy,list:e.listFilterBy},on:{change:e.changeFilterBy}})],1),i("v-col",{attrs:{cols:"12"}},[i("SelectUsers",{attrs:{all:"",defaultSelect:e.defaultFilter.users},on:{change:e.changeUsers}})],1),i("v-col",{attrs:{cols:"12"}},[i("SelectPipeline",{attrs:{defaultSelect:e.defaultFilter.pipeline},on:{change:e.changePipeline}})],1),i("v-col",{attrs:{cols:"12"}},[i("PeriodPredefined",{attrs:{defaultSelect:e.defaultFilter.periodPredefined},on:{change:e.changePeriodPredefined}})],1),e.isPreview?e._e():i("v-col",{attrs:{cols:"12"}},[i("ComparePeriod",{attrs:{periodPredefined:e.filters.periodPredefined[0]},on:{change:e.changeComparePeriod}})],1)],1)],1)},p=[],c=i("5530"),u=i("740f"),f=i("d344"),h=i("6321"),v=i("c065"),m=i("0db6"),g={name:"CardTotalOpenDealsFilter",components:{SelectUsers:u["a"],SelectPipeline:h["a"],Select:f["a"]},mixins:[m["b"]],props:{defaultFilter:{type:Object,default:function(){return{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""}}}},isIcon:{type:Boolean,default:!1},isPreview:{type:Boolean,default:!1}},data:function(){return{listTime:v["d"],listFilterBy:v["e"],filters:{filterBy:"count",filterTime:"WEEKS",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""}}}},methods:{changeComparePeriod:function(e){var t=e.isCompare,i=e.periodCompare;if(t){if(i&&(this.filters.periodRangeToCompare.period=i.periodSelected,i.periodRange.length>0)){var r=Object(o["a"])(i.periodRange,2);this.filters.periodRangeToCompare.start=r[0],this.filters.periodRangeToCompare.end=r[1]}}else this.filters.periodRangeToCompare.period="",this.filters.periodRangeToCompare.start="",this.filters.periodRangeToCompare.end=""},saveFilter:function(){this.changeChart({id:"card-totalOpenDeals",filtersFull:Object(c["a"])(Object(c["a"])({},this.noReactive(this.filters)),{},{periodRange:Object(c["a"])({__typename:"PeriodRange"},this.filters.periodRange)})}),this.isOpenModalFilter=!1}}},C=g,R=i("0c7c"),T=i("6544"),y=i.n(T),P=i("62ad"),S=i("0fd9"),b=Object(R["a"])(C,d,p,!1,null,"3062d75e",null),F=b.exports;y()(b,{VCol:P["a"],VRow:S["a"]});var O=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.isPreview?e._e():i("ListFilters",{attrs:{settings:e.settings}}),i("BaseCardNumber",{attrs:{information:{numberMain:""+("count"===e.settings.filterBy?e.generalConvertionRateFormat:e.formatPrice(e.generalConvertionRateFormat)),textMain:e.textMain,valueMain:e.valueMain,textMainType:e.textChart,isCompare:!e.isPreview&&e.settings.periodRangeToCompare.period.length>0,numberCompare:""+("count"===e.settings.filterBy?e.generalConvertionRateCompare:e.formatPrice(e.generalConvertionRateCompare)),textCompare:e.textCompare,valueCompare:e.valueCompare,numberDifferenceCompare:e.comparePercentage}}}),e.isPreview?e._e():i("CardTotalOpenDealsInformation",{attrs:{information:e.totalOpenDealsCard.informationBar,filterBy:e.settings.filterBy}})],1)},w=[],_=(i("b680"),i("99af"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-card",{staticClass:"mt-5",attrs:{flat:""}},[i("v-container",[i("v-row",[i("v-col",{attrs:{cols:"3"}},[e._l(e.information.usersOpenDeals,(function(t,r){return[i("span",{key:r,staticClass:"d-block"},[i("b",[e._v(e._s(t.name))]),e._v(" : "+e._s("count"===e.filterBy?t[e.filterBy]:e.formatPrice(t[e.filterBy]))+" ")])]}))],2),e._l(e.information.periodsOpenDeals,(function(t,r){return[i("v-col",{key:r,attrs:{cols:"3"}},[i("span",{staticClass:"d-block"},[i("b",[e._v(e._s(e.periods[r]))]),e._v(" : "+e._s("count"===e.filterBy?t[e.filterBy]:e.formatPrice(t[e.filterBy]))+" ")])])]}))],2)],1)],1)}),B=[],D={name:"CardTotalOpenDealsInformation",props:{information:{type:Object,default:function(){return{}}},filterBy:{type:String,default:"count"}},data:function(){return{periods:["Promedio anual","Promedio trimestral","Promedio mensual"],pastPeriods:["Este período","Período pasado","Mismo período el mes anterior"]}}},M=D,x=i("b0af"),A=i("a523"),E=Object(R["a"])(M,_,B,!1,null,null,null),I=E.exports;y()(E,{VCard:x["a"],VCol:P["a"],VContainer:A["a"],VRow:S["a"]});var k=i("8d7e"),L={name:"CardConvertionRateData",mixins:[m["a"]],components:{CardTotalOpenDealsInformation:I},props:{defaultFilter:{type:Object,default:function(){return{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""}}}},isPreview:{type:Boolean,default:!1}},data:function(){return{totalOpenDealsCard:{},modalSettings:{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:[],periodRangeToCompare:{period:"",start:"",end:""}},settings:{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:[],periodRangeToCompare:{period:"",start:"",end:""}}}},computed:{comparePercentage:function(){return"0"===this.generalConvertionRateCompare?"100":(100*this.generalConvertionRateFormat/this.generalConvertionRateCompare-100).toFixed(2)},generalConvertionRateFormat:function(){var e,t,i,r,a;return this.totalOpenDealsCard&&void 0!==(null===(e=this.totalOpenDealsCard)||void 0===e||null===(t=e.mainOpenDeals)||void 0===t?void 0:t.count)&&void 0!==(null===(i=this.totalOpenDealsCard)||void 0===i||null===(r=i.mainOpenDeals)||void 0===r?void 0:r.sum)&&(null===(a=this.totalOpenDealsCard)||void 0===a?void 0:a.mainOpenDeals[this.settings.filterBy])||"0"},generalConvertionRateCompare:function(){var e,t,i,r;if(this.totalOpenDealsCard&&void 0!==(null===(e=this.totalOpenDealsCard)||void 0===e||null===(t=e.secondOpenDeals)||void 0===t?void 0:t.count)&&void 0!==(null===(i=this.totalOpenDealsCard)||void 0===i||null===(r=i.secondOpenDeals)||void 0===r?void 0:r.sum)){var a,o=null===(a=this.totalOpenDealsCard)||void 0===a?void 0:a.secondOpenDeals[this.settings.filterBy];return o?o.toFixed(2):"0"}return"0"},textCompare:function(){return"PREVIOUS_PERIOD"===this.settings.periodRangeToCompare.period?this.settings.periodPredefined[3]:"PREVIOUS_YEAR"===this.settings.periodRangeToCompare.period?"Año anterior":"CUSTOM"===this.settings.periodRangeToCompare.period?"Personalizado":""},valueCompare:function(){return this.isPreview||"CUSTOM"!==this.settings.periodRangeToCompare.period?"":"".concat(this.formatDate(this.filters.dateRangeToCompare.dateStart)," - ").concat(this.formatDate(this.filters.dateRangeToCompare.dateEnd))},textMain:function(){return this.isPreview?"":this.settings.periodPredefined[2]},valueMain:function(){return!this.isPreview&&this.settings.periodPredefined.length>0&&"CUSTOM"===this.settings.periodPredefined[0]?"".concat(this.formatDate(this.filters.dateRange.dateStart)," - ").concat(this.formatDate(this.filters.dateRange.dateEnd)):""},filters:function(){var e={dateRange:{dateStart:this.dateStart,dateEnd:this.dateEnd},owners:this.ownersFilter,pipeline:this.pipelineFilter};return this.dateRangeToCompare&&""!==this.dateRangeToCompare.dateStart&&""!==this.dateRangeToCompare.dateEnd&&(e.dateRangeToCompare=this.dateRangeToCompare),e}},methods:{update:function(){this.$apollo.queries.totalOpenDealsCard.refetch()}},apollo:{totalOpenDealsCard:{query:k["R"],fetchPolicy:"no-cache",client:"charts",variables:function(){return{filters:this.filters}},skip:function(){return""===this.dateStart||""===this.dateEnd||!this.pipelineFilter.id||0===this.ownersFilter.length},loadingKey:"isLoading"}}},j=L,G=Object(R["a"])(j,O,w,!1,null,"edd679b0",null),H=G.exports,V={name:"CardTotalOpenDealsModal",components:{TableDeals:l["a"],CardTotalOpenDealsFilter:F,CardTotalOpenDealsData:H},mixins:[m["c"]],props:{isOpen:{type:Boolean,default:!1},title:{type:String,default:"Sin título"},titleRegular:{type:String,default:""},filters:{type:Object,default:function(){return{filtersConfig:{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""}},filtersTable:{users:[],pipelines:[],periodRange:{start:"",end:""},dealStatus:""}}}}}},N=V,U=Object(R["a"])(N,n,s,!1,null,"692ff88e",null),W=U.exports,$={name:"CardTotalOpenDealsPreview",components:{CardTotalOpenDealsData:H,CardTotalOpenDealsModal:W,CardTotalOpenDealsFilter:F},mixins:[m["d"]],props:{defaultPeriod:{type:String,default:"THIS_MONTH"}},data:function(){return{chartId:"card-totalOpenDeals",title:"Tratos",titleRegular:"abiertos totales",isOpenModal:!1,filtersChartsDefault:{},initFilter:{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""},dealStatus:"OPEN"}}},computed:{filtersConfig:function(){var e,t,i,r,a,o;return{filterBy:(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.filterBy)||this.initFilter.filterBy,users:this.usersGlobal||(null===(t=this.chart.filtersFull)||void 0===t?void 0:t.users)||this.initUsers,pipeline:(null===(i=this.chart.filtersFull)||void 0===i?void 0:i.pipeline)||this.initPipeline,periodRange:this.periodRangeGlobal||(null===(r=this.chart.filtersFull)||void 0===r?void 0:r.periodRange)||this.periodRange,periodPredefined:this.periodPredefinedGlobal||(null===(a=this.chart.filtersFull)||void 0===a?void 0:a.periodPredefined)||[this.defaultPeriod]||this.initFilter.periodPredefined,periodRangeToCompare:(null===(o=this.chart.filtersFull)||void 0===o?void 0:o.periodRangeToCompare)||this.initFilter.periodRangeToCompare}},filtersTable:function(){var e,t=this.getPeriod(this.initFilter.periodPredefined[0]).get(),i=Object(o["a"])(t,2),r=i[0],a=i[1];return{users:this.usersGlobal||this.users||this.initUsers,pipelines:this.pipelines||this.filtersChartsDefault.pipelines,periodRange:this.periodRangeGlobal||(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.periodRange)||{start:r,end:a},dealStatus:this.initFilter.dealStatus}}}},z=$,q=(i("c22d"),Object(R["a"])(z,r,a,!1,null,"49f71226",null));t["a"]=q.exports},7561:function(e,t,i){"use strict";var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseCardChart",{attrs:{title:e.title,titleRegular:e.titleRegular,settings:e.filtersConfig},on:{updateRefetch:function(t){e.isRefetch=!0}},scopedSlots:e._u([{key:"modal",fn:function(){return[i("CardWonDealsEarningValueFilter",{attrs:{defaultFilter:e.filtersConfig,isIcon:"",isPreview:""}})]},proxy:!0}])},[i("div",{staticClass:"hoverClick",on:{click:e.openModal}},[i("CardWonDealsEarningValueData",{attrs:{defaultFilter:e.filtersConfig,isPreview:"",isRefetch:e.isRefetch},on:{updateRefetch:function(t){e.isRefetch=!1}}})],1),i("CardWonDealsEarningValueModal",{attrs:{isOpen:e.isOpenModal,filters:{filtersConfig:e.filtersConfig,filtersTable:e.filtersTable},title:e.title,titleRegular:e.titleRegular},on:{close:e.closeModal}})],1)},a=[],o=i("3835"),n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalChart",{attrs:{title:e.title,titleRegular:e.titleRegular,isOpen:e.isOpen},on:{close:e.closeModal},scopedSlots:e._u([{key:"filters",fn:function(){return[i("CardWonDealsEarningValueFilter",{attrs:{defaultFilter:e.filters.filtersConfig}})]},proxy:!0},{key:"chart",fn:function(){return[i("CardWonDealsEarningValueData",{attrs:{defaultFilter:e.filters.filtersConfig}})]},proxy:!0},{key:"table",fn:function(){return[i("TableDeals",{attrs:{defaultFilter:e.filters.filtersTable}})]},proxy:!0}])})},s=[],l=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.isPreview?e._e():i("ListFilters",{attrs:{settings:e.settings}}),i("BaseCardNumber",{attrs:{information:{numberMain:""+e.generalConvertionRateFormat,textMain:e.textMain,valueMain:e.valueMain,textMainType:e.textChart,isCompare:!e.isPreview&&(e.settings.periodRangeToCompare.period.length>0||e.isCompareUser),numberCompare:""+e.generalConvertionRateCompare,textCompare:e.textCompare,valueCompare:e.valueCompare,numberDifferenceCompare:e.comparePercentage}}}),e.isPreview?e._e():i("CardWonDealsEarningValueInformation",{attrs:{information:e.wonDealsEarningValueCard.informationBar,filterBy:e.settings.filterBy}})],1)},d=[],p=(i("b680"),i("b0c0"),i("99af"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-card",{staticClass:"mt-5",attrs:{flat:""}},[i("v-container",[i("v-row",{staticClass:"justify-center"},[i("v-col",{attrs:{cols:"3"}},[e._l(e.information.userDealsEarning,(function(t,r){return[i("span",{key:r,staticClass:"d-block"},[i("b",[e._v(e._s(t.name))]),e._v(" : "+e._s("sum"===e.filterBy?"$"+t[e.filterBy].toFixed(2):t[e.filterBy])+" ")])]}))],2),i("v-col",{attrs:{cols:"9"}},[i("v-row",[i("v-col",e._l(e.getInfo.firstColumn,(function(t,r){return i("span",{key:r,staticClass:"d-block"},[i("b",[e._v(e._s(e.columnOne[r]))]),e._v(" : "+e._s(t)+" ")])})),0),i("v-col",e._l(e.getInfo.secondColumn,(function(t,r){return i("span",{key:r,staticClass:"d-block"},[i("b",[e._v(e._s(e.columnTwo[r]))]),e._v(" : $"+e._s(t)+" ")])})),0),i("v-col",e._l(e.getInfo.thirdColumn,(function(t,r){return i("span",{key:r,staticClass:"d-block"},[i("b",[e._v(e._s(e.columnThree[r]))]),e._v(" : $"+e._s(t)+" ")])})),0)],1)],1)],1)],1)],1)}),c=[],u=(i("d81d"),{name:"CardWonDealsEarningValueInformation",props:{information:{type:Object,default:function(){return{userDealsEarning:[],periodsDealsEarning:[]}}},filterBy:{type:String,default:"count"}},data:function(){return{columnOne:["Este período","Período pasado","Mismo período el mes anterior"],columnTwo:["Ingresos este período","Ingresos período pasado","Ingresos mismo período el mes anterior"],columnThree:["Ingresos totales este período","Ingresos totales período pasado","Ingresos totales mismo período el mes anterior"]}},computed:{getInfo:function(){var e=this.information.periodsDealsEarning.map((function(e){return e.count})),t=this.information.periodsDealsEarning.map((function(e){return e.sum})),i=this.information.periodsDealsEarning.map((function(e){return e.totalSum}));return{firstColumn:e,secondColumn:t,thirdColumn:i}}}}),f=u,h=i("0c7c"),v=i("6544"),m=i.n(v),g=i("b0af"),C=i("62ad"),R=i("a523"),T=i("0fd9"),y=Object(h["a"])(f,p,c,!1,null,null,null),P=y.exports;m()(y,{VCard:g["a"],VCol:C["a"],VContainer:R["a"],VRow:T["a"]});var S=i("8d7e"),b=i("0db6"),F={name:"CardWonDealsEarningValueData",mixins:[b["a"]],components:{CardWonDealsEarningValueInformation:P},props:{defaultFilter:{type:Object,default:function(){return{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{id:""}}}},isPreview:{type:Boolean,default:!1}},data:function(){return{wonDealsEarningValueCard:{},modalSettings:{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:[],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{id:""}},settings:{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:[],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{id:""}}}},computed:{isCompareUser:function(){var e,t,i,r,a,o;return(null===(e=this.wonDealsEarningValueCard)||void 0===e||null===(t=e.mainDealsEarning)||void 0===t?void 0:t.id)!==(null===(i=this.wonDealsEarningValueCard)||void 0===i||null===(r=i.secondDealsEarning)||void 0===r?void 0:r.id)&&""!==(null===(a=this.settings)||void 0===a||null===(o=a.ownerToCompare)||void 0===o?void 0:o.id)},comparePercentage:function(){return"0"===this.generalConvertionRateCompare?"0.00":(100*this.generalConvertionRateFormat/this.generalConvertionRateCompare-100).toFixed(2)},generalConvertionRateFormat:function(){var e,t,i,r;if(this.wonDealsEarningValueCard&&void 0!==(null===(e=this.wonDealsEarningValueCard)||void 0===e||null===(t=e.mainDealsEarning)||void 0===t?void 0:t.count)&&void 0!==(null===(i=this.wonDealsEarningValueCard)||void 0===i||null===(r=i.mainDealsEarning)||void 0===r?void 0:r.sum)){var a,o;if("count"===this.settings.filterBy)return(null===(a=this.wonDealsEarningValueCard)||void 0===a?void 0:a.mainDealsEarning.count)||"0";if("sum"===this.settings.filterBy)return"$".concat(null===(o=this.wonDealsEarningValueCard)||void 0===o?void 0:o.mainDealsEarning.sum)||!1}return"0"},generalConvertionRateCompare:function(){var e,t,i,r;if(this.wonDealsEarningValueCard&&void 0!==(null===(e=this.wonDealsEarningValueCard)||void 0===e||null===(t=e.secondDealsEarning)||void 0===t?void 0:t.count)&&void 0!==(null===(i=this.wonDealsEarningValueCard)||void 0===i||null===(r=i.secondDealsEarning)||void 0===r?void 0:r.sum)){var a,o=null===(a=this.wonDealsEarningValueCard)||void 0===a?void 0:a.secondDealsEarning[this.settings.filterBy];return o||"0"}return"0"},textCompare:function(){return"PREVIOUS_PERIOD"===this.settings.periodRangeToCompare.period?this.settings.periodPredefined[3]:"PREVIOUS_YEAR"===this.settings.periodRangeToCompare.period?"Año anterior":"CUSTOM"===this.settings.periodRangeToCompare.period?"Personalizado":""},valueCompare:function(){if(!this.isPreview){var e,t;if(this.isCompareUser)return null===(e=this.wonDealsEarningValueCard)||void 0===e||null===(t=e.secondDealsEarning)||void 0===t?void 0:t.name;if("CUSTOM"===this.settings.periodRangeToCompare.period)return"".concat(this.formatDate(this.filters.dateRangeToCompare.dateStart)," - ").concat(this.formatDate(this.filters.dateRangeToCompare.dateEnd))}return""},textMain:function(){return this.isPreview?"":(this.isCompareUser,this.settings.periodPredefined[2])},valueMain:function(){if(!this.isPreview){var e,t;if(this.isCompareUser)return null===(e=this.wonDealsEarningValueCard)||void 0===e||null===(t=e.mainDealsEarning)||void 0===t?void 0:t.name;if(this.settings.periodPredefined.length>0&&"CUSTOM"===this.settings.periodPredefined[0])return"".concat(this.formatDate(this.filters.dateRange.dateStart)," - ").concat(this.formatDate(this.filters.dateRange.dateEnd))}return""},filters:function(){var e={dateRange:{dateStart:this.dateStart,dateEnd:this.dateEnd},owners:this.ownersFilter,pipeline:this.pipelineFilter};return this.ownerToCompare&&""!==this.ownerToCompare.id&&(e.ownerToCompare=this.ownerToCompare),this.dateRangeToCompare&&""!==this.dateRangeToCompare.dateStart&&""!==this.dateRangeToCompare.dateEnd&&(e.dateRangeToCompare=this.dateRangeToCompare),e}},methods:{update:function(){this.$apollo.queries.wonDealsEarningValueCard.refetch()}},apollo:{wonDealsEarningValueCard:{query:S["U"],fetchPolicy:"no-cache",client:"charts",variables:function(){return{filters:this.filters}},skip:function(){return""===this.dateStart||""===this.dateEnd||!this.pipelineFilter.id||0===this.ownersFilter.length},loadingKey:"isLoading"}}},O=F,w=Object(h["a"])(O,l,d,!1,null,"09f549f4",null),_=w.exports,B=i("8b70"),D=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalFilters",{attrs:{isOpen:e.isOpenModalFilter,isIcon:e.isIcon},on:{save:e.saveFilter,statusModal:e.statusModal}},[i("v-row",[i("v-col",{attrs:{cols:"12"}},[i("Select",{attrs:{name:"Filtrar por",list:e.listFilterBy,defaultSelect:e.defaultFilter.filterBy},on:{change:e.changeFilterBy}})],1),i("v-col",{attrs:{cols:"12"}},[i("SelectUsers",{attrs:{all:"",defaultSelect:e.defaultFilter.users},on:{change:e.changeUsers}})],1),i("v-col",{attrs:{cols:"12"}},[i("SelectPipeline",{attrs:{defaultSelect:e.defaultFilter.pipeline},on:{change:e.changePipeline}})],1),i("v-col",{attrs:{cols:"12"}},[i("PeriodPredefined",{attrs:{defaultSelect:e.defaultFilter.periodPredefined},on:{change:e.changePeriodPredefined}})],1),e.isPreview?e._e():i("v-col",{attrs:{cols:"12"}},[i("ComparePeriod",{attrs:{periodPredefined:e.filters.periodPredefined[0]},on:{change:e.changeComparePeriod}})],1)],1)],1)},M=[],x=i("5530"),A=i("740f"),E=i("d344"),I=i("6321"),k=i("c065"),L={name:"CardWonDealsEarningValueFilter",components:{SelectUsers:A["a"],SelectPipeline:I["a"],Select:E["a"]},mixins:[b["b"]],props:{defaultFilter:{type:Object,default:function(){return{filterBy:"count",filterTime:"WEEKS",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{id:""}}}},isIcon:{type:Boolean,default:!1},isPreview:{type:Boolean,default:!1}},data:function(){return{listTime:k["d"],listFilterBy:k["e"],filters:{filterBy:"count",filterTime:"WEEKS",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{id:""}}}},methods:{changeComparePeriod:function(e){var t=e.isCompare,i=e.periodCompare,r=e.ownerCompare;if(t){if(r&&r.id&&(this.filters.ownerToCompare.id=r.id,this.filters.periodRangeToCompare.period="",this.filters.periodRangeToCompare.start="",this.filters.periodRangeToCompare.end=""),i){if(this.filters.periodRangeToCompare.period=i.periodSelected,i.periodRange.length>0){var a=Object(o["a"])(i.periodRange,2);this.filters.periodRangeToCompare.start=a[0],this.filters.periodRangeToCompare.end=a[1]}this.filters.ownerToCompare.id=""}}else this.filters.periodRangeToCompare.period="",this.filters.periodRangeToCompare.start="",this.filters.periodRangeToCompare.end="",this.filters.ownerToCompare.id=""},saveFilter:function(){this.changeChart({id:"card-wonDealsEarningValue",filtersFull:Object(x["a"])(Object(x["a"])({},this.noReactive(this.filters)),{},{periodRange:Object(x["a"])({__typename:"PeriodRange"},this.filters.periodRange),ownerToCompare:Object(x["a"])({__typename:"OwnerToCompare"},this.filters.ownerToCompare)})}),this.isOpenModalFilter=!1}}},j=L,G=Object(h["a"])(j,D,M,!1,null,"eb3b1ee2",null),H=G.exports;m()(G,{VCol:C["a"],VRow:T["a"]});var V={name:"CardWonDealsEarningValueModal",components:{CardWonDealsEarningValueData:_,TableDeals:B["a"],CardWonDealsEarningValueFilter:H},mixins:[b["c"]],props:{isOpen:{type:Boolean,default:!1},title:{type:String,default:"Sin título"},titleRegular:{type:String,default:""},filters:{type:Object,default:function(){return{filtersConfig:{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{id:""}},filtersTable:{users:[],pipelines:[],periodRange:{start:"",end:""},dealStatus:""}}}}}},N=V,U=Object(h["a"])(N,n,s,!1,null,"12f5b106",null),W=U.exports,$={name:"CardWonDealsEarningValuePreview",components:{CardWonDealsEarningValueData:_,CardWonDealsEarningValueModal:W,CardWonDealsEarningValueFilter:H},mixins:[b["d"]],props:{defaultPeriod:{type:String,default:"THIS_MONTH"}},data:function(){return{chartId:"card-wonDealsEarningValue",title:"Tratos",titleRegular:"ganados",isOpenModal:!1,filtersChartsDefault:{},initFilter:{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{id:""},dealStatus:"WON"}}},computed:{filtersConfig:function(){var e,t,i,r,a,o,n;return{filterBy:(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.filterBy)||this.initFilter.filterBy,users:this.usersGlobal||(null===(t=this.chart.filtersFull)||void 0===t?void 0:t.users)||this.initUsers,pipeline:(null===(i=this.chart.filtersFull)||void 0===i?void 0:i.pipeline)||this.initPipeline,periodRange:this.periodRangeGlobal||(null===(r=this.chart.filtersFull)||void 0===r?void 0:r.periodRange)||this.periodRange,periodPredefined:this.periodPredefinedGlobal||(null===(a=this.chart.filtersFull)||void 0===a?void 0:a.periodPredefined)||[this.defaultPeriod]||this.initFilter.periodPredefined,periodRangeToCompare:(null===(o=this.chart.filtersFull)||void 0===o?void 0:o.periodRangeToCompare)||this.initFilter.periodRangeToCompare,ownerToCompare:(null===(n=this.chart.filtersFull)||void 0===n?void 0:n.ownerToCompare)||this.initFilter.ownerToCompare}},filtersTable:function(){var e,t=this.getPeriod(this.initFilter.periodPredefined[0]).get(),i=Object(o["a"])(t,2),r=i[0],a=i[1];return{users:this.usersGlobal||this.users||this.initUsers,pipelines:this.pipelines||this.filtersChartsDefault.pipelines,periodRange:this.periodRangeGlobal||(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.periodRange)||{start:r,end:a},dealStatus:this.initFilter.dealStatus}}}},z=$,q=(i("210b"),Object(h["a"])(z,r,a,!1,null,"154cbd7d",null));t["a"]=q.exports},"765d":function(e,t,i){},7695:function(e,t,i){"use strict";i("e5d2")},7835:function(e,t,i){"use strict";i("e89e")},"792d":function(e,t,i){"use strict";i("438c")},"79b6":function(e,t,i){"use strict";var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseCardChart",{attrs:{title:e.title,titleRegular:e.titleRegular,settings:e.filtersConfig,isChart:""},on:{updateRefetch:function(t){e.isRefetch=!0}},scopedSlots:e._u([{key:"modal",fn:function(){return[i("BarExpiredActivitiesByStageFilter",{attrs:{defaultFilter:e.filtersConfig,isIcon:"",isPreview:""}})]},proxy:!0}])},[i("div",{staticClass:"hoverClick",on:{click:e.openModal}},[i("BarExpiredActivitiesByStageData",{attrs:{defaultFilter:e.filtersConfig,isPreview:"",isRefetch:e.isRefetch},on:{updateRefetch:function(t){e.isRefetch=!1}}})],1),i("BarExpiredActivitiesByStageModal",{attrs:{isOpen:e.isOpenModal,filters:{filtersConfig:e.filtersConfig,filtersTable:e.filtersTable},title:e.title,titleRegular:e.titleRegular},on:{close:e.closeModal}})],1)},a=[],o=i("3835"),n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalChart",{attrs:{title:e.title,titleRegular:e.titleRegular,isOpen:e.isOpen},on:{close:e.closeModal},scopedSlots:e._u([{key:"filters",fn:function(){return[i("BarExpiredActivitiesByStageFilter",{attrs:{defaultFilter:e.filters.filtersConfig}})]},proxy:!0},{key:"chart",fn:function(){return[i("BarExpiredActivitiesByStageData",{attrs:{defaultFilter:e.filters.filtersConfig,isFull:""}})]},proxy:!0},{key:"table",fn:function(){return[i("TableActivities",{attrs:{defaultFilter:e.filters.filtersTable}})]},proxy:!0}])})},s=[],l=i("52e2"),d=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalFilters",{attrs:{isOpen:e.isOpenModalFilter,isIcon:e.isIcon},on:{save:e.saveFilter,statusModal:e.statusModal}},[i("v-row",[i("v-col",{attrs:{cols:"12"}},[i("Select",{attrs:{name:"Estado de trato",defaultSelect:e.defaultFilter.dealsFilter,list:e.listStatusDeals},on:{change:e.changeStatusDeal}})],1),i("v-col",{attrs:{cols:"12"}},[i("SelectUsers",{attrs:{all:"",defaultSelect:e.defaultFilter.users},on:{change:e.changeUsers}})],1),i("v-col",{attrs:{cols:"12"}},[i("SelectPipeline",{attrs:{defaultSelect:e.defaultFilter.pipeline},on:{change:e.changePipeline}})],1),i("v-col",{attrs:{cols:"12"}},[i("PeriodPredefined",{attrs:{defaultSelect:e.defaultFilter.periodPredefined},on:{change:e.changePeriodPredefined}})],1),e.isPreview?e._e():i("v-col",{attrs:{cols:"12"}},[i("ComparePeriodBars",{attrs:{periodPredefined:e.filters.periodPredefined[0]},on:{change:e.changeComparePeriod}})],1)],1)],1)},p=[],c=i("5530"),u=i("740f"),f=i("d344"),h=i("6321"),v=i("c065"),m={name:"BarExpiredActivitiesByStageFilter",components:{SelectUsers:u["a"],SelectPipeline:h["a"],Select:f["a"]},mixins:[l["b"]],props:{defaultFilter:{type:Object,default:function(){return{dealsFilter:"ALL",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{},typeCompare:"none"}}}},data:function(){return{listStatusActivities:v["b"],listStatusDeals:v["c"],filters:{dealsFilter:"ALL",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{},typeCompare:"none"}}},methods:{saveFilter:function(){this.changeChart({id:"bar-expiredActivitiesByStage",filtersFull:Object(c["a"])(Object(c["a"])({},this.noReactive(this.filters)),{},{periodRange:Object(c["a"])({__typename:"PeriodRange"},this.filters.periodRange),ownerToCompare:Object(c["a"])({},this.filters.ownerToCompare)})}),this.isOpenModalFilter=!1}}},g=m,C=i("0c7c"),R=i("6544"),T=i.n(R),y=i("62ad"),P=i("0fd9"),S=Object(C["a"])(g,d,p,!1,null,"09b9a22b",null),b=S.exports;T()(S,{VCol:y["a"],VRow:P["a"]});var F=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.isPreview?e._e():i("ListFilters",{attrs:{settings:e.settings}}),i("div",{staticClass:"text-center bgWhite",class:[{"py-5 px-3":!e.isPreview},{showScroll:e.isWithScroll}]},[i("apexchart",{attrs:{height:e.isPreview?250:350,type:"bar",options:e.options,series:e.series}}),e.isPreview||"date"!==e.settings.typeCompare?e._e():i("h4",[e._v(" Comparación de fecha ")]),e.isPreview||"user"!==e.settings.typeCompare?e._e():i("h4",[e._v(" Comparación con otro usuario ")]),e.isPreview||"none"===e.settings.typeCompare?e._e():i("apexchart",{attrs:{height:e.isPreview?250:350,type:"bar",options:e.optionsCompare,series:e.seriesCompare}})],1),e.isPreview?e._e():i("BarExpiredActivitiesByStageInformation",{attrs:{information:e.expiredActivitiesByStageHorizontalBarsAndTable.informationBar,filterBy:e.settings.filterBy}})],1)},O=[],w=(i("b680"),i("d81d"),i("8d7e")),_=i("b3b3"),B=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-card",{staticClass:"mt-5",attrs:{flat:""}},[i("v-container",[i("v-row",[i("v-col",{attrs:{cols:"3"}},[i("span",{staticClass:"d-block"},[i("b",[e._v("Actividades reagendadas:")]),e._v(" "+e._s(e.information.periodsActivities&&e.information.periodsActivities.bookedActivities)+" ")]),i("span",{staticClass:"d-block"},[i("b",[e._v("Activitiades completadas:")]),e._v(" "+e._s(e.information.periodsActivities&&e.information.periodsActivities.completedActivities)+" ")]),i("span",{staticClass:"d-block"},[i("b",[e._v("Actividades cumplidas:")]),e._v(" "+e._s(e.information.periodsActivities&&e.information.periodsActivities.compliedActivities)+" ")])]),i("v-col",{attrs:{cols:"3"}},[i("span",{staticClass:"d-block"},[i("b",[e._v("Actividades efectivas:")]),e._v(" "+e._s(e.information.periodsActivities&&e.information.periodsActivities.effectiveActivities)+" ")]),i("span",{staticClass:"d-block"},[i("b",[e._v("Actividades vencidas:")]),e._v(" "+e._s(e.information.periodsActivities&&e.information.periodsActivities.expiredActivities)+" ")]),i("span",{staticClass:"d-block"},[i("b",[e._v("Actividades inefectivas:")]),e._v(" "+e._s(e.information.periodsActivities&&e.information.periodsActivities.ineffectiveActivities)+" ")])]),i("v-col",{attrs:{cols:"3"}},[i("span",{staticClass:"d-block"},[i("b",[e._v("Actividades reagendadas anterior:")]),e._v(" "+e._s(e.information.pastPeriodsActivities&&e.information.pastPeriodsActivities.bookedActivities)+" ")]),i("span",{staticClass:"d-block"},[i("b",[e._v("Activitiades completadas anterior:")]),e._v(" "+e._s(e.information.pastPeriodsActivities&&e.information.pastPeriodsActivities.completedActivities)+" ")]),i("span",{staticClass:"d-block"},[i("b",[e._v("Actividades cumplidas anterior:")]),e._v(" "+e._s(e.information.pastPeriodsActivities&&e.information.pastPeriodsActivities.compliedActivities)+" ")])]),i("v-col",{attrs:{cols:"3"}},[i("span",{staticClass:"d-block"},[i("b",[e._v("Actividades efectivas anterior:")]),e._v(" "+e._s(e.information.pastPeriodsActivities&&e.information.pastPeriodsActivities.effectiveActivities)+" ")]),i("span",{staticClass:"d-block"},[i("b",[e._v("Actividades vencidas anterior:")]),e._v(" "+e._s(e.information.pastPeriodsActivities&&e.information.pastPeriodsActivities.expiredActivities)+" ")]),i("span",{staticClass:"d-block"},[i("b",[e._v("Actividades inefectivas anterior:")]),e._v(" "+e._s(e.information.pastPeriodsActivities&&e.information.pastPeriodsActivities.ineffectiveActivities)+" ")])])],1)],1)],1)},D=[],M={name:"BarExpiredActivitiesByStageInformation",props:{information:{type:Object,default:function(){return{}}},filterBy:{type:String,default:"count"}}},x=M,A=i("b0af"),E=i("a523"),I=Object(C["a"])(x,B,D,!1,null,null,null),k=I.exports;T()(I,{VCard:A["a"],VCol:y["a"],VContainer:E["a"],VRow:P["a"]});var L={name:"BarExpiredActivitiesByStageData",mixins:[l["a"]],components:{BarExpiredActivitiesByStageInformation:k},props:{defaultFilter:{type:Object,default:function(){return{dealsFilter:"ALL",activitiesFilter:"ALL",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],typeCompare:"none"}}}},data:function(){return{listFilterBy:v["e"],expiredActivitiesByStageHorizontalBarsAndTable:{mainExpiredActivitiesByStage:[],secondExpiredActivitiesByStage:[]},modalSettings:{dealsFilter:"ALL",activitiesFilter:"ALL",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],typeCompare:"none"},settings:{dealsFilter:"ALL",activitiesFilter:"ALL",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],typeCompare:"none"}}},computed:{options:function(){return this.formatOptions(this.expiredActivitiesByStageHorizontalBarsAndTable.stages)},optionsCompare:function(){return this.formatOptions(this.expiredActivitiesByStageHorizontalBarsAndTable.stages)},series:function(){return this.formatSeries(this.expiredActivitiesByStageHorizontalBarsAndTable.mainExpiredActivitiesByStage)},seriesCompare:function(){return this.formatSeries(this.expiredActivitiesByStageHorizontalBarsAndTable.secondExpiredActivitiesByStage)},showTitleXaxis:function(){if(!this.isPreview)return"Total"},showTitleYaxis:function(){if(!this.isPreview)return"Etapas"},isWithScroll:function(){return this.isLargeWidth&&this.isPreview},filters:function(){var e={dateRange:{dateStart:this.dateStart,dateEnd:this.dateEnd},owners:this.ownersFilter,pipeline:this.pipelineFilter,dealsFilter:this.settings.dealsFilter};return this.ownerToCompare&&(e.ownerToCompare=this.ownerToCompare),this.dateRangeToCompare&&""!==this.dateRangeToCompare.dateStart&&""!==this.dateRangeToCompare.dateEnd&&(e.dateRangeToCompare=this.dateRangeToCompare),e}},methods:{formatOptions:function(e){return{chart:{type:"bar",height:this.isPreview?"250":"350",width:this.isWithScroll?"600":"100%",stacked:!0,toolbar:{show:!1},zoom:{enabled:!1}},plotOptions:{bar:{borderRadius:4,horizontal:!0}},colors:_["a"],dataLabels:{enabled:!0,style:{fontSize:"12px",fontWeight:"bold",colors:["#000"]},background:{enabled:!0,foreColor:"#fff"}},grid:{row:{colors:["#f3f3f3","transparent"],opacity:.5}},xaxis:{categories:e||[],title:{text:this.showTitleXaxis},tickAmount:1,labels:{formatter:function(e){return e.toFixed(0)}}},yaxis:{title:{text:this.showTitleYaxis}},tooltip:{y:{formatter:function(e){return e}}},legend:{position:"top",horizontalAlign:this.isPreview?"left":"center",showForSingleSeries:!0}}},formatSeries:function(e){return e&&e.length?e.map((function(e){var t=e.typeName,i=e.countList;return{name:t,data:i.map((function(e){return e.count}))}})):[]},update:function(){this.$apollo.queries.expiredActivitiesByStageHorizontalBarsAndTable.refetch()}},apollo:{expiredActivitiesByStageHorizontalBarsAndTable:{query:w["n"],fetchPolicy:"no-cache",client:"charts",variables:function(){return{filters:this.filters}},skip:function(){return""===this.dateStart||""===this.dateEnd||!this.pipelineFilter.id||0===this.ownersFilter.length},watchLoading:function(e){this.isLoading=e}}}},j=L,G=(i("2456"),Object(C["a"])(j,F,O,!1,null,"1037f6d1",null)),H=G.exports,V=i("157d"),N={name:"BarExpiredActivitiesByStageModal",components:{BarExpiredActivitiesByStageFilter:b,BarExpiredActivitiesByStageData:H,TableActivities:V["a"]},mixins:[l["c"]],props:{filters:{type:Object,default:function(){return{filtersConfig:{dealsFilter:"ALL",activitiesFilter:"ALL",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{},typeCompare:"none"},filtersTable:{users:[],pipelines:[],periodRange:{start:"",end:""},dealStatus:"",stages:[],activityTypes:[],fromReportStatus:"ACTIVITIESBYSTAGE"}}}}}},U=N,W=Object(C["a"])(U,n,s,!1,null,"71d32399",null),$=W.exports,z={name:"BarExpiredActivitiesByStagePreview",components:{BarExpiredActivitiesByStageData:H,BarExpiredActivitiesByStageModal:$,BarExpiredActivitiesByStageFilter:b},mixins:[l["d"]],props:{defaultPeriod:{type:String,default:"THIS_MONTH"}},data:function(){return{chartId:"bar-expiredActivitiesByStage",title:"Actividades",titleRegular:"vencidas",filtersChartsDefault:{},initFilter:{dealsFilter:"ALL",activitiesFilter:"EXPIRED",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{},typeCompare:"none",stages:[],activityTypes:[],fromReportStatus:"ACTIVITIESBYSTAGE"}}},computed:{filtersConfig:function(){var e,t,i,r,a,o,n,s,l;return{dealsFilter:(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.dealsFilter)||this.initFilter.dealsFilter,activitiesFilter:(null===(t=this.chart.filtersFull)||void 0===t?void 0:t.activitiesFilter)||this.initFilter.activitiesFilter,users:this.usersGlobal||(null===(i=this.chart.filtersFull)||void 0===i?void 0:i.users)||this.initUsers,pipeline:(null===(r=this.chart.filtersFull)||void 0===r?void 0:r.pipeline)||this.initPipeline,periodRange:this.periodRangeGlobal||(null===(a=this.chart.filtersFull)||void 0===a?void 0:a.periodRange)||this.periodRange,periodPredefined:this.periodPredefinedGlobal||(null===(o=this.chart.filtersFull)||void 0===o?void 0:o.periodPredefined)||[this.defaultPeriod]||this.initFilter.periodPredefined,periodRangeToCompare:(null===(n=this.chart.filtersFull)||void 0===n?void 0:n.periodRangeToCompare)||this.initFilter.periodRangeToCompare,ownerToCompare:(null===(s=this.chart.filtersFull)||void 0===s?void 0:s.ownerToCompare)||this.initFilter.ownerToCompare,typeCompare:(null===(l=this.chart.filtersFull)||void 0===l?void 0:l.typeCompare)||this.initFilter.typeCompare}},filtersTable:function(){var e,t=this.getPeriod(this.initFilter.periodPredefined[0]).get(),i=Object(o["a"])(t,2),r=i[0],a=i[1];return{users:this.usersGlobal||this.users||this.initUsers,pipelines:this.pipelines||[this.initPipeline],periodRange:this.periodRangeGlobal||(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.periodRange)||{start:r,end:a},dealStatus:this.initFilter.dealsFilter,activitiesStatus:this.initFilter.activitiesFilter,activityTypes:this.filtersChartsDefault.activityTypes||this.initFilter.activityTypes,fromReportStatus:this.initFilter.fromReportStatus}}}},q=z,Y=(i("6748"),Object(C["a"])(q,r,a,!1,null,"3905abf7",null));t["a"]=Y.exports},"7f2f":function(e,t,i){},"7f42":function(e,t,i){},"7fdf":function(e,t,i){"use strict";i("c607")},"804c":function(e,t,i){"use strict";i("d1a8")},8056:function(e,t,i){},8120:function(e,t,i){"use strict";i("a36a")},"87be":function(e,t,i){"use strict";i("929f")},"896c":function(e,t,i){},"899a":function(e,t,i){"use strict";i("69fa")},"8e7f":function(e,t,i){},"929f":function(e,t,i){},"92ad":function(e,t,i){"use strict";var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseCardChart",{attrs:{title:e.title,titleRegular:e.titleRegular,settings:e.filtersConfig,isChart:""},on:{updateRefetch:function(t){e.isRefetch=!0}},scopedSlots:e._u([{key:"modal",fn:function(){return[i("LineSalesCycleByMonthFilter",{attrs:{defaultFilter:e.filtersConfig,isIcon:"",isPreview:""}})]},proxy:!0}])},[i("div",{staticClass:"hoverClick",on:{click:e.openModal}},[i("LineSalesCycleByMonthData",{attrs:{defaultFilter:e.filtersConfig,isPreview:"",isRefetch:e.isRefetch},on:{updateRefetch:function(t){e.isRefetch=!1}}})],1),i("LineSalesCycleByMonthModal",{attrs:{isOpen:e.isOpenModal,filters:{filtersConfig:e.filtersConfig,filtersConfig:e.filtersConfig,filtersTable:e.filtersTable},title:e.title,titleRegular:e.titleRegular},on:{close:e.closeModal}})],1)},a=[],o=i("3835"),n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalChart",{attrs:{title:e.title,titleRegular:e.titleRegular,isOpen:e.isOpen},on:{close:e.closeModal},scopedSlots:e._u([{key:"filters",fn:function(){return[i("LineSalesCycleByMonthFilter",{attrs:{defaultFilter:e.filters.filtersConfig}})]},proxy:!0},{key:"chart",fn:function(){return[i("LineSalesCycleByMonthData",{attrs:{defaultFilter:e.filters.filtersConfig,isFull:""}})]},proxy:!0},{key:"table",fn:function(){return[i("TableDeals",{attrs:{defaultFilter:e.filters.filtersTable}})]},proxy:!0}])})},s=[],l=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalFilters",{attrs:{isOpen:e.isOpenModalFilter,isIcon:e.isIcon},on:{save:e.saveFilter,statusModal:e.statusModal}},[i("v-row",["none"===e.typeCompare?i("v-col",{attrs:{cols:"12"}},[i("SelectUsers",{attrs:{all:"",defaultSelect:e.defaultFilter.users},on:{change:e.changeUsers}})],1):e._e(),i("v-col",{attrs:{cols:"12"}},[i("SelectPipeline",{attrs:{defaultSelect:e.defaultFilter.pipeline},on:{change:e.changePipeline}})],1),i("v-col",{attrs:{cols:"12"}},[i("PeriodPredefined",{attrs:{defaultSelect:e.defaultFilter.periodPredefined},on:{change:e.changePeriodPredefined}})],1),e.isPreview?e._e():i("v-col",{attrs:{cols:"12"}},[i("ComparePeriodLines",{attrs:{periodPredefined:e.filters.periodPredefined[0]},on:{change:e.changeComparePeriod}})],1)],1)],1)},d=[],p=i("5530"),c=i("740f"),u=i("6321"),f=i("c065"),h=i("e050"),v={name:"LineSalesCycleByMonthFilter",components:{SelectUsers:c["a"],SelectPipeline:u["a"]},mixins:[h["b"]],props:{defaultFilter:{type:Object,default:function(){return{users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""}}}}},data:function(){return{listTime:f["d"],listFilterBy:f["e"],filters:{users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""}}}},methods:{saveFilter:function(){this.changeChart({id:"line-salesCycleByMonth",filtersFull:Object(p["a"])(Object(p["a"])({},this.noReactive(this.filters)),{},{periodRange:Object(p["a"])({__typename:"PeriodRange"},this.filters.periodRange)})}),this.isOpenModalFilter=!1}}},m=v,g=i("0c7c"),C=i("6544"),R=i.n(C),T=i("62ad"),y=i("0fd9"),P=Object(g["a"])(m,l,d,!1,null,"628a7fba",null),S=P.exports;R()(P,{VCol:T["a"],VRow:y["a"]});var b=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.isPreview?e._e():i("ListFilters",{attrs:{settings:e.settings}}),i("div",{staticClass:"text-center bgWhite",class:[{"py-5 px-3":!e.isPreview},{showScroll:e.isWithScroll}]},[i("apexchart",{attrs:{height:e.isPreview?250:350,type:"line",options:e.options,series:e.series}})],1)],1)},F=[],O=i("2909"),w=(i("d81d"),i("b0c0"),i("99af"),i("8d7e")),_=i("b3b3"),B={name:"LineSalesCycleByMonthData",mixins:[h["a"]],props:{defaultFilter:{type:Object,default:function(){return{users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"]}}}},data:function(){return{salesCycleLinearGraph:{mainDateList:[],secondDateList:[],mainSalesCycle:[],secondSalesCycle:[],mainAverageDateSalesCycle:[],secondAverageDateSalesCycle:[]},modalSettings:{users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:[]},settings:{users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:[]}}},computed:{options:function(){var e,t;return{chart:{height:this.isPreview?"250":"350",width:this.isWithScroll?"1200":"100%",type:"line",toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1},legend:{position:"top",horizontalAlign:this.isWithScroll?"left":"center",showForSingleSeries:!0},stroke:{width:[5,7,5],curve:"straight",dashArray:[0,8,5]},markers:{size:5,colors:void 0,strokeColors:"#fff",strokeWidth:2,strokeOpacity:.9,strokeDashArray:0,fillOpacity:1,discrete:[],shape:"circle",radius:2,offsetX:0,offsetY:0,onClick:void 0,onDblClick:void 0,showNullDataPoints:!0,hover:{size:void 0,sizeOffset:3}},colors:_["b"],grid:{row:{colors:["#f3f3f3","transparent"],opacity:.5}},xaxis:{categories:null===(e=this.salesCycleLinearGraph)||void 0===e||null===(t=e.mainDateList)||void 0===t?void 0:t.map((function(e){return e.dateString})),title:{text:this.showTitleXaxis},labels:{rotate:this.rotate}},yaxis:{title:{text:this.showTitleYaxis},tickAmount:1}}},rotate:function(){if(this.isLargeWidth){if(this.isWeeks)return"-90";if(this.isMonths)return"0"}return 0},showTitleXaxis:function(){if(!this.isPreview)return this.isWeeks?"Semanas":"Meses"},showTitleYaxis:function(){if(!this.isPreview)return"Cantidad"},series:function(){var e,t,i,r,a,o,n,s,l,d,p,c=this,u=(null===(e=this.salesCycleLinearGraph)||void 0===e||null===(t=e.mainSalesCycle)||void 0===t||null===(i=t.salesCycle)||void 0===i?void 0:i.map((function(e){var t=e.name,i=e.countList;return{name:t,data:c.convertTwoDigits(i)}})))||[],f=this.dateRangeToCompare&&(null===(r=this.salesCycleLinearGraph)||void 0===r||null===(a=r.secondSalesCycle)||void 0===a||null===(o=a.salesCycle)||void 0===o?void 0:o.length)>0?null===(n=this.salesCycleLinearGraph)||void 0===n||null===(s=n.secondSalesCycle)||void 0===s||null===(l=s.salesCycle)||void 0===l?void 0:l.map((function(e){var t=e.name,i=e.countList;return{name:"".concat(t," período anterior"),data:c.convertTwoDigits(i)}})):[],h=[{name:"Promedio",data:this.convertTwoDigits(this.salesCycleLinearGraph.mainAverageDateSalesCycle.map((function(e){return e.avgCount})))}],v=(null===(d=this.salesCycleLinearGraph)||void 0===d||null===(p=d.secondAverageDateSalesCycle)||void 0===p?void 0:p.length)>0?[{name:"Promedio anterior",data:this.convertTwoDigits(this.salesCycleLinearGraph.secondAverageDateSalesCycle.map((function(e){return e.avgCount})))}]:[];return[].concat(h,Object(O["a"])(u),v,Object(O["a"])(f))},filters:function(){var e={dateRange:{dateStart:this.dateStart,dateEnd:this.dateEnd},owners:this.ownersToCompare.length>0?this.ownersToCompare:this.ownersFilter,pipeline:this.pipelineFilter,typePeriod:this.settings.periodPredefined[0],typePeriodDisplay:"MONTHS"};return this.dateRangeToCompare&&""!==this.dateRangeToCompare.dateStart&&""!==this.dateRangeToCompare.dateEnd&&(e.dateRangeToCompare=this.dateRangeToCompare),e}},methods:{update:function(){this.$apollo.queries.salesCycleLinearGraph.refetch()}},apollo:{salesCycleLinearGraph:{query:w["H"],fetchPolicy:"no-cache",client:"charts",variables:function(){return{filters:this.filters}},skip:function(){return""===this.dateStart||""===this.dateEnd||!this.pipelineFilter.id||0===this.ownersFilter.length},watchLoading:function(e){this.isLoading=e}}}},D=B,M=(i("9c79"),Object(g["a"])(D,b,F,!1,null,"06549fae",null)),x=M.exports,A={name:"LineSalesCycleByMonthModal",components:{LineSalesCycleByMonthFilter:S,LineSalesCycleByMonthData:x},mixins:[h["c"]],props:{isOpen:{type:Boolean,default:!1},title:{type:String,default:"Sin título"},titleRegular:{type:String,default:""},filters:{type:Object,default:function(){return{filtersConfig:{filterTime:"WEEKS",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownersToCompare:[]},filtersTable:{users:[],pipelines:[],periodRange:{start:"",end:""},dealStatus:""}}}}}},E=A,I=Object(g["a"])(E,n,s,!1,null,"03f7b704",null),k=I.exports,L={name:"LineSalesCycleByMonthPreview",components:{LineSalesCycleByMonthData:x,LineSalesCycleByMonthModal:k,LineSalesCycleByMonthFilter:S},mixins:[h["d"]],props:{defaultPeriod:{type:String,default:"THIS_MONTH"}},data:function(){return{title:"Ciclo",titleRegular:"por mes",chartId:"line-salesCycleByMonth",filtersChartsDefault:{},initFilter:{users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownersToCompare:[],dealStatus:"WON"}}},computed:{filtersConfig:function(){var e,t,i,r,a,o;return{users:this.usersGlobal||(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.users)||this.filtersChartsDefault.users,pipeline:(null===(t=this.chart.filtersFull)||void 0===t?void 0:t.pipeline)||this.initPipeline,periodRange:this.periodRangeGlobal||(null===(i=this.chart.filtersFull)||void 0===i?void 0:i.periodRange)||this.periodRange,periodPredefined:this.periodPredefinedGlobal||(null===(r=this.chart.filtersFull)||void 0===r?void 0:r.periodPredefined)||[this.defaultPeriod]||this.initFilter.periodPredefined,periodRangeToCompare:(null===(a=this.chart.filtersFull)||void 0===a?void 0:a.periodRangeToCompare)||this.initFilter.periodRangeToCompare,ownersToCompare:(null===(o=this.chart.filtersFull)||void 0===o?void 0:o.ownersToCompare)||this.initFilter.ownersToCompare}},filtersTable:function(){var e,t=this.getPeriod(this.initFilter.periodPredefined[0]).get(),i=Object(o["a"])(t,2),r=i[0],a=i[1];return{users:this.usersGlobal||this.users||this.filtersChartsDefault.users,pipelines:this.pipelines||this.initPipelines,periodRange:this.periodRangeGlobal||(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.periodRange)||{start:r,end:a},dealStatus:this.initFilter.dealStatus}}}},j=L,G=(i("792d"),Object(g["a"])(j,r,a,!1,null,"d79ec1f0",null));t["a"]=G.exports},"92c9":function(e,t,i){},"92f9":function(e,t,i){"use strict";i("a44e")},"94a1":function(e,t,i){"use strict";i("0416")},9659:function(e,t,i){"use strict";i("765d")},9786:function(e,t,i){"use strict";i("896c")},"9c2b":function(e,t,i){},"9c79":function(e,t,i){"use strict";i("5ba8")},"9d7f":function(e,t,i){},"9f4f":function(e,t,i){},a052:function(e,t,i){"use strict";i("65ac")},a090:function(e,t,i){},a149:function(e,t,i){"use strict";i("6c83")},a15d:function(e,t,i){},a309:function(e,t,i){"use strict";var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseCardChart",{attrs:{title:e.title,titleRegular:e.titleRegular,settings:e.filtersConfig,isChart:""},on:{updateRefetch:function(t){e.isRefetch=!0}},scopedSlots:e._u([{key:"modal",fn:function(){return[i("LineThroughTimeLostRateFilter",{attrs:{defaultFilter:e.filtersConfig,isIcon:"",isPreview:""}})]},proxy:!0}])},[i("div",{staticClass:"hoverClick",on:{click:e.openModal}},[i("LineThroughTimeLostRateData",{attrs:{defaultFilter:e.filtersConfig,isPreview:"",isRefetch:e.isRefetch},on:{updateRefetch:function(t){e.isRefetch=!1}}})],1),i("LineThroughTimeLostRateModal",{attrs:{isOpen:e.isOpenModal,filters:{filtersConfig:e.filtersConfig,filtersConfig:e.filtersConfig,filtersTable:e.filtersTable},title:e.title,titleRegular:e.titleRegular},on:{close:e.closeModal}})],1)},a=[],o=i("3835"),n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalChart",{attrs:{title:e.title,titleRegular:e.titleRegular,isOpen:e.isOpen},on:{close:e.closeModal},scopedSlots:e._u([{key:"filters",fn:function(){return[i("LineThroughTimeLostRateFilter",{attrs:{defaultFilter:e.filters.filtersConfig}})]},proxy:!0},{key:"chart",fn:function(){return[i("LineThroughTimeLostRateData",{attrs:{defaultFilter:e.filters.filtersConfig,isFull:""}})]},proxy:!0},{key:"table",fn:function(){return[i("TableDeals",{attrs:{defaultFilter:e.filters.filtersTable}})]},proxy:!0}])})},s=[],l=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalFilters",{attrs:{isOpen:e.isOpenModalFilter,isIcon:e.isIcon},on:{save:e.saveFilter,statusModal:e.statusModal}},[i("v-row",[i("v-col",{attrs:{cols:"12"}},[i("Select",{attrs:{name:"Filtrar por",defaultSelect:e.defaultFilter.filterBy,list:e.listFilterBy},on:{change:e.changeFilterBy}})],1),"none"===e.typeCompare?i("v-col",{attrs:{cols:"12"}},[i("SelectUsers",{attrs:{all:"",defaultSelect:e.defaultFilter.users},on:{change:e.changeUsers}})],1):e._e(),i("v-col",{attrs:{cols:"12"}},[i("SelectPipeline",{attrs:{defaultSelect:e.defaultFilter.pipeline},on:{change:e.changePipeline}})],1),i("v-col",{attrs:{cols:"12"}},[i("PeriodPredefined",{attrs:{defaultSelect:e.defaultFilter.periodPredefined},on:{change:e.changePeriodPredefined}})],1),e.isPreview?e._e():i("v-col",{attrs:{cols:"12"}},[i("ComparePeriodLines",{attrs:{periodPredefined:e.filters.periodPredefined[0]},on:{change:e.changeComparePeriod}})],1)],1)],1)},d=[],p=i("5530"),c=i("740f"),u=i("d344"),f=i("6321"),h=i("c065"),v=i("e050"),m={name:"LineThroughTimeLostRateFilter",components:{SelectUsers:c["a"],SelectPipeline:f["a"],Select:u["a"]},mixins:[v["b"]],props:{defaultFilter:{type:Object,default:function(){return{filterBy:"count",filterTime:"WEEKS",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""}}}}},data:function(){return{listTime:h["d"],listFilterBy:h["e"],filters:{filterBy:"count",filterTime:"WEEKS",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""}}}},methods:{saveFilter:function(){this.changeChart({id:"line-throughTimeLostRate",filtersFull:Object(p["a"])(Object(p["a"])({},this.noReactive(this.filters)),{},{periodRange:Object(p["a"])({__typename:"PeriodRange"},this.filters.periodRange)})}),this.isOpenModalFilter=!1}}},g=m,C=i("0c7c"),R=i("6544"),T=i.n(R),y=i("62ad"),P=i("0fd9"),S=Object(C["a"])(g,l,d,!1,null,"89662138",null),b=S.exports;T()(S,{VCol:y["a"],VRow:P["a"]});var F=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.isPreview?e._e():i("ListFilters",{attrs:{settings:e.settings}}),i("div",{staticClass:"text-center bgWhite",class:[{"py-5 px-3":!e.isPreview},{showScroll:e.isWithScroll}]},[i("apexchart",{attrs:{height:e.isPreview?250:350,type:"line",options:e.options,series:e.series}})],1)],1)},O=[],w=i("2909"),_=(i("d81d"),i("b0c0"),i("99af"),i("8d7e")),B=i("b3b3"),D={name:"LineThroughTimeLostRateData",mixins:[v["a"]],props:{defaultFilter:{type:Object,default:function(){return{filterBy:"count",filterTime:"WEEKS",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"]}}}},data:function(){return{throughTimeLostRateLinearGraph:{mainDateList:[],secondDateList:[],mainLostRateThroughTime:[],secondLostRateThroughTime:[],mainAverageDateLostRateThroughTime:[],secondAverageDateLostRateThroughTime:[]},modalSettings:{filterBy:"count",filterTime:"WEEKS",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:[]},settings:{filterBy:"count",filterTime:"WEEKS",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:[]}}},computed:{options:function(){var e,t;return{chart:{height:this.isPreview?"250":"350",width:this.isWithScroll?"1200":"100%",type:"line",toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1},legend:{position:"top",horizontalAlign:this.isWithScroll?"left":"center",showForSingleSeries:!0},stroke:{width:[5,7,5],curve:"straight",dashArray:[0,8,5]},markers:{size:5,colors:void 0,strokeColors:"#fff",strokeWidth:2,strokeOpacity:.9,strokeDashArray:0,fillOpacity:1,discrete:[],shape:"circle",radius:2,offsetX:0,offsetY:0,onClick:void 0,onDblClick:void 0,showNullDataPoints:!0,hover:{size:void 0,sizeOffset:3}},colors:B["b"],grid:{row:{colors:["#f3f3f3","transparent"],opacity:.5}},xaxis:{categories:null===(e=this.throughTimeLostRateLinearGraph)||void 0===e||null===(t=e.mainDateList)||void 0===t?void 0:t.map((function(e){return e.dateString})),title:{text:this.showTitleXaxis},labels:{rotate:this.rotate}},yaxis:{title:{text:this.showTitleYaxis},tickAmount:1,labels:{formatter:function(e){return 5e-324===e?"0%":"".concat(e,"%")}}}}},rotate:function(){if(this.isLargeWidth){if(this.isWeeks)return"-90";if(this.isMonths)return"0"}return 0},showTitleXaxis:function(){if(!this.isPreview)return this.isWeeks?"Semanas":"Meses"},showTitleYaxis:function(){if(!this.isPreview)return this.isCount?"Cantidad":"Valor"},series:function(){var e,t,i,r,a,o,n,s,l,d,p,c=this,u=(null===(e=this.throughTimeLostRateLinearGraph)||void 0===e||null===(t=e.mainLostRateThroughTime)||void 0===t||null===(i=t.lostRatesThroughTime)||void 0===i?void 0:i.map((function(e){var t=e.name,i=e.lostRateCountList,r=e.lostRateSumList;return{name:t,data:c.isCount?c.convertTwoDigits(i):c.convertTwoDigits(r)}})))||[],f=this.dateRangeToCompare&&(null===(r=this.throughTimeLostRateLinearGraph)||void 0===r||null===(a=r.secondLostRateThroughTime)||void 0===a||null===(o=a.lostRatesThroughTime)||void 0===o?void 0:o.length)>0?null===(n=this.throughTimeLostRateLinearGraph)||void 0===n||null===(s=n.secondLostRateThroughTime)||void 0===s||null===(l=s.lostRatesThroughTime)||void 0===l?void 0:l.map((function(e){var t=e.name,i=e.lostRateCountList,r=e.lostRateSumList;return{name:"".concat(t," período anterior"),data:c.isCount?c.convertTwoDigits(i):c.convertTwoDigits(r)}})):[],h=[{name:"Promedio",data:this.isCount?this.convertTwoDigits(this.throughTimeLostRateLinearGraph.mainAverageDateLostRateThroughTime.map((function(e){return e.avgCount}))):this.convertTwoDigits(this.throughTimeLostRateLinearGraph.mainAverageDateLostRateThroughTime.map((function(e){return e.avgSum})))}],v=(null===(d=this.throughTimeLostRateLinearGraph)||void 0===d||null===(p=d.secondLostRateThroughTime)||void 0===p?void 0:p.length)>0?[{name:"Promedio anterior",data:this.isCount?this.convertTwoDigits(this.throughTimeLostRateLinearGraph.secondAverageDateLostRateThroughTime.map((function(e){return e.avgCount}))):this.convertTwoDigits(this.throughTimeLostRateLinearGraph.secondAverageDateLostRateThroughTime.map((function(e){return e.avgSum})))}]:[];return[].concat(h,Object(w["a"])(u),v,Object(w["a"])(f))},filters:function(){var e={dateRange:{dateStart:this.dateStart,dateEnd:this.dateEnd},owners:this.ownersToCompare.length>0?this.ownersToCompare:this.ownersFilter,pipeline:this.pipelineFilter,typePeriod:this.settings.periodPredefined[0],typePeriodDisplay:"MONTHS"};return this.dateRangeToCompare&&""!==this.dateRangeToCompare.dateStart&&""!==this.dateRangeToCompare.dateEnd&&(e.dateRangeToCompare=this.dateRangeToCompare),e}},methods:{update:function(){this.$apollo.queries.throughTimeLostRateLinearGraph.refetch()}},apollo:{throughTimeLostRateLinearGraph:{query:_["O"],fetchPolicy:"no-cache",client:"charts",variables:function(){return{filters:this.filters}},skip:function(){return""===this.dateStart||""===this.dateEnd||!this.pipelineFilter.id||0===this.ownersFilter.length},watchLoading:function(e){this.isLoading=e}}}},M=D,x=(i("4c96"),Object(C["a"])(M,F,O,!1,null,"a816eb96",null)),A=x.exports,E={name:"LineThroughTimeLostRateModal",components:{LineThroughTimeLostRateFilter:b,LineThroughTimeLostRateData:A},mixins:[v["c"]],props:{isOpen:{type:Boolean,default:!1},title:{type:String,default:"Sin título"},titleRegular:{type:String,default:""},filters:{type:Object,default:function(){return{filtersConfig:{filterTime:"WEEKS",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownersToCompare:[]},filtersTable:{users:[],pipelines:[],periodRange:{start:"",end:""},dealStatus:""}}}}}},I=E,k=Object(C["a"])(I,n,s,!1,null,"3764ffec",null),L=k.exports,j={name:"LineThroughTimeLostRatePreview",components:{LineThroughTimeLostRateData:A,LineThroughTimeLostRateModal:L,LineThroughTimeLostRateFilter:b},mixins:[v["d"]],props:{defaultPeriod:{type:String,default:"THIS_MONTH"}},data:function(){return{title:"Tasa perdida",titleRegular:"por mes",chartId:"line-throughTimeLostRate",filtersChartsDefault:{},initFilter:{filterBy:"count",filterTime:"MONTHS",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownersToCompare:[],dealStatus:"LOST"}}},computed:{filtersConfig:function(){var e,t,i,r,a,o,n,s;return{filterBy:(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.filterBy)||this.initFilter.filterBy,filterTime:(null===(t=this.chart.filtersFull)||void 0===t?void 0:t.filterTime)||this.initFilter.filterTime,users:this.usersGlobal||(null===(i=this.chart.filtersFull)||void 0===i?void 0:i.users)||this.filtersChartsDefault.users,pipeline:(null===(r=this.chart.filtersFull)||void 0===r?void 0:r.pipeline)||this.initPipeline,periodRange:this.periodRangeGlobal||(null===(a=this.chart.filtersFull)||void 0===a?void 0:a.periodRange)||this.periodRange,periodPredefined:this.periodPredefinedGlobal||(null===(o=this.chart.filtersFull)||void 0===o?void 0:o.periodPredefined)||[this.defaultPeriod]||this.initFilter.periodPredefined,periodRangeToCompare:(null===(n=this.chart.filtersFull)||void 0===n?void 0:n.periodRangeToCompare)||this.initFilter.periodRangeToCompare,ownersToCompare:(null===(s=this.chart.filtersFull)||void 0===s?void 0:s.ownersToCompare)||this.initFilter.ownersToCompare}},filtersTable:function(){var e,t=this.getPeriod(this.initFilter.periodPredefined[0]).get(),i=Object(o["a"])(t,2),r=i[0],a=i[1];return{users:this.usersGlobal||this.users||this.filtersChartsDefault.users,pipelines:this.pipelines||this.initPipelines,periodRange:this.periodRangeGlobal||(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.periodRange)||{start:r,end:a},dealStatus:this.initFilter.dealStatus}}}},G=j,H=(i("a149"),Object(C["a"])(G,r,a,!1,null,"78216e3c",null));t["a"]=H.exports},a36a:function(e,t,i){},a44e:function(e,t,i){},a54b:function(e,t,i){"use strict";var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseCardChart",{attrs:{title:e.title,titleRegular:e.titleRegular,settings:e.filtersConfig,isChart:""},on:{updateRefetch:function(t){e.isRefetch=!0}},scopedSlots:e._u([{key:"modal",fn:function(){return[i("BarActivitiesByWeekFilter",{attrs:{defaultFilter:e.filtersConfig,isIcon:"",isPreview:""}})]},proxy:!0}])},[i("div",{staticClass:"hoverClick",on:{click:e.openModal}},[i("BarActivitiesByWeekData",{attrs:{defaultFilter:e.filtersConfig,isPreview:"",isRefetch:e.isRefetch},on:{updateRefetch:function(t){e.isRefetch=!1}}})],1),i("BarActivitiesByWeekModal",{attrs:{isOpen:e.isOpenModal,filters:{filtersConfig:e.filtersConfig,filtersTable:e.filtersTable},title:e.title,titleRegular:e.titleRegular},on:{close:e.closeModal}})],1)},a=[],o=i("3835"),n=(i("d81d"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalFilters",{attrs:{isOpen:e.isOpenModalFilter,isIcon:e.isIcon},on:{save:e.saveFilter,statusModal:e.statusModal}},[i("v-row",[i("v-col",{attrs:{cols:"12"}},[i("SelectActivities",{attrs:{all:"",defaultSelect:e.defaultFilter.activityTypes},on:{change:e.changeActivityTypes}})],1),i("v-col",{attrs:{cols:"12"}},[i("Select",{attrs:{name:"Estado de la actividad",defaultSelect:e.defaultFilter.activityFilter,list:e.listStatusActivities},on:{change:e.changeStatusActivity}})],1),i("v-col",{attrs:{cols:"12"}},[i("SelectUsers",{attrs:{all:"",defaultSelect:e.defaultFilter.users},on:{change:e.changeUsers}})],1),i("v-col",{attrs:{cols:"12"}},[i("SelectPipeline",{attrs:{defaultSelect:e.defaultFilter.pipeline},on:{change:e.changePipeline}})],1),i("v-col",{attrs:{cols:"12"}},[i("PeriodPredefined",{attrs:{defaultSelect:e.defaultFilter.periodPredefined},on:{change:e.changePeriodPredefined}})],1),e.isPreview?e._e():i("v-col",{attrs:{cols:"12"}},[i("ComparePeriodBars",{attrs:{periodPredefined:e.filters.periodPredefined[0]},on:{change:e.changeComparePeriod}})],1)],1)],1)}),s=[],l=i("5530"),d=i("740f"),p=i("d344"),c=i("6321"),u=i("c065"),f=i("19c4"),h=i("52e2"),v={name:"BarActivitiesByWeekFilter",components:{SelectUsers:d["a"],SelectPipeline:c["a"],Select:p["a"],SelectActivities:f["a"]},mixins:[h["b"]],props:{defaultFilter:{type:Object,default:function(){return{activityTypes:[],activityFilter:"ALL",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{},typeCompare:"none"}}}},data:function(){return{listStatusActivities:u["b"],listStatusDeals:u["c"],filters:{activityTypes:[],activityFilter:"ALL",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{},typeCompare:"none"}}},methods:{saveFilter:function(){this.changeChart({id:"bar-activitiesByWeek",filtersFull:Object(l["a"])(Object(l["a"])({},this.noReactive(this.filters)),{},{periodRange:Object(l["a"])({__typename:"PeriodRange"},this.filters.periodRange),ownerToCompare:Object(l["a"])({},this.filters.ownerToCompare)})}),this.isOpenModalFilter=!1}}},m=v,g=i("0c7c"),C=i("6544"),R=i.n(C),T=i("62ad"),y=i("0fd9"),P=Object(g["a"])(m,n,s,!1,null,"f461efe0",null),S=P.exports;R()(P,{VCol:T["a"],VRow:y["a"]});var b=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.isPreview?e._e():i("ListFilters",{attrs:{settings:e.settings}}),i("div",{staticClass:"text-center bgWhite",class:[{"py-5 px-3":!e.isPreview},{showScroll:e.isWithScroll}]},[i("apexchart",{attrs:{height:e.isPreview?250:350,type:"bar",options:e.options,series:e.series}}),e.isPreview||"date"!==e.settings.typeCompare?e._e():i("h4",[e._v(" Comparación de fecha ")]),e.isPreview||"user"!==e.settings.typeCompare?e._e():i("h4",[e._v(" Comparación con otro usuario ")]),e.isPreview||"none"===e.settings.typeCompare?e._e():i("apexchart",{attrs:{height:e.isPreview?250:350,type:"bar",options:e.optionsCompare,series:e.seriesCompare}})],1),e.isPreview?e._e():i("BarActivitiesByWeekInformation",{attrs:{information:e.activitiesByWeekVerticalBarsGraph.informationBar,filterBy:e.settings.filterBy}})],1)},F=[],O=(i("b680"),i("8d7e")),w=i("b3b3"),_=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-card",{staticClass:"mt-5",attrs:{flat:""}},[i("v-container",[i("v-row",{staticClass:"justify-center"},[i("v-col",{attrs:{cols:"3"}},[i("span",[i("b",[e._v("Actividades reagendadas:")]),e._v(" "+e._s(e.information.bookedActivities&&e.information.bookedActivities.count)+" ")])]),i("v-col",{attrs:{cols:"3"}},[i("b",[e._v("Actividades completadas:")]),e._v(" "+e._s(e.information.completedActivities&&e.information.completedActivities.count)+" ")]),i("v-col",{attrs:{cols:"3"}},[i("b",[e._v("Actividades efectivas:")]),e._v(" "+e._s(e.information.effectiveActivities&&e.information.effectiveActivities.count)+" ")]),i("v-col",{attrs:{cols:"3"}},[i("b",[e._v("Actividades inefectivas:")]),e._v(" "+e._s(e.information.ineffectiveActivities&&e.information.ineffectiveActivities.count)+" ")])],1)],1)],1)},B=[],D={name:"BarActivitiesByWeekInformation",props:{information:{type:Object,default:function(){return{}}},filterBy:{type:String,default:"count"}}},M=D,x=i("b0af"),A=i("a523"),E=Object(g["a"])(M,_,B,!1,null,null,null),I=E.exports;R()(E,{VCard:x["a"],VCol:T["a"],VContainer:A["a"],VRow:y["a"]});var k={name:"BarActivitiesByWeekData",mixins:[h["a"]],components:{BarActivitiesByWeekInformation:I},props:{defaultFilter:{type:Object,default:function(){return{activityTypes:[],activityFilter:"ALL",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],typeCompare:"none"}}}},data:function(){return{listFilterBy:u["e"],activitiesByWeekVerticalBarsGraph:{mainActivitiesByWeek:[],secondActivitiesByWeek:[]},modalSettings:{activityTypes:[],activityFilter:"ALL",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],typeCompare:"none"},settings:{activityTypes:[],activityFilter:"ALL",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],typeCompare:"none"}}},computed:{options:function(){return this.formatOptions(this.activitiesByWeekVerticalBarsGraph.mainActivitiesByWeek.datesStringList)},optionsCompare:function(){var e,t;return null!==(e=this.activitiesByWeekVerticalBarsGraph)&&void 0!==e&&null!==(t=e.secondActivitiesByWeek)&&void 0!==t&&t.datesStringList?this.formatOptions(this.activitiesByWeekVerticalBarsGraph.secondActivitiesByWeek.datesStringList):{}},series:function(){return this.formatSeries(this.activitiesByWeekVerticalBarsGraph.mainActivitiesByWeek.activitiesByWeek)},seriesCompare:function(){var e,t;return null!==(e=this.activitiesByWeekVerticalBarsGraph)&&void 0!==e&&null!==(t=e.secondActivitiesByWeek)&&void 0!==t&&t.activitiesByWeek?this.formatSeries(this.activitiesByWeekVerticalBarsGraph.secondActivitiesByWeek.activitiesByWeek,"date"===this.settings.typeCompare):[]},showTitleXaxis:function(){if(!this.isPreview)return"Total"},showTitleYaxis:function(){if(!this.isPreview)return"Etapas"},isWithScroll:function(){return this.isLargeWidth&&this.isPreview},filters:function(){var e={dateRange:{dateStart:this.dateStart,dateEnd:this.dateEnd},owners:this.ownersFilter,pipeline:this.pipelineFilter,activityTypes:this.settings.activityTypes.map((function(e){return{id:e.id}})),activityFilter:this.settings.activityFilter};return this.ownerToCompare&&(e.ownerToCompare=this.ownerToCompare),this.dateRangeToCompare&&""!==this.dateRangeToCompare.dateStart&&""!==this.dateRangeToCompare.dateEnd&&(e.dateRangeToCompare=this.dateRangeToCompare),e}},methods:{formatOptions:function(e){return{chart:{type:"bar",height:this.isPreview?"250":"350",width:this.isWithScroll?"600":"100%",toolbar:{show:!1},zoom:{enabled:!1}},colors:w["a"],dataLabels:{enabled:!1},xaxis:{categories:e||[]},yaxis:{tickAmount:1,labels:{formatter:function(e){return e.toFixed(0)}}},legend:{position:"top",horizontalAlign:this.isPreview?"left":"center",showForSingleSeries:!0}}},formatSeries:function(e,t){return e?e.map((function(e){return{name:t?"".concat(e.typeName," anterior"):e.typeName,data:e.countList.map((function(e){var t=e.count;return t}))}})):[]},update:function(){this.$apollo.queries.activitiesByWeekVerticalBarsGraph.refetch()}},apollo:{activitiesByWeekVerticalBarsGraph:{query:O["b"],fetchPolicy:"no-cache",client:"charts",variables:function(){return{filters:this.filters}},skip:function(){return""===this.dateStart||""===this.dateEnd||!this.pipelineFilter.id||0===this.ownersFilter.length||0===this.filters.activityTypes.length},watchLoading:function(e){this.isLoading=e}}}},L=k,j=(i("92f9"),Object(g["a"])(L,b,F,!1,null,"8fa6787c",null)),G=j.exports,H=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalChart",{attrs:{title:e.title,titleRegular:e.titleRegular,isOpen:e.isOpen},on:{close:e.closeModal},scopedSlots:e._u([{key:"filters",fn:function(){return[i("BarActivitiesByWeekFilter",{attrs:{defaultFilter:e.filters.filtersConfig}})]},proxy:!0},{key:"chart",fn:function(){return[i("BarActivitiesByWeekData",{attrs:{defaultFilter:e.filters.filtersConfig,isFull:""}})]},proxy:!0},{key:"table",fn:function(){return[i("TableActivities",{attrs:{defaultFilter:e.filters.filtersTable}})]},proxy:!0}])})},V=[],N=i("157d"),U={name:"BarActivitiesByWeekModal",components:{BarActivitiesByWeekFilter:S,BarActivitiesByWeekData:G,TableActivities:N["a"]},mixins:[h["c"]],props:{filters:{type:Object,default:function(){return{filtersConfig:{activityTypes:[],activityFilter:"ALL",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{},typeCompare:"none"},filtersTable:{users:[],pipelines:[],periodRange:{start:"",end:""},dealStatus:"",stages:[],activityTypes:[],fromReportStatus:"ACTIVITIESBYWEEK"}}}}}},W=U,$=Object(g["a"])(W,H,V,!1,null,"e903ff46",null),z=$.exports,q={name:"BarActivitiesByWeekPreview",components:{BarActivitiesByWeekData:G,BarActivitiesByWeekModal:z,BarActivitiesByWeekFilter:S},mixins:[h["d"]],props:{defaultPeriod:{type:String,default:"THIS_MONTH"}},data:function(){return{chartId:"bar-activitiesByWeek",title:"Actividades",titleRegular:"por semana",filtersChartsDefault:{},initFilter:{dealsFilter:"ALL",activitiesFilter:"ALL",activityTypes:[],activityFilter:"ALL",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{},dealStatus:"ALL",typeCompare:"none",stages:[],fromReportStatus:"ACTIVITIESBYWEEK"}}},computed:{filtersConfig:function(){var e,t,i,r,a,o,n,s,l;return{activityTypes:(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.activityTypes)||this.filtersChartsDefault.activityTypes.map((function(e){return{id:e.id}})),activityFilter:(null===(t=this.chart.filtersFull)||void 0===t?void 0:t.activityFilter)||this.initFilter.activityFilter,users:this.usersGlobal||(null===(i=this.chart.filtersFull)||void 0===i?void 0:i.users)||this.initUsers,pipeline:(null===(r=this.chart.filtersFull)||void 0===r?void 0:r.pipeline)||this.initPipeline,periodRange:this.periodRangeGlobal||(null===(a=this.chart.filtersFull)||void 0===a?void 0:a.periodRange)||this.periodRange,periodPredefined:this.periodPredefinedGlobal||(null===(o=this.chart.filtersFull)||void 0===o?void 0:o.periodPredefined)||[this.defaultPeriod]||this.initFilter.periodPredefined,periodRangeToCompare:(null===(n=this.chart.filtersFull)||void 0===n?void 0:n.periodRangeToCompare)||this.initFilter.periodRangeToCompare,ownerToCompare:(null===(s=this.chart.filtersFull)||void 0===s?void 0:s.ownerToCompare)||this.initFilter.ownerToCompare,typeCompare:(null===(l=this.chart.filtersFull)||void 0===l?void 0:l.typeCompare)||this.initFilter.typeCompare}},filtersTable:function(){var e,t=this.getPeriod(this.initFilter.periodPredefined[0]).get(),i=Object(o["a"])(t,2),r=i[0],a=i[1];return{users:this.usersGlobal||this.users||this.initUsers,pipelines:this.pipelines||[this.initPipeline],periodRange:this.periodRangeGlobal||(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.periodRange)||{start:r,end:a},dealStatus:this.initFilter.dealStatus,activitiesStatus:this.initFilter.activitiesFilter,activityTypes:this.filtersChartsDefault.activityTypes||this.initFilter.activityTypes,fromReportStatus:this.initFilter.fromReportStatus}}}},Y=q,K=(i("57cc"),Object(g["a"])(Y,r,a,!1,null,"578794d6",null));t["a"]=K.exports},a5d5:function(e,t,i){"use strict";i("bc92")},a635:function(e,t,i){"use strict";var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseCardChart",{attrs:{title:e.title,titleRegular:e.titleRegular,settings:e.filtersConfig},on:{updateRefetch:function(t){e.isRefetch=!0}},scopedSlots:e._u([{key:"modal",fn:function(){return[i("CardCompletedActivitiesFilter",{attrs:{defaultFilter:e.filtersConfig,isIcon:"",isPreview:""}})]},proxy:!0}])},[i("div",{staticClass:"hoverClick",on:{click:e.openModal}},[i("CardCompletedActivitiesData",{attrs:{defaultFilter:e.filtersConfig,isPreview:"",isRefetch:e.isRefetch},on:{updateRefetch:function(t){e.isRefetch=!1}}})],1),i("CardCompletedActivitiesModal",{attrs:{isOpen:e.isOpenModal,filters:{filtersConfig:e.filtersConfig,filtersTable:e.filtersTable},title:e.title,titleRegular:e.titleRegular},on:{close:e.closeModal}})],1)},a=[],o=i("3835"),n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalChart",{attrs:{title:e.title,titleRegular:e.titleRegular,isOpen:e.isOpen},on:{close:e.closeModal},scopedSlots:e._u([{key:"filters",fn:function(){return[i("CardCompletedActivitiesFilter",{attrs:{defaultFilter:e.filters.filtersConfig}})]},proxy:!0},{key:"chart",fn:function(){return[i("CardCompletedActivitiesData",{attrs:{defaultFilter:e.filters.filtersConfig}})]},proxy:!0},{key:"table",fn:function(){return[i("TableActivities",{attrs:{defaultFilter:e.filters.filtersTable}})]},proxy:!0}])})},s=[],l=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.isPreview?e._e():i("ListFilters",{attrs:{settings:e.settings}}),i("BaseCardNumber",{attrs:{information:{numberMain:""+e.generalConvertionRateFormat,textMain:e.textMain,valueMain:e.valueMain,textMainType:e.textChart,isCompare:!e.isPreview&&e.settings.periodRangeToCompare.period.length>0,numberCompare:""+e.generalConvertionRateCompare,textCompare:e.textCompare,valueCompare:e.valueCompare,numberDifferenceCompare:e.comparePercentage}}}),e.isPreview?e._e():i("CardCompletedActivitiesInformation",{attrs:{information:e.completedActivitiesCard.informationBar,filterBy:e.settings.filterBy}})],1)},d=[],p=(i("b680"),i("99af"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-card",{staticClass:"mt-5",attrs:{flat:""}},[i("v-container",[i("v-row",{staticClass:"justify-center"},[i("v-col",{attrs:{cols:"3"}},[e._l(e.information.usersCompletedActivities,(function(t,r){return[i("span",{key:r,staticClass:"d-block"},[i("b",[e._v(e._s(t.name))]),e._v(" : "+e._s(t[e.filterBy])+" ")])]}))],2),e._l(e.information.periodsCompletedActivities,(function(t,r){return[i("v-col",{key:r,attrs:{cols:"3"}},[i("span",{staticClass:"d-block"},[i("b",[e._v(e._s(e.rowOne[r]))]),e._v(" : "+e._s(t.count)+" ")])])]}))],2)],1)],1)}),c=[],u={name:"CardBookedActivitiesInDayInformation",props:{information:{type:Object,default:function(){return{}}},filterBy:{type:String,default:"count"}},data:function(){return{rowOne:["Este período","Período pasado","Mismo período el mes anterior"]}}},f=u,h=i("0c7c"),v=i("6544"),m=i.n(v),g=i("b0af"),C=i("62ad"),R=i("a523"),T=i("0fd9"),y=Object(h["a"])(f,p,c,!1,null,null,null),P=y.exports;m()(y,{VCard:g["a"],VCol:C["a"],VContainer:R["a"],VRow:T["a"]});var S=i("8d7e"),b=i("0db6"),F={name:"CardCompletedActivitiesData",mixins:[b["a"]],components:{CardCompletedActivitiesInformation:P},props:{defaultFilter:{type:Object,default:function(){return{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""}}}},isPreview:{type:Boolean,default:!1}},data:function(){return{completedActivitiesCard:{},modalSettings:{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:[],periodRangeToCompare:{period:"",start:"",end:""}},settings:{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:[],periodRangeToCompare:{period:"",start:"",end:""}}}},computed:{comparePercentage:function(){return"0"===this.generalConvertionRateCompare?"100":(100*this.generalConvertionRateFormat/this.generalConvertionRateCompare-100).toFixed(2)},generalConvertionRateFormat:function(){var e,t,i;return this.completedActivitiesCard&&void 0!==(null===(e=this.completedActivitiesCard)||void 0===e||null===(t=e.mainCompletedActivities)||void 0===t?void 0:t.count)&&(null===(i=this.completedActivitiesCard)||void 0===i?void 0:i.mainCompletedActivities.count)||"0"},generalConvertionRateCompare:function(){var e,t,i;return this.completedActivitiesCard&&void 0!==(null===(e=this.completedActivitiesCard)||void 0===e||null===(t=e.secondCompletedActivities)||void 0===t?void 0:t.count)&&(null===(i=this.completedActivitiesCard)||void 0===i?void 0:i.secondCompletedActivities.count)||"0"},textCompare:function(){return"PREVIOUS_PERIOD"===this.settings.periodRangeToCompare.period?this.settings.periodPredefined[3]:"PREVIOUS_YEAR"===this.settings.periodRangeToCompare.period?"Año anterior":"CUSTOM"===this.settings.periodRangeToCompare.period?"Personalizado":""},valueCompare:function(){return this.isPreview||"CUSTOM"!==this.settings.periodRangeToCompare.period?"":"".concat(this.formatDate(this.filters.dateRangeToCompare.dateStart)," - ").concat(this.formatDate(this.filters.dateRangeToCompare.dateEnd))},textMain:function(){return this.isPreview?"":this.settings.periodPredefined[2]},valueMain:function(){return!this.isPreview&&this.settings.periodPredefined.length>0&&"CUSTOM"===this.settings.periodPredefined[0]?"".concat(this.formatDate(this.filters.dateRange.dateStart)," - ").concat(this.formatDate(this.filters.dateRange.dateEnd)):""},filters:function(){var e={dateRange:{dateStart:this.dateStart,dateEnd:this.dateEnd},owners:this.ownersFilter,pipeline:this.pipelineFilter};return this.dateRangeToCompare&&""!==this.dateRangeToCompare.dateStart&&""!==this.dateRangeToCompare.dateEnd&&(e.dateRangeToCompare=this.dateRangeToCompare),e}},methods:{update:function(){this.$apollo.queries.completedActivitiesCard.refetch()}},apollo:{completedActivitiesCard:{query:S["j"],fetchPolicy:"no-cache",client:"charts",variables:function(){return{filters:this.filters}},skip:function(){return""===this.dateStart||""===this.dateEnd||!this.pipelineFilter.id||0===this.ownersFilter.length},loadingKey:"isLoading"}}},O=F,w=Object(h["a"])(O,l,d,!1,null,"dfa5718a",null),_=w.exports,B=i("157d"),D=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalFilters",{attrs:{isOpen:e.isOpenModalFilter,isIcon:e.isIcon},on:{save:e.saveFilter,statusModal:e.statusModal}},[i("v-row",[i("v-col",{attrs:{cols:"12"}},[i("SelectUsers",{attrs:{all:"",defaultSelect:e.defaultFilter.users},on:{change:e.changeUsers}})],1),i("v-col",{attrs:{cols:"12"}},[i("SelectPipeline",{attrs:{defaultSelect:e.defaultFilter.pipeline},on:{change:e.changePipeline}})],1),i("v-col",{attrs:{cols:"12"}},[i("PeriodPredefined",{attrs:{defaultSelect:e.defaultFilter.periodPredefined},on:{change:e.changePeriodPredefined}})],1),e.isPreview?e._e():i("v-col",{attrs:{cols:"12"}},[i("ComparePeriod",{attrs:{periodPredefined:e.filters.periodPredefined[0]},on:{change:e.changeComparePeriod}})],1)],1)],1)},M=[],x=i("5530"),A=i("740f"),E=i("6321"),I={name:"CardCompletedActivitiesFilter",components:{SelectUsers:A["a"],SelectPipeline:E["a"]},mixins:[b["b"]],props:{defaultFilter:{type:Object,default:function(){return{users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""}}}},isIcon:{type:Boolean,default:!1},isPreview:{type:Boolean,default:!1}},data:function(){return{filters:{users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""}}}},methods:{changeComparePeriod:function(e){var t=e.isCompare,i=e.periodCompare;if(t){if(i&&(this.filters.periodRangeToCompare.period=i.periodSelected,i.periodRange.length>0)){var r=Object(o["a"])(i.periodRange,2);this.filters.periodRangeToCompare.start=r[0],this.filters.periodRangeToCompare.end=r[1]}}else this.filters.periodRangeToCompare.period="",this.filters.periodRangeToCompare.start="",this.filters.periodRangeToCompare.end=""},saveFilter:function(){this.changeChart({id:"card-completedActivities",filtersFull:Object(x["a"])(Object(x["a"])({},this.noReactive(this.filters)),{},{periodRange:Object(x["a"])({__typename:"PeriodRange"},this.filters.periodRange)})}),this.isOpenModalFilter=!1}}},k=I,L=Object(h["a"])(k,D,M,!1,null,"762ff6ce",null),j=L.exports;m()(L,{VCol:C["a"],VRow:T["a"]});var G={name:"CardCompletedActivitiesModal",components:{CardCompletedActivitiesData:_,CardCompletedActivitiesFilter:j,TableActivities:B["a"]},mixins:[b["c"]],props:{isOpen:{type:Boolean,default:!1},title:{type:String,default:"Sin título"},titleRegular:{type:String,default:""},filters:{type:Object,default:function(){return{filtersConfig:{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""}},filtersTable:{users:[],pipelines:[],periodRange:{start:"",end:""},dealStatus:"",stages:[],activityTypes:[],fromReportStatus:"ACTIVITIESBYSTAGE"}}}}}},H=G,V=Object(h["a"])(H,n,s,!1,null,"7151618a",null),N=V.exports,U={name:"CardCompletedActivitiesPreview",components:{CardCompletedActivitiesData:_,CardCompletedActivitiesModal:N,CardCompletedActivitiesFilter:j},mixins:[b["d"]],props:{defaultPeriod:{type:String,default:"THIS_MONTH"}},data:function(){return{title:"Actividades",titleRegular:"completadas",isOpenModal:!1,chartId:"card-completedActivities",filtersChartsDefault:{},initFilter:{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""},activitiesFilter:"COMPLETED",activityTypes:[],fromReportStatus:"ACTIVITIES_CARD"}}},computed:{filtersConfig:function(){var e,t,i,r,a,o;return{filterBy:(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.filterBy)||this.initFilter.filterBy,users:this.usersGlobal||(null===(t=this.chart.filtersFull)||void 0===t?void 0:t.users)||this.initUsers,pipeline:(null===(i=this.chart.filtersFull)||void 0===i?void 0:i.pipeline)||this.initPipeline,periodRange:this.periodRangeGlobal||(null===(r=this.chart.filtersFull)||void 0===r?void 0:r.periodRange)||this.periodRange,periodPredefined:this.periodPredefinedGlobal||(null===(a=this.chart.filtersFull)||void 0===a?void 0:a.periodPredefined)||[this.defaultPeriod]||this.initFilter.periodPredefined,periodRangeToCompare:(null===(o=this.chart.filtersFull)||void 0===o?void 0:o.periodRangeToCompare)||this.initFilter.periodRangeToCompare}},filtersTable:function(){var e,t=this.getPeriod(this.initFilter.periodPredefined[0]).get(),i=Object(o["a"])(t,2),r=i[0],a=i[1];return{users:this.usersGlobal||this.users||this.initUsers,pipelines:this.pipelines||[this.initPipeline],periodRange:this.periodRangeGlobal||(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.periodRange)||{start:r,end:a},activitiesStatus:this.initFilter.activitiesFilter,activityTypes:this.filtersChartsDefault.activityTypes||this.initFilter.activityTypes,fromReportStatus:this.initFilter.fromReportStatus}}}},W=U,$=(i("a989"),Object(h["a"])(W,r,a,!1,null,"4972a1cc",null));t["a"]=$.exports},a6a1:function(e,t,i){"use strict";var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseCardChart",{attrs:{title:e.title,titleRegular:e.titleRegular,settings:e.filtersConfig},on:{updateRefetch:function(t){e.isRefetch=!0}},scopedSlots:e._u([{key:"modal",fn:function(){return[i("CardAverageDaysInPipelineFilter",{attrs:{defaultFilter:e.filtersConfig,isIcon:"",isPreview:""}})]},proxy:!0}])},[i("div",{staticClass:"hoverClick",on:{click:e.openModal}},[i("CardAverageDaysInPipelineData",{attrs:{defaultFilter:e.filtersConfig,isPreview:"",isRefetch:e.isRefetch},on:{updateRefetch:function(t){e.isRefetch=!1}}})],1),i("CardAverageDaysInPipelineModal",{attrs:{isOpen:e.isOpenModal,filters:{filtersConfig:e.filtersConfig,filtersTable:e.filtersTable},title:e.title,titleRegular:e.titleRegular},on:{close:e.closeModal}})],1)},a=[],o=i("3835"),n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalChart",{attrs:{title:e.title,titleRegular:e.titleRegular,isOpen:e.isOpen},on:{close:e.closeModal},scopedSlots:e._u([{key:"filters",fn:function(){return[i("CardAverageDaysInPipelineFilter",{attrs:{defaultFilter:e.filters.filtersConfig}})]},proxy:!0},{key:"chart",fn:function(){return[i("CardAverageDaysInPipelineData",{attrs:{defaultFilter:e.filters.filtersConfig}})]},proxy:!0},{key:"table",fn:function(){return[i("TableDeals",{attrs:{defaultFilter:e.filters.filtersTable}})]},proxy:!0}])})},s=[],l=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.isPreview?e._e():i("ListFilters",{attrs:{settings:e.settings}}),i("BaseCardNumber",{attrs:{information:{numberMain:""+e.numberMain,textMain:e.textMain,valueMain:e.valueMain,textMainType:"Promedio",isCompare:!e.isPreview&&(e.settings.periodRangeToCompare.period.length>0||e.isCompareUser),numberCompare:""+e.numberCompare,textCompare:e.textCompare,valueCompare:e.valueCompare,numberDifferenceCompare:e.comparePercentage}}}),e.isPreview?e._e():i("CardAverageDaysInPipelineInformation",{attrs:{information:e.averageDaysInPipelineCard.informationBar,filterBy:e.settings.filterBy}})],1)},d=[],p=(i("b680"),i("b0c0"),i("99af"),i("8d7e")),c=i("0db6"),u=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-card",{staticClass:"mt-5",attrs:{flat:""}},[i("v-container",[i("v-row",{staticClass:"justify-center"},[i("v-col",{attrs:{cols:"3"}},[e._l(e.information.usersAvgDaysInPipeline,(function(t,r){return[i("span",{key:r,staticClass:"d-block"},[i("b",[e._v(e._s(t.name))]),e._v(" : "+e._s(t.avg.toFixed(2))+" ")])]}))],2),e._l(e.information.periodsAvgDaysInPipeline,(function(t,r){return[i("v-col",{key:r,attrs:{cols:"3"}},[i("span",{staticClass:"d-block"},[i("b",[e._v(e._s(e.rowOne[r]))]),e._v(" : "+e._s(t.avg.toFixed(2))+" ")])])]}))],2)],1)],1)},f=[],h={name:"CardAverageDaysInPipelineInformation",props:{information:{type:Object,default:function(){return{}}},filterBy:{type:String,default:"count"}},data:function(){return{rowOne:["Este período","Período pasado","Mismo período el mes anterior"]}}},v=h,m=i("0c7c"),g=i("6544"),C=i.n(g),R=i("b0af"),T=i("62ad"),y=i("a523"),P=i("0fd9"),S=Object(m["a"])(v,u,f,!1,null,null,null),b=S.exports;C()(S,{VCard:R["a"],VCol:T["a"],VContainer:y["a"],VRow:P["a"]});var F={name:"CardAverageDaysInPipelineData",mixins:[c["a"]],components:{CardAverageDaysInPipelineInformation:b},props:{defaultFilter:{type:Object,default:function(){return{users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{id:""}}}},isPreview:{type:Boolean,default:!1}},data:function(){return{averageDaysInPipelineCard:{},modalSettings:{users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:[],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{id:""}},settings:{users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:[],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{id:""}}}},computed:{isCompareUser:function(){var e,t,i,r,a,o;return(null===(e=this.averageDaysInPipelineCard)||void 0===e||null===(t=e.mainPipelineAvg)||void 0===t?void 0:t.id)!==(null===(i=this.averageDaysInPipelineCard)||void 0===i||null===(r=i.secondPipelineAvg)||void 0===r?void 0:r.id)&&""!==(null===(a=this.settings)||void 0===a||null===(o=a.ownerToCompare)||void 0===o?void 0:o.id)},comparePercentage:function(){return"0.00"===this.numberCompare?"0.00":(100*this.numberMain/this.numberCompare-100).toFixed(2)},numberMain:function(){var e,t,i;return this.averageDaysInPipelineCard&&void 0!==(null===(e=this.averageDaysInPipelineCard)||void 0===e||null===(t=e.mainPipelineAvg)||void 0===t?void 0:t.avg)&&"".concat(null===(i=this.averageDaysInPipelineCard)||void 0===i?void 0:i.mainPipelineAvg.avg.toFixed(2))||"0.00"},numberCompare:function(){var e,t,i;return this.averageDaysInPipelineCard&&void 0!==(null===(e=this.averageDaysInPipelineCard)||void 0===e||null===(t=e.secondPipelineAvg)||void 0===t?void 0:t.avg)&&"".concat(null===(i=this.averageDaysInPipelineCard)||void 0===i?void 0:i.secondPipelineAvg.avg.toFixed(2))||"0.00"},textCompare:function(){return"PREVIOUS_PERIOD"===this.settings.periodRangeToCompare.period?this.settings.periodPredefined[3]:"PREVIOUS_YEAR"===this.settings.periodRangeToCompare.period?"Año anterior":"CUSTOM"===this.settings.periodRangeToCompare.period?"Personalizado":""},valueCompare:function(){if(!this.isPreview){var e,t;if(this.isCompareUser)return null===(e=this.averageDaysInPipelineCard)||void 0===e||null===(t=e.secondPipelineAvg)||void 0===t?void 0:t.name;if("CUSTOM"===this.settings.periodRangeToCompare.period)return"".concat(this.formatDate(this.filters.dateRangeToCompare.dateStart)," - ").concat(this.formatDate(this.filters.dateRangeToCompare.dateEnd))}return""},textMain:function(){return this.isPreview?"":(this.isCompareUser,this.settings.periodPredefined[2])},valueMain:function(){if(!this.isPreview){var e,t;if(this.isCompareUser)return null===(e=this.averageDaysInPipelineCard)||void 0===e||null===(t=e.mainPipelineAvg)||void 0===t?void 0:t.name;if(this.settings.periodPredefined.length>0&&"CUSTOM"===this.settings.periodPredefined[0])return"".concat(this.formatDate(this.filters.dateRange.dateStart)," - ").concat(this.formatDate(this.filters.dateRange.dateEnd))}return""},filters:function(){var e={dateRange:{dateStart:this.dateStart,dateEnd:this.dateEnd},owners:this.ownersFilter,pipeline:this.pipelineFilter};return this.ownerToCompare&&""!==this.ownerToCompare.id&&(e.ownerToCompare=this.ownerToCompare),this.dateRangeToCompare&&""!==this.dateRangeToCompare.dateStart&&""!==this.dateRangeToCompare.dateEnd&&(e.dateRangeToCompare=this.dateRangeToCompare),e}},methods:{update:function(){this.$apollo.queries.averageDaysInPipelineCard.refetch()}},apollo:{averageDaysInPipelineCard:{query:p["e"],fetchPolicy:"no-cache",client:"charts",variables:function(){return{filters:this.filters}},skip:function(){return""===this.dateStart||""===this.dateEnd||!this.pipelineFilter.id||0===this.ownersFilter.length},loadingKey:"isLoading"}}},O=F,w=Object(m["a"])(O,l,d,!1,null,"283b8de4",null),_=w.exports,B=i("8b70"),D=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalFilters",{attrs:{isOpen:e.isOpenModalFilter,isIcon:e.isIcon},on:{save:e.saveFilter,statusModal:e.statusModal}},[i("v-row",[i("v-col",{attrs:{cols:"12"}},[i("SelectUsers",{attrs:{all:"",defaultSelect:e.defaultFilter.users},on:{change:e.changeUsers}})],1),i("v-col",{attrs:{cols:"12"}},[i("SelectPipeline",{attrs:{defaultSelect:e.defaultFilter.pipeline},on:{change:e.changePipeline}})],1),i("v-col",{attrs:{cols:"12"}},[i("PeriodPredefined",{attrs:{defaultSelect:e.defaultFilter.periodPredefined},on:{change:e.changePeriodPredefined}})],1),e.isPreview?e._e():i("v-col",{attrs:{cols:"12"}},[i("ComparePeriod",{attrs:{periodPredefined:e.filters.periodPredefined[0]},on:{change:e.changeComparePeriod}})],1)],1)],1)},M=[],x=i("5530"),A=i("740f"),E=i("6321"),I=i("c065"),k={name:"CardAverageDaysInPipelineFilter",components:{SelectUsers:A["a"],SelectPipeline:E["a"]},mixins:[c["b"]],props:{defaultFilter:{type:Object,default:function(){return{filterBy:"count",filterTime:"WEEKS",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{id:""}}}},isIcon:{type:Boolean,default:!1},isPreview:{type:Boolean,default:!1}},data:function(){return{listTime:I["d"],listFilterBy:I["e"],filters:{users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{id:""}}}},methods:{changeComparePeriod:function(e){var t=e.isCompare,i=e.periodCompare,r=e.ownerCompare;if(t){if(r&&r.id&&(this.filters.ownerToCompare.id=r.id,this.filters.periodRangeToCompare.period="",this.filters.periodRangeToCompare.start="",this.filters.periodRangeToCompare.end=""),i){if(this.filters.periodRangeToCompare.period=i.periodSelected,i.periodRange.length>0){var a=Object(o["a"])(i.periodRange,2);this.filters.periodRangeToCompare.start=a[0],this.filters.periodRangeToCompare.end=a[1]}this.filters.ownerToCompare.id=""}}else this.filters.periodRangeToCompare.period="",this.filters.periodRangeToCompare.start="",this.filters.periodRangeToCompare.end="",this.filters.ownerToCompare.id=""},saveFilter:function(){this.changeChart({id:"card-averageDaysInPipeline",filtersFull:Object(x["a"])(Object(x["a"])({},this.noReactive(this.filters)),{},{periodRange:Object(x["a"])({__typename:"PeriodRange"},this.filters.periodRange),ownerToCompare:Object(x["a"])({__typename:"OwnerToCompare"},this.filters.ownerToCompare)})}),this.isOpenModalFilter=!1}}},L=k,j=Object(m["a"])(L,D,M,!1,null,"aa85aa70",null),G=j.exports;C()(j,{VCol:T["a"],VRow:P["a"]});var H={name:"CardAverageDaysInPipelineModal",components:{CardAverageDaysInPipelineData:_,TableDeals:B["a"],CardAverageDaysInPipelineFilter:G},mixins:[c["c"]],props:{isOpen:{type:Boolean,default:!1},title:{type:String,default:"Sin título"},titleRegular:{type:String,default:""},filters:{type:Object,default:function(){return{filtersConfig:{users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{id:""}},filtersTable:{users:[],pipelines:[],periodRange:{start:"",end:""},dealStatus:""}}}}}},V=H,N=Object(m["a"])(V,n,s,!1,null,"c479d47c",null),U=N.exports,W={name:"CardAverageDaysInPipelinePreview",components:{CardAverageDaysInPipelineData:_,CardAverageDaysInPipelineModal:U,CardAverageDaysInPipelineFilter:G},mixins:[c["d"]],props:{defaultPeriod:{type:String,default:"THIS_MONTH"}},data:function(){return{chartId:"card-averageDaysInPipeline",title:"Promedio",titleRegular:"de días por embudo",isOpenModal:!1,filtersChartsDefault:{},initFilter:{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{id:""},dealStatus:"ALL"}}},computed:{filtersConfig:function(){var e,t,i,r,a,o,n;return{filterBy:(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.filterBy)||this.initFilter.filterBy,users:this.usersGlobal||(null===(t=this.chart.filtersFull)||void 0===t?void 0:t.users)||this.initUsers,pipeline:(null===(i=this.chart.filtersFull)||void 0===i?void 0:i.pipeline)||this.initPipeline,periodRange:this.periodRangeGlobal||(null===(r=this.chart.filtersFull)||void 0===r?void 0:r.periodRange)||this.periodRange,periodPredefined:this.periodPredefinedGlobal||(null===(a=this.chart.filtersFull)||void 0===a?void 0:a.periodPredefined)||[this.defaultPeriod]||this.initFilter.periodPredefined,periodRangeToCompare:(null===(o=this.chart.filtersFull)||void 0===o?void 0:o.periodRangeToCompare)||this.initFilter.periodRangeToCompare,ownerToCompare:(null===(n=this.chart.filtersFull)||void 0===n?void 0:n.ownerToCompare)||this.initFilter.ownerToCompare}},filtersTable:function(){var e,t=this.getPeriod(this.initFilter.periodPredefined[0]).get(),i=Object(o["a"])(t,2),r=i[0],a=i[1];return{users:this.usersGlobal||this.users||this.initUsers,pipelines:this.pipelines||this.filtersChartsDefault.pipelines,periodRange:this.periodRangeGlobal||(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.periodRange)||{start:r,end:a},dealStatus:this.initFilter.dealStatus}}}},$=W,z=(i("a5d5"),Object(m["a"])($,r,a,!1,null,"09aa00c4",null));t["a"]=z.exports},a989:function(e,t,i){"use strict";i("8e7f")},ac4d:function(e,t,i){"use strict";var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseCardChart",{attrs:{title:e.title,titleRegular:e.titleRegular,settings:e.filtersConfig},on:{updateRefetch:function(t){e.isRefetch=!0}},scopedSlots:e._u([{key:"modal",fn:function(){return[i("CardOpenEmailsFilter",{attrs:{defaultFilter:e.filtersConfig,isIcon:"",isPreview:""}})]},proxy:!0}])},[i("div",{staticClass:"hoverClick",on:{click:e.openModal}},[i("CardOpenEmailsData",{attrs:{defaultFilter:e.filtersConfig,isPreview:"",isRefetch:e.isRefetch},on:{updateRefetch:function(t){e.isRefetch=!1}}})],1),i("CardOpenEmailsModal",{attrs:{isOpen:e.isOpenModal,filters:{filtersConfig:e.filtersConfig,filtersTable:e.filtersTable},title:e.title,titleRegular:e.titleRegular},on:{close:e.closeModal}})],1)},a=[],o=i("3835"),n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalChart",{attrs:{title:e.title,titleRegular:e.titleRegular,isOpen:e.isOpen},on:{close:e.closeModal},scopedSlots:e._u([{key:"filters",fn:function(){return[i("CardOpenEmailsFilter",{attrs:{defaultFilter:e.filters.filtersConfig}})]},proxy:!0},{key:"chart",fn:function(){return[i("CardOpenEmailsData",{attrs:{defaultFilter:e.filters.filtersConfig}})]},proxy:!0},{key:"table",fn:function(){return[i("TableEmails",{attrs:{defaultFilter:e.filters.filtersTable}})]},proxy:!0}])})},s=[],l=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.isPreview?e._e():i("ListFilters",{attrs:{settings:e.settings}}),i("BaseCardNumber",{attrs:{information:{numberMain:""+e.generalConvertionRateFormat,textMain:e.textMain,valueMain:e.valueMain,textMainType:e.textChart,isCompare:!e.isPreview&&e.settings.periodRangeToCompare.period.length>0,numberCompare:""+e.generalConvertionRateCompare,textCompare:e.textCompare,valueCompare:e.valueCompare,numberDifferenceCompare:e.comparePercentage}}}),e.isPreview?e._e():i("CardOpenEmailsInformation",{attrs:{information:e.openEmailsCard.informationBar,filterBy:e.settings.filterBy}})],1)},d=[],p=(i("b680"),i("99af"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-card",{staticClass:"mt-5",attrs:{flat:""}},[i("v-container",[i("v-row",{staticClass:"justify-center"},[i("v-col",{attrs:{cols:"3"}},[e._l(e.information.usersOpenedEmails,(function(t,r){return[i("span",{key:r,staticClass:"d-block"},[i("b",[e._v(e._s(t.name))]),e._v(" : "+e._s(t[e.filterBy])+" ")])]}))],2),e._l(e.information.periodsOpenedEmails,(function(t,r){return[i("v-col",{key:r,attrs:{cols:"3"}},[i("span",{staticClass:"d-block"},[i("b",[e._v(e._s(e.rowOne[r]))]),e._v(" : "+e._s(t.count)+" ")])])]}))],2)],1)],1)}),c=[],u={name:"CardOpenEmailsInformation",props:{information:{type:Object,default:function(){return{}}},filterBy:{type:String,default:"count"}},data:function(){return{rowOne:["Este período","Período pasado","Mismo período el mes anterior"]}}},f=u,h=i("0c7c"),v=i("6544"),m=i.n(v),g=i("b0af"),C=i("62ad"),R=i("a523"),T=i("0fd9"),y=Object(h["a"])(f,p,c,!1,null,null,null),P=y.exports;m()(y,{VCard:g["a"],VCol:C["a"],VContainer:R["a"],VRow:T["a"]});var S=i("8d7e"),b=i("0db6"),F={name:"CardOpenEmailsData",mixins:[b["a"]],components:{CardOpenEmailsInformation:P},props:{defaultFilter:{type:Object,default:function(){return{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""}}}},isPreview:{type:Boolean,default:!1}},data:function(){return{openEmailsCard:{},modalSettings:{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:[],periodRangeToCompare:{period:"",start:"",end:""}},settings:{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:[],periodRangeToCompare:{period:"",start:"",end:""}}}},computed:{comparePercentage:function(){return"0"===this.generalConvertionRateCompare?"100":(100*this.generalConvertionRateFormat/this.generalConvertionRateCompare-100).toFixed(2)},generalConvertionRateFormat:function(){var e,t,i;return this.openEmailsCard&&void 0!==(null===(e=this.openEmailsCard)||void 0===e||null===(t=e.mainOpenedEmails)||void 0===t?void 0:t.count)&&(null===(i=this.openEmailsCard)||void 0===i?void 0:i.mainOpenedEmails[this.settings.filterBy])||"0"},generalConvertionRateCompare:function(){var e,t;if(this.openEmailsCard&&void 0!==(null===(e=this.openEmailsCard)||void 0===e||null===(t=e.secondOpenedEmails)||void 0===t?void 0:t.count)){var i,r=null===(i=this.openEmailsCard)||void 0===i?void 0:i.secondOpenedEmails[this.settings.filterBy];return r||"0"}return"0"},textCompare:function(){return"PREVIOUS_PERIOD"===this.settings.periodRangeToCompare.period?this.settings.periodPredefined[3]:"PREVIOUS_YEAR"===this.settings.periodRangeToCompare.period?"Año anterior":"CUSTOM"===this.settings.periodRangeToCompare.period?"Personalizado":""},valueCompare:function(){return this.isPreview||"CUSTOM"!==this.settings.periodRangeToCompare.period?"":"".concat(this.formatDate(this.filters.dateRangeToCompare.dateStart)," - ").concat(this.formatDate(this.filters.dateRangeToCompare.dateEnd))},textMain:function(){return this.isPreview?"":this.settings.periodPredefined[2]},valueMain:function(){return!this.isPreview&&this.settings.periodPredefined.length>0&&"CUSTOM"===this.settings.periodPredefined[0]?"".concat(this.formatDate(this.filters.dateRange.dateStart)," - ").concat(this.formatDate(this.filters.dateRange.dateEnd)):""},filters:function(){var e={dateRange:{dateStart:this.dateStart,dateEnd:this.dateEnd},owners:this.ownersFilter,pipeline:this.pipelineFilter};return this.dateRangeToCompare&&""!==this.dateRangeToCompare.dateStart&&""!==this.dateRangeToCompare.dateEnd&&(e.dateRangeToCompare=this.dateRangeToCompare),e}},methods:{update:function(){this.$apollo.queries.openEmailsCard.refetch()}},apollo:{openEmailsCard:{query:S["w"],fetchPolicy:"no-cache",client:"charts",variables:function(){return{filters:this.filters}},skip:function(){return""===this.dateStart||""===this.dateEnd||!this.pipelineFilter.id||0===this.ownersFilter.length},loadingKey:"isLoading"}}},O=F,w=Object(h["a"])(O,l,d,!1,null,"61da3018",null),_=w.exports,B=i("6c94"),D=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalFilters",{attrs:{isOpen:e.isOpenModalFilter,isIcon:e.isIcon},on:{save:e.saveFilter,statusModal:e.statusModal}},[i("v-row",[i("v-col",{attrs:{cols:"12"}},[i("SelectUsers",{attrs:{all:"",defaultSelect:e.defaultFilter.users},on:{change:e.changeUsers}})],1),i("v-col",{attrs:{cols:"12"}},[i("SelectPipeline",{attrs:{defaultSelect:e.defaultFilter.pipeline},on:{change:e.changePipeline}})],1),i("v-col",{attrs:{cols:"12"}},[i("PeriodPredefined",{attrs:{defaultSelect:e.defaultFilter.periodPredefined},on:{change:e.changePeriodPredefined}})],1),e.isPreview?e._e():i("v-col",{attrs:{cols:"12"}},[i("ComparePeriod",{attrs:{periodPredefined:e.filters.periodPredefined[0]},on:{change:e.changeComparePeriod}})],1)],1)],1)},M=[],x=i("5530"),A=i("740f"),E=i("6321"),I={name:"CardOpenEmailsFilter",components:{SelectUsers:A["a"],SelectPipeline:E["a"]},mixins:[b["b"]],props:{defaultFilter:{type:Object,default:function(){return{users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""}}}},isIcon:{type:Boolean,default:!1},isPreview:{type:Boolean,default:!1}},data:function(){return{filters:{users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""}}}},methods:{changeComparePeriod:function(e){var t=e.isCompare,i=e.periodCompare;if(t){if(i&&(this.filters.periodRangeToCompare.period=i.periodSelected,i.periodRange.length>0)){var r=Object(o["a"])(i.periodRange,2);this.filters.periodRangeToCompare.start=r[0],this.filters.periodRangeToCompare.end=r[1]}}else this.filters.periodRangeToCompare.period="",this.filters.periodRangeToCompare.start="",this.filters.periodRangeToCompare.end=""},saveFilter:function(){this.changeChart({id:"card-openEmails",filtersFull:Object(x["a"])(Object(x["a"])({},this.noReactive(this.filters)),{},{periodRange:Object(x["a"])({__typename:"PeriodRange"},this.filters.periodRange)})}),this.isOpenModalFilter=!1}}},k=I,L=Object(h["a"])(k,D,M,!1,null,"4174cfa1",null),j=L.exports;m()(L,{VCol:C["a"],VRow:T["a"]});var G={name:"CardOpenEmailsModal",components:{CardOpenEmailsData:_,CardOpenEmailsFilter:j,TableEmails:B["a"]},mixins:[b["c"]],props:{isOpen:{type:Boolean,default:!1},title:{type:String,default:"Sin título"},titleRegular:{type:String,default:""},filters:{type:Object,default:function(){return{filtersConfig:{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""}},filtersTable:{users:[],pipelines:[],periodRange:{start:"",end:""}}}}}}},H=G,V=Object(h["a"])(H,n,s,!1,null,"0975a6da",null),N=V.exports,U={name:"CardOpenEmailsPreview",components:{CardOpenEmailsData:_,CardOpenEmailsModal:N,CardOpenEmailsFilter:j},mixins:[b["d"]],props:{defaultPeriod:{type:String,default:"THIS_MONTH"}},data:function(){return{title:"Correos",titleRegular:"abiertos",isOpenModal:!1,chartId:"card-openEmails",filtersChartsDefault:{},initFilter:{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""}}}},computed:{filtersConfig:function(){var e,t,i,r,a,o;return{filterBy:(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.filterBy)||this.initFilter.filterBy,users:this.usersGlobal||(null===(t=this.chart.filtersFull)||void 0===t?void 0:t.users)||this.initUsers,pipeline:(null===(i=this.chart.filtersFull)||void 0===i?void 0:i.pipeline)||this.initPipeline,periodRange:this.periodRangeGlobal||(null===(r=this.chart.filtersFull)||void 0===r?void 0:r.periodRange)||this.periodRange,periodPredefined:this.periodPredefinedGlobal||(null===(a=this.chart.filtersFull)||void 0===a?void 0:a.periodPredefined)||[this.defaultPeriod]||this.initFilter.periodPredefined,periodRangeToCompare:(null===(o=this.chart.filtersFull)||void 0===o?void 0:o.periodRangeToCompare)||this.initFilter.periodRangeToCompare}},filtersTable:function(){var e,t=this.getPeriod(this.initFilter.periodPredefined[0]).get(),i=Object(o["a"])(t,2),r=i[0],a=i[1];return{users:this.usersGlobal||this.users||this.initUsers,pipelines:this.pipelines||this.filtersChartsDefault.pipelines,periodRange:this.periodRangeGlobal||(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.periodRange)||{start:r,end:a},emailStatus:"ALL"}}}},W=U,$=(i("899a"),Object(h["a"])(W,r,a,!1,null,"0502ff48",null));t["a"]=$.exports},ae8a:function(e,t,i){"use strict";i("0846")},af59:function(e,t,i){"use strict";i("e45b")},b22a:function(e,t,i){"use strict";i("a090")},b2b6:function(e,t,i){"use strict";i("e808")},b2bb:function(e,t,i){},b582:function(e,t,i){"use strict";i("7f2f")},bc92:function(e,t,i){},bd0b:function(e,t,i){"use strict";i("7f42")},c0aa:function(e,t,i){"use strict";i("252f")},c1e3:function(e,t,i){"use strict";var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseCardChart",{attrs:{title:e.title,titleRegular:e.titleRegular,settings:e.filtersConfig,isChart:""},on:{updateRefetch:function(t){e.isRefetch=!0}},scopedSlots:e._u([{key:"modal",fn:function(){return[i("BarWonDealsEarningValueFilter",{attrs:{defaultFilter:e.filtersConfig,isIcon:"",isPreview:""}})]},proxy:!0}])},[i("div",{staticClass:"hoverClick",on:{click:e.openModal}},[i("BarWonDealsEarningValueData",{attrs:{defaultFilter:e.filtersConfig,isPreview:"",isRefetch:e.isRefetch},on:{updateRefetch:function(t){e.isRefetch=!1}}})],1),i("BarWonDealsEarningValueModal",{attrs:{isOpen:e.isOpenModal,filters:{filtersConfig:e.filtersConfig,filtersTable:e.filtersTable},title:e.title,titleRegular:e.titleRegular},on:{close:e.closeModal}})],1)},a=[],o=i("3835"),n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalChart",{attrs:{title:e.title,titleRegular:e.titleRegular,isOpen:e.isOpen},on:{close:e.closeModal},scopedSlots:e._u([{key:"filters",fn:function(){return[i("BarWonDealsEarningValueFilter",{attrs:{defaultFilter:e.filters.filtersConfig}})]},proxy:!0},{key:"chart",fn:function(){return[i("BarWonDealsEarningValueData",{attrs:{defaultFilter:e.filters.filtersConfig,isFull:""}})]},proxy:!0},{key:"table",fn:function(){return[i("TableDeals",{attrs:{defaultFilter:e.filters.filtersTable}})]},proxy:!0}])})},s=[],l=i("52e2"),d=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalFilters",{attrs:{isOpen:e.isOpenModalFilter,isIcon:e.isIcon},on:{save:e.saveFilter,statusModal:e.statusModal}},[i("v-row",[i("v-col",{attrs:{cols:"12"}},[i("Select",{attrs:{name:"Filtrar por",defaultSelect:e.defaultFilter.filterBy,list:e.listFilterBy},on:{change:e.changeFilterBy}})],1),i("v-col",{attrs:{cols:"12"}},[i("SelectUsers",{attrs:{all:"",defaultSelect:e.defaultFilter.users},on:{change:e.changeUsers}})],1),i("v-col",{attrs:{cols:"12"}},[i("SelectPipeline",{attrs:{defaultSelect:e.defaultFilter.pipeline},on:{change:e.changePipeline}})],1),i("v-col",{attrs:{cols:"12"}},[i("PeriodPredefined",{attrs:{defaultSelect:e.defaultFilter.periodPredefined},on:{change:e.changePeriodPredefined}})],1),e.isPreview?e._e():i("v-col",{attrs:{cols:"12"}},[i("ComparePeriodBars",{attrs:{periodPredefined:e.filters.periodPredefined[0]},on:{change:e.changeComparePeriod}})],1)],1)],1)},p=[],c=i("5530"),u=i("740f"),f=i("d344"),h=i("6321"),v=i("c065"),m={name:"BarWonDealsEarningValueFilter",components:{SelectUsers:u["a"],SelectPipeline:h["a"],Select:f["a"]},mixins:[l["b"]],props:{defaultFilter:{type:Object,default:function(){return{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{},typeCompare:"none"}}}},data:function(){return{listTime:v["d"],listFilterBy:v["e"],filters:{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{},typeCompare:"none"}}},methods:{saveFilter:function(){this.changeChart({id:"bar-wonDealsEarningValue",filtersFull:Object(c["a"])(Object(c["a"])({},this.noReactive(this.filters)),{},{periodRange:Object(c["a"])({__typename:"PeriodRange"},this.filters.periodRange),ownerToCompare:Object(c["a"])({},this.filters.ownerToCompare)})}),this.isOpenModalFilter=!1}}},g=m,C=i("0c7c"),R=i("6544"),T=i.n(R),y=i("62ad"),P=i("0fd9"),S=Object(C["a"])(g,d,p,!1,null,"3c070146",null),b=S.exports;T()(S,{VCol:y["a"],VRow:P["a"]});var F=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.isPreview?e._e():i("ListFilters",{attrs:{settings:e.settings}}),i("div",{staticClass:"text-center bgWhite",class:[{"py-5 px-3":!e.isPreview},{showScroll:e.isWithScroll}]},[i("apexchart",{attrs:{height:e.isPreview?250:350,type:"bar",options:e.options,series:e.series}}),e.isPreview||"date"!==e.settings.typeCompare?e._e():i("h4",[e._v(" Comparación de fecha ")]),e.isPreview||"user"!==e.settings.typeCompare?e._e():i("h4",[e._v(" Comparación con otro usuario ")]),e.isPreview||"none"===e.settings.typeCompare?e._e():i("apexchart",{attrs:{height:e.isPreview?250:350,type:"bar",options:e.options,series:e.seriesCompare}})],1),e.isPreview?e._e():i("BarWonDealsEarningValueInformation",{attrs:{information:e.dealsStatusByStageHorizontalBarsGraph.informationBar,filterBy:e.settings.filterBy}})],1)},O=[],w=(i("b680"),i("d81d"),i("8d7e")),_=i("b3b3"),B=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-card",{staticClass:"mt-5",attrs:{flat:""}},[i("v-container",[i("v-row",{staticClass:"justify-center"},[i("v-col",{attrs:{cols:"3"}},[i("span",[i("b",[e._v("Total de oportunidades:")]),e._v(" "+e._s(e.information.periodsActivities&&e.information.periodsActivities.totalDeals[e.filterBy])+" ")])]),i("v-col",{attrs:{cols:"3"}},[i("b",[e._v("Tasa de oportunidades ganadas:")]),e._v(" "+e._s(e.information.periodsActivities&&e.information.periodsActivities.wonDeals[e.filterBy])+" ")]),i("v-col",{attrs:{cols:"3"}},[i("b",[e._v("Tasa de oportunidades perdidas:")]),e._v(" "+e._s(e.information.periodsActivities&&e.information.periodsActivities.lostDeals[e.filterBy])+" ")]),i("v-col",{attrs:{cols:"3"}},[i("b",[e._v("Tasa de oportunidades abiertas:")]),e._v(" "+e._s(e.information.periodsActivities&&e.information.periodsActivities.openDeals[e.filterBy])+" ")]),i("v-col",{attrs:{cols:"3"}},[i("span",[i("b",[e._v("Total de oportunidades anterior:")]),e._v(" "+e._s(e.information.pastPeriodsActivities&&e.information.pastPeriodsActivities.totalDeals[e.filterBy])+" ")])]),i("v-col",{attrs:{cols:"3"}},[i("b",[e._v("Tasa de oportunidades ganadas anterior:")]),e._v(" "+e._s(e.information.pastPeriodsActivities&&e.information.pastPeriodsActivities.wonDeals[e.filterBy])+" ")]),i("v-col",{attrs:{cols:"3"}},[i("b",[e._v("Tasa de oportunidades perdidas anterior:")]),e._v(" "+e._s(e.information.pastPeriodsActivities&&e.information.pastPeriodsActivities.lostDeals[e.filterBy])+" ")]),i("v-col",{attrs:{cols:"3"}},[i("b",[e._v("Tasa de oportunidades abiertas anterior:")]),e._v(" "+e._s(e.information.pastPeriodsActivities&&e.information.pastPeriodsActivities.openDeals[e.filterBy])+" ")])],1)],1)],1)},D=[],M={name:"BarWonDealsEarningValueInformation",props:{information:{type:Object,default:function(){return{}}},filterBy:{type:String,default:"count"}}},x=M,A=i("b0af"),E=i("a523"),I=Object(C["a"])(x,B,D,!1,null,null,null),k=I.exports;T()(I,{VCard:A["a"],VCol:y["a"],VContainer:E["a"],VRow:P["a"]});var L={name:"BarWonDealsEarningValueData",mixins:[l["a"]],components:{BarWonDealsEarningValueInformation:k},props:{defaultFilter:{type:Object,default:function(){return{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],typeCompare:"none"}}}},data:function(){return{listFilterBy:v["e"],dealsStatusByStageHorizontalBarsGraph:{mainDealsByStage:[]},modalSettings:{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:[],typeCompare:"none"},settings:{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:[],typeCompare:"none"}}},computed:{options:function(){var e,t=this;return{chart:{height:this.isPreview?"250":"350",width:this.isWithScroll?"600":"100%",stacked:!0,toolbar:{show:!1},zoom:{enabled:!1}},plotOptions:{bar:{borderRadius:4,horizontal:!0}},colors:_["c"],dataLabels:{enabled:!0,style:{fontSize:"12px",fontWeight:"bold",colors:["#000"]},background:{enabled:!0,foreColor:"#fff"},formatter:function(e){return"".concat(t.isCount?e:t.formatPrice(e))}},legend:{position:"top",horizontalAlign:this.isWithScroll?"left":"center"},grid:{row:{colors:["#f3f3f3","transparent"],opacity:.5}},xaxis:{categories:(null===(e=this.dealsStatusByStageHorizontalBarsGraph)||void 0===e?void 0:e.mainDealsByStage.stages)||[],title:{text:this.showTitleXaxis},tickAmount:1,labels:{formatter:function(e){return e.toFixed(0)}}},yaxis:{title:{text:this.showTitleYaxis}},tooltip:{y:{formatter:function(e){return"".concat(t.isCount?e:t.formatPrice(e))}}}}},series:function(){var e=this.dealsStatusByStageHorizontalBarsGraph.mainDealsByStage,t=e.wonDealsCount,i=void 0===t?[]:t,r=e.lostDealsCount,a=void 0===r?[]:r,o=e.openDealsCount,n=void 0===o?[]:o,s=e.wonDealsSum,l=void 0===s?[]:s,d=e.lostDealsSum,p=void 0===d?[]:d,c=e.openDealsSum,u=void 0===c?[]:c;return[{name:"Ganados",data:this.isCount?i.map((function(e){var t=e.count;return t})):l.map((function(e){var t=e.sum;return t}))},{name:"Perdidos",data:this.isCount?a.map((function(e){var t=e.count;return t})):p.map((function(e){var t=e.sum;return t}))},{name:"Abiertos",data:this.isCount?n.map((function(e){var t=e.count;return t})):u.map((function(e){var t=e.sum;return t}))}]},seriesCompare:function(){if(this.dealsStatusByStageHorizontalBarsGraph.secondDealsByStage){var e=this.dealsStatusByStageHorizontalBarsGraph.secondDealsByStage,t=e.wonDealsCount,i=void 0===t?[]:t,r=e.lostDealsCount,a=void 0===r?[]:r,o=e.openDealsCount,n=void 0===o?[]:o,s=e.wonDealsSum,l=void 0===s?[]:s,d=e.lostDealsSum,p=void 0===d?[]:d,c=e.openDealsSum,u=void 0===c?[]:c;return[{name:"Ganados",data:this.isCount?i.map((function(e){var t=e.count;return t})):l.map((function(e){var t=e.sum;return t}))},{name:"Perdidos",data:this.isCount?a.map((function(e){var t=e.count;return t})):p.map((function(e){var t=e.sum;return t}))},{name:"Abiertos",data:this.isCount?n.map((function(e){var t=e.count;return t})):u.map((function(e){var t=e.sum;return t}))}]}return[]},showTitleXaxis:function(){if(!this.isPreview)return this.count?"Cantidad de tratos":"Valor de tratos"},showTitleYaxis:function(){if(!this.isPreview)return"Etapas"},isWithScroll:function(){return this.isPreview},filters:function(){var e={dateRange:{dateStart:this.dateStart,dateEnd:this.dateEnd},owners:this.ownersFilter,pipeline:this.pipelineFilter};return this.dateRangeToCompare&&""!==this.dateRangeToCompare.dateStart&&""!==this.dateRangeToCompare.dateEnd&&(e.dateRangeToCompare=this.dateRangeToCompare),e}},methods:{update:function(){this.$apollo.queries.dealsStatusByStageHorizontalBarsGraph.refetch()}},apollo:{dealsStatusByStageHorizontalBarsGraph:{query:w["T"],fetchPolicy:"no-cache",client:"charts",variables:function(){return{filters:this.filters}},skip:function(){return""===this.dateStart||""===this.dateEnd||!this.pipelineFilter.id||0===this.ownersFilter.length},watchLoading:function(e){this.isLoading=e}}}},j=L,G=(i("7439"),Object(C["a"])(j,F,O,!1,null,"4799afd6",null)),H=G.exports,V=i("8b70"),N={name:"BarWonDealsEarningValueModal",components:{BarWonDealsEarningValueFilter:b,BarWonDealsEarningValueData:H,TableDeals:V["a"]},mixins:[l["c"]],props:{filters:{type:Object,default:function(){return{filtersConfig:{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{},typeCompare:"none"},filtersTable:{users:[],pipelines:[],periodRange:{start:"",end:""},dealStatus:""}}}}}},U=N,W=Object(C["a"])(U,n,s,!1,null,"aec4c3a0",null),$=W.exports,z={name:"BarWonDealsEarningValuePreview",components:{BarWonDealsEarningValueData:H,BarWonDealsEarningValueModal:$,BarWonDealsEarningValueFilter:b},mixins:[l["d"]],props:{defaultPeriod:{type:String,default:"THIS_MONTH"}},data:function(){return{title:"Tratos",titleRegular:"por etapa",chartId:"bar-wonDealsEarningValue",filtersChartsDefault:{},initFilter:{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{},dealStatus:"ALL",typeCompare:"none"}}},computed:{filtersConfig:function(){var e,t,i,r,a,o,n,s;return{filterBy:(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.filterBy)||this.initFilter.filterBy,users:this.usersGlobal||(null===(t=this.chart.filtersFull)||void 0===t?void 0:t.users)||this.initUsers,pipeline:(null===(i=this.chart.filtersFull)||void 0===i?void 0:i.pipeline)||this.initPipeline,periodRange:this.periodRangeGlobal||(null===(r=this.chart.filtersFull)||void 0===r?void 0:r.periodRange)||this.periodRange,periodPredefined:this.periodPredefinedGlobal||(null===(a=this.chart.filtersFull)||void 0===a?void 0:a.periodPredefined)||[this.defaultPeriod]||this.initFilter.periodPredefined,periodRangeToCompare:(null===(o=this.chart.filtersFull)||void 0===o?void 0:o.periodRangeToCompare)||this.initFilter.periodRangeToCompare,ownerToCompare:(null===(n=this.chart.filtersFull)||void 0===n?void 0:n.ownerToCompare)||this.initFilter.ownerToCompare,typeCompare:(null===(s=this.chart.filtersFull)||void 0===s?void 0:s.typeCompare)||this.initFilter.typeCompare}},filtersTable:function(){var e,t=this.getPeriod(this.initFilter.periodPredefined[0]).get(),i=Object(o["a"])(t,2),r=i[0],a=i[1];return{users:this.usersGlobal||this.users||this.filtersChartsDefault.users,pipelines:this.pipelines||this.initPipelines,periodRange:this.periodRangeGlobal||(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.periodRange)||{start:r,end:a},dealStatus:this.initFilter.dealStatus}}}},q=z,Y=(i("f005"),Object(C["a"])(q,r,a,!1,null,"68242ab6",null));t["a"]=Y.exports},c22d:function(e,t,i){"use strict";i("dbb1f")},c2dd:function(e,t,i){},c607:function(e,t,i){},c67a:function(e,t,i){"use strict";i("8056")},c953:function(e,t,i){"use strict";var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseCardChart",{attrs:{title:e.title,titleRegular:e.titleRegular,settings:e.filtersConfig},on:{updateRefetch:function(t){e.isRefetch=!0}},scopedSlots:e._u([{key:"modal",fn:function(){return[i("CardNewDealsFilter",{attrs:{defaultFilter:e.filtersConfig,isIcon:"",isPreview:""}})]},proxy:!0}])},[i("div",{staticClass:"hoverClick",on:{click:e.openModal}},[i("CardNewDealsData",{attrs:{defaultFilter:e.filtersConfig,isPreview:"",isRefetch:e.isRefetch},on:{updateRefetch:function(t){e.isRefetch=!1}}})],1),i("CardNewDealsModal",{attrs:{isOpen:e.isOpenModal,filters:{filtersConfig:e.filtersConfig,filtersTable:e.filtersTable},title:e.title,titleRegular:e.titleRegular},on:{close:e.closeModal}})],1)},a=[],o=i("3835"),n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalChart",{attrs:{title:e.title,titleRegular:e.titleRegular,isOpen:e.isOpen},on:{close:e.closeModal},scopedSlots:e._u([{key:"filters",fn:function(){return[i("CardNewDealsFilter",{attrs:{defaultFilter:e.filters.filtersConfig}})]},proxy:!0},{key:"chart",fn:function(){return[i("CardNewDealsData",{attrs:{defaultFilter:e.filters.filtersConfig}})]},proxy:!0},{key:"table",fn:function(){return[i("TableDeals",{attrs:{defaultFilter:e.filters.filtersTable}})]},proxy:!0}])})},s=[],l=i("8b70"),d=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalFilters",{attrs:{isOpen:e.isOpenModalFilter,isIcon:e.isIcon},on:{save:e.saveFilter,statusModal:e.statusModal}},[i("v-row",[i("v-col",{attrs:{cols:"12"}},[i("Select",{attrs:{name:"Filtrar por",defaultSelect:e.defaultFilter.filterBy,list:e.listFilterBy},on:{change:e.changeFilterBy}})],1),i("v-col",{attrs:{cols:"12"}},[i("SelectUsers",{attrs:{all:"",defaultSelect:e.defaultFilter.users},on:{change:e.changeUsers}})],1),i("v-col",{attrs:{cols:"12"}},[i("SelectPipeline",{attrs:{defaultSelect:e.defaultFilter.pipeline},on:{change:e.changePipeline}})],1),i("v-col",{attrs:{cols:"12"}},[i("PeriodPredefined",{attrs:{defaultSelect:e.defaultFilter.periodPredefined},on:{change:e.changePeriodPredefined}})],1),e.isPreview?e._e():i("v-col",{attrs:{cols:"12"}},[i("ComparePeriod",{attrs:{periodPredefined:e.filters.periodPredefined[0]},on:{change:e.changeComparePeriod}})],1)],1)],1)},p=[],c=i("5530"),u=i("740f"),f=i("d344"),h=i("6321"),v=i("c065"),m=i("0db6"),g={name:"CardNewDealsFilter",components:{SelectUsers:u["a"],SelectPipeline:h["a"],Select:f["a"]},mixins:[m["b"]],props:{defaultFilter:{type:Object,default:function(){return{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""}}}},isIcon:{type:Boolean,default:!1},isPreview:{type:Boolean,default:!1}},data:function(){return{listTime:v["d"],listFilterBy:v["e"],filters:{filterBy:"count",filterTime:"WEEKS",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""}}}},methods:{changeComparePeriod:function(e){var t=e.isCompare,i=e.periodCompare;if(t){if(i&&(this.filters.periodRangeToCompare.period=i.periodSelected,i.periodRange.length>0)){var r=Object(o["a"])(i.periodRange,2);this.filters.periodRangeToCompare.start=r[0],this.filters.periodRangeToCompare.end=r[1]}}else this.filters.periodRangeToCompare.period="",this.filters.periodRangeToCompare.start="",this.filters.periodRangeToCompare.end=""},saveFilter:function(){this.changeChart({id:"card-newDeals",filtersFull:Object(c["a"])(Object(c["a"])({},this.noReactive(this.filters)),{},{periodRange:Object(c["a"])({__typename:"PeriodRange"},this.filters.periodRange)})}),this.isOpenModalFilter=!1}}},C=g,R=i("0c7c"),T=i("6544"),y=i.n(T),P=i("62ad"),S=i("0fd9"),b=Object(R["a"])(C,d,p,!1,null,"7b5b0d3b",null),F=b.exports;y()(b,{VCol:P["a"],VRow:S["a"]});var O=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.isPreview?e._e():i("ListFilters",{attrs:{settings:e.settings}}),i("BaseCardNumber",{attrs:{information:{numberMain:""+("count"===e.settings.filterBy?e.generalConvertionRateFormat:e.formatPrice(e.generalConvertionRateFormat)),textMain:e.textMain,valueMain:e.valueMain,textMainType:e.textChart,isCompare:!e.isPreview&&e.settings.periodRangeToCompare.period.length>0,numberCompare:""+("count"===e.settings.filterBy?e.generalConvertionRateCompare:e.formatPrice(e.generalConvertionRateCompare)),textCompare:e.textCompare,valueCompare:e.valueCompare,numberDifferenceCompare:e.comparePercentage}}}),e.isPreview?e._e():i("CardNewDealsInformation",{attrs:{information:e.newDealsCard.informationBar,filterBy:e.settings.filterBy}})],1)},w=[],_=(i("b680"),i("99af"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-card",{staticClass:"mt-5",attrs:{flat:""}},[i("v-container",[i("v-row",[i("v-col",{attrs:{cols:"3"}},[e._l(e.information.userNewDeals,(function(t,r){return[i("span",{key:r,staticClass:"d-block"},[i("b",[e._v(e._s(t.name))]),e._v(" : "+e._s("count"===e.filterBy?t[e.filterBy]:e.formatPrice(t[e.filterBy]))+" ")])]}))],2),e._l(e.information.periodsNewDeals,(function(t,r){return[i("v-col",{key:r,attrs:{cols:"3"}},[i("span",{staticClass:"d-block"},[i("b",[e._v(e._s(e.periods[r]))]),e._v(" : "+e._s("count"===e.filterBy?t[e.filterBy]:e.formatPrice(t[e.filterBy]))+" ")])])]}))],2)],1)],1)}),B=[],D={name:"CardNewDealsInformation",props:{information:{type:Object,default:function(){return{}}},filterBy:{type:String,default:"count"}},data:function(){return{periods:["Promedio anual","Promedio trimestral","Promedio mensual"],pastPeriods:["Este período","Período pasado","Mismo período el mes anterior"]}}},M=D,x=i("b0af"),A=i("a523"),E=Object(R["a"])(M,_,B,!1,null,null,null),I=E.exports;y()(E,{VCard:x["a"],VCol:P["a"],VContainer:A["a"],VRow:S["a"]});var k=i("8d7e"),L={name:"CardNewDealsData",mixins:[m["a"]],components:{CardNewDealsInformation:I},props:{defaultFilter:{type:Object,default:function(){return{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""}}}},isPreview:{type:Boolean,default:!1}},data:function(){return{newDealsCard:{},modalSettings:{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:[],periodRangeToCompare:{period:"",start:"",end:""}},settings:{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:[],periodRangeToCompare:{period:"",start:"",end:""}}}},computed:{comparePercentage:function(){return"0"===this.generalConvertionRateCompare?"100":(100*this.generalConvertionRateFormat/this.generalConvertionRateCompare-100).toFixed(2)},generalConvertionRateFormat:function(){var e,t,i,r,a;return this.newDealsCard&&void 0!==(null===(e=this.newDealsCard)||void 0===e||null===(t=e.mainNewDeals)||void 0===t?void 0:t.count)&&void 0!==(null===(i=this.newDealsCard)||void 0===i||null===(r=i.mainNewDeals)||void 0===r?void 0:r.sum)&&(null===(a=this.newDealsCard)||void 0===a?void 0:a.mainNewDeals[this.settings.filterBy])||"0"},generalConvertionRateCompare:function(){var e,t,i,r;if(this.newDealsCard&&void 0!==(null===(e=this.newDealsCard)||void 0===e||null===(t=e.secondNewDeals)||void 0===t?void 0:t.count)&&void 0!==(null===(i=this.newDealsCard)||void 0===i||null===(r=i.secondNewDeals)||void 0===r?void 0:r.sum)){var a,o=null===(a=this.newDealsCard)||void 0===a?void 0:a.secondNewDeals[this.settings.filterBy];return o?o.toFixed(2):"0"}return"0"},textCompare:function(){return"PREVIOUS_PERIOD"===this.settings.periodRangeToCompare.period?this.settings.periodPredefined[3]:"PREVIOUS_YEAR"===this.settings.periodRangeToCompare.period?"Año anterior":"CUSTOM"===this.settings.periodRangeToCompare.period?"Personalizado":""},valueCompare:function(){return this.isPreview||"CUSTOM"!==this.settings.periodRangeToCompare.period?"":"".concat(this.formatDate(this.filters.dateRangeToCompare.dateStart)," - ").concat(this.formatDate(this.filters.dateRangeToCompare.dateEnd))},textMain:function(){return this.isPreview?"":this.settings.periodPredefined[2]},valueMain:function(){return!this.isPreview&&this.settings.periodPredefined.length>0&&"CUSTOM"===this.settings.periodPredefined[0]?"".concat(this.formatDate(this.filters.dateRange.dateStart)," - ").concat(this.formatDate(this.filters.dateRange.dateEnd)):""},filters:function(){var e={dateRange:{dateStart:this.dateStart,dateEnd:this.dateEnd},owners:this.ownersFilter,pipeline:this.pipelineFilter};return this.dateRangeToCompare&&""!==this.dateRangeToCompare.dateStart&&""!==this.dateRangeToCompare.dateEnd&&(e.dateRangeToCompare=this.dateRangeToCompare),e}},methods:{update:function(){this.$apollo.queries.newDealsCard.refetch()}},apollo:{newDealsCard:{query:k["v"],fetchPolicy:"no-cache",client:"charts",variables:function(){return{filters:this.filters}},skip:function(){return""===this.dateStart||""===this.dateEnd||!this.pipelineFilter.id||0===this.ownersFilter.length},loadingKey:"isLoading"}}},j=L,G=Object(R["a"])(j,O,w,!1,null,"83119946",null),H=G.exports,V={name:"CardNewDealsModal",components:{TableDeals:l["a"],CardNewDealsFilter:F,CardNewDealsData:H},mixins:[m["c"]],props:{isOpen:{type:Boolean,default:!1},title:{type:String,default:"Sin título"},titleRegular:{type:String,default:""},filters:{type:Object,default:function(){return{filtersConfig:{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""}},filtersTable:{users:[],pipelines:[],periodRange:{start:"",end:""},dealStatus:""}}}}}},N=V,U=Object(R["a"])(N,n,s,!1,null,"026cb42c",null),W=U.exports,$={name:"CardNewDealsPreview",components:{CardNewDealsData:H,CardNewDealsModal:W,CardNewDealsFilter:F},mixins:[m["d"]],props:{defaultPeriod:{type:String,default:"THIS_MONTH"}},data:function(){return{chartId:"card-newDeals",title:"Tratos",titleRegular:"nuevos",isOpenModal:!1,filtersChartsDefault:{},initFilter:{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""},dealStatus:"ALL"}}},computed:{filtersConfig:function(){var e,t,i,r,a,o;return{filterBy:(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.filterBy)||this.initFilter.filterBy,users:this.usersGlobal||(null===(t=this.chart.filtersFull)||void 0===t?void 0:t.users)||this.initUsers,pipeline:(null===(i=this.chart.filtersFull)||void 0===i?void 0:i.pipeline)||this.initPipeline,periodRange:this.periodRangeGlobal||(null===(r=this.chart.filtersFull)||void 0===r?void 0:r.periodRange)||this.periodRange,periodPredefined:this.periodPredefinedGlobal||(null===(a=this.chart.filtersFull)||void 0===a?void 0:a.periodPredefined)||[this.defaultPeriod]||this.initFilter.periodPredefined,periodRangeToCompare:(null===(o=this.chart.filtersFull)||void 0===o?void 0:o.periodRangeToCompare)||this.initFilter.periodRangeToCompare}},filtersTable:function(){var e,t=this.getPeriod(this.initFilter.periodPredefined[0]).get(),i=Object(o["a"])(t,2),r=i[0],a=i[1];return{users:this.usersGlobal||this.users||this.initUsers,pipelines:this.pipelines||this.filtersChartsDefault.pipelines,periodRange:this.periodRangeGlobal||(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.periodRange)||{start:r,end:a},dealStatus:this.initFilter.dealStatus}}}},z=$,q=(i("15d3"),Object(R["a"])(z,r,a,!1,null,"ad1d328e",null));t["a"]=q.exports},cad0:function(e,t,i){"use strict";var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseCardChart",{attrs:{title:e.title,titleRegular:e.titleRegular,settings:e.filtersConfig},on:{updateRefetch:function(t){e.isRefetch=!0}},scopedSlots:e._u([{key:"modal",fn:function(){return[i("CardAdvancedDealsFilter",{attrs:{defaultFilter:e.filtersConfig,isIcon:"",isPreview:""}})]},proxy:!0}])},[i("div",{staticClass:"hoverClick",on:{click:e.openModal}},[i("CardAdvancedDealsData",{attrs:{defaultFilter:e.filtersConfig,isPreview:"",isRefetch:e.isRefetch},on:{updateRefetch:function(t){e.isRefetch=!1}}})],1),i("CardAdvancedDealsModal",{attrs:{isOpen:e.isOpenModal,filters:{filtersConfig:e.filtersConfig,filtersTable:e.filtersTable},title:e.title,titleRegular:e.titleRegular},on:{close:e.closeModal}})],1)},a=[],o=i("3835"),n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalChart",{attrs:{title:e.title,titleRegular:e.titleRegular,isOpen:e.isOpen},on:{close:e.closeModal},scopedSlots:e._u([{key:"filters",fn:function(){return[i("CardAdvancedDealsFilter",{attrs:{defaultFilter:e.filters.filtersConfig}})]},proxy:!0},{key:"chart",fn:function(){return[i("CardAdvancedDealsData",{attrs:{defaultFilter:e.filters.filtersConfig}})]},proxy:!0},{key:"table",fn:function(){return[i("TableDeals",{attrs:{defaultFilter:e.filters.filtersTable}})]},proxy:!0}])})},s=[],l=i("8b70"),d=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalFilters",{attrs:{isOpen:e.isOpenModalFilter,isIcon:e.isIcon},on:{save:e.saveFilter,statusModal:e.statusModal}},[i("v-row",[i("v-col",{attrs:{cols:"12"}},[i("Select",{attrs:{name:"Filtrar por",defaultSelect:e.defaultFilter.filterBy,list:e.listFilterBy},on:{change:e.changeFilterBy}})],1),i("v-col",{attrs:{cols:"12"}},[i("SelectUsers",{attrs:{all:"",defaultSelect:e.defaultFilter.users},on:{change:e.changeUsers}})],1),i("v-col",{attrs:{cols:"12"}},[i("SelectPipeline",{attrs:{defaultSelect:e.defaultFilter.pipeline},on:{change:e.changePipeline}})],1),i("v-col",{attrs:{cols:"12"}},[i("PeriodPredefined",{attrs:{defaultSelect:e.defaultFilter.periodPredefined},on:{change:e.changePeriodPredefined}})],1),e.isPreview?e._e():i("v-col",{attrs:{cols:"12"}},[i("ComparePeriod",{attrs:{periodPredefined:e.filters.periodPredefined[0]},on:{change:e.changeComparePeriod}})],1)],1)],1)},p=[],c=i("5530"),u=i("740f"),f=i("d344"),h=i("6321"),v=i("c065"),m=i("0db6"),g={name:"CardAdvancedDealsFilter",components:{SelectUsers:u["a"],SelectPipeline:h["a"],Select:f["a"]},mixins:[m["b"]],props:{defaultFilter:{type:Object,default:function(){return{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""}}}},isIcon:{type:Boolean,default:!1},isPreview:{type:Boolean,default:!1}},data:function(){return{listTime:v["d"],listFilterBy:v["e"],filters:{filterBy:"count",filterTime:"WEEKS",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""}}}},methods:{changeComparePeriod:function(e){var t=e.isCompare,i=e.periodCompare;if(t){if(i&&(this.filters.periodRangeToCompare.period=i.periodSelected,i.periodRange.length>0)){var r=Object(o["a"])(i.periodRange,2);this.filters.periodRangeToCompare.start=r[0],this.filters.periodRangeToCompare.end=r[1]}}else this.filters.periodRangeToCompare.period="",this.filters.periodRangeToCompare.start="",this.filters.periodRangeToCompare.end=""},saveFilter:function(){this.changeChart({id:"card-advancedDeals",filtersFull:Object(c["a"])(Object(c["a"])({},this.noReactive(this.filters)),{},{periodRange:Object(c["a"])({__typename:"PeriodRange"},this.filters.periodRange)})}),this.isOpenModalFilter=!1}}},C=g,R=i("0c7c"),T=i("6544"),y=i.n(T),P=i("62ad"),S=i("0fd9"),b=Object(R["a"])(C,d,p,!1,null,"01ef0109",null),F=b.exports;y()(b,{VCol:P["a"],VRow:S["a"]});var O=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.isPreview?e._e():i("ListFilters",{attrs:{settings:e.settings}}),i("BaseCardNumber",{attrs:{information:{numberMain:""+("count"===e.settings.filterBy?e.generalConvertionRateFormat:e.formatPrice(e.generalConvertionRateFormat)),textMain:e.textMain,valueMain:e.valueMain,textMainType:e.textChart,isCompare:!e.isPreview&&e.settings.periodRangeToCompare.period.length>0,numberCompare:""+("count"===e.settings.filterBy?e.generalConvertionRateCompare:e.formatPrice(e.generalConvertionRateCompare)),textCompare:e.textCompare,valueCompare:e.valueCompare,numberDifferenceCompare:e.comparePercentage}}}),e.isPreview?e._e():i("CardAdvancedDealsInformation",{attrs:{information:e.advancedDealsCard.informationBar,filterBy:e.settings.filterBy}})],1)},w=[],_=(i("b680"),i("99af"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-card",{staticClass:"mt-5",attrs:{flat:""}},[i("v-container",[i("v-row",[i("v-col",{attrs:{cols:"3"}},[e._l(e.information.usersAdvancedDeals,(function(t,r){return[i("span",{key:r,staticClass:"d-block"},[i("b",[e._v(e._s(t.name))]),e._v(" : "+e._s("count"===e.filterBy?t[e.filterBy]:e.formatPrice(t[e.filterBy]))+" ")])]}))],2),e._l(e.information.periodsAdvancedDeals,(function(t,r){return[i("v-col",{key:r,attrs:{cols:"3"}},[i("span",{staticClass:"d-block"},[i("b",[e._v(e._s(e.periods[r]))]),e._v(" : "+e._s("count"===e.filterBy?t[e.filterBy]:e.formatPrice(t[e.filterBy]))+" ")])])]}))],2)],1)],1)}),B=[],D={name:"CardAdvancedDealsInformation",props:{information:{type:Object,default:function(){return{}}},filterBy:{type:String,default:"count"}},data:function(){return{periods:["Promedio anual","Promedio trimestral","Promedio mensual"],pastPeriods:["Este período","Período pasado","Mismo período el mes anterior"]}}},M=D,x=i("b0af"),A=i("a523"),E=Object(R["a"])(M,_,B,!1,null,null,null),I=E.exports;y()(E,{VCard:x["a"],VCol:P["a"],VContainer:A["a"],VRow:S["a"]});var k=i("8d7e"),L={name:"CardAdvancedDealsData",mixins:[m["a"]],components:{CardAdvancedDealsInformation:I},props:{defaultFilter:{type:Object,default:function(){return{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""}}}},isPreview:{type:Boolean,default:!1}},data:function(){return{advancedDealsCard:{},modalSettings:{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:[],periodRangeToCompare:{period:"",start:"",end:""}},settings:{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:[],periodRangeToCompare:{period:"",start:"",end:""}}}},computed:{comparePercentage:function(){return"0"===this.generalConvertionRateCompare?"100":(100*this.generalConvertionRateFormat/this.generalConvertionRateCompare-100).toFixed(2)},generalConvertionRateFormat:function(){var e,t,i,r,a;return this.advancedDealsCard&&void 0!==(null===(e=this.advancedDealsCard)||void 0===e||null===(t=e.mainAdvancedDeals)||void 0===t?void 0:t.count)&&void 0!==(null===(i=this.advancedDealsCard)||void 0===i||null===(r=i.mainAdvancedDeals)||void 0===r?void 0:r.sum)&&(null===(a=this.advancedDealsCard)||void 0===a?void 0:a.mainAdvancedDeals[this.settings.filterBy])||"0"},generalConvertionRateCompare:function(){var e,t,i,r;if(this.advancedDealsCard&&void 0!==(null===(e=this.advancedDealsCard)||void 0===e||null===(t=e.secondAdvancedDeals)||void 0===t?void 0:t.count)&&void 0!==(null===(i=this.advancedDealsCard)||void 0===i||null===(r=i.secondAdvancedDeals)||void 0===r?void 0:r.sum)){var a,o=null===(a=this.advancedDealsCard)||void 0===a?void 0:a.secondAdvancedDeals[this.settings.filterBy];return o?o.toFixed(2):"0"}return"0"},textCompare:function(){return"PREVIOUS_PERIOD"===this.settings.periodRangeToCompare.period?this.settings.periodPredefined[3]:"PREVIOUS_YEAR"===this.settings.periodRangeToCompare.period?"Año anterior":"CUSTOM"===this.settings.periodRangeToCompare.period?"Personalizado":""},valueCompare:function(){return this.isPreview||"CUSTOM"!==this.settings.periodRangeToCompare.period?"":"".concat(this.formatDate(this.filters.dateRangeToCompare.dateStart)," - ").concat(this.formatDate(this.filters.dateRangeToCompare.dateEnd))},textMain:function(){return this.isPreview?"":this.settings.periodPredefined[2]},valueMain:function(){return!this.isPreview&&this.settings.periodPredefined.length>0&&"CUSTOM"===this.settings.periodPredefined[0]?"".concat(this.formatDate(this.filters.dateRange.dateStart)," - ").concat(this.formatDate(this.filters.dateRange.dateEnd)):""},filters:function(){var e={dateRange:{dateStart:this.dateStart,dateEnd:this.dateEnd},owners:this.ownersFilter,pipeline:this.pipelineFilter};return this.dateRangeToCompare&&""!==this.dateRangeToCompare.dateStart&&""!==this.dateRangeToCompare.dateEnd&&(e.dateRangeToCompare=this.dateRangeToCompare),e}},methods:{update:function(){this.$apollo.queries.advancedDealsCard.refetch()}},apollo:{advancedDealsCard:{query:k["d"],fetchPolicy:"no-cache",client:"charts",variables:function(){return{filters:this.filters}},skip:function(){return""===this.dateStart||""===this.dateEnd||!this.pipelineFilter.id||0===this.ownersFilter.length},loadingKey:"isLoading"}}},j=L,G=Object(R["a"])(j,O,w,!1,null,"085fa648",null),H=G.exports,V={name:"CardAdvancedDealsModal",components:{TableDeals:l["a"],CardAdvancedDealsFilter:F,CardAdvancedDealsData:H},mixins:[m["c"]],props:{isOpen:{type:Boolean,default:!1},title:{type:String,default:"Sin título"},titleRegular:{type:String,default:""},filters:{type:Object,default:function(){return{filtersConfig:{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""}},filtersTable:{users:[],pipelines:[],periodRange:{start:"",end:""},dealStatus:""}}}}}},N=V,U=Object(R["a"])(N,n,s,!1,null,"21df61f2",null),W=U.exports,$={name:"CardAdvancedDealsPreview",components:{CardAdvancedDealsData:H,CardAdvancedDealsModal:W,CardAdvancedDealsFilter:F},mixins:[m["d"]],props:{defaultPeriod:{type:String,default:"THIS_MONTH"}},data:function(){return{chartId:"card-advancedDeals",title:"Tratos",titleRegular:"avanzados",isOpenModal:!1,filtersChartsDefault:{},initFilter:{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""},dealStatus:"ADVANCED_DEALS_CARD"}}},computed:{filtersConfig:function(){var e,t,i,r,a,o;return{filterBy:(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.filterBy)||this.initFilter.filterBy,users:this.usersGlobal||(null===(t=this.chart.filtersFull)||void 0===t?void 0:t.users)||this.initUsers,pipeline:(null===(i=this.chart.filtersFull)||void 0===i?void 0:i.pipeline)||this.initPipeline,periodRange:this.periodRangeGlobal||(null===(r=this.chart.filtersFull)||void 0===r?void 0:r.periodRange)||this.periodRange,periodPredefined:this.periodPredefinedGlobal||(null===(a=this.chart.filtersFull)||void 0===a?void 0:a.periodPredefined)||[this.defaultPeriod]||this.initFilter.periodPredefined,periodRangeToCompare:(null===(o=this.chart.filtersFull)||void 0===o?void 0:o.periodRangeToCompare)||this.initFilter.periodRangeToCompare}},filtersTable:function(){var e,t=this.getPeriod(this.initFilter.periodPredefined[0]).get(),i=Object(o["a"])(t,2),r=i[0],a=i[1];return{users:this.usersGlobal||this.users||this.initUsers,pipelines:this.pipelines||this.filtersChartsDefault.pipelines,periodRange:this.periodRangeGlobal||(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.periodRange)||{start:r,end:a},dealStatus:this.initFilter.dealStatus}}}},z=$,q=(i("3c11"),Object(R["a"])(z,r,a,!1,null,"d5148998",null));t["a"]=q.exports},cbd3:function(e,t,i){"use strict";var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseCardChart",{attrs:{title:e.title,titleRegular:e.titleRegular,settings:e.filtersConfig},on:{updateRefetch:function(t){e.isRefetch=!0}},scopedSlots:e._u([{key:"modal",fn:function(){return[i("CardRebookedActivitiesFilter",{attrs:{defaultFilter:e.filtersConfig,isIcon:"",isPreview:""}})]},proxy:!0}])},[i("div",{staticClass:"hoverClick",on:{click:e.openModal}},[i("CardRebookedActivitiesData",{attrs:{defaultFilter:e.filtersConfig,isPreview:"",isRefetch:e.isRefetch},on:{updateRefetch:function(t){e.isRefetch=!1}}})],1),i("CardRebookedActivitiesModal",{attrs:{isOpen:e.isOpenModal,filters:{filtersConfig:e.filtersConfig,filtersTable:e.filtersTable},title:e.title,titleRegular:e.titleRegular},on:{close:e.closeModal}})],1)},a=[],o=i("3835"),n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalChart",{attrs:{title:e.title,titleRegular:e.titleRegular,isOpen:e.isOpen},on:{close:e.closeModal},scopedSlots:e._u([{key:"filters",fn:function(){return[i("CardRebookedActivitiesFilter",{attrs:{defaultFilter:e.filters.filtersConfig}})]},proxy:!0},{key:"chart",fn:function(){return[i("CardRebookedActivitiesData",{attrs:{defaultFilter:e.filters.filtersConfig}})]},proxy:!0},{key:"table",fn:function(){return[i("TableActivities",{attrs:{defaultFilter:e.filters.filtersTable}})]},proxy:!0}])})},s=[],l=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.isPreview?e._e():i("ListFilters",{attrs:{settings:e.settings}}),i("BaseCardNumber",{attrs:{information:{numberMain:""+e.generalConvertionRateFormat,textMain:e.textMain,valueMain:e.valueMain,textMainType:e.textChart,isCompare:!e.isPreview&&e.settings.periodRangeToCompare.period.length>0,numberCompare:""+e.generalConvertionRateCompare,textCompare:e.textCompare,valueCompare:e.valueCompare,numberDifferenceCompare:e.comparePercentage}}}),e.isPreview?e._e():i("CardRebookedActivitiesInformation",{attrs:{information:e.rebookedActivitiesCard.informationBar,filterBy:e.settings.filterBy}})],1)},d=[],p=(i("b680"),i("99af"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-card",{staticClass:"mt-5",attrs:{flat:""}},[i("v-container",[i("v-row",{staticClass:"justify-center"},[i("v-col",{attrs:{cols:"3"}},[e._l(e.information.usersRebookedActivities,(function(t,r){return[i("span",{key:r,staticClass:"d-block"},[i("b",[e._v(e._s(t.name))]),e._v(" : "+e._s(t[e.filterBy])+" ")])]}))],2),e._l(e.information.periodsRebookedActivities,(function(t,r){return[i("v-col",{key:r,attrs:{cols:"3"}},[i("span",{staticClass:"d-block"},[i("b",[e._v(e._s(e.rowOne[r]))]),e._v(" : "+e._s(t.count)+" ")])])]}))],2)],1)],1)}),c=[],u={name:"CardRebookedActivitiesInformation",props:{information:{type:Object,default:function(){return{}}},filterBy:{type:String,default:"count"}},data:function(){return{rowOne:["Este período","Período pasado","Mismo período el mes anterior"]}}},f=u,h=i("0c7c"),v=i("6544"),m=i.n(v),g=i("b0af"),C=i("62ad"),R=i("a523"),T=i("0fd9"),y=Object(h["a"])(f,p,c,!1,null,null,null),P=y.exports;m()(y,{VCard:g["a"],VCol:C["a"],VContainer:R["a"],VRow:T["a"]});var S=i("8d7e"),b=i("0db6"),F={name:"CardRebookedActivitiesData",mixins:[b["a"]],components:{CardRebookedActivitiesInformation:P},props:{defaultFilter:{type:Object,default:function(){return{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""}}}},isPreview:{type:Boolean,default:!1}},data:function(){return{rebookedActivitiesCard:{},modalSettings:{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:[],periodRangeToCompare:{period:"",start:"",end:""}},settings:{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:[],periodRangeToCompare:{period:"",start:"",end:""}}}},computed:{comparePercentage:function(){return"0"===this.generalConvertionRateCompare?"100":(100*this.generalConvertionRateFormat/this.generalConvertionRateCompare-100).toFixed(2)},generalConvertionRateFormat:function(){var e,t,i;return this.rebookedActivitiesCard&&void 0!==(null===(e=this.rebookedActivitiesCard)||void 0===e||null===(t=e.mainRebookedActivities)||void 0===t?void 0:t.count)&&(null===(i=this.rebookedActivitiesCard)||void 0===i?void 0:i.mainRebookedActivities.count)||"0"},generalConvertionRateCompare:function(){var e,t,i;return this.rebookedActivitiesCard&&void 0!==(null===(e=this.rebookedActivitiesCard)||void 0===e||null===(t=e.secondRebookedActivities)||void 0===t?void 0:t.count)&&(null===(i=this.rebookedActivitiesCard)||void 0===i?void 0:i.secondRebookedActivities.count)||"0"},textCompare:function(){return"PREVIOUS_PERIOD"===this.settings.periodRangeToCompare.period?this.settings.periodPredefined[3]:"PREVIOUS_YEAR"===this.settings.periodRangeToCompare.period?"Año anterior":"CUSTOM"===this.settings.periodRangeToCompare.period?"Personalizado":""},valueCompare:function(){return this.isPreview||"CUSTOM"!==this.settings.periodRangeToCompare.period?"":"".concat(this.formatDate(this.filters.dateRangeToCompare.dateStart)," - ").concat(this.formatDate(this.filters.dateRangeToCompare.dateEnd))},textMain:function(){return this.isPreview?"":this.settings.periodPredefined[2]},valueMain:function(){return!this.isPreview&&this.settings.periodPredefined.length>0&&"CUSTOM"===this.settings.periodPredefined[0]?"".concat(this.formatDate(this.filters.dateRange.dateStart)," - ").concat(this.formatDate(this.filters.dateRange.dateEnd)):""},filters:function(){var e={dateRange:{dateStart:this.dateStart,dateEnd:this.dateEnd},owners:this.ownersFilter,pipeline:this.pipelineFilter};return this.dateRangeToCompare&&""!==this.dateRangeToCompare.dateStart&&""!==this.dateRangeToCompare.dateEnd&&(e.dateRangeToCompare=this.dateRangeToCompare),e}},methods:{update:function(){this.$apollo.queries.rebookedActivitiesCard.refetch()}},apollo:{rebookedActivitiesCard:{query:S["C"],fetchPolicy:"no-cache",client:"charts",variables:function(){return{filters:this.filters}},skip:function(){return""===this.dateStart||""===this.dateEnd||!this.pipelineFilter.id||0===this.ownersFilter.length},loadingKey:"isLoading"}}},O=F,w=Object(h["a"])(O,l,d,!1,null,"659e825a",null),_=w.exports,B=i("157d"),D=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalFilters",{attrs:{isOpen:e.isOpenModalFilter,isIcon:e.isIcon},on:{save:e.saveFilter,statusModal:e.statusModal}},[i("v-row",[i("v-col",{attrs:{cols:"12"}},[i("SelectUsers",{attrs:{all:"",defaultSelect:e.defaultFilter.users},on:{change:e.changeUsers}})],1),i("v-col",{attrs:{cols:"12"}},[i("SelectPipeline",{attrs:{defaultSelect:e.defaultFilter.pipeline},on:{change:e.changePipeline}})],1),i("v-col",{attrs:{cols:"12"}},[i("PeriodPredefined",{attrs:{defaultSelect:e.defaultFilter.periodPredefined},on:{change:e.changePeriodPredefined}})],1),e.isPreview?e._e():i("v-col",{attrs:{cols:"12"}},[i("ComparePeriod",{attrs:{periodPredefined:e.filters.periodPredefined[0]},on:{change:e.changeComparePeriod}})],1)],1)],1)},M=[],x=i("5530"),A=i("740f"),E=i("6321"),I={name:"CardRebookedActivitiesFilter",components:{SelectUsers:A["a"],SelectPipeline:E["a"]},mixins:[b["b"]],props:{defaultFilter:{type:Object,default:function(){return{users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""}}}},isIcon:{type:Boolean,default:!1},isPreview:{type:Boolean,default:!1}},data:function(){return{filters:{users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""}}}},methods:{changeComparePeriod:function(e){var t=e.isCompare,i=e.periodCompare;if(t){if(i&&(this.filters.periodRangeToCompare.period=i.periodSelected,i.periodRange.length>0)){var r=Object(o["a"])(i.periodRange,2);this.filters.periodRangeToCompare.start=r[0],this.filters.periodRangeToCompare.end=r[1]}}else this.filters.periodRangeToCompare.period="",this.filters.periodRangeToCompare.start="",this.filters.periodRangeToCompare.end=""},saveFilter:function(){this.changeChart({id:"card-rebookedActivities",filtersFull:Object(x["a"])(Object(x["a"])({},this.noReactive(this.filters)),{},{periodRange:Object(x["a"])({__typename:"PeriodRange"},this.filters.periodRange)})}),this.isOpenModalFilter=!1}}},k=I,L=Object(h["a"])(k,D,M,!1,null,"1fe33b48",null),j=L.exports;m()(L,{VCol:C["a"],VRow:T["a"]});var G={name:"CardRebookedActivitiesModal",components:{CardRebookedActivitiesData:_,CardRebookedActivitiesFilter:j,TableActivities:B["a"]},mixins:[b["c"]],props:{isOpen:{type:Boolean,default:!1},title:{type:String,default:"Sin título"},titleRegular:{type:String,default:""},filters:{type:Object,default:function(){return{filtersConfig:{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""}},filtersTable:{users:[],pipelines:[],periodRange:{start:"",end:""},dealStatus:"",stages:[],activityTypes:[],fromReportStatus:"ACTIVITIESBYSTAGE"}}}}}},H=G,V=Object(h["a"])(H,n,s,!1,null,"d6e95c12",null),N=V.exports,U={name:"CardRebookedActivitiesPreview",components:{CardRebookedActivitiesData:_,CardRebookedActivitiesModal:N,CardRebookedActivitiesFilter:j},mixins:[b["d"]],props:{defaultPeriod:{type:String,default:"THIS_MONTH"}},data:function(){return{title:"Actividades",titleRegular:"reagendadas",isOpenModal:!1,chartId:"card-rebookedActivities",filtersChartsDefault:{},initFilter:{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""},activitiesFilter:"REBOOKED",activityTypes:[],fromReportStatus:"ACTIVITIES_CARD"}}},computed:{filtersConfig:function(){var e,t,i,r,a,o;return{filterBy:(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.filterBy)||this.initFilter.filterBy,users:this.usersGlobal||(null===(t=this.chart.filtersFull)||void 0===t?void 0:t.users)||this.initUsers,pipeline:(null===(i=this.chart.filtersFull)||void 0===i?void 0:i.pipeline)||this.initPipeline,periodRange:this.periodRangeGlobal||(null===(r=this.chart.filtersFull)||void 0===r?void 0:r.periodRange)||this.periodRange,periodPredefined:this.periodPredefinedGlobal||(null===(a=this.chart.filtersFull)||void 0===a?void 0:a.periodPredefined)||[this.defaultPeriod]||this.initFilter.periodPredefined,periodRangeToCompare:(null===(o=this.chart.filtersFull)||void 0===o?void 0:o.periodRangeToCompare)||this.initFilter.periodRangeToCompare}},filtersTable:function(){var e,t=this.getPeriod(this.initFilter.periodPredefined[0]).get(),i=Object(o["a"])(t,2),r=i[0],a=i[1];return{users:this.usersGlobal||this.users||this.initUsers,pipelines:this.pipelines||[this.initPipeline],periodRange:this.periodRangeGlobal||(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.periodRange)||{start:r,end:a},activitiesStatus:this.initFilter.activitiesFilter,activityTypes:this.filtersChartsDefault.activityTypes||this.initFilter.activityTypes,fromReportStatus:this.initFilter.fromReportStatus}}}},W=U,$=(i("7fdf"),Object(h["a"])(W,r,a,!1,null,"7e11a3b2",null));t["a"]=$.exports},cdc1:function(e,t,i){"use strict";var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseCardChart",{attrs:{title:e.title,titleRegular:e.titleRegular,settings:e.filtersConfig},on:{updateRefetch:function(t){e.isRefetch=!0}},scopedSlots:e._u([{key:"modal",fn:function(){return[i("CardBookedActivitiesInDayFilter",{attrs:{defaultFilter:e.filtersConfig,isIcon:"",isPreview:""}})]},proxy:!0}])},[i("div",{staticClass:"hoverClick",on:{click:e.openModal}},[i("CardBookedActivitiesInDayData",{attrs:{defaultFilter:e.filtersConfig,isPreview:"",isRefetch:e.isRefetch},on:{updateRefetch:function(t){e.isRefetch=!1}}})],1),i("CardBookedActivitiesInDayModal",{attrs:{isOpen:e.isOpenModal,filters:{filtersConfig:e.filtersConfig,filtersTable:e.filtersTable},title:e.title,titleRegular:e.titleRegular},on:{close:e.closeModal}})],1)},a=[],o=i("3835"),n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalChart",{attrs:{title:e.title,titleRegular:e.titleRegular,isOpen:e.isOpen},on:{close:e.closeModal},scopedSlots:e._u([{key:"filters",fn:function(){return[i("CardBookedActivitiesInDayFilter",{attrs:{defaultFilter:e.filters.filtersConfig}})]},proxy:!0},{key:"chart",fn:function(){return[i("CardBookedActivitiesInDayData",{attrs:{defaultFilter:e.filters.filtersConfig}})]},proxy:!0},{key:"table",fn:function(){return[i("TableActivities",{attrs:{defaultFilter:e.filters.filtersTable}})]},proxy:!0}])})},s=[],l=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.isPreview?e._e():i("ListFilters",{attrs:{settings:e.settings}}),i("BaseCardNumber",{attrs:{information:{numberMain:""+e.generalConvertionRateFormat,textMain:e.textMain,valueMain:e.valueMain,textMainType:e.textChart,isCompare:!e.isPreview&&e.settings.periodRangeToCompare.period.length>0,numberCompare:""+e.generalConvertionRateCompare,textCompare:e.textCompare,valueCompare:e.valueCompare,numberDifferenceCompare:e.comparePercentage}}}),e.isPreview?e._e():i("CardBookedActivitiesInDayInformation",{attrs:{information:e.bookedActivitiesInDayCard.informationBar,filterBy:e.settings.filterBy}})],1)},d=[],p=(i("b680"),i("99af"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-card",{staticClass:"mt-5",attrs:{flat:""}},[i("v-container",[i("v-row",{staticClass:"justify-center"},[i("v-col",{attrs:{cols:"3"}},[e._l(e.information.usersBookedActivities,(function(t,r){return[i("span",{key:r,staticClass:"d-block"},[i("b",[e._v(e._s(t.name))]),e._v(" : "+e._s(t[e.filterBy])+" ")])]}))],2),e._l(e.information.periodsBookedActivities,(function(t,r){return[i("v-col",{key:r,attrs:{cols:"3"}},[i("span",{staticClass:"d-block"},[i("b",[e._v(e._s(e.rowOne[r]))]),e._v(" : "+e._s(t.count)+" ")])])]}))],2)],1)],1)}),c=[],u={name:"CardBookedActivitiesInDayInformation",props:{information:{type:Object,default:function(){return{}}},filterBy:{type:String,default:"count"}},data:function(){return{rowOne:["Este período","Período pasado","Mismo período el mes anterior"]}}},f=u,h=i("0c7c"),v=i("6544"),m=i.n(v),g=i("b0af"),C=i("62ad"),R=i("a523"),T=i("0fd9"),y=Object(h["a"])(f,p,c,!1,null,null,null),P=y.exports;m()(y,{VCard:g["a"],VCol:C["a"],VContainer:R["a"],VRow:T["a"]});var S=i("8d7e"),b=i("0db6"),F={name:"CardBookedActivitiesInDayData",mixins:[b["a"]],components:{CardBookedActivitiesInDayInformation:P},props:{defaultFilter:{type:Object,default:function(){return{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""}}}},isPreview:{type:Boolean,default:!1}},data:function(){return{bookedActivitiesInDayCard:{},modalSettings:{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:[],periodRangeToCompare:{period:"",start:"",end:""}},settings:{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:[],periodRangeToCompare:{period:"",start:"",end:""}}}},computed:{comparePercentage:function(){return"0"===this.generalConvertionRateCompare?"100":(100*this.generalConvertionRateFormat/this.generalConvertionRateCompare-100).toFixed(2)},generalConvertionRateFormat:function(){var e,t,i;return this.bookedActivitiesInDayCard&&void 0!==(null===(e=this.bookedActivitiesInDayCard)||void 0===e||null===(t=e.mainBookedActivities)||void 0===t?void 0:t.count)&&(null===(i=this.bookedActivitiesInDayCard)||void 0===i?void 0:i.mainBookedActivities.count)||"0"},generalConvertionRateCompare:function(){var e,t,i;return this.bookedActivitiesInDayCard&&void 0!==(null===(e=this.bookedActivitiesInDayCard)||void 0===e||null===(t=e.secondBookedActivities)||void 0===t?void 0:t.count)&&(null===(i=this.bookedActivitiesInDayCard)||void 0===i?void 0:i.secondBookedActivities.count)||"0"},textCompare:function(){return"PREVIOUS_PERIOD"===this.settings.periodRangeToCompare.period?this.settings.periodPredefined[3]:"PREVIOUS_YEAR"===this.settings.periodRangeToCompare.period?"Año anterior":"CUSTOM"===this.settings.periodRangeToCompare.period?"Personalizado":""},valueCompare:function(){return this.isPreview||"CUSTOM"!==this.settings.periodRangeToCompare.period?"":"".concat(this.formatDate(this.filters.dateRangeToCompare.dateStart)," - ").concat(this.formatDate(this.filters.dateRangeToCompare.dateEnd))},textMain:function(){return this.isPreview?"":this.settings.periodPredefined[2]},valueMain:function(){return!this.isPreview&&this.settings.periodPredefined.length>0&&"CUSTOM"===this.settings.periodPredefined[0]?"".concat(this.formatDate(this.filters.dateRange.dateStart)," - ").concat(this.formatDate(this.filters.dateRange.dateEnd)):""},filters:function(){var e={dateRange:{dateStart:this.dateStart,dateEnd:this.dateEnd},owners:this.ownersFilter,pipeline:this.pipelineFilter};return this.dateRangeToCompare&&""!==this.dateRangeToCompare.dateStart&&""!==this.dateRangeToCompare.dateEnd&&(e.dateRangeToCompare=this.dateRangeToCompare),e}},methods:{update:function(){this.$apollo.queries.bookedActivitiesInDayCard.refetch()}},apollo:{bookedActivitiesInDayCard:{query:S["f"],fetchPolicy:"no-cache",client:"charts",variables:function(){return{filters:this.filters}},skip:function(){return""===this.dateStart||""===this.dateEnd||!this.pipelineFilter.id||0===this.ownersFilter.length},loadingKey:"isLoading"}}},O=F,w=Object(h["a"])(O,l,d,!1,null,"51e6f9a5",null),_=w.exports,B=i("157d"),D=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalFilters",{attrs:{isOpen:e.isOpenModalFilter,isIcon:e.isIcon},on:{save:e.saveFilter,statusModal:e.statusModal}},[i("v-row",[i("v-col",{attrs:{cols:"12"}},[i("SelectUsers",{attrs:{all:"",defaultSelect:e.defaultFilter.users},on:{change:e.changeUsers}})],1),i("v-col",{attrs:{cols:"12"}},[i("SelectPipeline",{attrs:{defaultSelect:e.defaultFilter.pipeline},on:{change:e.changePipeline}})],1),i("v-col",{attrs:{cols:"12"}},[i("PeriodPredefined",{attrs:{defaultSelect:e.defaultFilter.periodPredefined},on:{change:e.changePeriodPredefined}})],1),e.isPreview?e._e():i("v-col",{attrs:{cols:"12"}},[i("ComparePeriod",{attrs:{periodPredefined:e.filters.periodPredefined[0]},on:{change:e.changeComparePeriod}})],1)],1)],1)},M=[],x=i("5530"),A=i("740f"),E=i("6321"),I={name:"CardBookedActivitiesInDayFilter",components:{SelectUsers:A["a"],SelectPipeline:E["a"]},mixins:[b["b"]],props:{defaultFilter:{type:Object,default:function(){return{users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""}}}},isIcon:{type:Boolean,default:!1},isPreview:{type:Boolean,default:!1}},data:function(){return{filters:{users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""}}}},methods:{changeComparePeriod:function(e){var t=e.isCompare,i=e.periodCompare;if(t){if(i&&(this.filters.periodRangeToCompare.period=i.periodSelected,i.periodRange.length>0)){var r=Object(o["a"])(i.periodRange,2);this.filters.periodRangeToCompare.start=r[0],this.filters.periodRangeToCompare.end=r[1]}}else this.filters.periodRangeToCompare.period="",this.filters.periodRangeToCompare.start="",this.filters.periodRangeToCompare.end=""},saveFilter:function(){this.changeChart({id:"card-bookedActivities",filtersFull:Object(x["a"])(Object(x["a"])({},this.noReactive(this.filters)),{},{periodRange:Object(x["a"])({__typename:"PeriodRange"},this.filters.periodRange)})}),this.isOpenModalFilter=!1}}},k=I,L=Object(h["a"])(k,D,M,!1,null,"f1b0e192",null),j=L.exports;m()(L,{VCol:C["a"],VRow:T["a"]});var G={name:"CardBookedActivitiesInDayModal",components:{CardBookedActivitiesInDayData:_,CardBookedActivitiesInDayFilter:j,TableActivities:B["a"]},mixins:[b["c"]],props:{isOpen:{type:Boolean,default:!1},title:{type:String,default:"Sin título"},titleRegular:{type:String,default:""},filters:{type:Object,default:function(){return{filtersConfig:{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""}},filtersTable:{users:[],pipelines:[],periodRange:{start:"",end:""},dealStatus:"",stages:[],activityTypes:[],fromReportStatus:"ACTIVITIESBYSTAGE"}}}}}},H=G,V=Object(h["a"])(H,n,s,!1,null,"04169b3f",null),N=V.exports,U={name:"CardBookedActivitiesInDayPreview",components:{CardBookedActivitiesInDayData:_,CardBookedActivitiesInDayModal:N,CardBookedActivitiesInDayFilter:j},mixins:[b["d"]],props:{defaultPeriod:{type:String,default:"THIS_MONTH"}},data:function(){return{title:"Actividades",titleRegular:"agendadas",isOpenModal:!1,chartId:"card-bookedActivities",filtersChartsDefault:{},initFilter:{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""},activitiesFilter:"ALL",activityTypes:[],fromReportStatus:"ACTIVITIES_CARD"}}},computed:{filtersConfig:function(){var e,t,i,r,a,o;return{filterBy:(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.filterBy)||this.initFilter.filterBy,users:this.usersGlobal||(null===(t=this.chart.filtersFull)||void 0===t?void 0:t.users)||this.initUsers,pipeline:(null===(i=this.chart.filtersFull)||void 0===i?void 0:i.pipeline)||this.initPipeline,periodRange:this.periodRangeGlobal||(null===(r=this.chart.filtersFull)||void 0===r?void 0:r.periodRange)||this.periodRange,periodPredefined:this.periodPredefinedGlobal||(null===(a=this.chart.filtersFull)||void 0===a?void 0:a.periodPredefined)||[this.defaultPeriod]||this.initFilter.periodPredefined,periodRangeToCompare:(null===(o=this.chart.filtersFull)||void 0===o?void 0:o.periodRangeToCompare)||this.initFilter.periodRangeToCompare}},filtersTable:function(){var e,t=this.getPeriod(this.initFilter.periodPredefined[0]).get(),i=Object(o["a"])(t,2),r=i[0],a=i[1];return{users:this.usersGlobal||this.users||this.initUsers,pipelines:this.pipelines||[this.initPipeline],periodRange:this.periodRangeGlobal||(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.periodRange)||{start:r,end:a},activitiesStatus:this.initFilter.activitiesFilter,activityTypes:this.filtersChartsDefault.activityTypes||this.initFilter.activityTypes,fromReportStatus:this.initFilter.fromReportStatus}}}},W=U,$=(i("9786"),Object(h["a"])(W,r,a,!1,null,"d5a7cf70",null));t["a"]=$.exports},cfa6:function(e,t,i){"use strict";i("3753")},d1a8:function(e,t,i){},d1c1:function(e,t,i){"use strict";i("024a")},d3a1:function(e,t,i){},d704:function(e,t,i){"use strict";i("574b")},d967:function(e,t,i){},dbb1f:function(e,t,i){},df27:function(e,t,i){},e050:function(e,t,i){"use strict";i.d(t,"d",(function(){return w})),i.d(t,"c",(function(){return _})),i.d(t,"b",(function(){return B})),i.d(t,"a",(function(){return D}));var r=i("3835"),a=(i("7db0"),i("047b")),o=i("baee"),n=i("cdd4"),s=i("198f"),l=i("8b70"),d=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-row",[i("v-col",{attrs:{cols:"12"}},[i("v-select",{attrs:{items:e.itemsCompare,"item-value":"id","item-text":"text",label:"Comparar con:",outlined:"",dense:"","hide-details":"auto"},model:{value:e.itemSelected,callback:function(t){e.itemSelected=t},expression:"itemSelected"}})],1),"date"===e.itemSelected?i("v-col",{attrs:{cols:"12"}},[i("Select",{attrs:{name:"Elige la fecha",list:e.listCompare},on:{change:e.updatePeriodSelected}})],1):e._e(),"date"===e.itemSelected&&"CUSTOM"===e.periodCompare.periodSelected?i("v-col",{attrs:{cols:"12"}},[i("PeriodRange",{attrs:{defaultSelect:e.periodRange},on:{change:e.updatePeriodRange}})],1):e._e()],1)},p=[],c=i("5530"),u=i("d344"),f=i("a027"),h={name:"ComparePeriodLines",components:{Select:u["a"],PeriodRange:f["a"]},props:{periodPredefined:{type:String,default:""},hasUserCompare:{type:Boolean,default:!1}},data:function(){return{periodRange:[],periodCompare:{periodSelected:"",periodRange:""},isCompare:!1,listCompare:n["b"],itemSelected:"none",usersSelected:[]}},watch:{itemSelected:{handler:function(){this.update()},immediate:!0}},computed:{itemsCompare:function(){return this.hasUserCompare?[{id:"none",text:"Ninguno"},{id:"date",text:"Fecha"},{id:"user",text:"Usuario"}]:[{id:"none",text:"Ninguno"},{id:"date",text:"Fecha"}]}},methods:{findPeriod:function(e){return this.listCompare.find((function(t){return t.id===e}))},updatePeriodRange:function(e){this.periodCompare.periodRange=e,this.update()},updatePeriodSelected:function(e){if(this.periodCompare.periodSelected=e,"CUSTOM"!==this.periodCompare.periodSelected){var t=this.findPeriod(e);this.periodCompare.periodRange=t?t.get(this.periodPredefined):[]}this.update()},update:function(){var e={};"date"===this.itemSelected&&(e.periodCompare=this.periodCompare),this.$emit("change",Object(c["a"])({isCompare:"date"===this.itemSelected},e))}}},v=h,m=(i("548b"),i("0c7c")),g=i("6544"),C=i.n(g),R=i("62ad"),T=i("0fd9"),y=i("b974"),P=Object(m["a"])(v,d,p,!1,null,"1c34c191",null),S=P.exports;C()(P,{VCol:R["a"],VRow:T["a"],VSelect:y["a"]});var b=i("73cd"),F=i("9d71"),O=i("7d6b"),w={components:{BaseCardChart:a["a"]},mixins:[o["b"]],props:{filtersGlobal:{type:Object,default:function(){return{user:{},periodPredefined:[]}}}},data:function(){return{isRefetch:!1,isOpenModal:!1,periods:n["a"]}},computed:{usersGlobal:function(){return this.filtersGlobal.users.length>0?this.filtersGlobal.users:null},periodPredefinedGlobal:function(){return this.filtersGlobal.periodPredefined&&this.filtersGlobal.periodPredefined.length>0?[this.filtersGlobal.periodPredefined[0]]:null},periodRangeGlobal:function(){if(this.filtersGlobal.periodPredefined&&this.filtersGlobal.periodPredefined.length>1){var e=this.filtersGlobal.periodPredefined[1];return{start:e[0],end:e[1]}}return null},initUsers:function(){return this.filtersChartsDefault.users&&this.filtersChartsDefault.users.length>0?this.filtersChartsDefault.users:null},initPipeline:function(){return this.filtersChartsDefault.pipelines&&this.filtersChartsDefault.pipelines.length>0?this.filtersChartsDefault.pipelines[0]:{}},initPipelines:function(){return this.filtersChartsDefault.pipelines&&this.filtersChartsDefault.pipelines.length>0?[this.filtersChartsDefault.pipelines[0]]:[]},periodRange:function(){var e=this.getPeriod(this.defaultPeriod||this.initFilter.periodPredefined[0]).get(),t=Object(r["a"])(e,2),i=t[0],a=t[1];return{start:i,end:a}},users:function(){var e,t;return(null===(e=this.chart.filtersFull)||void 0===e||null===(t=e.users)||void 0===t?void 0:t.length)>0?this.chart.filtersFull.users:null},pipelines:function(){var e,t;return null!==(e=this.chart.filtersFull)&&void 0!==e&&e.pipeline?[null===(t=this.chart.filtersFull)||void 0===t?void 0:t.pipeline]:null}},methods:{getPeriod:function(e){return this.periods.find((function(t){return t.id===e}))},openModal:function(){this.isOpenModal=!0},closeModal:function(){this.isOpenModal=!1}}},_={components:{BaseModalChart:s["a"],TableDeals:l["a"]},methods:{closeModal:function(){this.$emit("close")}}},B={components:{ComparePeriodLines:S,BaseModalFilters:b["a"],PeriodPredefined:F["a"]},mixins:[o["c"]],props:{isIcon:{type:Boolean,default:!1},isPreview:{type:Boolean,default:!1}},data:function(){return{listCompare:n["b"],isOpenModalFilter:!1,typeCompare:"none"}},methods:{findPeriod:function(e){return this.listCompare.find((function(t){return t.id===e}))},updatePeriodSelected:function(e){if("CUSTOM"!==e){var t=this.findPeriod(e),i=t?t.get(this.filters.periodPredefined[0]):[];if(i){var a=Object(r["a"])(i,2);this.filters.periodRangeToCompare.start=a[0],this.filters.periodRangeToCompare.end=a[1]}}},statusModal:function(e){this.isOpenModalFilter=e},changeTime:function(e){this.filters.filterTime=e},changeFilterBy:function(e){this.filters.filterBy=e},changeUser:function(e){this.filters.users=[e]},changeUsers:function(e){this.filters.users=e},changePipeline:function(e){this.filters.pipeline=e},changePeriodPredefined:function(e){this.filters.periodPredefined=e;var t=Object(r["a"])(e,2),i=Object(r["a"])(t[1],2);this.filters.periodRange.start=i[0],this.filters.periodRange.end=i[1],"date"===this.typeCompare&&this.updatePeriodSelected(this.filters.periodRangeToCompare.period)},changeComparePeriod:function(e){var t=e.isCompare,i=e.periodCompare;if(t){if(i&&(this.typeCompare="date",this.filters.periodRangeToCompare.period=i.periodSelected,i.periodRange.length>0)){var a=Object(r["a"])(i.periodRange,2);this.filters.periodRangeToCompare.start=a[0],this.filters.periodRangeToCompare.end=a[1]}}else this.typeCompare="none",this.filters.periodRangeToCompare.period="",this.filters.periodRangeToCompare.start="",this.filters.periodRangeToCompare.end=""}}},D={mixins:[O["a"]],props:{isPreview:{type:Boolean,default:!1},isRefetch:{type:Boolean,default:!1}},watch:{isRefetch:function(e){e&&(this.update(),this.$emit("updateRefetch"))}},computed:{isLargeWidth:function(){return"THIS_YEAR"===this.settings.periodPredefined[0]||"LAST_YEAR"===this.settings.periodPredefined[0]},isWithScroll:function(){return this.isLargeWidth&&this.isPreview}},methods:{formatPrice:function(e){return new Intl.NumberFormat("es-MX",{style:"currency",currency:"MXN"}).format(e)}}}},e1f5:function(e,t,i){},e209:function(e,t,i){"use strict";i("3420")},e285:function(e,t,i){var r=i("da84"),a=r.isFinite;e.exports=Number.isFinite||function(e){return"number"==typeof e&&a(e)}},e45b:function(e,t,i){},e4a7:function(e,t,i){"use strict";i("e8ff")},e4c9:function(e,t,i){},e5d2:function(e,t,i){},e624:function(e,t,i){"use strict";var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseCardChart",{attrs:{title:e.title,titleRegular:e.titleRegular,settings:e.filtersConfig,isChart:""},on:{updateRefetch:function(t){e.isRefetch=!0}},scopedSlots:e._u([{key:"modal",fn:function(){return[i("BarOpportunitySalesFilter",{attrs:{defaultFilter:e.filtersConfig,isIcon:"",isPreview:""}})]},proxy:!0}])},[i("div",{staticClass:"hoverClick",on:{click:e.openModal}},[i("BarOpportunitySalesData",{attrs:{defaultFilter:e.filtersConfig,isPreview:"",isRefetch:e.isRefetch},on:{updateRefetch:function(t){e.isRefetch=!1}}})],1),i("BarOpportunitySalesModal",{attrs:{isOpen:e.isOpenModal,filters:{filtersConfig:e.filtersConfig,filtersTable:e.filtersTable},title:e.title,titleRegular:e.titleRegular},on:{close:e.closeModal}})],1)},a=[],o=i("3835"),n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalChart",{attrs:{title:e.title,titleRegular:e.titleRegular,isOpen:e.isOpen},on:{close:e.closeModal},scopedSlots:e._u([{key:"filters",fn:function(){return[i("BarOpportunitySalesFilter",{attrs:{defaultFilter:e.filters.filtersConfig}})]},proxy:!0},{key:"chart",fn:function(){return[i("BarOpportunitySalesData",{attrs:{defaultFilter:e.filters.filtersConfig,isFull:""}})]},proxy:!0},{key:"table",fn:function(){return[i("TableDeals",{attrs:{defaultFilter:e.filters.filtersTable}})]},proxy:!0}])})},s=[],l=i("52e2"),d=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalFilters",{attrs:{isOpen:e.isOpenModalFilter,isIcon:e.isIcon},on:{save:e.saveFilter,statusModal:e.statusModal}},[i("v-row",[i("v-col",{attrs:{cols:"12"}},[i("Select",{attrs:{name:"Filtrar por",defaultSelect:e.defaultFilter.filterBy,list:e.listFilterBy},on:{change:e.changeFilterBy}})],1),i("v-col",{attrs:{cols:"12"}},[i("SelectUsers",{attrs:{all:"",defaultSelect:e.defaultFilter.users},on:{change:e.changeUsers}})],1),i("v-col",{attrs:{cols:"12"}},[i("SelectPipeline",{attrs:{defaultSelect:e.defaultFilter.pipeline},on:{change:e.changePipeline}})],1),i("v-col",{attrs:{cols:"12"}},[i("PeriodPredefined",{attrs:{defaultSelect:e.defaultFilter.periodPredefined},on:{change:e.changePeriodPredefined}})],1),e.isPreview?e._e():i("v-col",{attrs:{cols:"12"}},[i("ComparePeriodBars",{attrs:{periodPredefined:e.filters.periodPredefined[0]},on:{change:e.changeComparePeriod}})],1)],1)],1)},p=[],c=i("5530"),u=i("740f"),f=i("d344"),h=i("6321"),v=i("c065"),m={name:"BarOpportunitySalesFilter",components:{SelectUsers:u["a"],SelectPipeline:h["a"],Select:f["a"]},mixins:[l["b"]],props:{defaultFilter:{type:Object,default:function(){return{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{},typeCompare:"none"}}}},data:function(){return{listTime:v["d"],listFilterBy:v["e"],filters:{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{},typeCompare:"none"}}},methods:{saveFilter:function(){this.changeChart({id:"bar-opportunitySales",filtersFull:Object(c["a"])(Object(c["a"])({},this.noReactive(this.filters)),{},{periodRange:Object(c["a"])({__typename:"PeriodRange"},this.filters.periodRange),ownerToCompare:Object(c["a"])({},this.filters.ownerToCompare)})}),this.isOpenModalFilter=!1}}},g=m,C=i("0c7c"),R=i("6544"),T=i.n(R),y=i("62ad"),P=i("0fd9"),S=Object(C["a"])(g,d,p,!1,null,"66edaafe",null),b=S.exports;T()(S,{VCol:y["a"],VRow:P["a"]});var F=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.isPreview?e._e():i("ListFilters",{attrs:{settings:e.settings}}),i("div",{staticClass:"text-center bgWhite",class:[{"py-5 px-3":!e.isPreview},{showScroll:e.isWithScroll}]},[i("apexchart",{attrs:{height:e.isPreview?250:350,type:"bar",options:e.options,series:e.series}}),e.isPreview||"date"!==e.settings.typeCompare?e._e():i("h4",[e._v(" Comparación de fecha ")]),e.isPreview||"user"!==e.settings.typeCompare?e._e():i("h4",[e._v(" Comparación con otro usuario ")]),e.isPreview||"none"===e.settings.typeCompare?e._e():i("apexchart",{attrs:{height:e.isPreview?250:350,type:"bar",options:e.optionsCompare,series:e.seriesCompare}})],1),e.isPreview?e._e():i("BarOpportunitySalesInformation",{attrs:{information:e.opportunitiesSalesVerticalBarsGraph.informationBar,filterBy:e.settings.filterBy}})],1)},O=[],w=(i("d81d"),i("8d7e")),_=i("b3b3"),B=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-card",{staticClass:"mt-5",attrs:{flat:""}},[i("v-container",[i("v-row",{staticClass:"justify-center"},[i("v-col",{attrs:{cols:"3"}},[i("span",[i("b",[e._v("Tasa de oportunidades:")]),e._v(" "+e._s(e.information.totalDeals&&e.information.totalDeals[e.filterBy])+" ")])]),i("v-col",{attrs:{cols:"3"}},[i("b",[e._v("Tasa de oportunidades ganadas:")]),e._v(" "+e._s(e.information.wonDeals&&e.information.wonDeals[e.filterBy])+" ")]),i("v-col",{attrs:{cols:"3"}},[i("b",[e._v("Tasa de oportunidades perdidas:")]),e._v(" "+e._s(e.information.lostDeals&&e.information.lostDeals[e.filterBy])+" ")]),i("v-col",{attrs:{cols:"3"}},[i("b",[e._v("Tasa de oportunidades abiertas:")]),e._v(" "+e._s(e.information.openDeals&&e.information.openDeals[e.filterBy])+" ")])],1)],1)],1)},D=[],M={name:"BarOpportunitySalesInformation",props:{information:{type:Object,default:function(){return{}}},filterBy:{type:String,default:"count"}}},x=M,A=i("b0af"),E=i("a523"),I=Object(C["a"])(x,B,D,!1,null,null,null),k=I.exports;T()(I,{VCard:A["a"],VCol:y["a"],VContainer:E["a"],VRow:P["a"]});var L={name:"BarOpportunitySalesData",mixins:[l["a"]],components:{BarOpportunitySalesInformation:k},props:{defaultFilter:{type:Object,default:function(){return{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],typeCompare:"none"}}}},data:function(){return{listFilterBy:v["e"],opportunitiesSalesVerticalBarsGraph:{mainOpportunitySales:{},secondOpportunitySales:{}},modalSettings:{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],typeCompare:"none"},settings:{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],typeCompare:"none"}}},computed:{options:function(){return this.formatOptions(this.opportunitiesSalesVerticalBarsGraph.mainOpportunitiesSales)},optionsCompare:function(){return this.formatOptions(this.opportunitiesSalesVerticalBarsGraph.secondOpportunitiesSales)},series:function(){return this.formatSeries(this.opportunitiesSalesVerticalBarsGraph.mainOpportunitiesSales)},seriesCompare:function(){return this.formatSeries(this.opportunitiesSalesVerticalBarsGraph.secondOpportunitiesSales)},showTitleXaxis:function(){if(!this.isPreview)return this.isWeeks?"Semanas":"Meses"},showTitleYaxis:function(){if(!this.isPreview)return this.isCount?"Cantidad de tratos":"Valor de tratos"},isWithScroll:function(){return this.isLargeWidth&&this.isPreview},filters:function(){var e={dateRange:{dateStart:this.dateStart,dateEnd:this.dateEnd},owners:this.ownersFilter,pipeline:this.pipelineFilter,typePeriod:this.settings.periodPredefined[0],typePeriodDisplay:this.settings.filterTime};return this.ownerToCompare&&(e.ownerToCompare=this.ownerToCompare),this.dateRangeToCompare&&""!==this.dateRangeToCompare.dateStart&&""!==this.dateRangeToCompare.dateEnd&&(e.dateRangeToCompare=this.dateRangeToCompare),e}},methods:{formatOptions:function(e){var t,i=this;if(e){var r=e.dateString;t=void 0===r?[]:r}return{chart:{type:"bar",height:this.isPreview?"250":"350",width:this.isWithScroll?"600":"100%",stacked:!0,toolbar:{show:!1},zoom:{enabled:!1}},plotOptions:{bar:{borderRadius:8,horizontal:!1}},dataLabels:{formatter:function(e){return i.isCount?e:i.formatPrice(e)}},xaxis:{categories:t||[],title:{text:this.showTitleXaxis}},yaxis:{labels:{formatter:function(e){return i.isCount?e:i.formatPrice(e)}},title:{text:this.showTitleYaxis}},colors:_["c"],legend:{position:"top",horizontalAlign:this.isPreview?"left":"center"},fill:{opacity:1}}},formatSeries:function(e){var t=[],i=[],r=[],a=[],o=[],n=[];if(e){var s=e.wonDealsCount;t=void 0===s?[]:s;var l=e.lostDealsCount;i=void 0===l?[]:l;var d=e.openDealsCount;r=void 0===d?[]:d;var p=e.wonDealsSum;a=void 0===p?[]:p;var c=e.lostDealsSum;o=void 0===c?[]:c;var u=e.openDealsSum;n=void 0===u?[]:u}return[{name:"Ganados",data:this.isCount?t.map((function(e){var t=e.count;return t})):a.map((function(e){var t=e.sum;return t}))},{name:"Perdidos",data:this.isCount?i.map((function(e){var t=e.count;return t})):o.map((function(e){var t=e.sum;return t}))},{name:"Abiertos",data:this.isCount?r.map((function(e){var t=e.count;return t})):n.map((function(e){var t=e.sum;return t}))}]},update:function(){this.$apollo.queries.opportunitiesSalesVerticalBarsGraph.refetch()}},apollo:{opportunitiesSalesVerticalBarsGraph:{query:w["z"],fetchPolicy:"no-cache",client:"charts",variables:function(){return{filters:this.filters}},skip:function(){return""===this.dateStart||""===this.dateEnd||!this.pipelineFilter.id||0===this.ownersFilter.length},watchLoading:function(e){this.isLoading=e}}}},j=L,G=(i("0adc"),Object(C["a"])(j,F,O,!1,null,"9ba9ecea",null)),H=G.exports,V=i("8b70"),N={name:"BarOpportunitySalesModal",components:{BarOpportunitySalesFilter:b,BarOpportunitySalesData:H,TableDeals:V["a"]},mixins:[l["c"]],props:{filters:{type:Object,default:function(){return{filtersConfig:{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{},typeCompare:"none"},filtersTable:{users:[],pipelines:[],periodRange:{start:"",end:""},dealStatus:""}}}}}},U=N,W=Object(C["a"])(U,n,s,!1,null,"3fcaf658",null),$=W.exports,z={name:"BarOpportunitySalesPreview",components:{BarOpportunitySalesData:H,BarOpportunitySalesModal:$,BarOpportunitySalesFilter:b},mixins:[l["d"]],props:{defaultPeriod:{type:String,default:"THIS_MONTH"}},data:function(){return{chartId:"bar-opportunitySales",title:"Conversión",titleRegular:"por etapa",filtersChartsDefault:{},initFilter:{filterBy:"count",filterTime:"MONTHS",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{},dealStatus:"ALL",typeCompare:"none"}}},computed:{filtersConfig:function(){var e,t,i,r,a,o,n,s,l;return{filterBy:(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.filterBy)||this.initFilter.filterBy,filterTime:(null===(t=this.chart.filtersFull)||void 0===t?void 0:t.filterTime)||this.initFilter.filterTime,users:this.usersGlobal||(null===(i=this.chart.filtersFull)||void 0===i?void 0:i.users)||this.initUsers,pipeline:(null===(r=this.chart.filtersFull)||void 0===r?void 0:r.pipeline)||this.initPipeline,periodRange:this.periodRangeGlobal||(null===(a=this.chart.filtersFull)||void 0===a?void 0:a.periodRange)||this.periodRange,periodPredefined:this.periodPredefinedGlobal||(null===(o=this.chart.filtersFull)||void 0===o?void 0:o.periodPredefined)||[this.defaultPeriod]||this.initFilter.periodPredefined,periodRangeToCompare:(null===(n=this.chart.filtersFull)||void 0===n?void 0:n.periodRangeToCompare)||this.initFilter.periodRangeToCompare,ownerToCompare:(null===(s=this.chart.filtersFull)||void 0===s?void 0:s.ownerToCompare)||this.initFilter.ownerToCompare,typeCompare:(null===(l=this.chart.filtersFull)||void 0===l?void 0:l.typeCompare)||this.initFilter.typeCompare}},filtersTable:function(){var e,t=this.getPeriod(this.initFilter.periodPredefined[0]).get(),i=Object(o["a"])(t,2),r=i[0],a=i[1];return{users:this.usersGlobal||this.users||this.initUsers,pipelines:this.pipelines||[this.initPipeline],periodRange:this.periodRangeGlobal||(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.periodRange)||{start:r,end:a},dealStatus:this.initFilter.dealStatus}}}},q=z,Y=(i("bd0b"),Object(C["a"])(q,r,a,!1,null,"3bcf851f",null));t["a"]=Y.exports},e808:function(e,t,i){},e842:function(e,t,i){},e869:function(e,t,i){},e89e:function(e,t,i){},e8b6:function(e,t,i){"use strict";i("d967")},e8ff:function(e,t,i){},e939:function(e,t,i){"use strict";var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseCardChart",{attrs:{title:e.title,titleRegular:e.titleRegular,settings:e.filtersConfig,isChart:""},on:{updateRefetch:function(t){e.isRefetch=!0}},scopedSlots:e._u([{key:"modal",fn:function(){return[i("LineThroughTimeConvertionRateFilter",{attrs:{defaultFilter:e.filtersConfig,isIcon:"",isPreview:""}})]},proxy:!0}])},[i("div",{staticClass:"hoverClick",on:{click:e.openModal}},[i("LineThroughTimeConvertionRateData",{attrs:{defaultFilter:e.filtersConfig,isPreview:"",isRefetch:e.isRefetch},on:{updateRefetch:function(t){e.isRefetch=!1}}})],1),i("LineThroughTimeConvertionRateModal",{attrs:{isOpen:e.isOpenModal,filters:{filtersConfig:e.filtersConfig,filtersTable:e.filtersTable},title:e.title,titleRegular:e.titleRegular},on:{close:e.closeModal}})],1)},a=[],o=i("3835"),n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalChart",{attrs:{title:e.title,titleRegular:e.titleRegular,isOpen:e.isOpen},on:{close:e.closeModal},scopedSlots:e._u([{key:"filters",fn:function(){return[i("LineThroughTimeConvertionRateFilter",{attrs:{defaultFilter:e.filters.filtersConfig}})]},proxy:!0},{key:"chart",fn:function(){return[i("LineThroughTimeConvertionRateData",{attrs:{defaultFilter:e.filters.filtersConfig,isFull:""}})]},proxy:!0},{key:"table",fn:function(){return[i("TableDeals",{attrs:{defaultFilter:e.filters.filtersTable}})]},proxy:!0}])})},s=[],l=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalFilters",{attrs:{isOpen:e.isOpenModalFilter,isIcon:e.isIcon},on:{save:e.saveFilter,statusModal:e.statusModal}},[i("v-row",[i("v-col",{attrs:{cols:"12"}},[i("Select",{attrs:{name:"Filtrar por",defaultSelect:e.defaultFilter.filterTime,list:e.listTime},on:{change:e.changeTime}})],1),i("v-col",{attrs:{cols:"12"}},[i("Select",{attrs:{name:"Filtrar por",defaultSelect:e.defaultFilter.filterBy,list:e.listFilterBy},on:{change:e.changeFilterBy}})],1),i("v-col",{attrs:{cols:"12"}},[i("SelectUsers",{attrs:{all:"",defaultSelect:e.defaultFilter.users},on:{change:e.changeUsers}})],1),i("v-col",{attrs:{cols:"12"}},[i("SelectPipeline",{attrs:{defaultSelect:e.defaultFilter.pipeline},on:{change:e.changePipeline}})],1),i("v-col",{attrs:{cols:"12"}},[i("PeriodPredefined",{attrs:{defaultSelect:e.defaultFilter.periodPredefined},on:{change:e.changePeriodPredefined}})],1),e.isPreview?e._e():i("v-col",{attrs:{cols:"12"}},[i("ComparePeriodLines",{attrs:{periodPredefined:e.filters.periodPredefined[0]},on:{change:e.changeComparePeriod}})],1)],1)],1)},d=[],p=i("5530"),c=i("740f"),u=i("d344"),f=i("6321"),h=i("c065"),v=i("e050"),m={name:"LineThroughTimeConvertionRateFilter",components:{SelectUsers:c["a"],SelectPipeline:f["a"],Select:u["a"]},mixins:[v["b"]],props:{defaultFilter:{type:Object,default:function(){return{filterBy:"count",filterTime:"WEEKS",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""}}}}},data:function(){return{listTime:h["d"],listFilterBy:h["e"],filters:{filterBy:"count",filterTime:"WEEKS",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""}}}},methods:{saveFilter:function(){this.changeChart({id:"line-convertionRate",filtersFull:Object(p["a"])(Object(p["a"])({},this.noReactive(this.filters)),{},{periodRange:Object(p["a"])({__typename:"PeriodRange"},this.filters.periodRange)})}),this.isOpenModalFilter=!1}}},g=m,C=i("0c7c"),R=i("6544"),T=i.n(R),y=i("62ad"),P=i("0fd9"),S=Object(C["a"])(g,l,d,!1,null,"341d785a",null),b=S.exports;T()(S,{VCol:y["a"],VRow:P["a"]});var F=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.isPreview?e._e():i("ListFilters",{attrs:{settings:e.settings}}),i("div",{staticClass:"text-center bgWhite",class:[{"py-5 px-3":!e.isPreview},{showScroll:e.isWithScroll}]},[i("apexchart",{attrs:{height:e.isPreview?250:350,type:"line",options:e.options,series:e.series}})],1)],1)},O=[],w=i("2909"),_=(i("d81d"),i("b680"),i("b0c0"),i("99af"),i("8d7e")),B=i("b3b3"),D={name:"LineThroughTimeConvertionRateData",mixins:[v["a"]],props:{defaultFilter:{type:Object,default:function(){return{filterBy:"count",filterTime:"WEEKS",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"]}}}},data:function(){return{throughTimeConvertionRateLinearGraph:{mainAverageDateConvertionRateThroughTime:[],mainConvertionRateThroughTime:{convertionRatesThroughTime:[],owners:[]},mainDateList:[],secondAverageDateConvertionRateThroughTime:[],secondConvertionRateThroughTime:{convertionRatesThroughTime:[],owners:[]},secondDateList:[]},modalSettings:{filterBy:"count",filterTime:"WEEKS",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:[]},settings:{filterBy:"count",filterTime:"WEEKS",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:[]}}},computed:{information:function(){return this.throughTimeConvertionRateLinearGraph.convertionRatesThroughTime.map((function(e){return{name:e.owner,value:e.convertionRate}}))},options:function(){var e,t;return{chart:{height:this.isPreview?"250":"350",width:this.isWithScroll?"1200":"100%",type:"line",toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1},legend:{position:"top",horizontalAlign:this.isWithScroll?"left":"center",showForSingleSeries:!0},stroke:{width:[5,7,5],curve:"straight",dashArray:[0,8,5]},markers:{size:5,colors:void 0,strokeColors:"#fff",strokeWidth:2,strokeOpacity:.9,strokeDashArray:0,fillOpacity:1,discrete:[],shape:"circle",radius:2,offsetX:0,offsetY:0,onClick:void 0,onDblClick:void 0,showNullDataPoints:!0,hover:{size:void 0,sizeOffset:3}},colors:B["b"],grid:{row:{colors:["#f3f3f3","transparent"],opacity:.5}},xaxis:{categories:null===(e=this.throughTimeConvertionRateLinearGraph)||void 0===e||null===(t=e.mainDateList)||void 0===t?void 0:t.map((function(e){return e.dateString})),title:{text:this.showTitleXaxis},labels:{rotate:this.rotate}},yaxis:{labels:{formatter:function(e){return e?"".concat(e.toFixed(2),"%"):e}},title:{text:this.showTitleYaxis}}}},rotate:function(){if(this.isLargeWidth){if(this.isWeeks)return"-90";if(this.isMonths)return"0"}return 0},showTitleXaxis:function(){if(!this.isPreview)return this.isWeeks?"Semanas":"Meses"},showTitleYaxis:function(){if(!this.isPreview)return this.isCount?"Cantidad":"Valor"},series:function(){var e,t,i,r,a,o,n,s,l,d=this,p=(null===(e=this.throughTimeConvertionRateLinearGraph)||void 0===e||null===(t=e.mainConvertionRateThroughTime)||void 0===t?void 0:t.convertionRatesThroughTime.map((function(e){var t=e.name,i=e.convertionRateCountList,r=e.convertionRateSumList;return{name:t,data:d.isCount?d.convertTwoDigits(i):d.convertTwoDigits(r)}})))||[],c=this.dateRangeToCompare&&(null===(i=this.throughTimeConvertionRateLinearGraph)||void 0===i||null===(r=i.secondConvertionRateThroughTime)||void 0===r?void 0:r.convertionRatesThroughTime.length)>0?null===(a=this.throughTimeConvertionRateLinearGraph)||void 0===a||null===(o=a.secondConvertionRateThroughTime)||void 0===o||null===(n=o.convertionRatesThroughTime)||void 0===n?void 0:n.map((function(e){var t=e.name,i=e.convertionRateCountList,r=e.convertionRateSumList;return{name:"".concat(t," período anterior"),data:d.isCount?d.convertTwoDigits(i):d.convertTwoDigits(r)}})):[],u=[{name:"Promedio",data:this.isCount?this.convertTwoDigits(this.throughTimeConvertionRateLinearGraph.mainAverageDateConvertionRateThroughTime.map((function(e){return e.avgCount}))):this.convertTwoDigits(this.throughTimeConvertionRateLinearGraph.mainAverageDateConvertionRateThroughTime.map((function(e){return e.avgSum})))}],f=(null===(s=this.throughTimeConvertionRateLinearGraph)||void 0===s||null===(l=s.secondAverageDateConvertionRateThroughTime)||void 0===l?void 0:l.length)>0?[{name:"Promedio anterior",data:this.isCount?this.convertTwoDigits(this.throughTimeConvertionRateLinearGraph.secondAverageDateConvertionRateThroughTime.map((function(e){return e.avgCount}))):this.convertTwoDigits(this.throughTimeConvertionRateLinearGraph.secondAverageDateConvertionRateThroughTime.map((function(e){return e.avgSum})))}]:[];return[].concat(u,Object(w["a"])(p),f,Object(w["a"])(c))},filters:function(){var e={dateRange:{dateStart:this.dateStart,dateEnd:this.dateEnd},owners:this.ownersToCompare.length>0?this.ownersToCompare:this.ownersFilter,pipeline:this.pipelineFilter,typePeriod:this.settings.periodPredefined[0],typePeriodDisplay:this.settings.filterTime};return this.dateRangeToCompare&&""!==this.dateRangeToCompare.dateStart&&""!==this.dateRangeToCompare.dateEnd&&(e.dateRangeToCompare=this.dateRangeToCompare),e}},methods:{update:function(){this.$apollo.queries.throughTimeConvertionRateLinearGraph.refetch()}},apollo:{throughTimeConvertionRateLinearGraph:{query:_["N"],fetchPolicy:"no-cache",client:"charts",variables:function(){return{filters:this.filters}},skip:function(){return""===this.dateStart||""===this.dateEnd||!this.pipelineFilter.id||0===this.ownersFilter.length},watchLoading:function(e){this.isLoading=e}}}},M=D,x=(i("35e9"),Object(C["a"])(M,F,O,!1,null,"1ddf6de2",null)),A=x.exports,E={name:"LineThroughTimeConvertionRateModal",components:{LineThroughTimeConvertionRateFilter:b,LineThroughTimeConvertionRateData:A},mixins:[v["c"]],props:{isOpen:{type:Boolean,default:!1},title:{type:String,default:"Sin título"},titleRegular:{type:String,default:""},filters:{type:Object,default:function(){return{filtersConfig:{filterTime:"WEEKS",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownersToCompare:[]},filtersTable:{users:[],pipelines:[],periodRange:{start:"",end:""},dealStatus:""}}}}}},I=E,k=Object(C["a"])(I,n,s,!1,null,"6b462f6e",null),L=k.exports,j={name:"LineThroughTimeConvertionRatePreview",components:{LineThroughTimeConvertionRateData:A,LineThroughTimeConvertionRateModal:L,LineThroughTimeConvertionRateFilter:b},mixins:[v["d"]],props:{defaultPeriod:{type:String,default:"THIS_MONTH"}},data:function(){return{title:"Tasa",titleRegular:"de conversión",chartId:"line-convertionRate",filtersChartsDefault:{},initFilter:{filterBy:"count",filterTime:"MONTHS",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownersToCompare:[],dealStatus:"WON"}}},computed:{filtersConfig:function(){var e,t,i,r,a,o,n,s;return{filterBy:(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.filterBy)||this.initFilter.filterBy,filterTime:(null===(t=this.chart.filtersFull)||void 0===t?void 0:t.filterTime)||this.initFilter.filterTime,users:this.usersGlobal||(null===(i=this.chart.filtersFull)||void 0===i?void 0:i.users)||this.filtersChartsDefault.users,pipeline:(null===(r=this.chart.filtersFull)||void 0===r?void 0:r.pipeline)||this.initPipeline,periodRange:this.periodRangeGlobal||(null===(a=this.chart.filtersFull)||void 0===a?void 0:a.periodRange)||this.periodRange,periodPredefined:this.periodPredefinedGlobal||(null===(o=this.chart.filtersFull)||void 0===o?void 0:o.periodPredefined)||[this.defaultPeriod]||this.initFilter.periodPredefined,periodRangeToCompare:(null===(n=this.chart.filtersFull)||void 0===n?void 0:n.periodRangeToCompare)||this.initFilter.periodRangeToCompare,ownersToCompare:(null===(s=this.chart.filtersFull)||void 0===s?void 0:s.ownersToCompare)||this.initFilter.ownersToCompare}},filtersTable:function(){var e,t=this.getPeriod(this.initFilter.periodPredefined[0]).get(),i=Object(o["a"])(t,2),r=i[0],a=i[1];return{users:this.usersGlobal||this.users||this.filtersChartsDefault.users,pipelines:this.pipelines||this.initPipelines,periodRange:this.periodRangeGlobal||(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.periodRange)||{start:r,end:a},dealStatus:this.initFilter.dealStatus}}}},G=j,H=(i("723a"),Object(C["a"])(G,r,a,!1,null,"3ae99d83",null));t["a"]=H.exports},ea8d:function(e,t,i){"use strict";var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseCardChart",{attrs:{title:e.title,titleRegular:e.titleRegular,settings:e.filtersConfig},on:{updateRefetch:function(t){e.isRefetch=!0}},scopedSlots:e._u([{key:"modal",fn:function(){return[i("CardEffectiveActivitiesFilter",{attrs:{defaultFilter:e.filtersConfig,isIcon:"",isPreview:""}})]},proxy:!0}])},[i("div",{staticClass:"hoverClick",on:{click:e.openModal}},[i("CardEffectiveActivitiesData",{attrs:{defaultFilter:e.filtersConfig,isPreview:"",isRefetch:e.isRefetch},on:{updateRefetch:function(t){e.isRefetch=!1}}})],1),i("CardEffectiveActivitiesModal",{attrs:{isOpen:e.isOpenModal,filters:{filtersConfig:e.filtersConfig,filtersTable:e.filtersTable},title:e.title,titleRegular:e.titleRegular},on:{close:e.closeModal}})],1)},a=[],o=i("3835"),n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalChart",{attrs:{title:e.title,titleRegular:e.titleRegular,isOpen:e.isOpen},on:{close:e.closeModal},scopedSlots:e._u([{key:"filters",fn:function(){return[i("CardEffectiveActivitiesFilter",{attrs:{defaultFilter:e.filters.filtersConfig}})]},proxy:!0},{key:"chart",fn:function(){return[i("CardEffectiveActivitiesData",{attrs:{defaultFilter:e.filters.filtersConfig}})]},proxy:!0},{key:"table",fn:function(){return[i("TableActivities",{attrs:{defaultFilter:e.filters.filtersTable}})]},proxy:!0}])})},s=[],l=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.isPreview?e._e():i("ListFilters",{attrs:{settings:e.settings}}),i("BaseCardNumber",{attrs:{information:{numberMain:""+e.generalConvertionRateFormat,textMain:e.textMain,valueMain:e.valueMain,textMainType:e.textChart,isCompare:!e.isPreview&&e.settings.periodRangeToCompare.period.length>0,numberCompare:""+e.generalConvertionRateCompare,textCompare:e.textCompare,valueCompare:e.valueCompare,numberDifferenceCompare:e.comparePercentage}}}),e.isPreview?e._e():i("CardEffectiveActivitiesInformation",{attrs:{information:e.effectiveActivitiesCard.informationBar,filterBy:e.settings.filterBy}})],1)},d=[],p=(i("b680"),i("99af"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-card",{staticClass:"mt-5",attrs:{flat:""}},[i("v-container",[i("v-row",{staticClass:"justify-center"},[i("v-col",{attrs:{cols:"3"}},[e._l(e.information.usersEffectiveActivities,(function(t,r){return[i("span",{key:r,staticClass:"d-block"},[i("b",[e._v(e._s(t.name))]),e._v(" : "+e._s(t[e.filterBy])+" ")])]}))],2),e._l(e.information.periodsEffectiveActivities,(function(t,r){return[i("v-col",{key:r,attrs:{cols:"3"}},[i("span",{staticClass:"d-block"},[i("b",[e._v(e._s(e.rowOne[r]))]),e._v(" : "+e._s(t.count)+" ")])])]}))],2)],1)],1)}),c=[],u={name:"CardEffectiveActivitiesInformation",props:{information:{type:Object,default:function(){return{}}},filterBy:{type:String,default:"count"}},data:function(){return{rowOne:["Este período","Período pasado","Mismo período el mes anterior"]}}},f=u,h=i("0c7c"),v=i("6544"),m=i.n(v),g=i("b0af"),C=i("62ad"),R=i("a523"),T=i("0fd9"),y=Object(h["a"])(f,p,c,!1,null,null,null),P=y.exports;m()(y,{VCard:g["a"],VCol:C["a"],VContainer:R["a"],VRow:T["a"]});var S=i("8d7e"),b=i("0db6"),F={name:"CardEffectiveActivitiesData",mixins:[b["a"]],components:{CardEffectiveActivitiesInformation:P},props:{defaultFilter:{type:Object,default:function(){return{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""}}}},isPreview:{type:Boolean,default:!1}},data:function(){return{effectiveActivitiesCard:{},modalSettings:{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:[],periodRangeToCompare:{period:"",start:"",end:""}},settings:{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:[],periodRangeToCompare:{period:"",start:"",end:""}}}},computed:{comparePercentage:function(){return"0"===this.generalConvertionRateCompare?"100":(100*this.generalConvertionRateFormat/this.generalConvertionRateCompare-100).toFixed(2)},generalConvertionRateFormat:function(){var e,t,i;return this.effectiveActivitiesCard&&void 0!==(null===(e=this.effectiveActivitiesCard)||void 0===e||null===(t=e.mainEffectiveActivities)||void 0===t?void 0:t.count)&&(null===(i=this.effectiveActivitiesCard)||void 0===i?void 0:i.mainEffectiveActivities.count)||"0"},generalConvertionRateCompare:function(){var e,t,i;return this.effectiveActivitiesCard&&void 0!==(null===(e=this.effectiveActivitiesCard)||void 0===e||null===(t=e.secondEffectiveActivities)||void 0===t?void 0:t.count)&&(null===(i=this.effectiveActivitiesCard)||void 0===i?void 0:i.secondEffectiveActivities.count)||"0"},textCompare:function(){return"PREVIOUS_PERIOD"===this.settings.periodRangeToCompare.period?this.settings.periodPredefined[3]:"PREVIOUS_YEAR"===this.settings.periodRangeToCompare.period?"Año anterior":"CUSTOM"===this.settings.periodRangeToCompare.period?"Personalizado":""},valueCompare:function(){return this.isPreview||"CUSTOM"!==this.settings.periodRangeToCompare.period?"":"".concat(this.formatDate(this.filters.dateRangeToCompare.dateStart)," - ").concat(this.formatDate(this.filters.dateRangeToCompare.dateEnd))},textMain:function(){return this.isPreview?"":this.settings.periodPredefined[2]},valueMain:function(){return!this.isPreview&&this.settings.periodPredefined.length>0&&"CUSTOM"===this.settings.periodPredefined[0]?"".concat(this.formatDate(this.filters.dateRange.dateStart)," - ").concat(this.formatDate(this.filters.dateRange.dateEnd)):""},filters:function(){var e={dateRange:{dateStart:this.dateStart,dateEnd:this.dateEnd},owners:this.ownersFilter,pipeline:this.pipelineFilter};return this.dateRangeToCompare&&""!==this.dateRangeToCompare.dateStart&&""!==this.dateRangeToCompare.dateEnd&&(e.dateRangeToCompare=this.dateRangeToCompare),e}},methods:{update:function(){this.$apollo.queries.effectiveActivitiesCard.refetch()}},apollo:{effectiveActivitiesCard:{query:S["m"],fetchPolicy:"no-cache",client:"charts",variables:function(){return{filters:this.filters}},skip:function(){return""===this.dateStart||""===this.dateEnd||!this.pipelineFilter.id||0===this.ownersFilter.length},loadingKey:"isLoading"}}},O=F,w=Object(h["a"])(O,l,d,!1,null,"e383cdd2",null),_=w.exports,B=i("157d"),D=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalFilters",{attrs:{isOpen:e.isOpenModalFilter,isIcon:e.isIcon},on:{save:e.saveFilter,statusModal:e.statusModal}},[i("v-row",[i("v-col",{attrs:{cols:"12"}},[i("SelectUsers",{attrs:{all:"",defaultSelect:e.defaultFilter.users},on:{change:e.changeUsers}})],1),i("v-col",{attrs:{cols:"12"}},[i("SelectPipeline",{attrs:{defaultSelect:e.defaultFilter.pipeline},on:{change:e.changePipeline}})],1),i("v-col",{attrs:{cols:"12"}},[i("PeriodPredefined",{attrs:{defaultSelect:e.defaultFilter.periodPredefined},on:{change:e.changePeriodPredefined}})],1),e.isPreview?e._e():i("v-col",{attrs:{cols:"12"}},[i("ComparePeriod",{attrs:{periodPredefined:e.filters.periodPredefined[0]},on:{change:e.changeComparePeriod}})],1)],1)],1)},M=[],x=i("5530"),A=i("740f"),E=i("6321"),I={name:"CardEffectiveActivitiesFilter",components:{SelectUsers:A["a"],SelectPipeline:E["a"]},mixins:[b["b"]],props:{defaultFilter:{type:Object,default:function(){return{users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""}}}},isIcon:{type:Boolean,default:!1},isPreview:{type:Boolean,default:!1}},data:function(){return{filters:{users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""}}}},methods:{changeComparePeriod:function(e){var t=e.isCompare,i=e.periodCompare;if(t){if(i&&(this.filters.periodRangeToCompare.period=i.periodSelected,i.periodRange.length>0)){var r=Object(o["a"])(i.periodRange,2);this.filters.periodRangeToCompare.start=r[0],this.filters.periodRangeToCompare.end=r[1]}}else this.filters.periodRangeToCompare.period="",this.filters.periodRangeToCompare.start="",this.filters.periodRangeToCompare.end=""},saveFilter:function(){this.changeChart({id:"card-effectiveActivities",filtersFull:Object(x["a"])(Object(x["a"])({},this.noReactive(this.filters)),{},{periodRange:Object(x["a"])({__typename:"PeriodRange"},this.filters.periodRange)})}),this.isOpenModalFilter=!1}}},k=I,L=Object(h["a"])(k,D,M,!1,null,"48f8af1c",null),j=L.exports;m()(L,{VCol:C["a"],VRow:T["a"]});var G={name:"CardEffectiveActivitiesModal",components:{CardEffectiveActivitiesData:_,CardEffectiveActivitiesFilter:j,TableActivities:B["a"]},mixins:[b["c"]],props:{isOpen:{type:Boolean,default:!1},title:{type:String,default:"Sin título"},titleRegular:{type:String,default:""},filters:{type:Object,default:function(){return{filtersConfig:{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""}},filtersTable:{users:[],pipelines:[],periodRange:{start:"",end:""},dealStatus:"",stages:[],activityTypes:[],fromReportStatus:"ACTIVITIESBYSTAGE"}}}}}},H=G,V=Object(h["a"])(H,n,s,!1,null,"50904a93",null),N=V.exports,U={name:"CardEffectiveActivitiesPreview",components:{CardEffectiveActivitiesData:_,CardEffectiveActivitiesModal:N,CardEffectiveActivitiesFilter:j},mixins:[b["d"]],props:{defaultPeriod:{type:String,default:"THIS_MONTH"}},data:function(){return{title:"Actividades",titleRegular:"efectivas",isOpenModal:!1,chartId:"card-effectiveActivities",filtersChartsDefault:{},initFilter:{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""},activitiesFilter:"EFFECTIVE",activityTypes:[],fromReportStatus:"ACTIVITIES_CARD"}}},computed:{filtersConfig:function(){var e,t,i,r,a,o;return{filterBy:(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.filterBy)||this.initFilter.filterBy,users:this.usersGlobal||(null===(t=this.chart.filtersFull)||void 0===t?void 0:t.users)||this.initUsers,pipeline:(null===(i=this.chart.filtersFull)||void 0===i?void 0:i.pipeline)||this.initPipeline,periodRange:this.periodRangeGlobal||(null===(r=this.chart.filtersFull)||void 0===r?void 0:r.periodRange)||this.periodRange,periodPredefined:this.periodPredefinedGlobal||(null===(a=this.chart.filtersFull)||void 0===a?void 0:a.periodPredefined)||[this.defaultPeriod]||this.initFilter.periodPredefined,periodRangeToCompare:(null===(o=this.chart.filtersFull)||void 0===o?void 0:o.periodRangeToCompare)||this.initFilter.periodRangeToCompare}},filtersTable:function(){var e,t=this.getPeriod(this.initFilter.periodPredefined[0]).get(),i=Object(o["a"])(t,2),r=i[0],a=i[1];return{users:this.usersGlobal||this.users||this.initUsers,pipelines:this.pipelines||[this.initPipeline],periodRange:this.periodRangeGlobal||(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.periodRange)||{start:r,end:a},activitiesStatus:this.initFilter.activitiesFilter,activityTypes:this.filtersChartsDefault.activityTypes||this.initFilter.activityTypes,fromReportStatus:this.initFilter.fromReportStatus}}}},W=U,$=(i("7695"),Object(h["a"])(W,r,a,!1,null,"de51ec4a",null));t["a"]=$.exports},ea8e:function(e,t,i){},f005:function(e,t,i){"use strict";i("0da8")},f00c:function(e,t,i){var r=i("23e7"),a=i("e285");r({target:"Number",stat:!0},{isFinite:a})},f362:function(e,t,i){"use strict";var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseCardChart",{attrs:{title:e.title,titleRegular:e.titleRegular,settings:e.filtersConfig},on:{updateRefetch:function(t){e.isRefetch=!0}},scopedSlots:e._u([{key:"modal",fn:function(){return[i("CardExpiredActivitiesFilter",{attrs:{defaultFilter:e.filtersConfig,isIcon:"",isPreview:""}})]},proxy:!0}])},[i("div",{staticClass:"hoverClick",on:{click:e.openModal}},[i("CardExpiredActivitiesData",{attrs:{defaultFilter:e.filtersConfig,isPreview:"",isRefetch:e.isRefetch},on:{updateRefetch:function(t){e.isRefetch=!1}}})],1),i("CardExpiredActivitiesModal",{attrs:{isOpen:e.isOpenModal,filters:{filtersConfig:e.filtersConfig,filtersTable:e.filtersTable},title:e.title,titleRegular:e.titleRegular},on:{close:e.closeModal}})],1)},a=[],o=i("3835"),n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalChart",{attrs:{title:e.title,titleRegular:e.titleRegular,isOpen:e.isOpen},on:{close:e.closeModal},scopedSlots:e._u([{key:"filters",fn:function(){return[i("CardExpiredActivitiesFilter",{attrs:{defaultFilter:e.filters.filtersConfig}})]},proxy:!0},{key:"chart",fn:function(){return[i("CardExpiredActivitiesData",{attrs:{defaultFilter:e.filters.filtersConfig}})]},proxy:!0},{key:"table",fn:function(){return[i("TableActivities",{attrs:{defaultFilter:e.filters.filtersTable}})]},proxy:!0}])})},s=[],l=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.isPreview?e._e():i("ListFilters",{attrs:{settings:e.settings}}),i("BaseCardNumber",{attrs:{information:{numberMain:""+e.generalConvertionRateFormat,textMain:e.textMain,valueMain:e.valueMain,textMainType:e.textChart,isCompare:!e.isPreview&&e.settings.periodRangeToCompare.period.length>0,numberCompare:""+e.generalConvertionRateCompare,textCompare:e.textCompare,valueCompare:e.valueCompare,numberDifferenceCompare:e.comparePercentage}}}),e.isPreview?e._e():i("CardExpiredActivitiesInformation",{attrs:{information:e.expiredActivitiesCard.informationBar,filterBy:e.settings.filterBy}})],1)},d=[],p=(i("b680"),i("b0c0"),i("99af"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-card",{staticClass:"mt-5",attrs:{flat:""}},[i("v-container",[i("v-row",{staticClass:"justify-center"},[i("v-col",{attrs:{cols:"3"}},[e._l(e.information.usersExpiredActivities,(function(t,r){return[i("span",{key:r,staticClass:"d-block"},[i("b",[e._v(e._s(t.name))]),e._v(" : "+e._s(t[e.filterBy])+" ")])]}))],2),e._l(e.information.periodsExpiredActivities,(function(t,r){return[i("v-col",{key:r,attrs:{cols:"3"}},[i("span",{staticClass:"d-block"},[i("b",[e._v(e._s(e.rowOne[r]))]),e._v(" : "+e._s(t.count)+" ")])])]}))],2)],1)],1)}),c=[],u={name:"CardExpiredActivitiesInformation",props:{information:{type:Object,default:function(){return{}}},filterBy:{type:String,default:"count"}},data:function(){return{rowOne:["Este período","Período pasado","Mismo período el mes anterior"]}}},f=u,h=i("0c7c"),v=i("6544"),m=i.n(v),g=i("b0af"),C=i("62ad"),R=i("a523"),T=i("0fd9"),y=Object(h["a"])(f,p,c,!1,null,null,null),P=y.exports;m()(y,{VCard:g["a"],VCol:C["a"],VContainer:R["a"],VRow:T["a"]});var S=i("8d7e"),b=i("0db6"),F={name:"CardExpiredActivitiesData",mixins:[b["a"]],components:{CardExpiredActivitiesInformation:P},props:{defaultFilter:{type:Object,default:function(){return{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""}}}},isPreview:{type:Boolean,default:!1}},data:function(){return{expiredActivitiesCard:{},modalSettings:{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:[],periodRangeToCompare:{period:"",start:"",end:""}},settings:{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:[],periodRangeToCompare:{period:"",start:"",end:""}}}},computed:{comparePercentage:function(){return"0"===this.generalConvertionRateCompare?"100":(100*this.generalConvertionRateFormat/this.generalConvertionRateCompare-100).toFixed(2)},generalConvertionRateFormat:function(){var e,t,i;return this.expiredActivitiesCard&&void 0!==(null===(e=this.expiredActivitiesCard)||void 0===e||null===(t=e.mainExpiredActivities)||void 0===t?void 0:t.count)&&(null===(i=this.expiredActivitiesCard)||void 0===i?void 0:i.mainExpiredActivities.count)||"0"},generalConvertionRateCompare:function(){var e,t,i;return this.expiredActivitiesCard&&void 0!==(null===(e=this.expiredActivitiesCard)||void 0===e||null===(t=e.secondExpiredActivities)||void 0===t?void 0:t.count)&&(null===(i=this.expiredActivitiesCard)||void 0===i?void 0:i.secondExpiredActivities.count)||"0"},textCompare:function(){return"PREVIOUS_PERIOD"===this.settings.periodRangeToCompare.period?this.settings.periodPredefined[3]:"PREVIOUS_YEAR"===this.settings.periodRangeToCompare.period?"Año anterior":"CUSTOM"===this.settings.periodRangeToCompare.period?"Personalizado":""},valueCompare:function(){if(!this.isPreview){var e,t;if(this.isCompareUser)return null===(e=this.expiredActivitiesCard)||void 0===e||null===(t=e.secondExpiredActivities)||void 0===t?void 0:t.name;if("CUSTOM"===this.settings.periodRangeToCompare.period)return"".concat(this.formatDate(this.filters.dateRangeToCompare.dateStart)," - ").concat(this.formatDate(this.filters.dateRangeToCompare.dateEnd))}return""},textMain:function(){return this.isPreview?"":(this.isCompareUser,this.settings.periodPredefined[2])},valueMain:function(){if(!this.isPreview){var e,t;if(this.isCompareUser)return null===(e=this.expiredActivitiesCard)||void 0===e||null===(t=e.mainExpiredActivities)||void 0===t?void 0:t.name;if(this.settings.periodPredefined.length>0&&"CUSTOM"===this.settings.periodPredefined[0])return"".concat(this.formatDate(this.filters.dateRange.dateStart)," - ").concat(this.formatDate(this.filters.dateRange.dateEnd))}return""},filters:function(){var e={dateRange:{dateStart:this.dateStart,dateEnd:this.dateEnd},owners:this.ownersFilter,pipeline:this.pipelineFilter};return this.dateRangeToCompare&&""!==this.dateRangeToCompare.dateStart&&""!==this.dateRangeToCompare.dateEnd&&(e.dateRangeToCompare=this.dateRangeToCompare),e}},methods:{update:function(){this.$apollo.queries.expiredActivitiesCard.refetch()}},apollo:{expiredActivitiesCard:{query:S["o"],fetchPolicy:"no-cache",client:"charts",variables:function(){return{filters:this.filters}},skip:function(){return""===this.dateStart||""===this.dateEnd||!this.pipelineFilter.id||0===this.ownersFilter.length},loadingKey:"isLoading"}}},O=F,w=Object(h["a"])(O,l,d,!1,null,"67f38eb2",null),_=w.exports,B=i("157d"),D=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalFilters",{attrs:{isOpen:e.isOpenModalFilter,isIcon:e.isIcon},on:{save:e.saveFilter,statusModal:e.statusModal}},[i("v-row",[i("v-col",{attrs:{cols:"12"}},[i("SelectUsers",{attrs:{all:"",defaultSelect:e.defaultFilter.users},on:{change:e.changeUsers}})],1),i("v-col",{attrs:{cols:"12"}},[i("SelectPipeline",{attrs:{defaultSelect:e.defaultFilter.pipeline},on:{change:e.changePipeline}})],1),i("v-col",{attrs:{cols:"12"}},[i("PeriodPredefined",{attrs:{defaultSelect:e.defaultFilter.periodPredefined},on:{change:e.changePeriodPredefined}})],1),e.isPreview?e._e():i("v-col",{attrs:{cols:"12"}},[i("ComparePeriod",{attrs:{periodPredefined:e.filters.periodPredefined[0]},on:{change:e.changeComparePeriod}})],1)],1)],1)},M=[],x=i("5530"),A=i("740f"),E=i("6321"),I={name:"CardExpiredActivitiesFilter",components:{SelectUsers:A["a"],SelectPipeline:E["a"]},mixins:[b["b"]],props:{defaultFilter:{type:Object,default:function(){return{users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""}}}},isIcon:{type:Boolean,default:!1},isPreview:{type:Boolean,default:!1}},data:function(){return{filters:{users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""}}}},methods:{changeComparePeriod:function(e){var t=e.isCompare,i=e.periodCompare;if(t){if(i&&(this.filters.periodRangeToCompare.period=i.periodSelected,i.periodRange.length>0)){var r=Object(o["a"])(i.periodRange,2);this.filters.periodRangeToCompare.start=r[0],this.filters.periodRangeToCompare.end=r[1]}}else this.filters.periodRangeToCompare.period="",this.filters.periodRangeToCompare.start="",this.filters.periodRangeToCompare.end=""},saveFilter:function(){this.changeChart({id:"card-expiredActivities",filtersFull:Object(x["a"])(Object(x["a"])({},this.noReactive(this.filters)),{},{periodRange:Object(x["a"])({__typename:"PeriodRange"},this.filters.periodRange)})}),this.isOpenModalFilter=!1}}},k=I,L=Object(h["a"])(k,D,M,!1,null,"60252834",null),j=L.exports;m()(L,{VCol:C["a"],VRow:T["a"]});var G={name:"CardCompletedActivitiesModal",components:{CardExpiredActivitiesData:_,CardExpiredActivitiesFilter:j,TableActivities:B["a"]},mixins:[b["c"]],props:{isOpen:{type:Boolean,default:!1},title:{type:String,default:"Sin título"},titleRegular:{type:String,default:""},filters:{type:Object,default:function(){return{filtersConfig:{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""}},filtersTable:{users:[],pipelines:[],periodRange:{start:"",end:""},dealStatus:"",stages:[],activityTypes:[],fromReportStatus:"ACTIVITIESBYSTAGE"}}}}}},H=G,V=Object(h["a"])(H,n,s,!1,null,"5d75bd0e",null),N=V.exports,U={name:"CardExpiredActivitiesPreview",components:{CardExpiredActivitiesData:_,CardExpiredActivitiesModal:N,CardExpiredActivitiesFilter:j},mixins:[b["d"]],props:{defaultPeriod:{type:String,default:"THIS_MONTH"}},data:function(){return{title:"Actividades",titleRegular:"vencidas",isOpenModal:!1,chartId:"card-expiredActivities",filtersChartsDefault:{},initFilter:{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""},activitiesFilter:"EXPIRED",activityTypes:[],fromReportStatus:"ACTIVITIES_CARD"}}},computed:{filtersConfig:function(){var e,t,i,r,a,o;return{filterBy:(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.filterBy)||this.initFilter.filterBy,users:this.usersGlobal||(null===(t=this.chart.filtersFull)||void 0===t?void 0:t.users)||this.initUsers,pipeline:(null===(i=this.chart.filtersFull)||void 0===i?void 0:i.pipeline)||this.initPipeline,periodRange:this.periodRangeGlobal||(null===(r=this.chart.filtersFull)||void 0===r?void 0:r.periodRange)||this.periodRange,periodPredefined:this.periodPredefinedGlobal||(null===(a=this.chart.filtersFull)||void 0===a?void 0:a.periodPredefined)||[this.defaultPeriod]||this.initFilter.periodPredefined,periodRangeToCompare:(null===(o=this.chart.filtersFull)||void 0===o?void 0:o.periodRangeToCompare)||this.initFilter.periodRangeToCompare}},filtersTable:function(){var e,t=this.getPeriod(this.initFilter.periodPredefined[0]).get(),i=Object(o["a"])(t,2),r=i[0],a=i[1];return{users:this.usersGlobal||this.users||this.initUsers,pipelines:this.pipelines||[this.initPipeline],periodRange:this.periodRangeGlobal||(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.periodRange)||{start:r,end:a},activitiesStatus:this.initFilter.activitiesFilter,activityTypes:this.filtersChartsDefault.activityTypes||this.initFilter.activityTypes,fromReportStatus:this.initFilter.fromReportStatus}}}},W=U,$=(i("ae8a"),Object(h["a"])(W,r,a,!1,null,"5d623b3c",null));t["a"]=$.exports},f543:function(e,t,i){"use strict";i("5b21")},f73a:function(e,t,i){"use strict";var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseCardChart",{attrs:{title:e.title,titleRegular:e.titleRegular,settings:e.filtersConfig},on:{updateRefetch:function(t){e.isRefetch=!0}},scopedSlots:e._u([{key:"modal",fn:function(){return[i("CardSentEmailsFilter",{attrs:{defaultFilter:e.filtersConfig,isIcon:"",isPreview:""}})]},proxy:!0}])},[i("div",{staticClass:"hoverClick",on:{click:e.openModal}},[i("CardSentEmailsData",{attrs:{defaultFilter:e.filtersConfig,isPreview:"",isRefetch:e.isRefetch},on:{updateRefetch:function(t){e.isRefetch=!1}}})],1),i("CardSentEmailsModal",{attrs:{isOpen:e.isOpenModal,filters:{filtersConfig:e.filtersConfig,filtersTable:e.filtersTable},title:e.title,titleRegular:e.titleRegular},on:{close:e.closeModal}})],1)},a=[],o=i("3835"),n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalChart",{attrs:{title:e.title,titleRegular:e.titleRegular,isOpen:e.isOpen},on:{close:e.closeModal},scopedSlots:e._u([{key:"filters",fn:function(){return[i("CardSentEmailsFilter",{attrs:{defaultFilter:e.filters.filtersConfig}})]},proxy:!0},{key:"chart",fn:function(){return[i("CardSentEmailsData",{attrs:{defaultFilter:e.filters.filtersConfig}})]},proxy:!0},{key:"table",fn:function(){return[i("TableEmails",{attrs:{defaultFilter:e.filters.filtersTable}})]},proxy:!0}])})},s=[],l=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.isPreview?e._e():i("ListFilters",{attrs:{settings:e.settings}}),i("BaseCardNumber",{attrs:{information:{numberMain:""+e.generalConvertionRateFormat,textMain:e.textMain,valueMain:e.valueMain,textMainType:e.textChart,isCompare:!e.isPreview&&(e.settings.periodRangeToCompare.period.length>0||e.isCompareUser),numberCompare:""+e.generalConvertionRateCompare,textCompare:e.textCompare,valueCompare:e.valueCompare,numberDifferenceCompare:e.comparePercentage}}}),e.isPreview?e._e():i("CardSentEmailsInformation",{attrs:{information:e.sentEmailsInDayCard.informationBar,filterBy:e.settings.filterBy}})],1)},d=[],p=(i("b680"),i("b0c0"),i("99af"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-card",{staticClass:"mt-5",attrs:{flat:""}},[i("v-container",[i("v-row",{staticClass:"justify-center"},[i("v-col",{attrs:{cols:"3"}},[e._l(e.information.usersSentEmails,(function(t,r){return[i("span",{key:r,staticClass:"d-block"},[i("b",[e._v(e._s(t.name))]),e._v(" : "+e._s(t[e.filterBy])+" ")])]}))],2),e._l(e.information.periodsSentEmails,(function(t,r){return[i("v-col",{key:r,attrs:{cols:"3"}},[i("span",{staticClass:"d-block"},[i("b",[e._v(e._s(e.rowOne[r]))]),e._v(" : "+e._s(t.count)+" ")])])]}))],2)],1)],1)}),c=[],u={name:"CardSentEmailsInformation",props:{information:{type:Object,default:function(){return{}}},filterBy:{type:String,default:"count"}},data:function(){return{rowOne:["Este período","Período pasado","Mismo período el mes anterior"]}}},f=u,h=i("0c7c"),v=i("6544"),m=i.n(v),g=i("b0af"),C=i("62ad"),R=i("a523"),T=i("0fd9"),y=Object(h["a"])(f,p,c,!1,null,null,null),P=y.exports;m()(y,{VCard:g["a"],VCol:C["a"],VContainer:R["a"],VRow:T["a"]});var S=i("8d7e"),b=i("0db6"),F={name:"CardSentEmailsData",mixins:[b["a"]],components:{CardSentEmailsInformation:P},props:{defaultFilter:{type:Object,default:function(){return{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{id:""}}}},isPreview:{type:Boolean,default:!1}},data:function(){return{sentEmailsInDayCard:{},modalSettings:{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:[],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{id:""}},settings:{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:[],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{id:""}}}},computed:{isCompareUser:function(){var e,t,i,r,a,o;return(null===(e=this.sentEmailsInDayCard)||void 0===e||null===(t=e.mainSentMails)||void 0===t?void 0:t.id)!==(null===(i=this.sentEmailsInDayCard)||void 0===i||null===(r=i.secondSentMails)||void 0===r?void 0:r.id)&&""!==(null===(a=this.settings)||void 0===a||null===(o=a.ownerToCompare)||void 0===o?void 0:o.id)},comparePercentage:function(){return"0"===this.generalConvertionRateCompare?"0.00":(100*this.generalConvertionRateFormat/this.generalConvertionRateCompare-100).toFixed(2)},generalConvertionRateFormat:function(){var e,t;if(this.sentEmailsInDayCard&&void 0!==(null===(e=this.sentEmailsInDayCard)||void 0===e||null===(t=e.mainSentMails)||void 0===t?void 0:t.count)){var i,r;if("count"===this.settings.filterBy)return(null===(i=this.sentEmailsInDayCard)||void 0===i?void 0:i.mainSentMails.count)||"0";if("sum"===this.settings.filterBy)return"$".concat(null===(r=this.sentEmailsInDayCard)||void 0===r?void 0:r.mainSentMails.sum)||!1}return"0"},generalConvertionRateCompare:function(){var e,t;if(this.sentEmailsInDayCard&&void 0!==(null===(e=this.sentEmailsInDayCard)||void 0===e||null===(t=e.secondSentMails)||void 0===t?void 0:t.count)){var i,r=null===(i=this.sentEmailsInDayCard)||void 0===i?void 0:i.secondSentMails[this.settings.filterBy];return r||"0"}return"0"},textCompare:function(){return"PREVIOUS_PERIOD"===this.settings.periodRangeToCompare.period?this.settings.periodPredefined[3]:"PREVIOUS_YEAR"===this.settings.periodRangeToCompare.period?"Año anterior":"CUSTOM"===this.settings.periodRangeToCompare.period?"Personalizado":""},valueCompare:function(){if(!this.isPreview){var e,t;if(this.isCompareUser)return null===(e=this.sentEmailsInDayCard)||void 0===e||null===(t=e.secondSentMails)||void 0===t?void 0:t.name;if("CUSTOM"===this.settings.periodRangeToCompare.period)return"".concat(this.formatDate(this.filters.dateRangeToCompare.dateStart)," - ").concat(this.formatDate(this.filters.dateRangeToCompare.dateEnd))}return""},textMain:function(){return this.isPreview?"":(this.isCompareUser,this.settings.periodPredefined[2])},valueMain:function(){if(!this.isPreview){var e,t;if(this.isCompareUser)return null===(e=this.sentEmailsInDayCard)||void 0===e||null===(t=e.mainSentMails)||void 0===t?void 0:t.name;if(this.settings.periodPredefined.length>0&&"CUSTOM"===this.settings.periodPredefined[0])return"".concat(this.formatDate(this.filters.dateRange.dateStart)," - ").concat(this.formatDate(this.filters.dateRange.dateEnd))}return""},filters:function(){var e={dateRange:{dateStart:this.dateStart,dateEnd:this.dateEnd},owners:this.ownersFilter,pipeline:this.pipelineFilter};return this.ownerToCompare&&""!==this.ownerToCompare.id&&(e.ownerToCompare=this.ownerToCompare),this.dateRangeToCompare&&""!==this.dateRangeToCompare.dateStart&&""!==this.dateRangeToCompare.dateEnd&&(e.dateRangeToCompare=this.dateRangeToCompare),e}},methods:{update:function(){this.$apollo.queries.sentEmailsInDayCard.refetch()}},apollo:{sentEmailsInDayCard:{query:S["L"],fetchPolicy:"no-cache",client:"charts",variables:function(){return{filters:this.filters}},skip:function(){return""===this.dateStart||""===this.dateEnd||!this.pipelineFilter.id||0===this.ownersFilter.length},loadingKey:"isLoading"}}},O=F,w=Object(h["a"])(O,l,d,!1,null,"477c58a0",null),_=w.exports,B=i("6c94"),D=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalFilters",{attrs:{isOpen:e.isOpenModalFilter,isIcon:e.isIcon},on:{save:e.saveFilter,statusModal:e.statusModal}},[i("v-row",[i("v-col",{attrs:{cols:"12"}},[i("SelectUsers",{attrs:{all:"",defaultSelect:e.defaultFilter.users},on:{change:e.changeUsers}})],1),i("v-col",{attrs:{cols:"12"}},[i("SelectPipeline",{attrs:{defaultSelect:e.defaultFilter.pipeline},on:{change:e.changePipeline}})],1),i("v-col",{attrs:{cols:"12"}},[i("PeriodPredefined",{attrs:{defaultSelect:e.defaultFilter.periodPredefined},on:{change:e.changePeriodPredefined}})],1),e.isPreview?e._e():i("v-col",{attrs:{cols:"12"}},[i("ComparePeriod",{attrs:{periodPredefined:e.filters.periodPredefined[0]},on:{change:e.changeComparePeriod}})],1)],1)],1)},M=[],x=i("5530"),A=i("740f"),E=i("6321"),I={name:"CartSendEmailsFilter",components:{SelectUsers:A["a"],SelectPipeline:E["a"]},mixins:[b["b"]],props:{defaultFilter:{type:Object,default:function(){return{users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{id:""}}}},isIcon:{type:Boolean,default:!1},isPreview:{type:Boolean,default:!1}},data:function(){return{filters:{users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{id:""}}}},methods:{changeComparePeriod:function(e){var t=e.isCompare,i=e.periodCompare,r=e.ownerCompare;if(t){if(r&&r.id&&(this.filters.ownerToCompare.id=r.id,this.filters.periodRangeToCompare.period="",this.filters.periodRangeToCompare.start="",this.filters.periodRangeToCompare.end=""),i){if(this.filters.periodRangeToCompare.period=i.periodSelected,i.periodRange.length>0){var a=Object(o["a"])(i.periodRange,2);this.filters.periodRangeToCompare.start=a[0],this.filters.periodRangeToCompare.end=a[1]}this.filters.ownerToCompare.id=""}}else this.filters.periodRangeToCompare.period="",this.filters.periodRangeToCompare.start="",this.filters.periodRangeToCompare.end="",this.filters.ownerToCompare.id=""},saveFilter:function(){this.changeChart({id:"card-sentEmails",filtersFull:Object(x["a"])(Object(x["a"])({},this.noReactive(this.filters)),{},{periodRange:Object(x["a"])({__typename:"PeriodRange"},this.filters.periodRange),ownerToCompare:Object(x["a"])({__typename:"OwnerToCompare"},this.filters.ownerToCompare)})}),this.isOpenModalFilter=!1}}},k=I,L=Object(h["a"])(k,D,M,!1,null,"e3197484",null),j=L.exports;m()(L,{VCol:C["a"],VRow:T["a"]});var G={name:"CardSentEmailsModal",components:{CardSentEmailsData:_,CardSentEmailsFilter:j,TableEmails:B["a"]},mixins:[b["c"]],props:{isOpen:{type:Boolean,default:!1},title:{type:String,default:"Sin título"},titleRegular:{type:String,default:""},filters:{type:Object,default:function(){return{filtersConfig:{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{id:""}},filtersTable:{users:[],pipelines:[],periodRange:{start:"",end:""}}}}}}},H=G,V=Object(h["a"])(H,n,s,!1,null,"4824f040",null),N=V.exports,U={name:"CardSentEmailsPreview",components:{CardSentEmailsData:_,CardSentEmailsModal:N,CardSentEmailsFilter:j},mixins:[b["d"]],props:{defaultPeriod:{type:String,default:"THIS_MONTH"}},data:function(){return{title:"Correos",titleRegular:"enviados",isOpenModal:!1,chartId:"card-sentEmails",filtersChartsDefault:{},initFilter:{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{id:""}}}},computed:{filtersConfig:function(){var e,t,i,r,a,o,n;return{filterBy:(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.filterBy)||this.initFilter.filterBy,users:this.usersGlobal||(null===(t=this.chart.filtersFull)||void 0===t?void 0:t.users)||this.initUsers,pipeline:(null===(i=this.chart.filtersFull)||void 0===i?void 0:i.pipeline)||this.initPipeline,periodRange:this.periodRangeGlobal||(null===(r=this.chart.filtersFull)||void 0===r?void 0:r.periodRange)||this.periodRange,periodPredefined:this.periodPredefinedGlobal||(null===(a=this.chart.filtersFull)||void 0===a?void 0:a.periodPredefined)||[this.defaultPeriod]||this.initFilter.periodPredefined,periodRangeToCompare:(null===(o=this.chart.filtersFull)||void 0===o?void 0:o.periodRangeToCompare)||this.initFilter.periodRangeToCompare,ownerToCompare:(null===(n=this.chart.filtersFull)||void 0===n?void 0:n.ownerToCompare)||this.initFilter.ownerToCompare}},filtersTable:function(){var e,t=this.getPeriod(this.initFilter.periodPredefined[0]).get(),i=Object(o["a"])(t,2),r=i[0],a=i[1];return{users:this.usersGlobal||this.users||this.initUsers,pipelines:this.pipelines||this.filtersChartsDefault.pipelines,periodRange:this.periodRangeGlobal||(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.periodRange)||{start:r,end:a},emailStatus:"ALL"}}}},W=U,$=(i("5cb2"),Object(h["a"])(W,r,a,!1,null,"06662b5c",null));t["a"]=$.exports},f8e2:function(e,t,i){"use strict";i("19ec")},f937:function(e,t,i){},fa25:function(e,t,i){"use strict";i("1351")},fc2c:function(e,t,i){"use strict";var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseCardChart",{attrs:{title:e.title,titleRegular:e.titleRegular,settings:e.filtersConfig,isChart:""},on:{updateRefetch:function(t){e.isRefetch=!0}},scopedSlots:e._u([{key:"modal",fn:function(){return[i("DonutLostReasonFilter",{attrs:{defaultFilter:e.filtersConfig,isIcon:"",isPreview:""}})]},proxy:!0}])},[i("div",{staticClass:"hoverClick",on:{click:e.openModal}},[i("DonutLostReasonData",{attrs:{defaultFilter:e.filtersConfig,isPreview:"",isRefetch:e.isRefetch},on:{updateRefetch:function(t){e.isRefetch=!1}}})],1),i("DonutLostReasonModal",{attrs:{isOpen:e.isOpenModal,filters:{filtersConfig:e.filtersConfig,filtersConfig:e.filtersConfig,filtersTable:e.filtersTable},title:e.title,titleRegular:e.titleRegular},on:{close:e.closeModal}})],1)},a=[],o=i("3835"),n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalFilters",{attrs:{isOpen:e.isOpenModalFilter,isIcon:e.isIcon},on:{save:e.saveFilter,statusModal:e.statusModal}},[i("v-row",[i("v-col",{attrs:{cols:"12"}},[i("Select",{attrs:{name:"Filtrar por",defaultSelect:e.defaultFilter.filterBy,list:e.listFilterBy},on:{change:e.changeFilterBy}})],1),i("v-col",{attrs:{cols:"12"}},[i("SelectUsers",{attrs:{all:"",defaultSelect:e.defaultFilter.users},on:{change:e.changeUsers}})],1),i("v-col",{attrs:{cols:"12"}},[i("SelectPipeline",{attrs:{defaultSelect:e.defaultFilter.pipeline},on:{change:e.changePipeline}})],1),i("v-col",{attrs:{cols:"12"}},[i("PeriodPredefined",{attrs:{defaultSelect:e.defaultFilter.periodPredefined},on:{change:e.changePeriodPredefined}})],1),e.isPreview?e._e():i("v-col",{attrs:{cols:"12"}},[i("ComparePeriodBars",{attrs:{periodPredefined:e.filters.periodPredefined[0]},on:{change:e.changeComparePeriod}})],1)],1)],1)},s=[],l=i("5530"),d=(i("7db0"),i("a2ff")),p=i("73cd"),c=i("740f"),u=i("6321"),f=i("baee"),h=i("9d71"),v=i("cdd4"),m=i("c065"),g=i("d344"),C={name:"DonutLostReasonFilter",components:{BaseModalFilters:p["a"],SelectUsers:c["a"],Select:g["a"],SelectPipeline:u["a"],PeriodPredefined:h["a"],ComparePeriodBars:d["a"]},mixins:[f["c"]],props:{defaultFilter:{type:Object,default:function(){return{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},typeCompare:"none"}}},isIcon:{type:Boolean,default:!1},isPreview:{type:Boolean,default:!1}},data:function(){return{listCompare:v["b"],listFilterBy:m["e"],isOpenModalFilter:!1,filters:{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},typeCompare:"none"}}},methods:{findPeriod:function(e){return this.listCompare.find((function(t){return t.id===e}))},updatePeriodSelected:function(e){if("CUSTOM"!==e){var t=this.findPeriod(e),i=t?t.get(this.filters.periodPredefined[0]):[];if(i){var r=Object(o["a"])(i,2);this.filters.periodRangeToCompare.start=r[0],this.filters.periodRangeToCompare.end=r[1]}}},changeStatusDeal:function(e){this.filters.dealsFilter=e},statusModal:function(e){this.isOpenModalFilter=e},changeTime:function(e){this.filters.filterTime=e},changeFilterBy:function(e){this.filters.filterBy=e},changeUser:function(e){this.filters.user=e},changeUsers:function(e){this.filters.users=e},changePipeline:function(e){this.filters.pipeline=e},changePeriodPredefined:function(e){this.filters.periodPredefined=e;var t=Object(o["a"])(e,2),i=Object(o["a"])(t[1],2);this.filters.periodRange.start=i[0],this.filters.periodRange.end=i[1],"date"===this.typeCompare&&this.updatePeriodSelected(this.filters.periodRangeToCompare.period)},changeComparePeriod:function(e){var t=e.isCompare,i=e.typeCompare,r=e.periodCompare;if(t){if("date"===i&&r&&(this.filters.typeCompare=i,this.filters.periodRangeToCompare.period=r.periodSelected,r.periodRange.length>0)){var a=Object(o["a"])(r.periodRange,2);this.filters.periodRangeToCompare.start=a[0],this.filters.periodRangeToCompare.end=a[1]}}else this.filters.typeCompare=i,this.filters.periodRangeToCompare.period="",this.filters.periodRangeToCompare.start="",this.filters.periodRangeToCompare.end=""},saveFilter:function(){this.changeChart({id:"donut-lostReason",filtersFull:Object(l["a"])(Object(l["a"])({},this.noReactive(this.filters)),{},{periodRange:Object(l["a"])({__typename:"PeriodRange"},this.filters.periodRange)})}),this.isOpenModalFilter=!1}}},R=C,T=i("0c7c"),y=i("6544"),P=i.n(y),S=i("62ad"),b=i("0fd9"),F=Object(T["a"])(R,n,s,!1,null,"3f61146a",null),O=F.exports;P()(F,{VCol:S["a"],VRow:b["a"]});var w=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.isPreview?e._e():i("ListFilters",{attrs:{settings:e.settings}}),i("div",{staticClass:"text-center bgWhite",class:[{"py-5 px-3":!e.isPreview},{showScroll:e.isWithScroll}]},[i("apexchart",{attrs:{height:e.isPreview?250:350,type:"donut",options:e.options,series:e.series}}),e.isPreview||"date"!==e.settings.typeCompare?e._e():i("h4",[e._v(" Comparación de fecha ")]),e.isPreview||"user"!==e.settings.typeCompare?e._e():i("h4",[e._v(" Comparación con otro usuario ")]),e.isPreview||"none"===e.settings.typeCompare?e._e():i("apexchart",{attrs:{height:e.isPreview?250:350,type:"donut",options:e.optionsCompare,series:e.seriesCompare}})],1),e.isPreview?e._e():i("DonutLostReasonInformation",{attrs:{information:e.lostDealsByLostReasonDonutGraph.informationBar,filterBy:e.settings.filterBy}})],1)},_=[],B=i("8d7e"),D=i("7d6b"),M=i("b3b3"),x=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-card",{staticClass:"mt-5",attrs:{flat:""}},[i("v-container",[i("v-row",{staticClass:"justify-center"},[e._l(e.information.periodLostDeals,(function(t,r){return[i("v-col",{key:r,attrs:{cols:"3"}},[i("span",{staticClass:"d-block"},[i("b",[e._v(e._s(t.reason))]),e._v(" : "+e._s(t[e.filterBy])+" ")])])]}))],2)],1)],1)},A=[],E={name:"CardAverageDaysInPipelineInformation",props:{information:{type:Object,default:function(){return{}}},filterBy:{type:String,default:"count"}}},I=E,k=i("b0af"),L=i("a523"),j=Object(T["a"])(I,x,A,!1,null,null,null),G=j.exports;P()(j,{VCard:k["a"],VCol:S["a"],VContainer:L["a"],VRow:b["a"]});var H={name:"DonutLostReasonData",mixins:[D["a"]],components:{DonutLostReasonInformation:G},props:{defaultFilter:{type:Object,default:function(){return{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],typeCompare:"none"}}},isPreview:{type:Boolean,default:!1},isRefetch:{type:Boolean,default:!1}},data:function(){return{listFilterBy:m["e"],lostDealsByLostReasonDonutGraph:{mainLostDeals:{},secondLostDeals:{},informationBar:{}},modalSettings:{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],typeCompare:"none"},settings:{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],typeCompare:"none"}}},watch:{isRefetch:function(e){e&&(this.update(),this.$emit("updateRefetch"))}},computed:{options:function(){return this.formatOptions(this.lostDealsByLostReasonDonutGraph.mainLostDeals.reasonsList)},optionsCompare:function(){var e;return null!==(e=this.lostDealsByLostReasonDonutGraph)&&void 0!==e&&e.mainLostDeals.reasonsList?this.formatOptions(this.lostDealsByLostReasonDonutGraph.mainLostDeals.reasonsList):{}},series:function(){return this.formatSeries(this.lostDealsByLostReasonDonutGraph.mainLostDeals)},seriesCompare:function(){var e;return null!==(e=this.lostDealsByLostReasonDonutGraph)&&void 0!==e&&e.secondLostDeals?this.formatSeries(this.lostDealsByLostReasonDonutGraph.secondLostDeals,"date"===this.settings.typeCompare):[]},showTitleXaxis:function(){if(!this.isPreview)return"Total"},showTitleYaxis:function(){if(!this.isPreview)return"Etapas"},isLargeWidth:function(){return"THIS_YEAR"===this.settings.periodPredefined[0]||"LAST_YEAR"===this.settings.periodPredefined[0]},isWithScroll:function(){return this.isLargeWidth&&this.isPreview},filters:function(){var e={dateRange:{dateStart:this.dateStart,dateEnd:this.dateEnd},owners:this.ownersFilter,pipeline:this.pipelineFilter};return this.ownerToCompare&&(e.ownerToCompare=this.ownerToCompare),this.dateRangeToCompare&&""!==this.dateRangeToCompare.dateStart&&""!==this.dateRangeToCompare.dateEnd&&(e.dateRangeToCompare=this.dateRangeToCompare),e}},methods:{formatOptions:function(e){var t=this;return{chart:{type:"donut",height:this.isPreview?"250":"350",width:this.isWithScroll?"600":"100%",toolbar:{show:!1},zoom:{enabled:!1}},colors:M["b"],labels:e||[],yaxis:{labels:{formatter:function(e){return t.isCount?e:"$".concat(e)}}},noData:{text:"No hay datos"},plotOptions:{pie:{donut:{background:"#808080"}}},legend:{position:"top",horizontalAlign:this.isPreview?"left":"center",showForSingleSeries:!0}}},formatSeries:function(e){return this.isCount&&e&&e.countList?e.countList:e&&e.sumList?e.sumList:[]},update:function(){this.$apollo.queries.lostDealsByLostReasonDonutGraph.refetch()}},apollo:{lostDealsByLostReasonDonutGraph:{query:B["t"],fetchPolicy:"no-cache",client:"charts",variables:function(){return{filters:this.filters}},skip:function(){return""===this.dateStart||""===this.dateEnd||!this.pipelineFilter.id||0===this.ownersFilter.length},watchLoading:function(e){this.isLoading=e}}}},V=H,N=(i("d704"),Object(T["a"])(V,w,_,!1,null,"f60517da",null)),U=N.exports,W=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalChart",{attrs:{title:e.title,titleRegular:e.titleRegular,isOpen:e.isOpen},on:{close:e.closeModal},scopedSlots:e._u([{key:"filters",fn:function(){return[i("DonutLostReasonFilter",{attrs:{defaultFilter:e.filters.filtersConfig}})]},proxy:!0},{key:"chart",fn:function(){return[i("DonutLostReasonData",{attrs:{defaultFilter:e.filters.filtersConfig,isFull:""}})]},proxy:!0},{key:"table",fn:function(){return[i("TableDeals",{attrs:{defaultFilter:e.filters.filtersTable}})]},proxy:!0}])})},$=[],z=i("198f"),q=i("8b70"),Y={name:"DonutLostReasonModal",components:{BaseModalChart:z["a"],DonutLostReasonFilter:O,DonutLostReasonData:U,TableDeals:q["a"]},props:{isOpen:{type:Boolean,default:!1},title:{type:String,default:"Sin título"},titleRegular:{type:String,default:""},filters:{type:Object,default:function(){return{filtersConfig:{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{},typeCompare:"none"},filtersTable:{users:[],pipelines:[],periodRange:{start:"",end:""},dealStatus:""}}}}},methods:{closeModal:function(){this.$emit("close")}}},K=Y,X=Object(T["a"])(K,W,$,!1,null,"665624a6",null),J=X.exports,Q=i("047b"),Z={components:{BaseCardChart:Q["a"]},mixins:[f["b"]],props:{filtersGlobal:{type:Object,default:function(){return{users:[],periodPredefined:[]}}}},data:function(){return{isRefetch:!1,periods:v["a"],isOpenModal:!1}},computed:{usersGlobal:function(){return this.filtersGlobal.users.length>0?this.filtersGlobal.users:null},periodPredefinedGlobal:function(){return this.filtersGlobal.periodPredefined&&this.filtersGlobal.periodPredefined.length>0?[this.filtersGlobal.periodPredefined[0]]:null},periodRangeGlobal:function(){if(this.filtersGlobal.periodPredefined&&this.filtersGlobal.periodPredefined.length>1){var e=this.filtersGlobal.periodPredefined[1];return{start:e[0],end:e[1]}}return null},initUsers:function(){return this.filtersChartsDefault.users&&this.filtersChartsDefault.users.length>0?this.filtersChartsDefault.users:null},initPipeline:function(){return this.filtersChartsDefault.pipelines&&this.filtersChartsDefault.pipelines.length>0?this.filtersChartsDefault.pipelines[0]:null},periodRange:function(){var e=this.getPeriod(this.defaultPeriod||this.initFilter.periodPredefined[0]).get(),t=Object(o["a"])(e,2),i=t[0],r=t[1];return{start:i,end:r}},users:function(){var e,t,i;return(null===(e=this.chart.filtersFull)||void 0===e||null===(t=e.users)||void 0===t?void 0:t.length)>0?null===(i=this.chart.filtersFull)||void 0===i?void 0:i.users:null},pipelines:function(){var e,t;return null!==(e=this.chart.filtersFull)&&void 0!==e&&e.pipeline?[null===(t=this.chart.filtersFull)||void 0===t?void 0:t.pipeline]:null}},methods:{getPeriod:function(e){return this.periods.find((function(t){return t.id===e}))},openModal:function(){this.isOpenModal=!0},closeModal:function(){this.isOpenModal=!1}}},ee={name:"DonutLostReasonPreview",components:{DonutLostReasonData:U,DonutLostReasonModal:J,DonutLostReasonFilter:O},mixins:[Z],props:{defaultPeriod:{type:String,default:"THIS_MONTH"}},data:function(){return{chartId:"donut-lostReason",title:"Motivos",titleRegular:"de pérdida",filtersChartsDefault:{},initFilter:{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{},dealStatus:"LOST",typeCompare:"none"}}},computed:{filtersConfig:function(){var e,t,i,r,a,o,n,s;return{filterBy:(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.filterBy)||this.initFilter.filterBy,users:this.usersGlobal||(null===(t=this.chart.filtersFull)||void 0===t?void 0:t.users)||this.initUsers,pipeline:(null===(i=this.chart.filtersFull)||void 0===i?void 0:i.pipeline)||this.initPipeline,periodRange:this.periodRangeGlobal||(null===(r=this.chart.filtersFull)||void 0===r?void 0:r.periodRange)||this.periodRange,periodPredefined:this.periodPredefinedGlobal||(null===(a=this.chart.filtersFull)||void 0===a?void 0:a.periodPredefined)||[this.defaultPeriod]||this.initFilter.periodPredefined,periodRangeToCompare:(null===(o=this.chart.filtersFull)||void 0===o?void 0:o.periodRangeToCompare)||this.initFilter.periodRangeToCompare,ownerToCompare:(null===(n=this.chart.filtersFull)||void 0===n?void 0:n.ownerToCompare)||this.initFilter.ownerToCompare,typeCompare:(null===(s=this.chart.filtersFull)||void 0===s?void 0:s.typeCompare)||this.initFilter.typeCompare}},filtersTable:function(){var e,t=this.getPeriod(this.initFilter.periodPredefined[0]).get(),i=Object(o["a"])(t,2),r=i[0],a=i[1];return{users:this.usersGlobal||this.users||this.initUsers,pipelines:this.pipelines||[this.initPipeline],periodRange:this.periodRangeGlobal||(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.periodRange)||{start:r,end:a},dealStatus:this.initFilter.dealStatus}}}},te=ee,ie=(i("b22a"),Object(T["a"])(te,r,a,!1,null,"690a0192",null));t["a"]=ie.exports},fca4:function(e,t,i){"use strict";var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseCardChart",{attrs:{title:e.title,titleRegular:e.titleRegular,settings:e.filtersConfig,isChart:""},on:{updateRefetch:function(t){e.isRefetch=!0}},scopedSlots:e._u([{key:"modal",fn:function(){return[i("BarUncompletedActivitiesByStageFilter",{attrs:{defaultFilter:e.filtersConfig,isIcon:"",isPreview:""}})]},proxy:!0}])},[i("div",{staticClass:"hoverClick",on:{click:e.openModal}},[i("BarUncompletedActivitiesByStageData",{attrs:{defaultFilter:e.filtersConfig,isPreview:"",isRefetch:e.isRefetch},on:{updateRefetch:function(t){e.isRefetch=!1}}})],1),i("BarUncompletedActivitiesByStageModal",{attrs:{isOpen:e.isOpenModal,filters:{filtersConfig:e.filtersConfig,filtersTable:e.filtersTable},title:e.title,titleRegular:e.titleRegular},on:{close:e.closeModal}})],1)},a=[],o=i("3835"),n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalChart",{attrs:{title:e.title,titleRegular:e.titleRegular,isOpen:e.isOpen},on:{close:e.closeModal},scopedSlots:e._u([{key:"filters",fn:function(){return[i("BarUncompletedActivitiesByStageFilter",{attrs:{defaultFilter:e.filters.filtersConfig}})]},proxy:!0},{key:"chart",fn:function(){return[i("BarUncompletedActivitiesByStageData",{attrs:{defaultFilter:e.filters.filtersConfig,isFull:""}})]},proxy:!0},{key:"table",fn:function(){return[i("TableActivities",{attrs:{defaultFilter:e.filters.filtersTable}})]},proxy:!0}])})},s=[],l=i("52e2"),d=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalFilters",{attrs:{isOpen:e.isOpenModalFilter,isIcon:e.isIcon},on:{save:e.saveFilter,statusModal:e.statusModal}},[i("v-row",[i("v-col",{attrs:{cols:"12"}},[i("Select",{attrs:{name:"Estado de trato",defaultSelect:e.defaultFilter.dealsFilter,list:e.listStatusDeals},on:{change:e.changeStatusDeal}})],1),i("v-col",{attrs:{cols:"12"}},[i("SelectUsers",{attrs:{all:"",defaultSelect:e.defaultFilter.users},on:{change:e.changeUsers}})],1),i("v-col",{attrs:{cols:"12"}},[i("SelectPipeline",{attrs:{defaultSelect:e.defaultFilter.pipeline},on:{change:e.changePipeline}})],1),i("v-col",{attrs:{cols:"12"}},[i("PeriodPredefined",{attrs:{defaultSelect:e.defaultFilter.periodPredefined},on:{change:e.changePeriodPredefined}})],1),e.isPreview?e._e():i("v-col",{attrs:{cols:"12"}},[i("ComparePeriodBars",{attrs:{periodPredefined:e.filters.periodPredefined[0]},on:{change:e.changeComparePeriod}})],1)],1)],1)},p=[],c=i("5530"),u=i("740f"),f=i("d344"),h=i("6321"),v=i("c065"),m={name:"BarUncompletedActivitiesByStageFilter",components:{SelectUsers:u["a"],SelectPipeline:h["a"],Select:f["a"]},mixins:[l["b"]],props:{defaultFilter:{type:Object,default:function(){return{dealsFilter:"ALL",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},typeCompare:"none"}}}},data:function(){return{listStatusActivities:v["b"],listStatusDeals:v["c"],filters:{dealsFilter:"ALL",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},typeCompare:"none"}}},methods:{saveFilter:function(){this.changeChart({id:"bar-uncompletedActivitiesByStage",filtersFull:Object(c["a"])(Object(c["a"])({},this.noReactive(this.filters)),{},{periodRange:Object(c["a"])({__typename:"PeriodRange"},this.filters.periodRange)})}),this.isOpenModalFilter=!1}}},g=m,C=i("0c7c"),R=i("6544"),T=i.n(R),y=i("62ad"),P=i("0fd9"),S=Object(C["a"])(g,d,p,!1,null,"b2868b62",null),b=S.exports;T()(S,{VCol:y["a"],VRow:P["a"]});var F=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.isPreview?e._e():i("ListFilters",{attrs:{settings:e.settings}}),i("div",{staticClass:"text-center bgWhite",class:[{"py-5 px-3":!e.isPreview},{showScroll:e.isWithScroll}]},[i("apexchart",{attrs:{height:e.isPreview?250:350,type:"bar",options:e.options,series:e.series}}),e.isPreview||"date"!==e.settings.typeCompare?e._e():i("h4",[e._v(" Comparación de fecha ")]),e.isPreview||"user"!==e.settings.typeCompare?e._e():i("h4",[e._v(" Comparación con otro usuario ")]),e.isPreview||"none"===e.settings.typeCompare?e._e():i("apexchart",{attrs:{height:e.isPreview?250:350,type:"bar",options:e.optionsCompare,series:e.seriesCompare}})],1),e.isPreview?e._e():i("BarUncompletedActivitiesByStageInformation",{attrs:{information:e.uncompletedActivitiesByStageHorizontalBarsAndTable.informationBar,filterBy:e.settings.filterBy}})],1)},O=[],w=(i("b680"),i("d81d"),i("8d7e")),_=i("b3b3"),B=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-card",{staticClass:"mt-5",attrs:{flat:""}},[i("v-container",[i("v-row",[i("v-col",{attrs:{cols:"3"}},[i("span",{staticClass:"d-block"},[i("b",[e._v("Actividades reagendadas:")]),e._v(" "+e._s(e.information.periodsActivities&&e.information.periodsActivities.bookedActivities)+" ")]),i("span",{staticClass:"d-block"},[i("b",[e._v("Activitiades completadas:")]),e._v(" "+e._s(e.information.periodsActivities&&e.information.periodsActivities.completedActivities)+" ")]),i("span",{staticClass:"d-block"},[i("b",[e._v("Actividades cumplidas:")]),e._v(" "+e._s(e.information.periodsActivities&&e.information.periodsActivities.compliedActivities)+" ")])]),i("v-col",{attrs:{cols:"3"}},[i("span",{staticClass:"d-block"},[i("b",[e._v("Actividades efectivas:")]),e._v(" "+e._s(e.information.periodsActivities&&e.information.periodsActivities.effectiveActivities)+" ")]),i("span",{staticClass:"d-block"},[i("b",[e._v("Actividades vencidas:")]),e._v(" "+e._s(e.information.periodsActivities&&e.information.periodsActivities.expiredActivities)+" ")]),i("span",{staticClass:"d-block"},[i("b",[e._v("Actividades inefectivas:")]),e._v(" "+e._s(e.information.periodsActivities&&e.information.periodsActivities.ineffectiveActivities)+" ")])]),i("v-col",{attrs:{cols:"3"}},[i("span",{staticClass:"d-block"},[i("b",[e._v("Actividades reagendadas anterior:")]),e._v(" "+e._s(e.information.pastPeriodsActivities&&e.information.pastPeriodsActivities.bookedActivities)+" ")]),i("span",{staticClass:"d-block"},[i("b",[e._v("Activitiades completadas anterior:")]),e._v(" "+e._s(e.information.pastPeriodsActivities&&e.information.pastPeriodsActivities.completedActivities)+" ")]),i("span",{staticClass:"d-block"},[i("b",[e._v("Actividades cumplidas anterior:")]),e._v(" "+e._s(e.information.pastPeriodsActivities&&e.information.pastPeriodsActivities.compliedActivities)+" ")])]),i("v-col",{attrs:{cols:"3"}},[i("span",{staticClass:"d-block"},[i("b",[e._v("Actividades efectivas anterior:")]),e._v(" "+e._s(e.information.pastPeriodsActivities&&e.information.pastPeriodsActivities.effectiveActivities)+" ")]),i("span",{staticClass:"d-block"},[i("b",[e._v("Actividades vencidas anterior:")]),e._v(" "+e._s(e.information.pastPeriodsActivities&&e.information.pastPeriodsActivities.expiredActivities)+" ")]),i("span",{staticClass:"d-block"},[i("b",[e._v("Actividades inefectivas anterior:")]),e._v(" "+e._s(e.information.pastPeriodsActivities&&e.information.pastPeriodsActivities.ineffectiveActivities)+" ")])])],1)],1)],1)},D=[],M={name:"BarUncompletedActivitiesByStageInformation",props:{information:{type:Object,default:function(){return{}}},filterBy:{type:String,default:"count"}}},x=M,A=i("b0af"),E=i("a523"),I=Object(C["a"])(x,B,D,!1,null,null,null),k=I.exports;T()(I,{VCard:A["a"],VCol:y["a"],VContainer:E["a"],VRow:P["a"]});var L={name:"BarUncompletedActivitiesByStageData",mixins:[l["a"]],components:{BarUncompletedActivitiesByStageInformation:k},props:{defaultFilter:{type:Object,default:function(){return{dealsFilter:"ALL",activitiesFilter:"ALL",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],typeCompare:"none"}}}},data:function(){return{listFilterBy:v["e"],uncompletedActivitiesByStageHorizontalBarsAndTable:{mainUncompletedActivitiesByStage:[],secondUncompletedActivitiesByStage:[]},modalSettings:{dealsFilter:"ALL",activitiesFilter:"ALL",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],typeCompare:"none"},settings:{dealsFilter:"ALL",activitiesFilter:"ALL",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],typeCompare:"none"}}},computed:{options:function(){return this.formatOptions(this.uncompletedActivitiesByStageHorizontalBarsAndTable.stages)},optionsCompare:function(){return this.formatOptions(this.uncompletedActivitiesByStageHorizontalBarsAndTable.stages)},series:function(){return this.formatSeries(this.uncompletedActivitiesByStageHorizontalBarsAndTable.mainUncompletedActivitiesByStage)},seriesCompare:function(){return this.formatSeries(this.uncompletedActivitiesByStageHorizontalBarsAndTable.secondUncompletedActivitiesByStage)},showTitleXaxis:function(){if(!this.isPreview)return"Total"},showTitleYaxis:function(){if(!this.isPreview)return"Etapas"},isWithScroll:function(){return this.isLargeWidth&&this.isPreview},filters:function(){var e={dateRange:{dateStart:this.dateStart,dateEnd:this.dateEnd},owners:this.ownersFilter,pipeline:this.pipelineFilter,dealsFilter:this.settings.dealsFilter,activitiesFilter:this.settings.activitiesFilter};return this.dateRangeToCompare&&""!==this.dateRangeToCompare.dateStart&&""!==this.dateRangeToCompare.dateEnd&&(e.dateRangeToCompare=this.dateRangeToCompare),e}},methods:{formatOptions:function(e){return{chart:{type:"bar",height:this.isPreview?"250":"350",width:this.isWithScroll?"600":"100%",stacked:!0,toolbar:{show:!1},zoom:{enabled:!1}},plotOptions:{bar:{borderRadius:4,horizontal:!0}},colors:_["a"],dataLabels:{enabled:!0,style:{fontSize:"12px",fontWeight:"bold",colors:["#000"]},background:{enabled:!0,foreColor:"#fff"}},grid:{row:{colors:["#f3f3f3","transparent"],opacity:.5}},xaxis:{categories:e||[],title:{text:this.showTitleXaxis},tickAmount:1,labels:{formatter:function(e){return e.toFixed(0)}}},yaxis:{title:{text:this.showTitleYaxis}},tooltip:{y:{formatter:function(e){return e}}},legend:{position:"top",horizontalAlign:this.isPreview?"left":"center",showForSingleSeries:!0}}},formatSeries:function(e){return e&&e.length?e.map((function(e){var t=e.typeName,i=e.countList;return{name:t,data:i.map((function(e){return e.count}))}})):[]},update:function(){this.$apollo.queries.uncompletedActivitiesByStageHorizontalBarsAndTable.refetch()}},apollo:{uncompletedActivitiesByStageHorizontalBarsAndTable:{query:w["S"],fetchPolicy:"no-cache",client:"charts",variables:function(){return{filters:this.filters}},skip:function(){return""===this.dateStart||""===this.dateEnd||!this.pipelineFilter.id||0===this.ownersFilter.length},watchLoading:function(e){this.isLoading=e}}}},j=L,G=(i("e4a7"),Object(C["a"])(j,F,O,!1,null,"fdf40a26",null)),H=G.exports,V=i("157d"),N={name:"BarUncompletedActivitiesByStageModal",components:{BarUncompletedActivitiesByStageFilter:b,BarUncompletedActivitiesByStageData:H,TableActivities:V["a"]},mixins:[l["c"]],props:{filters:{type:Object,default:function(){return{filtersConfig:{dealsFilter:"ALL",activitiesFilter:"ALL",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},typeCompare:"none"},filtersTable:{users:[],pipelines:[],periodRange:{start:"",end:""},dealStatus:"",stages:[],activityTypes:[],fromReportStatus:"ACTIVITIESBYSTAGE"}}}}}},U=N,W=Object(C["a"])(U,n,s,!1,null,"7c846a94",null),$=W.exports,z={name:"BarUncompletedActivitiesByStagePreview",components:{BarUncompletedActivitiesByStageData:H,BarUncompletedActivitiesByStageModal:$,BarUncompletedActivitiesByStageFilter:b},mixins:[l["d"]],props:{defaultPeriod:{type:String,default:"THIS_MONTH"}},data:function(){return{chartId:"bar-uncompletedActivitiesByStage",title:"Actividades",titleRegular:"Incompletas",filtersChartsDefault:{},initFilter:{dealsFilter:"ALL",activitiesFilter:"PENDING",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},typeCompare:"none",stages:[],activityTypes:[],fromReportStatus:"ACTIVITIESBYSTAGE"}}},computed:{filtersConfig:function(){var e,t,i,r,a,o,n;return{dealsFilter:(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.dealsFilter)||this.initFilter.dealsFilter,users:this.usersGlobal||(null===(t=this.chart.filtersFull)||void 0===t?void 0:t.users)||this.initUsers,pipeline:(null===(i=this.chart.filtersFull)||void 0===i?void 0:i.pipeline)||this.initPipeline,periodRange:this.periodRangeGlobal||(null===(r=this.chart.filtersFull)||void 0===r?void 0:r.periodRange)||this.periodRange,periodPredefined:this.periodPredefinedGlobal||(null===(a=this.chart.filtersFull)||void 0===a?void 0:a.periodPredefined)||[this.defaultPeriod]||this.initFilter.periodPredefined,periodRangeToCompare:(null===(o=this.chart.filtersFull)||void 0===o?void 0:o.periodRangeToCompare)||this.initFilter.periodRangeToCompare,typeCompare:(null===(n=this.chart.filtersFull)||void 0===n?void 0:n.typeCompare)||this.initFilter.typeCompare}},filtersTable:function(){var e,t=this.getPeriod(this.initFilter.periodPredefined[0]).get(),i=Object(o["a"])(t,2),r=i[0],a=i[1];return{users:this.usersGlobal||this.users||this.initUsers,pipelines:this.pipelines||[this.initPipeline],periodRange:this.periodRangeGlobal||(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.periodRange)||{start:r,end:a},dealStatus:this.initFilter.dealsFilter,activitiesStatus:this.initFilter.activitiesFilter,activityTypes:this.filtersChartsDefault.activityTypes||this.initFilter.activityTypes,fromReportStatus:this.initFilter.fromReportStatus}}}},q=z,Y=(i("8120"),Object(C["a"])(q,r,a,!1,null,"627da6f6",null));t["a"]=Y.exports},fca8:function(e,t,i){"use strict";var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseCardChart",{attrs:{title:e.title,titleRegular:e.titleRegular,settings:e.filtersConfig},on:{updateRefetch:function(t){e.isRefetch=!0}},scopedSlots:e._u([{key:"modal",fn:function(){return[i("CardConvertionRateFilter",{attrs:{defaultFilter:e.filtersConfig,isIcon:"",isPreview:""}})]},proxy:!0}])},[i("div",{staticClass:"hoverClick",on:{click:e.openModal}},[i("CardConvertionRateData",{attrs:{defaultFilter:e.filtersConfig,isPreview:"",isRefetch:e.isRefetch},on:{updateRefetch:function(t){e.isRefetch=!1}}})],1),i("CardConvertionRateModal",{attrs:{isOpen:e.isOpenModal,filters:{filtersConfig:e.filtersConfig,filtersTable:e.filtersTable},title:e.title,titleRegular:e.titleRegular},on:{close:e.closeModal}})],1)},a=[],o=i("3835"),n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalChart",{attrs:{title:e.title,titleRegular:e.titleRegular,isOpen:e.isOpen},on:{close:e.closeModal},scopedSlots:e._u([{key:"filters",fn:function(){return[i("CardConvertionRateFilter",{attrs:{defaultFilter:e.filters.filtersConfig}})]},proxy:!0},{key:"chart",fn:function(){return[i("CardConvertionRateData",{attrs:{defaultFilter:e.filters.filtersConfig}})]},proxy:!0},{key:"table",fn:function(){return[i("TableDeals",{attrs:{defaultFilter:e.filters.filtersTable}})]},proxy:!0}])})},s=[],l=i("8b70"),d=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalFilters",{attrs:{isOpen:e.isOpenModalFilter,isIcon:e.isIcon},on:{save:e.saveFilter,statusModal:e.statusModal}},[i("v-row",[i("v-col",{attrs:{cols:"12"}},[i("Select",{attrs:{name:"Filtrar por",defaultSelect:e.defaultFilter.filterBy,list:e.listFilterBy},on:{change:e.changeFilterBy}})],1),i("v-col",{attrs:{cols:"12"}},[i("SelectUsers",{attrs:{all:"",defaultSelect:e.defaultFilter.users},on:{change:e.changeUsers}})],1),i("v-col",{attrs:{cols:"12"}},[i("SelectPipeline",{attrs:{defaultSelect:e.defaultFilter.pipeline},on:{change:e.changePipeline}})],1),i("v-col",{attrs:{cols:"12"}},[i("PeriodPredefined",{attrs:{defaultSelect:e.defaultFilter.periodPredefined},on:{change:e.changePeriodPredefined}})],1),e.isPreview?e._e():i("v-col",{attrs:{cols:"12"}},[i("ComparePeriod",{attrs:{periodPredefined:e.filters.periodPredefined[0]},on:{change:e.changeComparePeriod}})],1)],1)],1)},p=[],c=i("5530"),u=i("740f"),f=i("d344"),h=i("6321"),v=i("c065"),m=i("0db6"),g={name:"CardConvertionRateFilter",components:{SelectUsers:u["a"],SelectPipeline:h["a"],Select:f["a"]},mixins:[m["b"]],props:{defaultFilter:{type:Object,default:function(){return{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{id:""}}}},isIcon:{type:Boolean,default:!1},isPreview:{type:Boolean,default:!1}},data:function(){return{listTime:v["d"],listFilterBy:v["e"],filters:{filterBy:"count",filterTime:"WEEKS",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{id:""}}}},methods:{changeComparePeriod:function(e){var t=e.isCompare,i=e.periodCompare,r=e.ownerCompare;if(t){if(r&&r.id&&r.id.length>0&&(this.filters.ownerToCompare.id=r.id,this.filters.periodRangeToCompare.period="",this.filters.periodRangeToCompare.start="",this.filters.periodRangeToCompare.end=""),i){if(this.filters.periodRangeToCompare.period=i.periodSelected,i.periodRange.length>0){var a=Object(o["a"])(i.periodRange,2);this.filters.periodRangeToCompare.start=a[0],this.filters.periodRangeToCompare.end=a[1]}this.filters.ownerToCompare.id=""}}else this.filters.periodRangeToCompare.period="",this.filters.periodRangeToCompare.start="",this.filters.periodRangeToCompare.end="",this.filters.ownerToCompare.id=""},saveFilter:function(){this.changeChart({id:"card-convertionRate",filtersFull:Object(c["a"])(Object(c["a"])({},this.noReactive(this.filters)),{},{periodRange:Object(c["a"])({__typename:"PeriodRange"},this.filters.periodRange),ownerToCompare:Object(c["a"])({__typename:"OwnerToCompare"},this.filters.ownerToCompare)})}),this.isOpenModalFilter=!1}}},C=g,R=i("0c7c"),T=i("6544"),y=i.n(T),P=i("62ad"),S=i("0fd9"),b=Object(R["a"])(C,d,p,!1,null,"454e1da3",null),F=b.exports;y()(b,{VCol:P["a"],VRow:S["a"]});var O=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.isPreview?e._e():i("ListFilters",{attrs:{settings:e.settings}}),i("BaseCardNumber",{attrs:{information:{numberMain:e.generalConvertionRateFormat+"%",textMain:e.textMain,valueMain:e.valueMain,textMainType:e.textChart,isCompare:!e.isPreview&&(e.settings.periodRangeToCompare.period.length>0||e.isCompareUser),numberCompare:e.generalConvertionRateCompare+"%",textCompare:e.textCompare,valueCompare:e.valueCompare,numberDifferenceCompare:e.comparePercentage}}}),e.isPreview?e._e():i("CardConvertionRateInformation",{attrs:{information:e.generalConvertionRateCard.informationBar,filterBy:e.settings.filterBy}})],1)},w=[],_=(i("b680"),i("b0c0"),i("99af"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-card",{staticClass:"mt-5",attrs:{flat:""}},[i("v-container",[i("v-row",{staticClass:"justify-center"},[i("v-col",{attrs:{cols:"4"}},[e._l(e.information.usersConvertionRates,(function(t,r){return[i("span",{key:r,staticClass:"d-block"},[i("b",[e._v(e._s(t.name))]),e._v(" : "+e._s(t[e.filterBy].toFixed(2))+"% ")])]}))],2),i("v-col",{attrs:{cols:"4"}},[e._l(e.information.periodsConvertionRates,(function(t,r){return[i("span",{key:r,staticClass:"d-block"},[i("b",[e._v(e._s(e.periods[r]))]),e._v(" : "+e._s(t[e.filterBy].toFixed(2))+"% ")])]}))],2),i("v-col",{attrs:{cols:"4"}},[e._l(e.information.pastPeriodsConvertionRates,(function(t,r){return[i("span",{key:r,staticClass:"d-block"},[i("b",[e._v(e._s(e.pastPeriods[r]))]),e._v(" : "+e._s(t[e.filterBy].toFixed(2))+"% ")])]}))],2)],1)],1)],1)}),B=[],D={name:"CardConvertionRateInformation",props:{information:{type:Object,default:function(){return{}}},filterBy:{type:String,default:"count"}},data:function(){return{periods:["Promedio anual","Promedio trimestral","Promedio mensual"],pastPeriods:["Este período","Período pasado","Mismo período el mes anterior"]}}},M=D,x=i("b0af"),A=i("a523"),E=Object(R["a"])(M,_,B,!1,null,null,null),I=E.exports;y()(E,{VCard:x["a"],VCol:P["a"],VContainer:A["a"],VRow:S["a"]});var k=i("8d7e"),L={name:"CardConvertionRateData",mixins:[m["a"]],components:{CardConvertionRateInformation:I},props:{defaultFilter:{type:Object,default:function(){return{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{id:""}}}},isPreview:{type:Boolean,default:!1}},data:function(){return{generalConvertionRateCard:{},modalSettings:{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:[],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{id:""}},settings:{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:[],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{id:""}}}},computed:{isCompareUser:function(){var e,t,i,r,a,o;return(null===(e=this.generalConvertionRateCard)||void 0===e||null===(t=e.mainConvertionRate)||void 0===t?void 0:t.id)!==(null===(i=this.generalConvertionRateCard)||void 0===i||null===(r=i.secondConvertionRate)||void 0===r?void 0:r.id)&&""!==(null===(a=this.settings)||void 0===a||null===(o=a.ownerToCompare)||void 0===o?void 0:o.id)},comparePercentage:function(){return"0.00"===this.generalConvertionRateCompare?"0.00":(100*this.generalConvertionRateFormat/this.generalConvertionRateCompare-100).toFixed(2)},generalConvertionRateFormat:function(){var e,t,i,r,a;return this.generalConvertionRateCard&&void 0!==(null===(e=this.generalConvertionRateCard)||void 0===e||null===(t=e.mainConvertionRate)||void 0===t?void 0:t.count)&&void 0!==(null===(i=this.generalConvertionRateCard)||void 0===i||null===(r=i.mainConvertionRate)||void 0===r?void 0:r.sum)&&(null===(a=this.generalConvertionRateCard)||void 0===a?void 0:a.mainConvertionRate[this.settings.filterBy].toFixed(2))||"0.00"},generalConvertionRateCompare:function(){var e,t,i,r;if(this.generalConvertionRateCard&&void 0!==(null===(e=this.generalConvertionRateCard)||void 0===e||null===(t=e.secondConvertionRate)||void 0===t?void 0:t.count)&&void 0!==(null===(i=this.generalConvertionRateCard)||void 0===i||null===(r=i.secondConvertionRate)||void 0===r?void 0:r.sum)){var a,o=null===(a=this.generalConvertionRateCard)||void 0===a?void 0:a.secondConvertionRate[this.settings.filterBy];return o?o.toFixed(2):"0.00"}return"0.00"},textCompare:function(){return"PREVIOUS_PERIOD"===this.settings.periodRangeToCompare.period?this.settings.periodPredefined[3]:"PREVIOUS_YEAR"===this.settings.periodRangeToCompare.period?"Año anterior":"CUSTOM"===this.settings.periodRangeToCompare.period?"Personalizado":""},valueCompare:function(){if(!this.isPreview){var e,t;if(this.isCompareUser)return null===(e=this.generalConvertionRateCard)||void 0===e||null===(t=e.secondConvertionRate)||void 0===t?void 0:t.name;if("CUSTOM"===this.settings.periodRangeToCompare.period)return"".concat(this.formatDate(this.filters.dateRangeToCompare.dateStart)," - ").concat(this.formatDate(this.filters.dateRangeToCompare.dateEnd))}return""},textMain:function(){return this.isPreview?"":this.isCompareUser?"".concat(this.settings.periodPredefined[2]):this.settings.periodPredefined[2]},valueMain:function(){if(!this.isPreview){var e,t;if(this.isCompareUser)return null===(e=this.generalConvertionRateCard)||void 0===e||null===(t=e.mainConvertionRate)||void 0===t?void 0:t.name;if(this.settings.periodPredefined.length>0&&"CUSTOM"===this.settings.periodPredefined[0])return"".concat(this.formatDate(this.filters.dateRange.dateStart)," - ").concat(this.formatDate(this.filters.dateRange.dateEnd))}return""},filters:function(){var e={dateRange:{dateStart:this.dateStart,dateEnd:this.dateEnd},owners:this.ownersFilter,pipeline:this.pipelineFilter};return this.ownerToCompare&&""!==this.ownerToCompare.id&&(e.ownerToCompare=this.ownerToCompare),this.dateRangeToCompare&&""!==this.dateRangeToCompare.dateStart&&""!==this.dateRangeToCompare.dateEnd&&(e.dateRangeToCompare=this.dateRangeToCompare),e}},methods:{update:function(){this.$apollo.queries.generalConvertionRateCard.refetch()}},apollo:{generalConvertionRateCard:{query:k["p"],fetchPolicy:"no-cache",client:"charts",variables:function(){return{filters:this.filters}},skip:function(){return""===this.dateStart||""===this.dateEnd||!this.pipelineFilter.id||0===this.ownersFilter.length},loadingKey:"isLoading"}}},j=L,G=Object(R["a"])(j,O,w,!1,null,"1681a57c",null),H=G.exports,V={name:"CardConvertionRateModal",components:{TableDeals:l["a"],CardConvertionRateFilter:F,CardConvertionRateData:H},mixins:[m["c"]],props:{isOpen:{type:Boolean,default:!1},title:{type:String,default:"Sin título"},titleRegular:{type:String,default:""},filters:{type:Object,default:function(){return{filtersConfig:{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{id:""}},filtersTable:{users:[],pipelines:[],periodRange:{start:"",end:""},dealStatus:""}}}}}},N=V,U=Object(R["a"])(N,n,s,!1,null,"1ac7f7bc",null),W=U.exports,$={name:"CardConvertionRatePreview",components:{CardConvertionRateData:H,CardConvertionRateModal:W,CardConvertionRateFilter:F},mixins:[m["d"]],props:{defaultPeriod:{type:String,default:"THIS_MONTH"}},data:function(){return{chartId:"card-convertionRate",title:"Tasa",titleRegular:"de conversión general",isOpenModal:!1,filtersChartsDefault:{},initFilter:{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{id:""},dealStatus:"WON"}}},computed:{filtersConfig:function(){var e,t,i,r,a,o,n;return{filterBy:(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.filterBy)||this.initFilter.filterBy,users:this.usersGlobal||(null===(t=this.chart.filtersFull)||void 0===t?void 0:t.users)||this.initUsers,pipeline:(null===(i=this.chart.filtersFull)||void 0===i?void 0:i.pipeline)||this.initPipeline,periodRange:this.periodRangeGlobal||(null===(r=this.chart.filtersFull)||void 0===r?void 0:r.periodRange)||this.periodRange,periodPredefined:this.periodPredefinedGlobal||(null===(a=this.chart.filtersFull)||void 0===a?void 0:a.periodPredefined)||[this.defaultPeriod]||this.initFilter.periodPredefined,periodRangeToCompare:(null===(o=this.chart.filtersFull)||void 0===o?void 0:o.periodRangeToCompare)||this.initFilter.periodRangeToCompare,ownerToCompare:(null===(n=this.chart.filtersFull)||void 0===n?void 0:n.ownerToCompare)||this.initFilter.ownerToCompare}},filtersTable:function(){var e,t=this.getPeriod(this.initFilter.periodPredefined[0]).get(),i=Object(o["a"])(t,2),r=i[0],a=i[1];return{users:this.usersGlobal||this.users||this.initUsers,pipelines:this.pipelines||this.filtersChartsDefault.pipelines,periodRange:this.periodRangeGlobal||(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.periodRange)||{start:r,end:a},dealStatus:this.initFilter.dealStatus}}}},z=$,q=(i("4696"),Object(R["a"])(z,r,a,!1,null,"6e257e9b",null));t["a"]=q.exports},fcc0:function(e,t,i){"use strict";i("e842")},feb4:function(e,t,i){"use strict";i("4e48")},ff2e:function(e,t,i){"use strict";i.r(t);var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-row",[i("v-col",{attrs:{cols:"4"}},[i("CardConvertionRatePreview",{attrs:{defaultPeriod:e.defaultPeriod,filtersGlobal:e.filtersChartsGlobal}})],1),i("v-col",{attrs:{cols:"4"}},[i("CardOpportunitySalePreview",{attrs:{defaultPeriod:e.defaultPeriod,filtersGlobal:e.filtersChartsGlobal}})],1),i("v-col",{attrs:{cols:"4"}},[i("CardClosedDealsPreview",{attrs:{defaultPeriod:e.defaultPeriod,filtersGlobal:e.filtersChartsGlobal}})],1),i("v-col",{attrs:{cols:"4"}},[i("CardClosedDealsBySalesmanPreview",{attrs:{defaultPeriod:e.defaultPeriod,filtersGlobal:e.filtersChartsGlobal}})],1),i("v-col",{attrs:{cols:"4"}},[i("CardAverageDaysInPipelinePreview",{attrs:{defaultPeriod:e.defaultPeriod,filtersGlobal:e.filtersChartsGlobal}})],1),i("v-col",{attrs:{cols:"4"}},[i("CardWonDealsEarningValuePreview",{attrs:{defaultPeriod:e.defaultPeriod,filtersGlobal:e.filtersChartsGlobal}})],1),i("v-col",{attrs:{cols:"4"}},[i("CardTotalIncomeGoalPreview",{attrs:{defaultPeriod:e.defaultPeriod,filtersGlobal:e.filtersChartsGlobal}})],1),i("v-col",{attrs:{cols:"4"}},[i("CardSentEmailsPreview",{attrs:{defaultPeriod:e.defaultPeriod,filtersGlobal:e.filtersChartsGlobal}})],1),i("v-col",{attrs:{cols:"4"}},[i("CardLostDealsPreview",{attrs:{defaultPeriod:e.defaultPeriod,filtersGlobal:e.filtersChartsGlobal}})],1),i("v-col",{attrs:{cols:"4"}},[i("CardConvertionRatioPreview",{attrs:{defaultPeriod:e.defaultPeriod,filtersGlobal:e.filtersChartsGlobal}})],1),i("v-col",{attrs:{cols:"4"}},[i("LineThroughTimeConvertionRatePreview",{attrs:{defaultPeriod:e.defaultPeriod,filtersGlobal:e.filtersChartsGlobal}})],1),i("v-col",{attrs:{cols:"4"}},[i("LineOpportunitySalesPreview",{attrs:{defaultPeriod:e.defaultPeriod,filtersGlobal:e.filtersChartsGlobal}})],1),i("v-col",{attrs:{cols:"4"}},[i("LineTotalIncomeGoalPreview",{attrs:{defaultPeriod:e.defaultPeriod,filtersGlobal:e.filtersChartsGlobal}})],1),i("v-col",{attrs:{cols:"4"}},[i("BarStageConvertionRatePreview",{attrs:{defaultPeriod:e.defaultPeriod,filtersGlobal:e.filtersChartsGlobal}})],1),i("v-col",{attrs:{cols:"4"}},[i("BarWonDealsEarningValuePreview",{attrs:{defaultPeriod:e.defaultPeriod,filtersGlobal:e.filtersChartsGlobal}})],1),i("v-col",{attrs:{cols:"4"}},[i("BarOpportunitySalesPreview",{attrs:{defaultPeriod:e.defaultPeriod,filtersGlobal:e.filtersChartsGlobal}})],1),i("v-col",{attrs:{cols:"4"}},[i("LineSalesGrowthMonthlyPreview",{attrs:{defaultPeriod:e.defaultPeriod,filtersGlobal:e.filtersChartsGlobal}})],1),i("v-col",{attrs:{cols:"4"}},[i("BarActivityTypeByStagePreview",{attrs:{defaultPeriod:e.defaultPeriod,filtersGlobal:e.filtersChartsGlobal}})],1),i("v-col",{attrs:{cols:"4"}},[i("BarDealDurationByStagePreview",{attrs:{defaultPeriod:e.defaultPeriod,filtersGlobal:e.filtersChartsGlobal}})],1),i("v-col",{attrs:{cols:"4"}},[i("BarActivitiesBySalesmanPreview",{attrs:{defaultPeriod:e.defaultPeriod,filtersGlobal:e.filtersChartsGlobal}})],1),i("v-col",{attrs:{cols:"4"}},[i("LineSentEmailsByWeekPreview",{attrs:{defaultPeriod:"THIS_WEEK",filtersGlobal:e.filtersChartsGlobal}})],1),i("v-col",{attrs:{cols:"4"}},[i("BarActivitiesByWeekPreview",{attrs:{defaultPeriod:"THIS_WEEK",filtersGlobal:e.filtersChartsGlobal}})],1),i("v-col",{attrs:{cols:"4"}},[i("DonutLostReasonPreview",{attrs:{defaultPeriod:e.defaultPeriod,filtersGlobal:e.filtersChartsGlobal}})],1),i("v-col",{attrs:{cols:"4"}},[i("TableActivityTypeByStagePreview",{attrs:{defaultPeriod:e.defaultPeriod,filtersGlobal:e.filtersChartsGlobal}})],1),i("v-col",{attrs:{cols:"4"}},[i("TableLostOpportunitiesByStagePreview",{attrs:{defaultPeriod:e.defaultPeriod,filtersGlobal:e.filtersChartsGlobal}})],1),i("v-col",{attrs:{cols:"4"}},[i("TableRebookedActivitiesPreview",{attrs:{defaultPeriod:e.defaultPeriod,filtersGlobal:e.filtersChartsGlobal}})],1),i("v-col",{attrs:{cols:"4"}},[i("CardBookedActivitiesInDayPreview",{attrs:{defaultPeriod:e.defaultPeriod,filtersGlobal:e.filtersChartsGlobal}})],1),i("v-col",{attrs:{cols:"4"}},[i("CardCompletedActivitiesPreview",{attrs:{defaultPeriod:e.defaultPeriod,filtersGlobal:e.filtersChartsGlobal}})],1),i("v-col",{attrs:{cols:"4"}},[i("CardEffectiveActivitiesPreview",{attrs:{defaultPeriod:e.defaultPeriod,filtersGlobal:e.filtersChartsGlobal}})],1),i("v-col",{attrs:{cols:"4"}},[i("CardRebookedActivitiesPreview",{attrs:{defaultPeriod:e.defaultPeriod,filtersGlobal:e.filtersChartsGlobal}})],1),i("v-col",{attrs:{cols:"4"}},[i("CardExpiredActivitiesPreview",{attrs:{defaultPeriod:e.defaultPeriod,filtersGlobal:e.filtersChartsGlobal}})],1),i("v-col",{attrs:{cols:"4"}},[i("CardIneffectiveActivitiesPreview",{attrs:{defaultPeriod:e.defaultPeriod,filtersGlobal:e.filtersChartsGlobal}})],1),i("v-col",{attrs:{cols:"4"}},[i("CardOpenEmailsPreview",{attrs:{defaultPeriod:e.defaultPeriod,filtersGlobal:e.filtersChartsGlobal}})],1),i("v-col",{attrs:{cols:"4"}},[i("CardOpenRateEmailsPreview",{attrs:{defaultPeriod:e.defaultPeriod,filtersGlobal:e.filtersChartsGlobal}})],1),i("v-col",{attrs:{cols:"4"}},[i("CardTotalOpenDealsPreview",{attrs:{defaultPeriod:e.defaultPeriod,filtersGlobal:e.filtersChartsGlobal}})],1),i("v-col",{attrs:{cols:"4"}},[i("CardNewDealsPreview",{attrs:{defaultPeriod:e.defaultPeriod,filtersGlobal:e.filtersChartsGlobal}})],1),i("v-col",{attrs:{cols:"4"}},[i("CardAdvancedDealsPreview",{attrs:{defaultPeriod:e.defaultPeriod,filtersGlobal:e.filtersChartsGlobal}})],1),i("v-col",{attrs:{cols:"4"}},[i("CardRottenDealsPreview",{attrs:{defaultPeriod:e.defaultPeriod,filtersGlobal:e.filtersChartsGlobal}})],1),i("v-col",{attrs:{cols:"4"}},[i("BarUncompletedActivitiesByStagePreview",{attrs:{defaultPeriod:e.defaultPeriod,filtersGlobal:e.filtersChartsGlobal}})],1),i("v-col",{attrs:{cols:"4"}},[i("BarExpiredActivitiesByStagePreview",{attrs:{defaultPeriod:e.defaultPeriod,filtersGlobal:e.filtersChartsGlobal}})],1),i("v-col",{attrs:{cols:"4"}},[i("BarSalesCycleByStagePreview",{attrs:{defaultPeriod:e.defaultPeriod,filtersGlobal:e.filtersChartsGlobal}})],1),i("v-col",{attrs:{cols:"4"}},[i("LineOpportunitySalesByWeekPreview",{attrs:{defaultPeriod:e.defaultPeriod,filtersGlobal:e.filtersChartsGlobal}})],1),i("v-col",{attrs:{cols:"4"}},[i("LineSalesCycleByMonthPreview",{attrs:{defaultPeriod:e.defaultPeriod,filtersGlobal:e.filtersChartsGlobal}})],1),i("v-col",{attrs:{cols:"4"}},[i("LineThroughTimeLostRatePreview",{attrs:{defaultPeriod:e.defaultPeriod,filtersGlobal:e.filtersChartsGlobal}})],1),i("v-col",{attrs:{cols:"4"}},[i("BarLostDealsByStagePreview",{attrs:{defaultPeriod:e.defaultPeriod,filtersGlobal:e.filtersChartsGlobal}})],1)],1)},a=[],o=i("0b15"),n=i("fca8"),s=i("5cf0"),l=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseCardChart",{attrs:{title:e.title,titleRegular:e.titleRegular,settings:e.filtersConfig},on:{updateRefetch:function(t){e.isRefetch=!0}},scopedSlots:e._u([{key:"modal",fn:function(){return[i("CardClosedDealsFilter",{attrs:{defaultFilter:e.filtersConfig,isIcon:"",isPreview:""}})]},proxy:!0}])},[i("div",{staticClass:"hoverClick",on:{click:e.openModal}},[i("CardClosedDealsData",{attrs:{defaultFilter:e.filtersConfig,isPreview:"",isRefetch:e.isRefetch},on:{updateRefetch:function(t){e.isRefetch=!1}}})],1),i("CardClosedDealsModal",{attrs:{isOpen:e.isOpenModal,filters:{filtersConfig:e.filtersConfig,filtersTable:e.filtersTable},title:e.title,titleRegular:e.titleRegular},on:{close:e.closeModal}})],1)},d=[],p=i("3835"),c=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.isPreview?e._e():i("ListFilters",{attrs:{settings:e.settings}}),i("BaseCardNumber",{attrs:{information:{numberMain:""+e.generalConvertionRateFormat,textMain:e.textMain,valueMain:e.valueMain,textMainType:e.textChart,isCompare:!e.isPreview&&(e.settings.periodRangeToCompare.period.length>0||e.isCompareUser),numberCompare:""+e.generalConvertionRateCompare,textCompare:e.textCompare,valueCompare:e.valueCompare,numberDifferenceCompare:e.comparePercentage}}}),e.isPreview?e._e():i("CardClosedDealsInformation",{attrs:{information:e.closedDealsCard.informationBar,filterBy:e.settings.filterBy}})],1)},u=[],f=(i("b680"),i("b0c0"),i("99af"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-card",{staticClass:"mt-5",attrs:{flat:""}},[i("v-container",[i("v-row",{staticClass:"justify-center"},[i("v-col",{attrs:{cols:"3"}},[e._l(e.information.userClosedDeals,(function(t,r){return[i("span",{key:r,staticClass:"d-block"},[i("b",[e._v(e._s(t.name))]),e._v(" : "+e._s("sum"===e.filterBy?"$"+t[e.filterBy].toFixed(2):t[e.filterBy])+" ")])]}))],2),i("v-col",{attrs:{cols:"9"}},[i("v-row",[i("v-col",e._l(e.getInfo.firstColumn,(function(t,r){return i("span",{key:r,staticClass:"d-block"},[i("b",[e._v(e._s(e.columnOne[r]))]),e._v(" : "+e._s(t)+" ")])})),0),i("v-col",e._l(e.getInfo.secondColumn,(function(t,r){return i("span",{key:r,staticClass:"d-block"},[i("b",[e._v(e._s(e.columnTwo[r]))]),e._v(" : $"+e._s(t)+" ")])})),0),i("v-col",e._l(e.getInfo.thirdColumn,(function(t,r){return i("span",{key:r,staticClass:"d-block"},[i("b",[e._v(e._s(e.columnThree[r]))]),e._v(" : $"+e._s(t)+" ")])})),0)],1)],1)],1)],1)],1)}),h=[],v=(i("d81d"),{name:"CardClosedDealsInformation",props:{information:{type:Object,default:function(){return{userClosedDeals:[],periodsClosedDeals:[]}}},filterBy:{type:String,default:"count"}},data:function(){return{columnOne:["Este período","Período pasado","Mismo período el mes anterior"],columnTwo:["Ingresos este período","Ingresos período pasado","Ingresos mismo período el mes anterior"],columnThree:["Ingresos totales este período","Ingresos totales período pasado","Ingresos totales mismo período el mes anterior"]}},computed:{getInfo:function(){var e=this.information.periodsClosedDeals.map((function(e){return e.count})),t=this.information.periodsClosedDeals.map((function(e){return e.sum})),i=this.information.periodsClosedDeals.map((function(e){return e.totalSum}));return{firstColumn:e,secondColumn:t,thirdColumn:i}}}}),m=v,g=i("0c7c"),C=i("6544"),R=i.n(C),T=i("b0af"),y=i("62ad"),P=i("a523"),S=i("0fd9"),b=Object(g["a"])(m,f,h,!1,null,null,null),F=b.exports;R()(b,{VCard:T["a"],VCol:y["a"],VContainer:P["a"],VRow:S["a"]});var O=i("8d7e"),w=i("0db6"),_={name:"CardClosedDealsData",mixins:[w["a"]],components:{CardClosedDealsInformation:F},props:{defaultFilter:{type:Object,default:function(){return{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{id:""}}}},isPreview:{type:Boolean,default:!1}},data:function(){return{isOpenModal:!1,closedDealsCard:{},modalSettings:{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:[],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{id:""}},settings:{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:[],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{id:""}}}},computed:{isCompareUser:function(){var e,t,i,r,a,o;return(null===(e=this.closedDealsCard)||void 0===e||null===(t=e.mainClosedDeals)||void 0===t?void 0:t.id)!==(null===(i=this.closedDealsCard)||void 0===i||null===(r=i.secondClosedDeals)||void 0===r?void 0:r.id)&&""!==(null===(a=this.settings)||void 0===a||null===(o=a.ownerToCompare)||void 0===o?void 0:o.id)},comparePercentage:function(){return"0"===this.generalConvertionRateCompare?"0.00":(100*this.generalConvertionRateFormat/this.generalConvertionRateCompare-100).toFixed(2)},generalConvertionRateFormat:function(){var e,t,i,r;if(this.closedDealsCard&&void 0!==(null===(e=this.closedDealsCard)||void 0===e||null===(t=e.mainClosedDeals)||void 0===t?void 0:t.count)&&void 0!==(null===(i=this.closedDealsCard)||void 0===i||null===(r=i.mainClosedDeals)||void 0===r?void 0:r.sum)){var a,o;if("count"===this.settings.filterBy)return(null===(a=this.closedDealsCard)||void 0===a?void 0:a.mainClosedDeals.count)||"0";if("sum"===this.settings.filterBy)return"$".concat(null===(o=this.closedDealsCard)||void 0===o?void 0:o.mainClosedDeals.sum)||!1}return"0"},generalConvertionRateCompare:function(){var e,t,i,r;if(this.closedDealsCard&&void 0!==(null===(e=this.closedDealsCard)||void 0===e||null===(t=e.secondClosedDeals)||void 0===t?void 0:t.count)&&void 0!==(null===(i=this.closedDealsCard)||void 0===i||null===(r=i.secondClosedDeals)||void 0===r?void 0:r.sum)){var a,o=null===(a=this.closedDealsCard)||void 0===a?void 0:a.secondClosedDeals[this.settings.filterBy];return o||"0"}return"0"},textCompare:function(){return"PREVIOUS_PERIOD"===this.settings.periodRangeToCompare.period?this.settings.periodPredefined[3]:"PREVIOUS_YEAR"===this.settings.periodRangeToCompare.period?"Año anterior":"CUSTOM"===this.settings.periodRangeToCompare.period?"Personalizado":""},valueCompare:function(){if(!this.isPreview){var e,t;if(this.isCompareUser)return null===(e=this.closedDealsCard)||void 0===e||null===(t=e.secondClosedDeals)||void 0===t?void 0:t.name;if("CUSTOM"===this.settings.periodRangeToCompare.period)return"".concat(this.formatDate(this.filters.dateRangeToCompare.dateStart)," - ").concat(this.formatDate(this.filters.dateRangeToCompare.dateEnd))}return""},textMain:function(){return this.isPreview?"":(this.isCompareUser,this.settings.periodPredefined[2])},valueMain:function(){if(!this.isPreview){var e,t;if(this.isCompareUser)return null===(e=this.closedDealsCard)||void 0===e||null===(t=e.mainClosedDeals)||void 0===t?void 0:t.name;if(this.settings.periodPredefined.length>0&&"CUSTOM"===this.settings.periodPredefined[0])return"".concat(this.formatDate(this.filters.dateRange.dateStart)," - ").concat(this.formatDate(this.filters.dateRange.dateEnd))}return""},filters:function(){var e={dateRange:{dateStart:this.dateStart,dateEnd:this.dateEnd},owners:this.ownersFilter,pipeline:this.pipelineFilter};return this.ownerToCompare&&""!==this.ownerToCompare.id&&(e.ownerToCompare=this.ownerToCompare),this.dateRangeToCompare&&""!==this.dateRangeToCompare.dateStart&&""!==this.dateRangeToCompare.dateEnd&&(e.dateRangeToCompare=this.dateRangeToCompare),e}},methods:{update:function(){this.$apollo.queries.closedDealsCard.refetch()}},apollo:{closedDealsCard:{query:O["g"],fetchPolicy:"no-cache",client:"charts",variables:function(){return{filters:this.filters}},skip:function(){return""===this.dateStart||""===this.dateEnd||!this.pipelineFilter.id||0===this.ownersFilter.length},loadingKey:"isLoading"}}},B=_,D=Object(g["a"])(B,c,u,!1,null,"52fc043f",null),M=D.exports,x=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalChart",{attrs:{title:e.title,titleRegular:e.titleRegular,isOpen:e.isOpen},on:{close:e.closeModal},scopedSlots:e._u([{key:"filters",fn:function(){return[i("CardClosedDealsFilter",{attrs:{defaultFilter:e.filters.filtersConfig}})]},proxy:!0},{key:"chart",fn:function(){return[i("CardClosedDealsData",{attrs:{defaultFilter:e.filters.filtersConfig}})]},proxy:!0},{key:"table",fn:function(){return[i("TableDeals",{attrs:{defaultFilter:e.filters.filtersTable}})]},proxy:!0}])})},A=[],E=i("8b70"),I=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalFilters",{attrs:{isOpen:e.isOpenModalFilter,isIcon:e.isIcon},on:{save:e.saveFilter,statusModal:e.statusModal}},[i("v-row",[i("v-col",{attrs:{cols:"12"}},[i("Select",{attrs:{name:"Filtrar por",defaultSelect:e.defaultFilter.filterBy,list:e.listFilterBy},on:{change:e.changeFilterBy}})],1),i("v-col",{attrs:{cols:"12"}},[i("SelectUsers",{attrs:{all:"",defaultSelect:e.defaultFilter.users},on:{change:e.changeUsers}})],1),i("v-col",{attrs:{cols:"12"}},[i("SelectPipeline",{attrs:{defaultSelect:e.defaultFilter.pipeline},on:{change:e.changePipeline}})],1),i("v-col",{attrs:{cols:"12"}},[i("PeriodPredefined",{attrs:{defaultSelect:e.defaultFilter.periodPredefined},on:{change:e.changePeriodPredefined}})],1),e.isPreview?e._e():i("v-col",{attrs:{cols:"12"}},[i("ComparePeriod",{attrs:{periodPredefined:e.filters.periodPredefined[0]},on:{change:e.changeComparePeriod}})],1)],1)],1)},k=[],L=i("5530"),j=i("740f"),G=i("d344"),H=i("6321"),V=i("c065"),N={name:"CardClosedDealsFilter",components:{SelectUsers:j["a"],SelectPipeline:H["a"],Select:G["a"]},mixins:[w["b"]],props:{defaultFilter:{type:Object,default:function(){return{filterBy:"count",filterTime:"WEEKS",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{id:""}}}},isIcon:{type:Boolean,default:!1},isPreview:{type:Boolean,default:!1}},data:function(){return{listTime:V["d"],listFilterBy:V["e"],filters:{filterBy:"count",filterTime:"WEEKS",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{id:""}}}},methods:{changeComparePeriod:function(e){var t=e.isCompare,i=e.periodCompare,r=e.ownerCompare;if(t){if(r&&r.id&&(this.filters.ownerToCompare.id=r.id,this.filters.periodRangeToCompare.period="",this.filters.periodRangeToCompare.start="",this.filters.periodRangeToCompare.end=""),i){if(this.filters.periodRangeToCompare.period=i.periodSelected,i.periodRange.length>0){var a=Object(p["a"])(i.periodRange,2);this.filters.periodRangeToCompare.start=a[0],this.filters.periodRangeToCompare.end=a[1]}this.filters.ownerToCompare.id=""}}else this.filters.periodRangeToCompare.period="",this.filters.periodRangeToCompare.start="",this.filters.periodRangeToCompare.end="",this.filters.ownerToCompare.id=""},saveFilter:function(){this.changeChart({id:"card-closedDeals",filtersFull:Object(L["a"])(Object(L["a"])({},this.noReactive(this.filters)),{},{periodRange:Object(L["a"])({__typename:"PeriodRange"},this.filters.periodRange),ownerToCompare:Object(L["a"])({__typename:"OwnerToCompare"},this.filters.ownerToCompare)})}),this.isOpenModalFilter=!1}}},U=N,W=Object(g["a"])(U,I,k,!1,null,"3b89ca26",null),$=W.exports;R()(W,{VCol:y["a"],VRow:S["a"]});var z={name:"CardClosedDealsModal",components:{CardClosedDealsData:M,TableDeals:E["a"],CardClosedDealsFilter:$},mixins:[w["c"]],props:{isOpen:{type:Boolean,default:!1},title:{type:String,default:"Sin título"},titleRegular:{type:String,default:""},filters:{type:Object,default:function(){return{filtersConfig:{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{id:""}},filtersTable:{users:[],pipelines:[],periodRange:{start:"",end:""},dealStatus:""}}}}}},q=z,Y=Object(g["a"])(q,x,A,!1,null,"7fae7186",null),K=Y.exports,X={name:"CardClosedDealsPreview",components:{CardClosedDealsData:M,CardClosedDealsFilter:$,CardClosedDealsModal:K},mixins:[w["d"]],props:{defaultPeriod:{type:String,default:"THIS_MONTH"}},data:function(){return{chartId:"card-closedDeals",title:"Tratos",titleRegular:"cerrados",isOpenModal:!1,filtersChartsDefault:{},initFilter:{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{id:""},dealStatus:"WON"}}},computed:{filtersConfig:function(){var e,t,i,r,a,o,n;return{filterBy:(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.filterBy)||this.initFilter.filterBy,users:this.usersGlobal||(null===(t=this.chart.filtersFull)||void 0===t?void 0:t.users)||this.initUsers,pipeline:(null===(i=this.chart.filtersFull)||void 0===i?void 0:i.pipeline)||this.initPipeline,periodRange:this.periodRangeGlobal||(null===(r=this.chart.filtersFull)||void 0===r?void 0:r.periodRange)||this.periodRange,periodPredefined:this.periodPredefinedGlobal||(null===(a=this.chart.filtersFull)||void 0===a?void 0:a.periodPredefined)||[this.defaultPeriod]||this.initFilter.periodPredefined,periodRangeToCompare:(null===(o=this.chart.filtersFull)||void 0===o?void 0:o.periodRangeToCompare)||this.initFilter.periodRangeToCompare,ownerToCompare:(null===(n=this.chart.filtersFull)||void 0===n?void 0:n.ownerToCompare)||this.initFilter.ownerToCompare}},filtersTable:function(){var e,t=this.getPeriod(this.initFilter.periodPredefined[0]).get(),i=Object(p["a"])(t,2),r=i[0],a=i[1];return{users:this.usersGlobal||this.users||this.initUsers,pipelines:this.pipelines||this.filtersChartsDefault.pipelines,periodRange:this.periodRangeGlobal||(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.periodRange)||{start:r,end:a},dealStatus:this.initFilter.dealStatus}}}},J=X,Q=(i("591a"),Object(g["a"])(J,l,d,!1,null,"41f561e2",null)),Z=Q.exports,ee=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseCardChart",{attrs:{title:e.title,titleRegular:e.titleRegular,settings:e.filtersConfig},on:{updateRefetch:function(t){e.isRefetch=!0}},scopedSlots:e._u([{key:"modal",fn:function(){return[i("CardClosedDealsBySalesmanFilter",{attrs:{defaultFilter:e.filtersConfig,isIcon:"",isPreview:""}})]},proxy:!0}])},[i("div",{staticClass:"hoverClick",on:{click:e.openModal}},[i("CardClosedDealsBySalesmanData",{attrs:{defaultFilter:e.filtersConfig,isPreview:"",isRefetch:e.isRefetch},on:{updateRefetch:function(t){e.isRefetch=!1}}})],1),i("CardClosedDealsBySalesmanModal",{attrs:{isOpen:e.isOpenModal,filters:{filtersConfig:e.filtersConfig,filtersTable:e.filtersTable},title:e.title,titleRegular:e.titleRegular},on:{close:e.closeModal}})],1)},te=[],ie=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalChart",{attrs:{title:e.title,titleRegular:e.titleRegular,isOpen:e.isOpen},on:{close:e.closeModal},scopedSlots:e._u([{key:"filters",fn:function(){return[i("CardClosedDealsBySalesmanFilter",{attrs:{defaultFilter:e.filters.filtersConfig}})]},proxy:!0},{key:"chart",fn:function(){return[i("CardClosedDealsBySalesmanData",{attrs:{defaultFilter:e.filters.filtersConfig}})]},proxy:!0},{key:"table",fn:function(){return[i("TableDeals",{attrs:{defaultFilter:e.filters.filtersTable}})]},proxy:!0}])})},re=[],ae=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.isPreview?e._e():i("ListFilters",{attrs:{settings:e.settings}}),i("BaseCardNumber",{attrs:{information:{numberMain:""+e.generalConvertionRateFormat,textMain:e.textMain,valueMain:e.valueMain,textMainType:e.textChart,isCompare:!e.isPreview&&(e.settings.periodRangeToCompare.period.length>0||e.isCompareUser),numberCompare:""+e.generalConvertionRateCompare,textCompare:e.textCompare,valueCompare:e.valueCompare,numberDifferenceCompare:e.comparePercentage}}}),e.isPreview?e._e():i("CardClosedDealsBySalesmanInformation",{attrs:{information:e.closedDealsBySalesmanCard.informationBar,filterBy:e.settings.filterBy}})],1)},oe=[],ne=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-card",{staticClass:"mt-5",attrs:{flat:""}},[i("v-container",[i("v-row",{staticClass:"justify-center"},[i("v-col",{attrs:{cols:"3"}},[e._l(e.information.userClosedDeals,(function(t,r){return[i("span",{key:r,staticClass:"d-block"},[i("b",[e._v(e._s(t.name))]),e._v(" : "+e._s("sum"===e.filterBy?"$"+t[e.filterBy].toFixed(2):t[e.filterBy])+" ")])]}))],2),i("v-col",{attrs:{cols:"9"}},[i("v-row",[i("v-col",e._l(e.getInfo.firstColumn,(function(t,r){return i("span",{key:r,staticClass:"d-block"},[i("b",[e._v(e._s(e.columnOne[r]))]),e._v(" : "+e._s(t)+" ")])})),0),i("v-col",e._l(e.getInfo.secondColumn,(function(t,r){return i("span",{key:r,staticClass:"d-block"},[i("b",[e._v(e._s(e.columnTwo[r]))]),e._v(" : $"+e._s(t)+" ")])})),0),i("v-col",e._l(e.getInfo.thirdColumn,(function(t,r){return i("span",{key:r,staticClass:"d-block"},[i("b",[e._v(e._s(e.columnThree[r]))]),e._v(" : $"+e._s(t)+" ")])})),0)],1)],1)],1)],1)],1)},se=[],le={name:"CardClosedDealsBySalesmanInformation",props:{information:{type:Object,default:function(){return{userClosedDeals:[],periodsClosedDeals:[]}}},filterBy:{type:String,default:"count"}},data:function(){return{columnOne:["Este período","Período pasado","Mismo período el mes anterior"],columnTwo:["Ingresos este período","Ingresos período pasado","Ingresos mismo período el mes anterior"],columnThree:["Ingresos totales este período","Ingresos totales período pasado","Ingresos totales mismo período el mes anterior"]}},computed:{getInfo:function(){var e=this.information.periodsClosedDeals.map((function(e){return e.count})),t=this.information.periodsClosedDeals.map((function(e){return e.sum})),i=this.information.periodsClosedDeals.map((function(e){return e.totalSum}));return{firstColumn:e,secondColumn:t,thirdColumn:i}}}},de=le,pe=Object(g["a"])(de,ne,se,!1,null,null,null),ce=pe.exports;R()(pe,{VCard:T["a"],VCol:y["a"],VContainer:P["a"],VRow:S["a"]});var ue={name:"CardClosedDealsBySalesmanData",mixins:[w["a"]],components:{CardClosedDealsBySalesmanInformation:ce},props:{defaultFilter:{type:Object,default:function(){return{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{id:""}}}},isPreview:{type:Boolean,default:!1}},data:function(){return{closedDealsBySalesmanCard:{},modalSettings:{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:[],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{id:""}},settings:{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:[],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{id:""}}}},computed:{isCompareUser:function(){var e,t,i,r,a,o;return(null===(e=this.closedDealsBySalesmanCard)||void 0===e||null===(t=e.mainClosedDeals)||void 0===t?void 0:t.id)!==(null===(i=this.closedDealsBySalesmanCard)||void 0===i||null===(r=i.secondClosedDeals)||void 0===r?void 0:r.id)&&""!==(null===(a=this.settings)||void 0===a||null===(o=a.ownerToCompare)||void 0===o?void 0:o.id)},comparePercentage:function(){return"0"===this.generalConvertionRateCompare?"0.00":(100*this.generalConvertionRateFormat/this.generalConvertionRateCompare-100).toFixed(2)},generalConvertionRateFormat:function(){var e,t,i,r;if(this.closedDealsBySalesmanCard&&void 0!==(null===(e=this.closedDealsBySalesmanCard)||void 0===e||null===(t=e.mainClosedDeals)||void 0===t?void 0:t.count)&&void 0!==(null===(i=this.closedDealsBySalesmanCard)||void 0===i||null===(r=i.mainClosedDeals)||void 0===r?void 0:r.sum)){var a,o;if("count"===this.settings.filterBy)return(null===(a=this.closedDealsBySalesmanCard)||void 0===a?void 0:a.mainClosedDeals.count)||"0";if("sum"===this.settings.filterBy)return"$".concat(null===(o=this.closedDealsBySalesmanCard)||void 0===o?void 0:o.mainClosedDeals.sum)||!1}return"0"},generalConvertionRateCompare:function(){var e,t,i,r;if(this.closedDealsBySalesmanCard&&void 0!==(null===(e=this.closedDealsBySalesmanCard)||void 0===e||null===(t=e.secondClosedDeals)||void 0===t?void 0:t.count)&&void 0!==(null===(i=this.closedDealsBySalesmanCard)||void 0===i||null===(r=i.secondClosedDeals)||void 0===r?void 0:r.sum)){var a,o=null===(a=this.closedDealsBySalesmanCard)||void 0===a?void 0:a.secondClosedDeals[this.settings.filterBy];return o||"0"}return"0"},textCompare:function(){return"PREVIOUS_PERIOD"===this.settings.periodRangeToCompare.period?this.settings.periodPredefined[3]:"PREVIOUS_YEAR"===this.settings.periodRangeToCompare.period?"Año anterior":"CUSTOM"===this.settings.periodRangeToCompare.period?"Personalizado":""},valueCompare:function(){if(!this.isPreview){var e,t;if(this.isCompareUser)return null===(e=this.closedDealsBySalesmanCard)||void 0===e||null===(t=e.secondClosedDeals)||void 0===t?void 0:t.name;if("CUSTOM"===this.settings.periodRangeToCompare.period)return"".concat(this.formatDate(this.filters.dateRangeToCompare.dateStart)," - ").concat(this.formatDate(this.filters.dateRangeToCompare.dateEnd))}return""},textMain:function(){return this.isPreview?"":(this.isCompareUser,this.settings.periodPredefined[2])},valueMain:function(){if(!this.isPreview){var e,t;if(this.isCompareUser)return null===(e=this.closedDealsBySalesmanCard)||void 0===e||null===(t=e.mainClosedDeals)||void 0===t?void 0:t.name;if(this.settings.periodPredefined.length>0&&"CUSTOM"===this.settings.periodPredefined[0])return"".concat(this.formatDate(this.filters.dateRange.dateStart)," - ").concat(this.formatDate(this.filters.dateRange.dateEnd))}return""},filters:function(){var e={dateRange:{dateStart:this.dateStart,dateEnd:this.dateEnd},owners:this.ownersFilter,pipeline:this.pipelineFilter};return this.ownerToCompare&&""!==this.ownerToCompare.id&&(e.ownerToCompare=this.ownerToCompare),this.dateRangeToCompare&&""!==this.dateRangeToCompare.dateStart&&""!==this.dateRangeToCompare.dateEnd&&(e.dateRangeToCompare=this.dateRangeToCompare),e}},methods:{update:function(){this.$apollo.queries.closedDealsBySalesmanCard.refetch()}},apollo:{closedDealsBySalesmanCard:{query:O["h"],fetchPolicy:"no-cache",client:"charts",variables:function(){return{filters:this.filters}},skip:function(){return""===this.dateStart||""===this.dateEnd||!this.pipelineFilter.id||0===this.ownersFilter.length},loadingKey:"isLoading"}}},fe=ue,he=Object(g["a"])(fe,ae,oe,!1,null,"6ecc11ae",null),ve=he.exports,me=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalFilters",{attrs:{isOpen:e.isOpenModalFilter,isIcon:e.isIcon},on:{save:e.saveFilter,statusModal:e.statusModal}},[i("v-row",[i("v-col",{attrs:{cols:"12"}},[i("Select",{attrs:{name:"Filtrar por",defaultSelect:e.defaultFilter.filterBy,list:e.listFilterBy},on:{change:e.changeFilterBy}})],1),i("v-col",{attrs:{cols:"12"}},[i("SelectUsers",{attrs:{all:"",defaultSelect:e.defaultFilter.users},on:{change:e.changeUsers}})],1),i("v-col",{attrs:{cols:"12"}},[i("SelectPipeline",{attrs:{defaultSelect:e.defaultFilter.pipeline},on:{change:e.changePipeline}})],1),i("v-col",{attrs:{cols:"12"}},[i("PeriodPredefined",{attrs:{defaultSelect:e.defaultFilter.periodPredefined},on:{change:e.changePeriodPredefined}})],1),e.isPreview?e._e():i("v-col",{attrs:{cols:"12"}},[i("ComparePeriod",{attrs:{periodPredefined:e.filters.periodPredefined[0]},on:{change:e.changeComparePeriod}})],1)],1)],1)},ge=[],Ce={name:"CardClosedDealsBySalesmanFilter",components:{SelectUsers:j["a"],SelectPipeline:H["a"],Select:G["a"]},mixins:[w["b"]],props:{defaultFilter:{type:Object,default:function(){return{filterBy:"count",filterTime:"WEEKS",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{id:""}}}},isIcon:{type:Boolean,default:!1},isPreview:{type:Boolean,default:!1}},data:function(){return{listTime:V["d"],listFilterBy:V["e"],filters:{filterBy:"count",filterTime:"WEEKS",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{id:""}}}},methods:{changeComparePeriod:function(e){var t=e.isCompare,i=e.periodCompare,r=e.ownerCompare;if(t){if(r&&r.id&&(this.filters.ownerToCompare.id=r.id,this.filters.periodRangeToCompare.period="",this.filters.periodRangeToCompare.start="",this.filters.periodRangeToCompare.end=""),i){if(this.filters.periodRangeToCompare.period=i.periodSelected,i.periodRange.length>0){var a=Object(p["a"])(i.periodRange,2);this.filters.periodRangeToCompare.start=a[0],this.filters.periodRangeToCompare.end=a[1]}this.filters.ownerToCompare.id=""}}else this.filters.periodRangeToCompare.period="",this.filters.periodRangeToCompare.start="",this.filters.periodRangeToCompare.end="",this.filters.ownerToCompare.id=""},saveFilter:function(){this.changeChart({id:"card-closedDealsBySalesman",filtersFull:Object(L["a"])(Object(L["a"])({},this.noReactive(this.filters)),{},{periodRange:Object(L["a"])({__typename:"PeriodRange"},this.filters.periodRange),ownerToCompare:Object(L["a"])({__typename:"OwnerToCompare"},this.filters.ownerToCompare)})}),this.isOpenModalFilter=!1}}},Re=Ce,Te=Object(g["a"])(Re,me,ge,!1,null,"13ee6401",null),ye=Te.exports;R()(Te,{VCol:y["a"],VRow:S["a"]});var Pe={name:"CardClosedDealsBySalesmanModal",components:{CardClosedDealsBySalesmanData:ve,TableDeals:E["a"],CardClosedDealsBySalesmanFilter:ye},mixins:[w["c"]],props:{isOpen:{type:Boolean,default:!1},title:{type:String,default:"Sin título"},titleRegular:{type:String,default:""},filters:{type:Object,default:function(){return{filtersConfig:{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{id:""}},filtersTable:{users:[],pipelines:[],periodRange:{start:"",end:""},dealStatus:""}}}}}},Se=Pe,be=Object(g["a"])(Se,ie,re,!1,null,"44989cf0",null),Fe=be.exports,Oe={name:"CardClosedDealsBySalesmanPreview",components:{CardClosedDealsBySalesmanData:ve,CardClosedDealsBySalesmanModal:Fe,CardClosedDealsBySalesmanFilter:ye},mixins:[w["d"]],props:{defaultPeriod:{type:String,default:"THIS_MONTH"}},data:function(){return{chartId:"card-closedDealsBySalesman",title:"Tratos",titleRegular:"cerrados por vendedor",isOpenModal:!1,filtersChartsDefault:{},initFilter:{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{id:""},dealStatus:"WON"}}},computed:{filtersConfig:function(){var e,t,i,r,a,o,n;return{filterBy:(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.filterBy)||this.initFilter.filterBy,users:this.usersGlobal||(null===(t=this.chart.filtersFull)||void 0===t?void 0:t.users)||this.initUsers,pipeline:(null===(i=this.chart.filtersFull)||void 0===i?void 0:i.pipeline)||this.initPipeline,periodRange:this.periodRangeGlobal||(null===(r=this.chart.filtersFull)||void 0===r?void 0:r.periodRange)||this.periodRange,periodPredefined:this.periodPredefinedGlobal||(null===(a=this.chart.filtersFull)||void 0===a?void 0:a.periodPredefined)||[this.defaultPeriod]||this.initFilter.periodPredefined,periodRangeToCompare:(null===(o=this.chart.filtersFull)||void 0===o?void 0:o.periodRangeToCompare)||this.initFilter.periodRangeToCompare,ownerToCompare:(null===(n=this.chart.filtersFull)||void 0===n?void 0:n.ownerToCompare)||this.initFilter.ownerToCompare}},filtersTable:function(){var e,t=this.getPeriod(this.initFilter.periodPredefined[0]).get(),i=Object(p["a"])(t,2),r=i[0],a=i[1];return{users:this.usersGlobal||this.users||this.initUsers,pipelines:this.pipelines||this.filtersChartsDefault.pipelines,periodRange:this.periodRangeGlobal||(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.periodRange)||{start:r,end:a},dealStatus:this.initFilter.dealStatus}}}},we=Oe,_e=(i("04ed"),Object(g["a"])(we,ee,te,!1,null,"64ae7033",null)),Be=_e.exports,De=i("a6a1"),Me=i("7561"),xe=i("3288"),Ae=i("f73a"),Ee=i("21e6"),Ie=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseCardChart",{attrs:{title:e.title,titleRegular:e.titleRegular,settings:e.filtersConfig},on:{updateRefetch:function(t){e.isRefetch=!0}},scopedSlots:e._u([{key:"modal",fn:function(){return[i("CardConvertionRatioFilter",{attrs:{defaultFilter:e.filtersConfig,isIcon:"",isPreview:""}})]},proxy:!0}])},[i("div",{staticClass:"hoverClick",on:{click:e.openModal}},[i("CardConvertionRatioData",{attrs:{defaultFilter:e.filtersConfig,isPreview:"",isRefetch:e.isRefetch},on:{updateRefetch:function(t){e.isRefetch=!1}}})],1),i("CardConvertionRatioModal",{attrs:{isOpen:e.isOpenModal,filters:{filtersConfig:e.filtersConfig,filtersTable:e.filtersTable},title:e.title,titleRegular:e.titleRegular},on:{close:e.closeModal}})],1)},ke=[],Le=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalChart",{attrs:{title:e.title,titleRegular:e.titleRegular,isOpen:e.isOpen},on:{close:e.closeModal},scopedSlots:e._u([{key:"filters",fn:function(){return[i("CardConvertionRatioFilter",{attrs:{defaultFilter:e.filters.filtersConfig}})]},proxy:!0},{key:"chart",fn:function(){return[i("CardConvertionRatioData",{attrs:{defaultFilter:e.filters.filtersConfig}})]},proxy:!0},{key:"table",fn:function(){return[i("TableDeals",{attrs:{defaultFilter:e.filters.filtersTable}})]},proxy:!0}])})},je=[],Ge=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.isPreview?e._e():i("ListFilters",{attrs:{settings:e.settings}}),i("BaseCardNumber",{attrs:{information:{numberMain:""+e.generalConvertionRateFormat,textMain:e.textMain,valueMain:e.valueMain,textMainType:e.textChart,isCompare:!e.isPreview&&(e.settings.periodRangeToCompare.period.length>0||e.isCompareUser),numberCompare:""+e.generalConvertionRateCompare,textCompare:e.textCompare,valueCompare:e.valueCompare,numberDifferenceCompare:e.comparePercentage}}}),e.isPreview?e._e():i("CardConvertionRatioInformation",{attrs:{information:e.convertionRatioCard.informationBar,filterBy:e.settings.filterBy}})],1)},He=[],Ve=(i("ac1f"),i("1276"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-card",{staticClass:"mt-5",attrs:{flat:""}},[i("v-container",[i("v-row",{staticClass:"justify-center"},[i("v-col",{attrs:{cols:"3"}},[e._l(e.information.userConverionRatios,(function(t,r){return[i("span",{key:r,staticClass:"d-block"},[i("b",[e._v(e._s(t.name))]),e._v(" : "+e._s(t[e.filterBy])+" ")])]}))],2),i("v-col",{attrs:{cols:"9"}},[i("v-row",[i("v-col",e._l(e.getInfo.firstColumn,(function(t,r){return i("span",{key:r,staticClass:"d-block"},[i("b",[e._v(e._s(e.columnOne[r]))]),e._v(" : "+e._s(t)+" ")])})),0),i("v-col",e._l(e.getInfo.secondColumn,(function(t,r){return i("span",{key:r,staticClass:"d-block"},[i("b",[e._v(e._s(e.columnTwo[r]))]),e._v(" : "+e._s(t)+" ")])})),0),i("v-col",e._l(e.getInfo.thirdColumn,(function(t,r){return i("span",{key:r,staticClass:"d-block"},[i("b",[e._v(e._s(e.columnThree[r]))]),e._v(" : "+e._s(t)+" ")])})),0)],1)],1)],1)],1)],1)}),Ne=[],Ue={name:"CardConvertionRatioInformation",props:{information:{type:Object,default:function(){return{userConverionRatios:[],periodsConvertionRatios:[]}}},filterBy:{type:String,default:"count"}},data:function(){return{columnOne:["Este período","Período pasado","Mismo período el mes anterior"],columnTwo:["Ingresos este período","Ingresos período pasado","Ingresos mismo período el mes anterior"],columnThree:["Ingresos totales este período","Ingresos totales período pasado","Ingresos totales mismo período el mes anterior"]}},computed:{getInfo:function(){var e=this.information.periodsConvertionRatios.map((function(e){return e.count})),t=this.information.periodsConvertionRatios.map((function(e){return e.sum})),i=this.information.periodsConvertionRatios.map((function(e){return e.totalRatio}));return{firstColumn:e,secondColumn:t,thirdColumn:i}}}},We=Ue,$e=Object(g["a"])(We,Ve,Ne,!1,null,null,null),ze=$e.exports;R()($e,{VCard:T["a"],VCol:y["a"],VContainer:P["a"],VRow:S["a"]});var qe={name:"CardConvertionRatioData",mixins:[w["a"]],components:{CardConvertionRatioInformation:ze},props:{defaultFilter:{type:Object,default:function(){return{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{id:""}}}},isPreview:{type:Boolean,default:!1}},data:function(){return{convertionRatioCard:{},modalSettings:{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:[],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{id:""}},settings:{filterBy:"count",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:[],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{id:""}}}},computed:{isCompareUser:function(){var e,t,i,r,a,o;return(null===(e=this.convertionRatioCard)||void 0===e||null===(t=e.mainConvetionRatio)||void 0===t?void 0:t.id)!==(null===(i=this.convertionRatioCard)||void 0===i||null===(r=i.secondConvetionRatio)||void 0===r?void 0:r.id)&&""!==(null===(a=this.settings)||void 0===a||null===(o=a.ownerToCompare)||void 0===o?void 0:o.id)},comparePercentage:function(){var e=this.generalConvertionRateCompare.split(":"),t=this.generalConvertionRateFormat.split(":");if("0"===e[0]&&"0"===e[1])return 0;var i="0"!==e[0]&&e[1]>0?e[0]/e[1]*100:0,r="0"!==t[0]&&t[1]>0?t[0]/t[1]*100:0;return(r-i).toFixed(2)},generalConvertionRateFormat:function(){var e,t,i,r;if(this.convertionRatioCard&&void 0!==(null===(e=this.convertionRatioCard)||void 0===e||null===(t=e.mainConvetionRatio)||void 0===t?void 0:t.count)&&void 0!==(null===(i=this.convertionRatioCard)||void 0===i||null===(r=i.mainConvetionRatio)||void 0===r?void 0:r.sum)){var a;if("count"===this.settings.filterBy)return(null===(a=this.convertionRatioCard)||void 0===a?void 0:a.mainConvetionRatio.count)||"0:0";if("sum"===this.settings.filterBy){var o,n=null===(o=this.convertionRatioCard)||void 0===o?void 0:o.mainConvetionRatio.sum.split(":");return"".concat(n[0],":").concat(n[1])||"0:0"}}return"0:0"},generalConvertionRateCompare:function(){var e,t,i,r;if(this.convertionRatioCard&&void 0!==(null===(e=this.convertionRatioCard)||void 0===e||null===(t=e.secondConvetionRatio)||void 0===t?void 0:t.count)&&void 0!==(null===(i=this.convertionRatioCard)||void 0===i||null===(r=i.secondConvetionRatio)||void 0===r?void 0:r.sum)){var a,o=null===(a=this.convertionRatioCard)||void 0===a?void 0:a.secondConvetionRatio[this.settings.filterBy];return o||"0"}return"0"},textCompare:function(){return"PREVIOUS_PERIOD"===this.settings.periodRangeToCompare.period?this.settings.periodPredefined[3]:"PREVIOUS_YEAR"===this.settings.periodRangeToCompare.period?"Año anterior":"CUSTOM"===this.settings.periodRangeToCompare.period?"Personalizado":""},valueCompare:function(){if(!this.isPreview){var e,t;if(this.isCompareUser)return null===(e=this.convertionRatioCard)||void 0===e||null===(t=e.secondConvetionRatio)||void 0===t?void 0:t.name;if("CUSTOM"===this.settings.periodRangeToCompare.period)return"".concat(this.formatDate(this.filters.dateRangeToCompare.dateStart)," - ").concat(this.formatDate(this.filters.dateRangeToCompare.dateEnd))}return""},textMain:function(){return this.isPreview?"":(this.isCompareUser,this.settings.periodPredefined[2])},valueMain:function(){if(!this.isPreview){var e,t;if(this.isCompareUser)return null===(e=this.convertionRatioCard)||void 0===e||null===(t=e.mainConvetionRatio)||void 0===t?void 0:t.name;if(this.settings.periodPredefined.length>0&&"CUSTOM"===this.settings.periodPredefined[0])return"".concat(this.formatDate(this.filters.dateRange.dateStart)," - ").concat(this.formatDate(this.filters.dateRange.dateEnd))}return""},filters:function(){var e={dateRange:{dateStart:this.dateStart,dateEnd:this.dateEnd},owners:this.ownersFilter,pipeline:this.pipelineFilter};return this.ownerToCompare&&""!==this.ownerToCompare.id&&(e.ownerToCompare=this.ownerToCompare),this.dateRangeToCompare&&""!==this.dateRangeToCompare.dateStart&&""!==this.dateRangeToCompare.dateEnd&&(e.dateRangeToCompare=this.dateRangeToCompare),e}},methods:{update:function(){this.$apollo.queries.convertionRatioCard.refetch()}},apollo:{convertionRatioCard:{query:O["k"],fetchPolicy:"no-cache",client:"charts",variables:function(){return{filters:this.filters}},skip:function(){return""===this.dateStart||""===this.dateEnd||!this.pipelineFilter.id||0===this.ownersFilter.length},loadingKey:"isLoading"}}},Ye=qe,Ke=Object(g["a"])(Ye,Ge,He,!1,null,"003a52b4",null),Xe=Ke.exports,Je=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalFilters",{attrs:{isOpen:e.isOpenModalFilter,isIcon:e.isIcon},on:{save:e.saveFilter,statusModal:e.statusModal}},[i("v-row",[i("v-col",{attrs:{cols:"12"}},[i("Select",{attrs:{name:"Filtrar por",defaultSelect:e.defaultFilter.filterBy,list:e.listFilterBy},on:{change:e.changeFilterBy}})],1),i("v-col",{attrs:{cols:"12"}},[i("SelectUsers",{attrs:{all:"",defaultSelect:e.defaultFilter.users},on:{change:e.changeUsers}})],1),i("v-col",{attrs:{cols:"12"}},[i("SelectPipeline",{attrs:{defaultSelect:e.defaultFilter.pipeline},on:{change:e.changePipeline}})],1),i("v-col",{attrs:{cols:"12"}},[i("PeriodPredefined",{attrs:{defaultSelect:e.defaultFilter.periodPredefined},on:{change:e.changePeriodPredefined}})],1),e.isPreview?e._e():i("v-col",{attrs:{cols:"12"}},[i("ComparePeriod",{attrs:{periodPredefined:e.filters.periodPredefined[0]},on:{change:e.changeComparePeriod}})],1)],1)],1)},Qe=[],Ze={name:"CardConvertionRatioFilter",components:{SelectUsers:j["a"],SelectPipeline:H["a"],Select:G["a"]},mixins:[w["b"]],props:{defaultFilter:{type:Object,default:function(){return{filterBy:"count",filterTime:"WEEKS",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{id:""}}}},isIcon:{type:Boolean,default:!1},isPreview:{type:Boolean,default:!1}},data:function(){return{listTime:V["d"],listFilterBy:V["e"],filters:{filterBy:"count",filterTime:"WEEKS",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{id:""}}}},methods:{changeComparePeriod:function(e){var t=e.isCompare,i=e.periodCompare,r=e.ownerCompare;if(t){if(r&&r.id&&(this.filters.ownerToCompare.id=r.id,this.filters.periodRangeToCompare.period="",this.filters.periodRangeToCompare.start="",this.filters.periodRangeToCompare.end=""),i){if(this.filters.periodRangeToCompare.period=i.periodSelected,i.periodRange.length>0){var a=Object(p["a"])(i.periodRange,2);this.filters.periodRangeToCompare.start=a[0],this.filters.periodRangeToCompare.end=a[1]}this.filters.ownerToCompare.id=""}}else this.filters.periodRangeToCompare.period="",this.filters.periodRangeToCompare.start="",this.filters.periodRangeToCompare.end="",this.filters.ownerToCompare.id=""},saveFilter:function(){this.changeChart({id:"card-convertionRatio",filtersFull:Object(L["a"])(Object(L["a"])({},this.noReactive(this.filters)),{},{periodRange:Object(L["a"])({__typename:"PeriodRange"},this.filters.periodRange),ownerToCompare:Object(L["a"])({__typename:"OwnerToCompare"},this.filters.ownerToCompare)})}),this.isOpenModalFilter=!1}}},et=Ze,tt=Object(g["a"])(et,Je,Qe,!1,null,"42276d6a",null),it=tt.exports;R()(tt,{VCol:y["a"],VRow:S["a"]});var rt={name:"CardConvertionRatioModal",components:{CardConvertionRatioData:Xe,TableDeals:E["a"],CardConvertionRatioFilter:it},mixins:[w["c"]],props:{isOpen:{type:Boolean,default:!1},title:{type:String,default:"Sin título"},titleRegular:{type:String,default:""},filters:{type:Object,default:function(){return{filtersConfig:{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{id:""}},filtersTable:{users:[],pipelines:[],periodRange:{start:"",end:""},dealStatus:""}}}}}},at=rt,ot=Object(g["a"])(at,Le,je,!1,null,"a9de0378",null),nt=ot.exports,st={name:"CardConvertionRatioPreview",components:{CardConvertionRatioData:Xe,CardConvertionRatioModal:nt,CardConvertionRatioFilter:it},mixins:[w["d"]],props:{defaultPeriod:{type:String,default:"THIS_MONTH"}},data:function(){return{chartId:"card-convertionRatio",filtersChartsDefault:{},title:"Ratio",titleRegular:"de conversión",isOpenModal:!1,initFilter:{filterBy:"count",users:[],pipeline:{},periodPredefined:["THIS_MONTH"],periodRange:{start:"",end:""},periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{id:""},dealStatus:"WON"}}},computed:{filtersConfig:function(){var e,t,i,r,a,o,n;return{filterBy:(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.filterBy)||this.initFilter.filterBy,users:this.usersGlobal||(null===(t=this.chart.filtersFull)||void 0===t?void 0:t.users)||this.initUsers,pipeline:(null===(i=this.chart.filtersFull)||void 0===i?void 0:i.pipeline)||this.initPipeline,periodRange:this.periodRangeGlobal||(null===(r=this.chart.filtersFull)||void 0===r?void 0:r.periodRange)||this.periodRange,periodPredefined:this.periodPredefinedGlobal||(null===(a=this.chart.filtersFull)||void 0===a?void 0:a.periodPredefined)||[this.defaultPeriod]||this.initFilter.periodPredefined,periodRangeToCompare:(null===(o=this.chart.filtersFull)||void 0===o?void 0:o.periodRangeToCompare)||this.initFilter.periodRangeToCompare,ownerToCompare:(null===(n=this.chart.filtersFull)||void 0===n?void 0:n.ownerToCompare)||this.initFilter.ownerToCompare}},filtersTable:function(){var e,t=this.getPeriod(this.initFilter.periodPredefined[0]).get(),i=Object(p["a"])(t,2),r=i[0],a=i[1];return{users:this.usersGlobal||this.users||this.initUsers,pipelines:this.pipelines||this.filtersChartsDefault.pipelines,periodRange:this.periodRangeGlobal||(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.periodRange)||{start:r,end:a},dealStatus:this.initFilter.dealStatus}}}},lt=st,dt=(i("5317"),Object(g["a"])(lt,Ie,ke,!1,null,"54aa0815",null)),pt=dt.exports,ct=i("cdc1"),ut=i("a635"),ft=i("ea8d"),ht=i("cbd3"),vt=i("f362"),mt=i("58a7"),gt=i("ac4d"),Ct=i("49b3"),Rt=i("7502"),Tt=i("c953"),yt=i("cad0"),Pt=i("6d40"),St=i("e939"),bt=i("56a9"),Ft=i("0486"),Ot=i("6854"),wt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseCardChart",{attrs:{title:e.title,titleRegular:e.titleRegular,settings:e.filtersConfig,isChart:""},on:{updateRefetch:function(t){e.isRefetch=!0}},scopedSlots:e._u([{key:"modal",fn:function(){return[i("LineSentEmailsByWeekFilter",{attrs:{defaultFilter:e.filtersConfig,isIcon:"",isPreview:""}})]},proxy:!0}])},[i("div",{staticClass:"hoverClick",on:{click:e.openModal}},[i("LineSentEmailsByWeekData",{attrs:{defaultFilter:e.filtersConfig,isPreview:"",isRefetch:e.isRefetch},on:{updateRefetch:function(t){e.isRefetch=!1}}})],1),i("LineSentEmailsByWeekModal",{attrs:{isOpen:e.isOpenModal,filters:{filtersConfig:e.filtersConfig,filtersTable:e.filtersTable},title:e.title,titleRegular:e.titleRegular},on:{close:e.closeModal}})],1)},_t=[],Bt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalFilters",{attrs:{isOpen:e.isOpenModalFilter,isIcon:e.isIcon},on:{save:e.saveFilter,statusModal:e.statusModal}},[i("v-row",[i("v-col",{attrs:{cols:"12"}},[i("SelectUsers",{attrs:{all:"",defaultSelect:e.defaultFilter.usesr},on:{change:e.changeUsers}})],1),i("v-col",{attrs:{cols:"12"}},[i("SelectPipeline",{attrs:{defaultSelect:e.defaultFilter.pipeline},on:{change:e.changePipeline}})],1),i("v-col",{attrs:{cols:"12"}},[i("PeriodPredefined",{attrs:{defaultSelect:e.defaultFilter.periodPredefined},on:{change:e.changePeriodPredefined}})],1),e.isPreview?e._e():i("v-col",{attrs:{cols:"12"}},[i("ComparePeriodLines",{attrs:{periodPredefined:e.filters.periodPredefined[0]},on:{change:e.changeComparePeriod}})],1)],1)],1)},Dt=[],Mt=i("e050"),xt={name:"LineSentEmailsByWeekFilter",components:{SelectUsers:j["a"],SelectPipeline:H["a"]},mixins:[Mt["b"]],props:{defaultFilter:{type:Object,default:function(){return{users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},typeCompare:"none"}}}},data:function(){return{listStatusActivities:V["b"],listStatusDeals:V["c"],filters:{users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},typeCompare:"none"}}},methods:{saveFilter:function(){this.changeChart({id:"bar-activitiesBySalesman",filtersFull:Object(L["a"])(Object(L["a"])({},this.noReactive(this.filters)),{},{periodRange:Object(L["a"])({__typename:"PeriodRange"},this.filters.periodRange)})}),this.isOpenModalFilter=!1}}},At=xt,Et=Object(g["a"])(At,Bt,Dt,!1,null,"01f084be",null),It=Et.exports;R()(Et,{VCol:y["a"],VRow:S["a"]});var kt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.isPreview?e._e():i("ListFilters",{attrs:{settings:e.settings}}),i("div",{staticClass:"text-center bgWhite",class:[{"py-5 px-3":!e.isPreview},{showScroll:e.isWithScroll}]},[i("apexchart",{attrs:{height:e.isPreview?250:350,type:"line",options:e.options,series:e.series}})],1)],1)},Lt=[],jt=i("2909"),Gt=i("b3b3"),Ht={name:"LineSentEmailsByWeekData",mixins:[Mt["a"]],props:{defaultFilter:{type:Object,default:function(){return{users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],typeCompare:"none"}}}},data:function(){return{listFilterBy:V["e"],sentEmailsByWeekLinearGraph:{mainDateList:[],secondDateList:[],mainSentEmailsByWeek:{},secondSentEmailsByWeek:{},mainAverageSentEmailsByWeek:[],secondAverageSentEmailsByWeek:[]},modalSettings:{users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],typeCompare:"none"},settings:{users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],typeCompare:"none"}}},computed:{options:function(){return this.formatOptions(this.sentEmailsByWeekLinearGraph.mainDateList)},series:function(){var e,t,i,r,a,o,n,s,l,d,p,c=(null===(e=this.sentEmailsByWeekLinearGraph)||void 0===e||null===(t=e.mainSentEmailsByWeek)||void 0===t||null===(i=t.sentEmailsByWeek)||void 0===i?void 0:i.map((function(e){var t=e.name,i=e.countList;return{name:t,data:i}})))||[],u=this.dateRangeToCompare&&(null===(r=this.sentEmailsByWeekLinearGraph)||void 0===r||null===(a=r.secondSentEmailsByWeek)||void 0===a||null===(o=a.sentEmailsByWeek)||void 0===o?void 0:o.length)>0?null===(n=this.sentEmailsByWeekLinearGraph)||void 0===n||null===(s=n.secondSentEmailsByWeek)||void 0===s||null===(l=s.sentEmailsByWeek)||void 0===l?void 0:l.map((function(e){var t=e.name,i=e.countList;return{name:"".concat(t," período anterior"),data:i}})):[],f=[{name:"Promedio",data:this.convertTwoDigits(this.sentEmailsByWeekLinearGraph.mainAverageSentEmailsByWeek.map((function(e){return e.avgCount})))}],h=(null===(d=this.sentEmailsByWeekLinearGraph)||void 0===d||null===(p=d.secondAverageSentEmailsByWeek)||void 0===p?void 0:p.length)>0?[{name:"Promedio anterior",data:this.convertTwoDigits(this.sentEmailsByWeekLinearGraph.secondAverageSentEmailsByWeek.map((function(e){return e.avgCount})))}]:[];return[].concat(f,Object(jt["a"])(c),h,Object(jt["a"])(u))},showTitleXaxis:function(){if(!this.isPreview)return"Total"},showTitleYaxis:function(){if(!this.isPreview)return"Etapas"},isWithScroll:function(){return this.isPreview},filters:function(){var e={dateRange:{dateStart:this.dateStart,dateEnd:this.dateEnd},owners:this.ownersFilter,pipeline:this.pipelineFilter};return this.dateRangeToCompare&&""!==this.dateRangeToCompare.dateStart&&""!==this.dateRangeToCompare.dateEnd&&(e.dateRangeToCompare=this.dateRangeToCompare),e}},methods:{formatOptions:function(e){return{chart:{height:this.isPreview?"250":"350",width:this.isWithScroll?"1200":"100%",type:"line",toolbar:{show:!1},zoom:{enabled:!1}},colors:Gt["b"],legend:{position:"top",horizontalAlign:this.isWithScroll?"left":"center",showForSingleSeries:!0},stroke:{width:[5,7,5],curve:"straight",dashArray:[0,8,5]},markers:{size:5,colors:void 0,strokeColors:"#fff",strokeWidth:2,strokeOpacity:.9,strokeDashArray:0,fillOpacity:1,discrete:[],shape:"circle",radius:2,offsetX:0,offsetY:0,onClick:void 0,onDblClick:void 0,showNullDataPoints:!0,hover:{size:void 0,sizeOffset:3}},grid:{row:{colors:["#f3f3f3","transparent"],opacity:.5}},xaxis:{tickPlacement:"on",type:"category",categories:e.map((function(e){return e.dateString}))||[],labels:{show:!0,style:{fontSize:"12px"}},axisTicks:{show:!0,borderType:"solid",color:"#78909C",height:6,offsetX:0,offsetY:0},crosshairs:{show:!0,width:1,position:"back",opacity:.9,stroke:{color:"#b6b6b6",width:0,dashArray:0},fill:{type:"solid",color:"#B1B9C4",gradient:{colorFrom:"#D8E3F0",colorTo:"#BED1E6",stops:[0,100],opacityFrom:.4,opacityTo:.5}},dropShadow:{enabled:!1,top:0,left:0,blur:1,opacity:.4}}},yaxis:{show:!0,align:"right",minWidth:0,maxWidth:160,style:{colors:[],fontSize:"12px",fontFamily:"Helvetica, Arial, sans-serif",fontWeight:400,cssClass:"apexcharts-yaxis-label"},offsetX:0,offsetY:0,rotate:0,tickAmount:1,labels:{formatter:function(e){return e.toFixed(0)}}}}},formatSeries:function(e,t){return e?e.map((function(e){return{name:t?"".concat(e.name," anterior"):e.name,data:e.countList?e.countList:[]}})):[]},update:function(){this.$apollo.queries.sentEmailsByWeekLinearGraph.refetch()}},apollo:{sentEmailsByWeekLinearGraph:{query:O["K"],fetchPolicy:"no-cache",client:"charts",variables:function(){return{filters:this.filters}},skip:function(){return""===this.dateStart||""===this.dateEnd||!this.pipelineFilter.id||0===this.ownersFilter.length},watchLoading:function(e){this.isLoading=e}}}},Vt=Ht,Nt=(i("f8e2"),Object(g["a"])(Vt,kt,Lt,!1,null,"7f25b908",null)),Ut=Nt.exports,Wt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalChart",{attrs:{title:e.title,titleRegular:e.titleRegular,isOpen:e.isOpen},on:{close:e.closeModal},scopedSlots:e._u([{key:"filters",fn:function(){return[i("LineSentEmailsByWeekFilter",{attrs:{defaultFilter:e.filters.filtersConfig}})]},proxy:!0},{key:"chart",fn:function(){return[i("LineSentEmailsByWeekData",{attrs:{defaultFilter:e.filters.filtersConfig,isFull:""}})]},proxy:!0},{key:"table",fn:function(){return[i("TableEmails",{attrs:{defaultFilter:e.filters.filtersTable}})]},proxy:!0}])})},$t=[],zt=i("6c94"),qt={name:"LineSentEmailsByWeekModal",components:{LineSentEmailsByWeekFilter:It,LineSentEmailsByWeekData:Ut,TableEmails:zt["a"]},mixins:[Mt["c"]],props:{isOpen:{type:Boolean,default:!1},title:{type:String,default:"Sin título"},titleRegular:{type:String,default:""},filters:{type:Object,default:function(){return{filtersConfig:{users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},typeCompare:"none"},filtersTable:{users:[],pipelines:[],periodRange:{start:"",end:""},dealStatus:""}}}}}},Yt=qt,Kt=Object(g["a"])(Yt,Wt,$t,!1,null,"8ead184c",null),Xt=Kt.exports,Jt={name:"LineSentEmailsByWeekPreview",components:{LineSentEmailsByWeekFilter:It,LineSentEmailsByWeekData:Ut,LineSentEmailsByWeekModal:Xt},mixins:[Mt["d"]],props:{defaultPeriod:{type:String,default:"THIS_MONTH"}},data:function(){return{chartId:"bar-activitiesBySalesman",title:"Correos",titleRegular:"enviados",filtersChartsDefault:{},initFilter:{users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},dealStatus:"ALL",typeCompare:"none"}}},computed:{filtersConfig:function(){var e,t,i,r,a,o;return{users:this.usersGlobal||(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.users)||this.filtersChartsDefault.users,pipeline:(null===(t=this.chart.filtersFull)||void 0===t?void 0:t.pipeline)||this.initPipeline,periodRange:this.periodRangeGlobal||(null===(i=this.chart.filtersFull)||void 0===i?void 0:i.periodRange)||this.periodRange,periodPredefined:this.periodPredefinedGlobal||(null===(r=this.chart.filtersFull)||void 0===r?void 0:r.periodPredefined)||[this.defaultPeriod]||this.initFilter.periodPredefined,periodRangeToCompare:(null===(a=this.chart.filtersFull)||void 0===a?void 0:a.periodRangeToCompare)||this.initFilter.periodRangeToCompare,typeCompare:(null===(o=this.chart.filtersFull)||void 0===o?void 0:o.typeCompare)||this.initFilter.typeCompare}},filtersTable:function(){var e,t=this.getPeriod(this.initFilter.periodPredefined[0]).get(),i=Object(p["a"])(t,2),r=i[0],a=i[1];return{users:this.usersGlobal||this.users||this.filtersChartsDefault.users,pipelines:this.pipelines||this.filtersChartsDefault.pipelines,periodRange:this.periodRangeGlobal||(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.periodRange)||{start:r,end:a},emailStatus:"ALL"}}}},Qt=Jt,Zt=(i("b582"),Object(g["a"])(Qt,wt,_t,!1,null,"f71b0b22",null)),ei=Zt.exports,ti=i("2d06"),ii=i("92ad"),ri=i("a309"),ai=i("2038"),oi=i("c1e3"),ni=i("e624"),si=i("0d2b"),li=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseCardChart",{attrs:{title:e.title,titleRegular:e.titleRegular,settings:e.filtersConfig,isChart:""},on:{updateRefetch:function(t){e.isRefetch=!0}},scopedSlots:e._u([{key:"modal",fn:function(){return[i("BarDealDurationByStageFilter",{attrs:{defaultFilter:e.filtersConfig,isIcon:"",isPreview:""}})]},proxy:!0}])},[i("div",{staticClass:"hoverClick",on:{click:e.openModal}},[i("BarDealDurationByStageData",{attrs:{defaultFilter:e.filtersConfig,isPreview:"",isRefetch:e.isRefetch},on:{updateRefetch:function(t){e.isRefetch=!1}}})],1),i("BarDealDurationByStageModal",{attrs:{isOpen:e.isOpenModal,filters:{filtersConfig:e.filtersConfig,filtersTable:e.filtersTable},title:e.title,titleRegular:e.titleRegular},on:{close:e.closeModal}})],1)},di=[],pi=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.isPreview?e._e():i("ListFilters",{attrs:{settings:e.settings}}),i("div",{staticClass:"text-center bgWhite",class:[{"py-5 px-3":!e.isPreview},{showScroll:e.isWithScroll}]},[i("apexchart",{attrs:{height:e.isPreview?250:350,type:"bar",options:e.options,series:e.getSeries}})],1),e.isPreview?e._e():i("BarDealDurationByStageInformation",{attrs:{information:e.averageDaysInPipelineVerticalBarsGraph.informationBar,filterBy:e.settings.filterBy}})],1)},ci=[],ui=(i("f00c"),i("a9e3"),i("52e2")),fi=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-card",{staticClass:"mt-5",attrs:{flat:""}},[i("v-container",[i("v-row",{staticClass:"justify-center"},[i("v-col",{attrs:{cols:"3"}},[i("span",[i("b",[e._v("Promedio de días en el embudo:")]),e._v(" "+e._s(e.information.averageDaysInPipeline&&e.information.averageDaysInPipeline.toFixed(2))+" ")])]),i("v-col",{attrs:{cols:"3"}},[i("b",[e._v("Tasa de oportunidades ganadas:")]),e._v(" "+e._s(e.information.wonDeals&&e.information.wonDeals[e.filterBy])+" ")]),i("v-col",{attrs:{cols:"3"}},[i("b",[e._v("Tasa de oportunidades perdidas:")]),e._v(" "+e._s(e.information.lostDeals&&e.information.lostDeals[e.filterBy])+" ")]),i("v-col",{attrs:{cols:"3"}},[i("b",[e._v("Tasa de oportunidades abiertas:")]),e._v(" "+e._s(e.information.openDeals&&e.information.openDeals[e.filterBy])+" ")])],1)],1)],1)},hi=[],vi={name:"BarDealDurationByStageInformation",props:{information:{type:Object,default:function(){return{}}},filterBy:{type:String,default:"count"}}},mi=vi,gi=Object(g["a"])(mi,fi,hi,!1,null,null,null),Ci=gi.exports;R()(gi,{VCard:T["a"],VCol:y["a"],VContainer:P["a"],VRow:S["a"]});var Ri={name:"BarDealDurationByStageData",mixins:[ui["a"]],components:{BarDealDurationByStageInformation:Ci},props:{defaultFilter:{type:Object,default:function(){return{users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],typeCompare:"none"}}}},data:function(){return{listFilterBy:V["e"],averageDaysInPipelineVerticalBarsGraph:{stages:[],ownersAvgDays:[{mainAvgList:[],secondAvgList:[]}]},modalSettings:{users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],typeCompare:"none"},settings:{users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],typeCompare:"none"}}},computed:{options:function(){return this.formatOptions()},optionsCompare:function(){return this.formatOptions()},getSeries:function(){return"date"===this.settings.typeCompare?[].concat(Object(jt["a"])(this.series),Object(jt["a"])(this.seriesCompare)):this.series},series:function(){return this.averageDaysInPipelineVerticalBarsGraph.mainAverageDaysInPipeline?this.averageDaysInPipelineVerticalBarsGraph.mainAverageDaysInPipeline.averageDaysInPipeline.map((function(e){var t=e.name,i=e.averageList;return{name:t,data:i.map((function(e){var t=e.avg;return t.toFixed(2)}))}})):[]},seriesCompare:function(){return this.averageDaysInPipelineVerticalBarsGraph.secondAverageDaysInPipeline&&"none"!==this.typeCompare?this.averageDaysInPipelineVerticalBarsGraph.secondAverageDaysInPipeline.averageDaysInPipeline.map((function(e){var t=e.name,i=e.averageList;return{name:"".concat(t," anterior"),data:i?i.map((function(e){var t=e.avg;return t})):[]}})):[]},categories:function(){return this.averageDaysInPipelineVerticalBarsGraph.stages?this.averageDaysInPipelineVerticalBarsGraph.stages.map((function(e){var t=e.stageName;return t})):[]},showTitleXaxis:function(){if(!this.isPreview)return"Etapas"},showTitleYaxis:function(){if(!this.isPreview)return"Promedio en días"},isWithScroll:function(){return this.isPreview},filters:function(){var e={dateRange:{dateStart:this.dateStart,dateEnd:this.dateEnd},owners:this.ownersFilter,pipeline:this.pipelineFilter};return this.dateRangeToCompare&&""!==this.dateRangeToCompare.dateStart&&""!==this.dateRangeToCompare.dateEnd&&(e.dateRangeToCompare=this.dateRangeToCompare),e}},methods:{formatOptions:function(){return{chart:{type:"bar",height:this.isPreview?"250":"350",width:this.isWithScroll?"600":"100%",toolbar:{show:!1},zoom:{enabled:!1}},colors:Gt["b"],legend:{position:"top",horizontalAlign:this.isPreview?"left":"center",showForSingleSeries:!0},dataLabels:{enabled:!0,style:{fontSize:"12px"},offsetY:-20,background:{enabled:!0,foreColor:"#000",borderRadius:0},formatter:function(e){return"".concat(Math.round(e))}},grid:{row:{colors:["#fff","#f2f2f2"]}},xaxis:{categories:this.getCategoriesSplit(this.categories),title:{text:this.showTitleXaxis}},yaxis:{labels:{formatter:function(e){return Number.isFinite(e)?Math.round(e):1}},title:{text:this.showTitleYaxis}},noData:{text:"No hay datos"}}},update:function(){this.$apollo.queries.averageDaysInPipelineVerticalBarsGraph.refetch()},getCategoriesSplit:function(e){return e&&e.length>0?e.map((function(e){return e.split(" ")})):[]}},apollo:{averageDaysInPipelineVerticalBarsGraph:{query:O["l"],fetchPolicy:"no-cache",client:"charts",variables:function(){return{filters:this.filters}},skip:function(){return""===this.dateStart||""===this.dateEnd||!this.pipelineFilter.id||0===this.ownersFilter.length},watchLoading:function(e){this.isLoading=e}}}},Ti=Ri,yi=(i("87be"),Object(g["a"])(Ti,pi,ci,!1,null,"02cfc65c",null)),Pi=yi.exports,Si=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalChart",{attrs:{title:e.title,titleRegular:e.titleRegular,isOpen:e.isOpen},on:{close:e.closeModal},scopedSlots:e._u([{key:"filters",fn:function(){return[i("BarDealDurationByStageFilter",{attrs:{defaultFilter:e.filters.filtersConfig}})]},proxy:!0},{key:"chart",fn:function(){return[i("BarDealDurationByStageData",{attrs:{defaultFilter:e.filters.filtersConfig,isFull:""}})]},proxy:!0},{key:"table",fn:function(){return[i("TableDeals",{attrs:{defaultFilter:e.filters.filtersTable}})]},proxy:!0}])})},bi=[],Fi=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalFilters",{attrs:{isOpen:e.isOpenModalFilter,isIcon:e.isIcon},on:{save:e.saveFilter,statusModal:e.statusModal}},[i("v-row",[i("v-col",{attrs:{cols:"12"}},[i("SelectUsers",{attrs:{all:"",defaultSelect:e.defaultFilter.users},on:{change:e.changeUsers}})],1),i("v-col",{attrs:{cols:"12"}},[i("SelectPipeline",{attrs:{defaultSelect:e.defaultFilter.pipeline},on:{change:e.changePipeline}})],1),i("v-col",{attrs:{cols:"12"}},[i("PeriodPredefined",{attrs:{defaultSelect:e.defaultFilter.periodPredefined},on:{change:e.changePeriodPredefined}})],1),e.isPreview?e._e():i("v-col",{attrs:{cols:"12"}},[i("ComparePeriodBars",{attrs:{periodPredefined:e.filters.periodPredefined[0]},on:{change:e.changeComparePeriod}})],1)],1)],1)},Oi=[],wi={name:"BarActivityTypeByStageFilter",components:{SelectUsers:j["a"],SelectPipeline:H["a"]},mixins:[ui["b"]],props:{defaultFilter:{type:Object,default:function(){return{users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},typeCompare:"none"}}}},data:function(){return{filters:{users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},typeCompare:"none"}}},methods:{saveFilter:function(){this.changeChart({id:"bar-dealDurationByStage",filtersFull:Object(L["a"])(Object(L["a"])({},this.noReactive(this.filters)),{},{periodRange:Object(L["a"])({__typename:"PeriodRange"},this.filters.periodRange)})}),this.isOpenModalFilter=!1}}},_i=wi,Bi=Object(g["a"])(_i,Fi,Oi,!1,null,"49e8ff08",null),Di=Bi.exports;R()(Bi,{VCol:y["a"],VRow:S["a"]});var Mi={name:"BarDealDurationByStageModal",components:{BarDealDurationByStageFilter:Di,BarDealDurationByStageData:Pi,TableDeals:E["a"]},mixins:[ui["c"]],props:{filters:{type:Object,default:function(){return{filtersConfig:{users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},typeCompare:"none"},filtersTable:{users:[],pipelines:[],periodRange:{start:"",end:""},dealStatus:""}}}}}},xi=Mi,Ai=Object(g["a"])(xi,Si,bi,!1,null,"5419c13f",null),Ei=Ai.exports,Ii={name:"BarDealDurationByStagePreview",components:{BarDealDurationByStageData:Pi,BarDealDurationByStageModal:Ei,BarDealDurationByStageFilter:Di},mixins:[ui["d"]],props:{defaultPeriod:{type:String,default:"THIS_MONTH"}},data:function(){return{chartId:"bar-dealDurationByStage",title:"Días",titleRegular:"promedio por etapa",filtersChartsDefault:{},initFilter:{users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},dealStatus:"ALL",typeCompare:"none"}}},computed:{filtersConfig:function(){var e,t,i,r,a,o;return{users:this.usersGlobal||(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.users)||this.filtersChartsDefault.users,pipeline:(null===(t=this.chart.filtersFull)||void 0===t?void 0:t.pipeline)||this.initPipeline,periodRange:this.periodRangeGlobal||(null===(i=this.chart.filtersFull)||void 0===i?void 0:i.periodRange)||this.periodRange,periodPredefined:this.periodPredefinedGlobal||(null===(r=this.chart.filtersFull)||void 0===r?void 0:r.periodPredefined)||[this.defaultPeriod]||this.initFilter.periodPredefined,periodRangeToCompare:(null===(a=this.chart.filtersFull)||void 0===a?void 0:a.periodRangeToCompare)||this.initFilter.periodRangeToCompare,typeCompare:(null===(o=this.chart.filtersFull)||void 0===o?void 0:o.typeCompare)||this.initFilter.typeCompare}},filtersTable:function(){var e,t,i=this.getPeriod(this.initFilter.periodPredefined[0]).get(),r=Object(p["a"])(i,2),a=r[0],o=r[1];return{users:this.usersGlobal||(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.users)||this.filtersChartsDefault.users,pipelines:this.pipelines||[this.initPipeline],periodRange:this.periodRangeGlobal||(null===(t=this.chart.filtersFull)||void 0===t?void 0:t.periodRange)||{start:a,end:o},dealStatus:this.initFilter.dealStatus}}}},ki=Ii,Li=(i("6533"),Object(g["a"])(ki,li,di,!1,null,"2575c6d2",null)),ji=Li.exports,Gi=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseCardChart",{attrs:{title:e.title,titleRegular:e.titleRegular,settings:e.filtersConfig,isChart:""},on:{updateRefetch:function(t){e.isRefetch=!0}},scopedSlots:e._u([{key:"modal",fn:function(){return[i("BarActivitiesBySalesmanFilter",{attrs:{defaultFilter:e.filtersConfig,isIcon:"",isPreview:""}})]},proxy:!0}])},[i("div",{staticClass:"hoverClick",on:{click:e.openModal}},[i("BarActivitiesBySalesmanData",{attrs:{defaultFilter:e.filtersConfig,isPreview:"",isRefetch:e.isRefetch},on:{updateRefetch:function(t){e.isRefetch=!1}}})],1),i("BarActivitiesBySalesmanModal",{attrs:{isOpen:e.isOpenModal,filters:{filtersConfig:e.filtersConfig,filtersTable:e.filtersTable},title:e.title,titleRegular:e.titleRegular},on:{close:e.closeModal}})],1)},Hi=[],Vi=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalFilters",{attrs:{isOpen:e.isOpenModalFilter,isIcon:e.isIcon},on:{save:e.saveFilter,statusModal:e.statusModal}},[i("v-row",[i("v-col",{attrs:{cols:"12"}},[i("Select",{attrs:{name:"Estado de actividad",defaultSelect:e.defaultFilter.activitiesFilter,list:e.listStatusActivities},on:{change:e.changeStatusActivity}})],1),i("v-col",{attrs:{cols:"12"}},[i("SelectUsers",{attrs:{all:"",defaultSelect:e.defaultFilter.users},on:{change:e.changeUsers}})],1),i("v-col",{attrs:{cols:"12"}},[i("SelectPipeline",{attrs:{defaultSelect:e.defaultFilter.pipeline},on:{change:e.changePipeline}})],1),i("v-col",{attrs:{cols:"12"}},[i("PeriodPredefined",{attrs:{defaultSelect:e.defaultFilter.periodPredefined},on:{change:e.changePeriodPredefined}})],1),e.isPreview?e._e():i("v-col",{attrs:{cols:"12"}},[i("ComparePeriodBars",{attrs:{periodPredefined:e.filters.periodPredefined[0]},on:{change:e.changeComparePeriod}})],1)],1)],1)},Ni=[],Ui={name:"BarActivitiesBySalesmanFilter",components:{Select:G["a"],SelectUsers:j["a"],SelectPipeline:H["a"]},mixins:[ui["b"]],props:{defaultFilter:{type:Object,default:function(){return{activitiesFilter:"ALL",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{},typeCompare:"none"}}}},data:function(){return{listStatusActivities:V["b"],listStatusDeals:V["c"],filters:{activitiesFilter:"ALL",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{},typeCompare:"none"}}},methods:{saveFilter:function(){this.changeChart({id:"bar-activitiesBySalesman",filtersFull:Object(L["a"])(Object(L["a"])({},this.noReactive(this.filters)),{},{periodRange:Object(L["a"])({__typename:"PeriodRange"},this.filters.periodRange),ownerToCompare:Object(L["a"])({},this.filters.ownerToCompare)})}),this.isOpenModalFilter=!1}}},Wi=Ui,$i=Object(g["a"])(Wi,Vi,Ni,!1,null,"f73fcb48",null),zi=$i.exports;R()($i,{VCol:y["a"],VRow:S["a"]});var qi=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.isPreview?e._e():i("ListFilters",{attrs:{settings:e.settings}}),i("div",{staticClass:"text-center bgWhite",class:[{"py-5 px-3":!e.isPreview},{showScroll:e.isWithScroll}]},[i("apexchart",{attrs:{height:e.isPreview?250:350,type:"bar",options:e.options,series:e.getSeries}})],1),e.isPreview?e._e():i("BarActivitiesBySalesmanInformation",{attrs:{information:e.activitiesBySalesmenHorizontalBarsGraph.informationBar,filterBy:e.settings.filterBy}})],1)},Yi=[],Ki=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-card",{staticClass:"mt-5",attrs:{flat:""}},[i("v-container",[i("v-row",[i("v-col",{attrs:{cols:"3"}},[i("span",[i("b",[e._v("Actividades reagendadas:")]),e._v(" "+e._s(e.information.periodsActivities&&e.information.periodsActivities.bookedActivities)+" ")])]),i("v-col",{attrs:{cols:"3"}},[i("b",[e._v("Activitiades completadas:")]),e._v(" "+e._s(e.information.periodsActivities&&e.information.periodsActivities.completedActivities)+" ")]),i("v-col",{attrs:{cols:"3"}},[i("b",[e._v("Actividades cumplidas:")]),e._v(" "+e._s(e.information.periodsActivities&&e.information.periodsActivities.compliedActivities)+" ")]),i("v-col",{attrs:{cols:"3"}},[i("b",[e._v("Actividades efectivas:")]),e._v(" "+e._s(e.information.periodsActivities&&e.information.periodsActivities.effectiveActivities)+" ")]),i("v-col",{attrs:{cols:"3"}},[i("b",[e._v("Actividades vencidas:")]),e._v(" "+e._s(e.information.periodsActivities&&e.information.periodsActivities.expiredActivities)+" ")]),i("v-col",{attrs:{cols:"3"}},[i("b",[e._v("Actividades inefectivas:")]),e._v(" "+e._s(e.information.periodsActivities&&e.information.periodsActivities.ineffectiveActivities)+" ")])],1),i("v-row",[i("v-col",{attrs:{cols:"3"}},[i("span",[i("b",[e._v("Actividades reagendadas anterior:")]),e._v(" "+e._s(e.information.pastPeriodsActivities&&e.information.pastPeriodsActivities.bookedActivities)+" ")])]),i("v-col",{attrs:{cols:"3"}},[i("b",[e._v("Activitiades completadas anterior:")]),e._v(" "+e._s(e.information.pastPeriodsActivities&&e.information.pastPeriodsActivities.completedActivities)+" ")]),i("v-col",{attrs:{cols:"3"}},[i("b",[e._v("Actividades cumplidas anterior:")]),e._v(" "+e._s(e.information.pastPeriodsActivities&&e.information.pastPeriodsActivities.compliedActivities)+" ")]),i("v-col",{attrs:{cols:"3"}},[i("b",[e._v("Actividades efectivas anterior:")]),e._v(" "+e._s(e.information.pastPeriodsActivities&&e.information.pastPeriodsActivities.effectiveActivities)+" ")]),i("v-col",{attrs:{cols:"3"}},[i("b",[e._v("Actividades vencidas anterior:")]),e._v(" "+e._s(e.information.pastPeriodsActivities&&e.information.pastPeriodsActivities.expiredActivities)+" ")]),i("v-col",{attrs:{cols:"3"}},[i("b",[e._v("Actividades inefectivas anterior:")]),e._v(" "+e._s(e.information.pastPeriodsActivities&&e.information.pastPeriodsActivities.ineffectiveActivities)+" ")])],1)],1)],1)},Xi=[],Ji={name:"BarActivitiesBySalesmanInformation",props:{information:{type:Object,default:function(){return{}}},filterBy:{type:String,default:"count"}}},Qi=Ji,Zi=Object(g["a"])(Qi,Ki,Xi,!1,null,null,null),er=Zi.exports;R()(Zi,{VCard:T["a"],VCol:y["a"],VContainer:P["a"],VRow:S["a"]});var tr={name:"BarActivitiesBySalesmanData",mixins:[ui["a"]],components:{BarActivitiesBySalesmanInformation:er},props:{defaultFilter:{type:Object,default:function(){return{activitiesFilter:"ALL",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],typeCompare:"none"}}}},data:function(){return{listFilterBy:V["e"],activitiesBySalesmenHorizontalBarsGraph:{mainActivitiesBySalesmen:[],secondActivitiesBySalesmen:[],activityTypes:[]},modalSettings:{activitiesFilter:"ALL",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],typeCompare:"none"},settings:{activitiesFilter:"ALL",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],typeCompare:"none"}}},computed:{options:function(){return this.formatOptions(this.activitiesBySalesmenHorizontalBarsGraph.activityTypes)},optionsCompare:function(){return this.formatOptions(this.activitiesBySalesmenHorizontalBarsGraph.activityTypes)},getSeries:function(){return"none"!==this.settings.typeCompare?[].concat(Object(jt["a"])(this.series),Object(jt["a"])(this.seriesCompare)):this.series},series:function(){return this.formatSeries(this.activitiesBySalesmenHorizontalBarsGraph.mainActivitiesBySalesmen.usersActivities)},seriesCompare:function(){return this.formatSeries(this.activitiesBySalesmenHorizontalBarsGraph.secondActivitiesBySalesmen.usersActivities,"date"===this.settings.typeCompare)},showTitleXaxis:function(){if(!this.isPreview)return"Total"},showTitleYaxis:function(){if(!this.isPreview)return"Etapas"},isWithScroll:function(){return this.isLargeWidth&&this.isPreview},filters:function(){var e={dateRange:{dateStart:this.dateStart,dateEnd:this.dateEnd},owners:this.ownersFilter,pipeline:this.pipelineFilter,dealsFilter:this.settings.dealsFilter,activitiesFilter:this.settings.activitiesFilter};return this.ownerToCompare&&(e.ownerToCompare=this.ownerToCompare),this.dateRangeToCompare&&""!==this.dateRangeToCompare.dateStart&&""!==this.dateRangeToCompare.dateEnd&&(e.dateRangeToCompare=this.dateRangeToCompare),e}},methods:{formatOptions:function(e){return{chart:{type:"bar",height:this.isPreview?"250":"350",width:this.isWithScroll?"600":"100%",stacked:!0,toolbar:{show:!1},zoom:{enabled:!1}},plotOptions:{bar:{borderRadius:4,horizontal:!0,dataLabels:{orientation:"horizontal"}}},colors:Gt["b"],dataLabels:{enabled:!0,style:{fontSize:"12px",fontWeight:"bold",colors:["#000"]},offsetX:0,background:{enabled:!0,foreColor:"#fff",padding:4,borderRadius:2,borderWidth:1,borderColor:"#fff",opacity:.9,dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.45}},formatter:function(e){return e}},grid:{row:{colors:["#f3f3f3","transparent"],opacity:.5}},xaxis:{categories:e||[],title:{text:this.showTitleXaxis},tickAmount:1,labels:{formatter:function(e){return e.toFixed(0)}}},yaxis:{title:{text:this.showTitleYaxis}},legend:{position:"top",horizontalAlign:this.isPreview?"left":"center",showForSingleSeries:!0}}},formatSeries:function(e,t){return e?e.map((function(e){return{name:t?"".concat(e.name," anterior"):e.name,data:e.countList.map((function(e){var t=e.count;return t}))}})):[]},update:function(){this.$apollo.queries.activitiesBySalesmenHorizontalBarsGraph.refetch()}},apollo:{activitiesBySalesmenHorizontalBarsGraph:{query:O["a"],fetchPolicy:"no-cache",client:"charts",variables:function(){return{filters:this.filters}},skip:function(){return""===this.dateStart||""===this.dateEnd||!this.pipelineFilter.id||0===this.ownersFilter.length},watchLoading:function(e){this.isLoading=e}}}},ir=tr,rr=(i("4fbc"),Object(g["a"])(ir,qi,Yi,!1,null,"135acc07",null)),ar=rr.exports,or=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalChart",{attrs:{title:e.title,titleRegular:e.titleRegular,isOpen:e.isOpen},on:{close:e.closeModal},scopedSlots:e._u([{key:"filters",fn:function(){return[i("BarActivitiesBySalesmanFilter",{attrs:{defaultFilter:e.filters.filtersConfig}})]},proxy:!0},{key:"chart",fn:function(){return[i("BarActivitiesBySalesmanData",{attrs:{defaultFilter:e.filters.filtersConfig,isFull:""}})]},proxy:!0},{key:"table",fn:function(){return[i("TableActivities",{attrs:{defaultFilter:e.filters.filtersTable}})]},proxy:!0}])})},nr=[],sr=i("157d"),lr={name:"BarActivitiesBySalesmanModal",components:{BarActivitiesBySalesmanFilter:zi,BarActivitiesBySalesmanData:ar,TableActivities:sr["a"]},mixins:[ui["c"]],props:{filters:{type:Object,default:function(){return{filtersConfig:{dealsFilter:"ALL",activitiesFilter:"ALL",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{},typeCompare:"none"},filtersTable:{users:[],pipelines:[],periodRange:{start:"",end:""},dealStatus:"",stages:[],activityTypes:[],fromReportStatus:"ACTIVITIESBYSTAGE"}}}}}},dr=lr,pr=Object(g["a"])(dr,or,nr,!1,null,"33db1eff",null),cr=pr.exports,ur={name:"BarActivitiesBySalesmanPreview",components:{BarActivitiesBySalesmanData:ar,BarActivitiesBySalesmanModal:cr,BarActivitiesBySalesmanFilter:zi},mixins:[ui["d"]],props:{defaultPeriod:{type:String,default:"THIS_MONTH"}},data:function(){return{chartId:"bar-activitiesBySalesman",title:"Actividades",titleRegular:"por vendedor",filtersChartsDefault:{},initFilter:{dealsFilter:"ALL",activitiesFilter:"ALL",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{},dealStatus:"ALL",typeCompare:"none",stages:[],activityTypes:[],fromReportStatus:"ACTIVITIESBYSALESMAN"}}},computed:{filtersConfig:function(){var e,t,i,r,a,o,n,s;return{activitiesFilter:(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.activitiesFilter)||this.initFilter.activitiesFilter,users:this.usersGlobal||(null===(t=this.chart.filtersFull)||void 0===t?void 0:t.users)||this.initUsers,pipeline:(null===(i=this.chart.filtersFull)||void 0===i?void 0:i.pipeline)||this.initPipeline,periodRange:this.periodRangeGlobal||(null===(r=this.chart.filtersFull)||void 0===r?void 0:r.periodRange)||this.periodRange,periodPredefined:this.periodPredefinedGlobal||(null===(a=this.chart.filtersFull)||void 0===a?void 0:a.periodPredefined)||[this.defaultPeriod]||this.initFilter.periodPredefined,periodRangeToCompare:(null===(o=this.chart.filtersFull)||void 0===o?void 0:o.periodRangeToCompare)||this.initFilter.periodRangeToCompare,ownerToCompare:(null===(n=this.chart.filtersFull)||void 0===n?void 0:n.ownerToCompare)||this.initFilter.ownerToCompare,typeCompare:(null===(s=this.chart.filtersFull)||void 0===s?void 0:s.typeCompare)||this.initFilter.typeCompare}},filtersTable:function(){var e,t=this.getPeriod(this.initFilter.periodPredefined[0]).get(),i=Object(p["a"])(t,2),r=i[0],a=i[1];return{users:this.usersGlobal||this.users||this.initUsers,pipelines:this.pipelines||[this.initPipeline],periodRange:this.periodRangeGlobal||(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.periodRange)||{start:r,end:a},dealStatus:this.initFilter.dealsFilter,activitiesStatus:this.initFilter.activitiesFilter,activityTypes:this.filtersChartsDefault.activityTypes||this.initFilter.activityTypes,fromReportStatus:this.initFilter.fromReportStatus}}}},fr=ur,hr=(i("c0aa"),Object(g["a"])(fr,Gi,Hi,!1,null,"2a4c9ddb",null)),vr=hr.exports,mr=i("a54b"),gr=i("fca4"),Cr=i("79b6"),Rr=i("8cb4"),Tr=i("4ac6"),yr=i("fc2c"),Pr=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseCardChart",{attrs:{title:e.title,titleRegular:e.titleRegular,settings:e.filtersConfig,isChart:""},on:{updateRefetch:function(t){e.isRefetch=!0}},scopedSlots:e._u([{key:"modal",fn:function(){return[i("TableActivityTypeByStageFilter",{attrs:{defaultFilter:e.filtersConfig,isIcon:"",isPreview:""}})]},proxy:!0}])},[i("div",{staticClass:"hoverClick",on:{click:e.openModal}},[i("TableActivityTypeByStageData",{attrs:{defaultFilter:e.filtersConfig,isPreview:"",isRefetch:e.isRefetch},on:{updateRefetch:function(t){e.isRefetch=!1}}})],1),i("TableActivityTypeByStageModal",{attrs:{isOpen:e.isOpenModal,filters:{filtersConfig:e.filtersConfig,filtersConfig:e.filtersConfig,filtersTable:e.filtersTable},title:e.title,titleRegular:e.titleRegular},on:{close:e.closeModal}})],1)},Sr=[],br=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalChart",{attrs:{title:e.title,titleRegular:e.titleRegular,isOpen:e.isOpen},on:{close:e.closeModal},scopedSlots:e._u([{key:"filters",fn:function(){return[i("TableActivityTypeByStageFilter",{attrs:{defaultFilter:e.filters.filtersConfig}})]},proxy:!0},{key:"chart",fn:function(){return[i("TableActivityTypeByStageData",{attrs:{defaultFilter:e.filters.filtersConfig,isFull:""}})]},proxy:!0},{key:"table",fn:function(){return[i("TableActivities",{attrs:{defaultFilter:e.filters.filtersTable}})]},proxy:!0}])})},Fr=[],Or=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalFilters",{attrs:{isOpen:e.isOpenModalFilter,isIcon:e.isIcon},on:{save:e.saveFilter,statusModal:e.statusModal}},[i("v-row",[i("v-col",{attrs:{cols:"12"}},[i("Select",{attrs:{name:"Estado de trato",defaultSelect:e.defaultFilter.dealsFilter,list:e.listStatusDeals},on:{change:e.changeStatusDeal}})],1),i("v-col",{attrs:{cols:"12"}},[i("Select",{attrs:{name:"Estado de actividad",defaultSelect:e.defaultFilter.activitiesFilter,list:e.listStatusActivities},on:{change:e.changeStatusActivity}})],1),i("v-col",{attrs:{cols:"12"}},[i("SelectUsers",{attrs:{all:"",defaultSelect:e.defaultFilter.users},on:{change:e.changeUsers}})],1),i("v-col",{attrs:{cols:"12"}},[i("SelectPipeline",{attrs:{defaultSelect:e.defaultFilter.pipeline},on:{change:e.changePipeline}})],1),i("v-col",{attrs:{cols:"12"}},[i("PeriodPredefined",{attrs:{defaultSelect:e.defaultFilter.periodPredefined},on:{change:e.changePeriodPredefined}})],1),e.isPreview?e._e():i("v-col",{attrs:{cols:"12"}},[i("ComparePeriodBars",{attrs:{periodPredefined:e.filters.periodPredefined[0]},on:{change:e.changeComparePeriod}})],1)],1)],1)},wr=[],_r=(i("7db0"),i("047b")),Br=i("baee"),Dr=i("cdd4"),Mr=i("198f"),xr=i("a2ff"),Ar=i("73cd"),Er=i("9d71"),Ir=i("7d6b"),kr={components:{BaseCardChart:_r["a"]},mixins:[Br["b"]],props:{filtersGlobal:{type:Object,default:function(){return{users:[],periodPredefined:[]}}}},data:function(){return{isRefetch:!1,periods:Dr["a"],isOpenModal:!1}},computed:{usersGlobal:function(){return this.filtersGlobal.users.length>0?this.filtersGlobal.users:null},periodPredefinedGlobal:function(){return this.filtersGlobal.periodPredefined&&this.filtersGlobal.periodPredefined.length>0?[this.filtersGlobal.periodPredefined[0]]:null},periodRangeGlobal:function(){if(this.filtersGlobal.periodPredefined&&this.filtersGlobal.periodPredefined.length>1){var e=this.filtersGlobal.periodPredefined[1];return{start:e[0],end:e[1]}}return null},initUsers:function(){return this.filtersChartsDefault.users&&this.filtersChartsDefault.users.length>0?this.filtersChartsDefault.users:null},initPipeline:function(){return this.filtersChartsDefault.pipelines&&this.filtersChartsDefault.pipelines.length>0?this.filtersChartsDefault.pipelines[0]:null},periodRange:function(){var e=this.getPeriod(this.defaultPeriod||this.initFilter.periodPredefined[0]).get(),t=Object(p["a"])(e,2),i=t[0],r=t[1];return{start:i,end:r}},users:function(){var e,t;return null!==(e=this.chart.filtersFull)&&void 0!==e&&e.users?null===(t=this.chart.filtersFull)||void 0===t?void 0:t.users:null},pipelines:function(){var e,t;return null!==(e=this.chart.filtersFull)&&void 0!==e&&e.pipeline?[null===(t=this.chart.filtersFull)||void 0===t?void 0:t.pipeline]:null}},methods:{getPeriod:function(e){return this.periods.find((function(t){return t.id===e}))},openModal:function(){this.isOpenModal=!0},closeModal:function(){this.isOpenModal=!1}}},Lr={components:{BaseModalChart:Mr["a"]},props:{isOpen:{type:Boolean,default:!1},title:{type:String,default:"Sin título"},titleRegular:{type:String,default:""}},methods:{closeModal:function(){this.$emit("close")}}},jr={components:{ComparePeriodBars:xr["a"],BaseModalFilters:Ar["a"],PeriodPredefined:Er["a"]},mixins:[Br["c"]],props:{isIcon:{type:Boolean,default:!1},isPreview:{type:Boolean,default:!1}},data:function(){return{listCompare:Dr["b"],isOpenModalFilter:!1}},methods:{findPeriod:function(e){return this.listCompare.find((function(t){return t.id===e}))},updatePeriodSelected:function(e){if("CUSTOM"!==e){var t=this.findPeriod(e),i=t?t.get(this.filters.periodPredefined[0]):[];if(i){var r=Object(p["a"])(i,2);this.filters.periodRangeToCompare.start=r[0],this.filters.periodRangeToCompare.end=r[1]}}},changeStatusActivity:function(e){this.filters.activitiesFilter=e},changeActivityTypes:function(e){this.filters.activityTypes=e},changeStatusDeal:function(e){this.filters.dealsFilter=e},statusModal:function(e){this.isOpenModalFilter=e},changeTime:function(e){this.filters.filterTime=e},changeFilterBy:function(e){this.filters.filterBy=e},changeUser:function(e){this.filters.user=e},changeUsers:function(e){this.filters.users=e},changePipeline:function(e){this.filters.pipeline=e},changePeriodPredefined:function(e){this.filters.periodPredefined=e;var t=Object(p["a"])(e,2),i=Object(p["a"])(t[1],2);this.filters.periodRange.start=i[0],this.filters.periodRange.end=i[1],"date"===this.typeCompare&&this.updatePeriodSelected(this.filters.periodRangeToCompare.period)},changeComparePeriod:function(e){var t=e.isCompare,i=e.typeCompare,r=e.periodCompare;if(t){if("date"===i&&r&&(this.filters.typeCompare=i,this.filters.periodRangeToCompare.period=r.periodSelected,r.periodRange.length>0)){var a=Object(p["a"])(r.periodRange,2);this.filters.periodRangeToCompare.start=a[0],this.filters.periodRangeToCompare.end=a[1]}}else this.filters.typeCompare=i,this.filters.periodRangeToCompare.period="",this.filters.periodRangeToCompare.start="",this.filters.periodRangeToCompare.end=""}}},Gr={mixins:[Ir["a"]],props:{isPreview:{type:Boolean,default:!1},isRefetch:{type:Boolean,default:!1}},watch:{isRefetch:function(e){e&&(this.update(),this.$emit("updateRefetch"))}},computed:{isLargeWidth:function(){return"THIS_YEAR"===this.settings.periodPredefined[0]||"LAST_YEAR"===this.settings.periodPredefined[0]}}},Hr={name:"TableActivityTypeByStageFilter",components:{SelectUsers:j["a"],SelectPipeline:H["a"],Select:G["a"]},mixins:[jr],props:{defaultFilter:{type:Object,default:function(){return{dealsFilter:"ALL",activitiesFilter:"ALL",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{},typeCompare:"none"}}}},data:function(){return{listStatusActivities:V["b"],listStatusDeals:V["c"],filters:{dealsFilter:"ALL",activitiesFilter:"ALL",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{},typeCompare:"none"}}},methods:{saveFilter:function(){this.changeChart({id:"table-activityTypeByStage",filtersFull:Object(L["a"])(Object(L["a"])({},this.noReactive(this.filters)),{},{periodRange:Object(L["a"])({__typename:"PeriodRange"},this.filters.periodRange),ownerToCompare:Object(L["a"])({},this.filters.ownerToCompare)})}),this.isOpenModalFilter=!1}}},Vr=Hr,Nr=Object(g["a"])(Vr,Or,wr,!1,null,"200b09ec",null),Ur=Nr.exports;R()(Nr,{VCol:y["a"],VRow:S["a"]});var Wr=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.isPreview?e._e():i("ListFilters",{attrs:{settings:e.settings}}),i("div",{staticClass:"text-center bgWhite",class:[{"py-5 px-3":!e.isPreview},{showScroll:e.isWithScroll}]},[i("v-simple-table",{attrs:{dense:""},scopedSlots:e._u([{key:"default",fn:function(){return[i("thead",[i("tr",[i("th",{staticClass:"text-left"}),e._l(e.header,(function(t,r){return i("th",{key:""+t+r+"tr",staticClass:"text-left"},[e._v(" "+e._s(t)+" ")])}))],2)]),i("tbody",e._l(e.rows,(function(t,r){return i("tr",{key:r+"tr"},e._l(t,(function(t){return i("td",{key:r+"-"+t.name,staticClass:"text-left"},[e._v(" "+e._s(t.value)+" ")])})),0)})),0)]},proxy:!0}])}),e.isPreview||"date"!==e.settings.typeCompare?e._e():i("h4",[e._v(" Comparación de fecha ")]),e.isPreview||"user"!==e.settings.typeCompare?e._e():i("h4",[e._v(" Comparación con otro usuario ")]),e.isPreview||"none"===e.settings.typeCompare?e._e():i("v-simple-table",{attrs:{dense:""},scopedSlots:e._u([{key:"default",fn:function(){return[i("thead",[i("tr",[i("th",{staticClass:"text-left"}),e._l(e.header,(function(t,r){return i("th",{key:""+t+r+"tr",staticClass:"text-left"},[e._v(" "+e._s(t)+" ")])}))],2)]),i("tbody",e._l(e.rowsCompare,(function(t,r){return i("tr",{key:r+"trCompare"},e._l(t,(function(t){return i("td",{key:t.name,staticClass:"text-left"},[e._v(" "+e._s(t.value)+" ")])})),0)})),0)]},proxy:!0}],null,!1,2368539122)})],1)],1)},$r=[],zr={name:"TableActivityTypeByStageData",mixins:[Gr],props:{defaultFilter:{type:Object,default:function(){return{dealsFilter:"ALL",activitiesFilter:"ALL",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],typeCompare:"none"}}}},data:function(){return{listFilterBy:V["e"],activitiesByStageHorizontalBarsAndTable:{mainActivitiesByStage:[],secondActivitiesByStage:[]},modalSettings:{dealsFilter:"ALL",activitiesFilter:"ALL",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],typeCompare:"none"},settings:{dealsFilter:"ALL",activitiesFilter:"ALL",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],typeCompare:"none"}}},computed:{header:function(){return this.activitiesByStageHorizontalBarsAndTable.stages?this.activitiesByStageHorizontalBarsAndTable.stages:[]},rows:function(){return this.activitiesByStageHorizontalBarsAndTable.mainActivitiesByStage?this.activitiesByStageHorizontalBarsAndTable.mainActivitiesByStage.map((function(e){var t=e.countList.map((function(e){return{name:e.stageName,value:e.count}}));return t.unshift({name:"activity",value:e.typeName}),t})):[]},rowsCompare:function(){var e=this;return this.activitiesByStageHorizontalBarsAndTable.secondActivitiesByStage?this.activitiesByStageHorizontalBarsAndTable.secondActivitiesByStage.map((function(t,i){var r=e.activitiesByStageHorizontalBarsAndTable.secondActivitiesByStage.map((function(e){var t;return{name:e.typeName,value:null===(t=e.countList[i])||void 0===t?void 0:t.count}}));return r.unshift({name:"activity",value:t.typeName}),r})):[]},isWithScroll:function(){return this.isLargeWidth&&this.isPreview},filters:function(){var e={dateRange:{dateStart:this.dateStart,dateEnd:this.dateEnd},owners:this.ownersFilter,pipeline:this.pipelineFilter,dealsFilter:this.settings.dealsFilter,activitiesFilter:this.settings.activitiesFilter};return this.ownerToCompare&&(e.ownerToCompare=this.ownerToCompare),this.dateRangeToCompare&&""!==this.dateRangeToCompare.dateStart&&""!==this.dateRangeToCompare.dateEnd&&(e.dateRangeToCompare=this.dateRangeToCompare),e}},methods:{update:function(){this.$apollo.queries.activitiesByStageHorizontalBarsAndTable.refetch()}},apollo:{activitiesByStageHorizontalBarsAndTable:{query:O["c"],fetchPolicy:"no-cache",client:"charts",variables:function(){return{filters:this.filters}},skip:function(){return""===this.dateStart||""===this.dateEnd||!this.pipelineFilter.id||0===this.ownersFilter.length},watchLoading:function(e){this.isLoading=e}}}},qr=zr,Yr=(i("e209"),i("1f4f")),Kr=Object(g["a"])(qr,Wr,$r,!1,null,"7c7f13f5",null),Xr=Kr.exports;R()(Kr,{VSimpleTable:Yr["a"]});var Jr={name:"TableActivityTypeByStageModal",components:{TableActivityTypeByStageFilter:Ur,TableActivityTypeByStageData:Xr,TableActivities:sr["a"]},mixins:[Lr],props:{filters:{type:Object,default:function(){return{filtersConfig:{dealsFilter:"ALL",activitiesFilter:"ALL",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{},typeCompare:"none"},filtersTable:{users:[],pipelines:[],periodRange:{start:"",end:""},dealStatus:""}}}}}},Qr=Jr,Zr=Object(g["a"])(Qr,br,Fr,!1,null,"812b9764",null),ea=Zr.exports,ta={name:"TableActivityTypeByStagePreview",components:{TableActivityTypeByStageData:Xr,TableActivityTypeByStageModal:ea,TableActivityTypeByStageFilter:Ur},mixins:[kr],props:{defaultPeriod:{type:String,default:"THIS_MONTH"}},data:function(){return{chartId:"table-activityTypeByStage",title:"Actividades",titleRegular:"por etapa",filtersChartsDefault:{},initFilter:{dealsFilter:"ALL",activitiesFilter:"ALL",users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{},dealStatus:"LOST",typeCompare:"none",fromReportStatus:"ACTIVITIESBYSTAGE"}}},computed:{filtersConfig:function(){var e,t,i,r,a,o,n,s,l;return{dealsFilter:(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.dealsFilter)||this.initFilter.dealsFilter,activitiesFilter:(null===(t=this.chart.filtersFull)||void 0===t?void 0:t.activitiesFilter)||this.initFilter.activitiesFilter,users:this.usersGlobal||(null===(i=this.chart.filtersFull)||void 0===i?void 0:i.users)||this.initUsers,pipeline:(null===(r=this.chart.filtersFull)||void 0===r?void 0:r.pipeline)||this.initPipeline,periodRange:this.periodRangeGlobal||(null===(a=this.chart.filtersFull)||void 0===a?void 0:a.periodRange)||this.periodRange,periodPredefined:this.periodPredefinedGlobal||(null===(o=this.chart.filtersFull)||void 0===o?void 0:o.periodPredefined)||[this.defaultPeriod]||this.initFilter.periodPredefined,periodRangeToCompare:(null===(n=this.chart.filtersFull)||void 0===n?void 0:n.periodRangeToCompare)||this.initFilter.periodRangeToCompare,ownerToCompare:(null===(s=this.chart.filtersFull)||void 0===s?void 0:s.ownerToCompare)||this.initFilter.ownerToCompare,typeCompare:(null===(l=this.chart.filtersFull)||void 0===l?void 0:l.typeCompare)||this.initFilter.typeCompare}},filtersTable:function(){var e,t=this.getPeriod(this.initFilter.periodPredefined[0]).get(),i=Object(p["a"])(t,2),r=i[0],a=i[1];return{users:this.usersGlobal||this.users||this.initUsers,pipelines:this.pipelines||[this.initPipeline],periodRange:this.periodRangeGlobal||(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.periodRange)||{start:r,end:a},dealStatus:this.initFilter.dealsFilter,activitiesStatus:this.initFilter.activitiesFilter,activityTypes:this.filtersChartsDefault.activityTypes||this.initFilter.activityTypes,fromReportStatus:this.initFilter.fromReportStatus}}}},ia=ta,ra=(i("3a04"),Object(g["a"])(ia,Pr,Sr,!1,null,"3a92d153",null)),aa=ra.exports,oa=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseCardChart",{attrs:{title:e.title,titleRegular:e.titleRegular,settings:e.filtersConfig,isChart:""},on:{updateRefetch:function(t){e.isRefetch=!0}},scopedSlots:e._u([{key:"modal",fn:function(){return[i("TableLostOpportunitiesByStageFilter",{attrs:{defaultFilter:e.filtersConfig,isIcon:"",isPreview:""}})]},proxy:!0}])},[i("div",{staticClass:"hoverClick",on:{click:e.openModal}},[i("TableLostOpportunitiesByStageData",{attrs:{defaultFilter:e.filtersConfig,isPreview:"",isRefetch:e.isRefetch},on:{updateRefetch:function(t){e.isRefetch=!1}}})],1),i("TableLostOpportunitiesByStageModal",{attrs:{isOpen:e.isOpenModal,filters:{filtersConfig:e.filtersConfig,filtersConfig:e.filtersConfig,filtersTable:e.filtersTable},title:e.title,titleRegular:e.titleRegular},on:{close:e.closeModal}})],1)},na=[],sa=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalChart",{attrs:{title:e.title,titleRegular:e.titleRegular,isOpen:e.isOpen},on:{close:e.closeModal},scopedSlots:e._u([{key:"filters",fn:function(){return[i("TableLostOpportunitiesByStageFilter",{attrs:{defaultFilter:e.filters.filtersConfig}})]},proxy:!0},{key:"chart",fn:function(){return[i("TableLostOpportunitiesByStageData",{attrs:{defaultFilter:e.filters.filtersConfig,isFull:""}})]},proxy:!0},{key:"table",fn:function(){return[i("TableDeals",{attrs:{defaultFilter:e.filters.filtersTable}})]},proxy:!0}])})},la=[],da=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalFilters",{attrs:{isOpen:e.isOpenModalFilter,isIcon:e.isIcon},on:{save:e.saveFilter,statusModal:e.statusModal}},[i("v-row",[i("v-col",{attrs:{cols:"12"}},[i("SelectUsers",{attrs:{all:"",defaultSelect:e.defaultFilter.users},on:{change:e.changeUsers}})],1),i("v-col",{attrs:{cols:"12"}},[i("SelectPipeline",{attrs:{defaultSelect:e.defaultFilter.pipeline},on:{change:e.changePipeline}})],1),i("v-col",{attrs:{cols:"12"}},[i("PeriodPredefined",{attrs:{defaultSelect:e.defaultFilter.periodPredefined},on:{change:e.changePeriodPredefined}})],1),e.isPreview?e._e():i("v-col",{attrs:{cols:"12"}},[i("ComparePeriodBars",{attrs:{periodPredefined:e.filters.periodPredefined[0]},on:{change:e.changeComparePeriod}})],1)],1)],1)},pa=[],ca={name:"TableLostOpportunitiesByStageFilter",components:{SelectUsers:j["a"],SelectPipeline:H["a"]},mixins:[jr],props:{defaultFilter:{type:Object,default:function(){return{users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{},typeCompare:"none"}}}},data:function(){return{filters:{users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{},typeCompare:"none"}}},methods:{saveFilter:function(){this.changeChart({id:"table-lostOpportunities",filtersFull:Object(L["a"])(Object(L["a"])({},this.noReactive(this.filters)),{},{periodRange:Object(L["a"])({__typename:"PeriodRange"},this.filters.periodRange),ownerToCompare:Object(L["a"])({},this.filters.ownerToCompare)})}),this.isOpenModalFilter=!1}}},ua=ca,fa=Object(g["a"])(ua,da,pa,!1,null,"3e378276",null),ha=fa.exports;R()(fa,{VCol:y["a"],VRow:S["a"]});var va=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.isPreview?e._e():i("ListFilters",{attrs:{settings:e.settings}}),i("div",{staticClass:"text-center bgWhite",class:[{"py-5 px-3":!e.isPreview},{showScroll:e.isWithScroll}]},[i("v-simple-table",{attrs:{dense:""},scopedSlots:e._u([{key:"default",fn:function(){return[i("thead",[i("tr",[i("th",{staticClass:"text-left"},[e._v(" Etapa ")]),i("th",{staticClass:"text-left"},[e._v(" Cantidad ")]),i("th",{staticClass:"text-left"},[e._v(" Valor ")])])]),i("tbody",e._l(e.rows,(function(t,r){return i("tr",{key:r+"tb-1"},[i("td",{staticClass:"text-left"},[e._v(e._s(t.stage))]),i("td",{staticClass:"text-left"},[e._v(e._s(t.count))]),i("td",{staticClass:"text-left"},[e._v(e._s(e._f("formatPrice")(t.sum)))])])})),0)]},proxy:!0}])}),e.isPreview||"date"!==e.settings.typeCompare?e._e():i("h4",[e._v(" Comparación de fecha ")]),e.isPreview||"user"!==e.settings.typeCompare?e._e():i("h4",[e._v(" Comparación con otro usuario ")]),e.isPreview||"none"===e.settings.typeCompare?e._e():i("v-simple-table",{attrs:{dense:""},scopedSlots:e._u([{key:"default",fn:function(){return[i("thead",[i("tr",[i("th",{staticClass:"text-left"},[e._v(" Etapa ")]),i("th",{staticClass:"text-left"},[e._v(" Cantidad ")]),i("th",{staticClass:"text-left"},[e._v(" Valor ")])])]),i("tbody",e._l(e.rowsCompare,(function(t,r){return i("tr",{key:r+"tb-2"},[i("td",{staticClass:"text-left"},[e._v(e._s(t.stage))]),i("td",{staticClass:"text-left"},[e._v(e._s(t.count))]),i("td",{staticClass:"text-left"},[e._v(e._s(e._f("formatPrice")(t.sum)))])])})),0)]},proxy:!0}],null,!1,1940315165)})],1)],1)},ma=[],ga={name:"TableLostOpportunitiesByStageData",mixins:[Gr],props:{defaultFilter:{type:Object,default:function(){return{users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],typeCompare:"none"}}}},data:function(){return{listFilterBy:V["e"],lostDealsByStageTableGraph:{mainLostDealsByStage:[],secondLostDealsByStage:[]},modalSettings:{users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],typeCompare:"none"},settings:{users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],typeCompare:"none"}}},computed:{rows:function(){var e,t;return this.lostDealsByStageTableGraph.mainLostDealsByStage?null===(e=this.lostDealsByStageTableGraph.mainLostDealsByStage)||void 0===e||null===(t=e.lostDealsByStage)||void 0===t?void 0:t.map((function(e){return{stage:e.stageName,count:e.count,sum:e.sum}})):[]},rowsCompare:function(){var e,t;return this.lostDealsByStageTableGraph.secondLostDealsByStage?null===(e=this.lostDealsByStageTableGraph.secondLostDealsByStage)||void 0===e||null===(t=e.lostDealsByStage)||void 0===t?void 0:t.map((function(e){return{stage:e.stageName,count:e.count,sum:e.sum}})):[]},isWithScroll:function(){return this.isLargeWidth&&this.isPreview},filters:function(){var e={dateRange:{dateStart:this.dateStart,dateEnd:this.dateEnd},owners:this.ownersFilter,pipeline:this.pipelineFilter};return this.ownerToCompare&&(e.ownerToCompare=this.ownerToCompare),this.dateRangeToCompare&&""!==this.dateRangeToCompare.dateStart&&""!==this.dateRangeToCompare.dateEnd&&(e.dateRangeToCompare=this.dateRangeToCompare),e}},methods:{update:function(){this.$apollo.queries.lostDealsByStageTableGraph.refetch()}},apollo:{lostDealsByStageTableGraph:{query:O["u"],fetchPolicy:"no-cache",client:"charts",variables:function(){return{filters:this.filters}},skip:function(){return""===this.dateStart||""===this.dateEnd||!this.pipelineFilter.id||0===this.ownersFilter.length},watchLoading:function(e){this.isLoading=e}}}},Ca=ga,Ra=(i("9659"),Object(g["a"])(Ca,va,ma,!1,null,"b345b86a",null)),Ta=Ra.exports;R()(Ra,{VSimpleTable:Yr["a"]});var ya={name:"TableLostOpportunitiesByStageModal",components:{TableLostOpportunitiesByStageFilter:ha,TableLostOpportunitiesByStageData:Ta,TableDeals:E["a"]},mixins:[Lr],props:{filters:{type:Object,default:function(){return{filtersConfig:{users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{},typeCompare:"none"},filtersTable:{users:[],pipelines:[],periodRange:{start:"",end:""},dealStatus:""}}}}}},Pa=ya,Sa=Object(g["a"])(Pa,sa,la,!1,null,"05cc80cc",null),ba=Sa.exports,Fa={name:"TableLostOpportunitiesByStagePreview",components:{TableLostOpportunitiesByStageData:Ta,TableLostOpportunitiesByStageModal:ba,TableLostOpportunitiesByStageFilter:ha},mixins:[kr],props:{defaultPeriod:{type:String,default:"THIS_MONTH"}},data:function(){return{chartId:"table-lostOpportunities",title:"Oportunidades",titleRegular:"pérdidas",filtersChartsDefault:{},initFilter:{users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{},dealStatus:"LOST",typeCompare:"none"}}},computed:{filtersConfig:function(){var e,t,i,r,a,o,n;return{users:this.usersGlobal||(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.users)||this.initUsers,pipeline:(null===(t=this.chart.filtersFull)||void 0===t?void 0:t.pipeline)||this.initPipeline,periodRange:this.periodRangeGlobal||(null===(i=this.chart.filtersFull)||void 0===i?void 0:i.periodRange)||this.periodRange,periodPredefined:this.periodPredefinedGlobal||(null===(r=this.chart.filtersFull)||void 0===r?void 0:r.periodPredefined)||[this.defaultPeriod]||this.initFilter.periodPredefined,periodRangeToCompare:(null===(a=this.chart.filtersFull)||void 0===a?void 0:a.periodRangeToCompare)||this.initFilter.periodRangeToCompare,ownerToCompare:(null===(o=this.chart.filtersFull)||void 0===o?void 0:o.ownerToCompare)||this.initFilter.ownerToCompare,typeCompare:(null===(n=this.chart.filtersFull)||void 0===n?void 0:n.typeCompare)||this.initFilter.typeCompare}},filtersTable:function(){var e,t=this.getPeriod(this.initFilter.periodPredefined[0]).get(),i=Object(p["a"])(t,2),r=i[0],a=i[1];return{users:this.usersGlobal||this.users||this.initUsers,pipelines:this.pipelines||[this.initPipeline],periodRange:this.periodRangeGlobal||(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.periodRange)||{start:r,end:a},dealStatus:this.initFilter.dealStatus}}}},Oa=Fa,wa=(i("5348"),Object(g["a"])(Oa,oa,na,!1,null,"17805c4a",null)),_a=wa.exports,Ba=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseCardChart",{attrs:{title:e.title,titleRegular:e.titleRegular,settings:e.filtersConfig,isChart:""},on:{updateRefetch:function(t){e.isRefetch=!0}},scopedSlots:e._u([{key:"modal",fn:function(){return[i("TableRebookedActivitiesFilter",{attrs:{defaultFilter:e.filtersConfig,isIcon:"",isPreview:""}})]},proxy:!0}])},[i("div",{staticClass:"hoverClick",on:{click:e.openModal}},[i("TableRebookedActivitiesData",{attrs:{defaultFilter:e.filtersConfig,isPreview:"",isRefetch:e.isRefetch},on:{updateRefetch:function(t){e.isRefetch=!1}}})],1),i("TableRebookedActivitiesModal",{attrs:{isOpen:e.isOpenModal,filters:{filtersConfig:e.filtersConfig,filtersConfig:e.filtersConfig,filtersTable:e.filtersTable},title:e.title,titleRegular:e.titleRegular},on:{close:e.closeModal}})],1)},Da=[],Ma=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalChart",{attrs:{title:e.title,titleRegular:e.titleRegular,isOpen:e.isOpen},on:{close:e.closeModal},scopedSlots:e._u([{key:"filters",fn:function(){return[i("TableRebookedActivitiesFilter",{attrs:{defaultFilter:e.filters.filtersConfig}})]},proxy:!0},{key:"chart",fn:function(){return[i("TableRebookedActivitiesData",{attrs:{defaultFilter:e.filters.filtersConfig,isFull:""}})]},proxy:!0},{key:"table",fn:function(){return[i("TableActivities",{attrs:{defaultFilter:e.filters.filtersTable}})]},proxy:!0}])})},xa=[],Aa=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("BaseModalFilters",{attrs:{isOpen:e.isOpenModalFilter,isIcon:e.isIcon},on:{save:e.saveFilter,statusModal:e.statusModal}},[i("v-row",[i("v-col",{attrs:{cols:"12"}},[i("SelectActivities",{attrs:{all:"",defaultSelect:e.defaultFilter.activityTypes},on:{change:e.changeActivityTypes}})],1),i("v-col",{attrs:{cols:"12"}},[i("SelectUsers",{attrs:{all:"",defaultSelect:e.defaultFilter.users},on:{change:e.changeUsers}})],1),i("v-col",{attrs:{cols:"12"}},[i("SelectPipeline",{attrs:{defaultSelect:e.defaultFilter.pipeline},on:{change:e.changePipeline}})],1),e.filters.pipeline.id?i("v-col",{attrs:{cols:"12"}},[i("SelectStages",{attrs:{all:"",pipelineSelected:e.filters.pipeline.id},on:{change:e.changeStages}})],1):e._e(),i("v-col",{attrs:{cols:"12"}},[i("PeriodPredefined",{attrs:{defaultSelect:e.defaultFilter.periodPredefined},on:{change:e.changePeriodPredefined}})],1),e.isPreview?e._e():i("v-col",{attrs:{cols:"12"}},[i("ComparePeriodBars",{attrs:{periodPredefined:e.filters.periodPredefined[0]},on:{change:e.changeComparePeriod}})],1)],1)],1)},Ea=[],Ia=i("19c4"),ka=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-select",{attrs:{items:e.listStages,"item-value":"id","item-text":"name",label:"Elige las etapas",outlined:"",multiple:"","hide-details":"auto","return-object":"","small-chips":"",loading:e.isLoading},on:{change:e.updateSelect},scopedSlots:e._u([{key:"prepend-item",fn:function(){return[i("v-list-item",{attrs:{ripple:""},on:{click:e.toggle}},[i("v-list-item-action",[i("v-icon",{attrs:{color:e.listStages.length>0?"primary":""}},[e._v(" "+e._s(e.icon)+" ")])],1),i("v-list-item-content",[i("v-list-item-title",[e._v(" Todos ")])],1)],1),i("v-divider",{staticClass:"mt-2"})]},proxy:!0}]),model:{value:e.stagesSelected,callback:function(t){e.stagesSelected=t},expression:"stagesSelected"}})},La=[],ja=(i("fb6a"),i("9500")),Ga={name:"SelectStages",props:{all:{type:Boolean,default:!1},pipelineSelected:{type:String,default:""},defaultSelect:{type:Array,default:function(){return[]}}},data:function(){return{isLoading:!1,pipeline:{},stagesSelected:[]}},watch:{listStages:{handler:function(e){e.length&&(this.all?this.stagesSelected=e:this.defaulSelect&&this.defaulSelect.length&&(this.stagesSelected=this.defaultSelect),this.updateSelect())}}},computed:{listStages:function(){return this.pipeline.stages?this.pipeline.stages.map((function(e){var t=e.id,i=e.name;return{id:t,name:i}})):[]},allStages:function(){return this.stagesSelected.length===this.listStages.length},someStages:function(){return this.stagesSelected.length>0&&!this.listStages},icon:function(){return this.allStages?"mdi-close-box":this.someStages?"mdi-minus-box":"mdi-checkbox-blank-outline"}},methods:{updateSelect:function(){this.$emit("change",this.stagesSelected)},toggle:function(){var e=this;this.$nextTick((function(){e.allStages?e.stagesSelected=[]:e.stagesSelected=e.listStages.slice(),e.updateSelect()}))}},apollo:{pipeline:{query:ja["b"],fetchPolicy:"no-cache",variables:function(){return{pipelineId:this.pipelineSelected}},watchLoading:function(e){this.isLoading=e},skip:function(){return""===this.pipelineSelected}}}},Ha=Ga,Va=i("ce7e"),Na=i("132d"),Ua=i("da13"),Wa=i("1800"),$a=i("5d23"),za=i("b974"),qa=Object(g["a"])(Ha,ka,La,!1,null,null,null),Ya=qa.exports;R()(qa,{VDivider:Va["a"],VIcon:Na["a"],VListItem:Ua["a"],VListItemAction:Wa["a"],VListItemContent:$a["a"],VListItemTitle:$a["c"],VSelect:za["a"]});var Ka={name:"TableRebookedActivitiesFilter",components:{SelectUsers:j["a"],SelectPipeline:H["a"],SelectActivities:Ia["a"],SelectStages:Ya},mixins:[jr],props:{defaultFilter:{type:Object,default:function(){return{activityTypes:[],stages:[],users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{},typeCompare:"none"}}}},data:function(){return{filters:{activityTypes:[],stages:[],users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{},typeCompare:"none"}}},methods:{changeStages:function(e){this.filters.stages=e},saveFilter:function(){this.changeChart({id:"table-rebookedActivities",filtersFull:Object(L["a"])(Object(L["a"])({},this.noReactive(this.filters)),{},{periodRange:Object(L["a"])({__typename:"PeriodRange"},this.filters.periodRange),ownerToCompare:Object(L["a"])({},this.filters.ownerToCompare)})}),this.isOpenModalFilter=!1}}},Xa=Ka,Ja=Object(g["a"])(Xa,Aa,Ea,!1,null,"4c325de6",null),Qa=Ja.exports;R()(Ja,{VCol:y["a"],VRow:S["a"]});var Za=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.isPreview?e._e():i("ListFilters",{attrs:{settings:e.settings}}),i("div",{staticClass:"text-center bgWhite",class:[{"py-5 px-3":!e.isPreview},{showScroll:e.isWithScroll}]},[i("v-data-table",{staticClass:"elevation-1",attrs:{dense:"","item-key":"dealId",headers:e.headers,items:e.rebookedActivitiesTableGraph.mainRebookedActivities.rebookedActivities,"items-per-page":10,"server-items-length":e.rebookedActivitiesTableGraph.mainRebookedActivities.count||0,page:e.page},on:{"update:page":e.updatePage}}),e.isPreview||"date"!==e.settings.typeCompare?e._e():i("h4",[e._v(" Comparación de fecha ")]),e.isPreview||"user"!==e.settings.typeCompare?e._e():i("h4",[e._v(" Comparación con otro usuario ")]),e.isPreview||"none"===e.settings.typeCompare?e._e():i("v-data-table",{staticClass:"elevation-1",attrs:{dense:"","item-key":"dealId",headers:e.headers,items:e.listCompare,"items-per-page":10,"server-items-length":e.countCompare,page:e.page},on:{"update:page":e.updatePage}})],1)],1)},eo=[],to={name:"TableRebookedActivitiesData",mixins:[Gr],props:{defaultFilter:{type:Object,default:function(){return{activityTypes:[],stages:[],users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],typeCompare:"none"}}}},data:function(){return{page:1,headers:[{text:"Tratos",align:"start",sortable:!1,value:"dealTitle"},{text:"Total",sortable:!1,value:"total"}],listFilterBy:V["e"],rebookedActivitiesTableGraph:{mainRebookedActivities:{},secondRebookedActivities:{}},modalSettings:{activityTypes:[],stages:[],users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],typeCompare:"none"},settings:{activityTypes:[],stages:[],users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],typeCompare:"none"}}},computed:{listCompare:function(){var e;return(null===(e=this.rebookedActivitiesTableGraph.seconrebookedActivities)||void 0===e?void 0:e.rebookedActivities)||[]},countCompare:function(){var e;return(null===(e=this.rebookedActivitiesTableGraph.secondRebookedActivities)||void 0===e?void 0:e.count)||0},isWithScroll:function(){return this.isLargeWidth&&this.isPreview},filters:function(){var e={dateRange:{dateStart:this.dateStart,dateEnd:this.dateEnd},owners:this.ownersFilter,pipeline:this.pipelineFilter,activityTypes:this.settings.activityTypes.map((function(e){return{id:e.id}})),stages:this.settings.stages.map((function(e){return{id:e.id}}))};return this.ownerToCompare&&(e.ownerToCompare=this.ownerToCompare),this.dateRangeToCompare&&""!==this.dateRangeToCompare.dateStart&&""!==this.dateRangeToCompare.dateEnd&&(e.dateRangeToCompare=this.dateRangeToCompare),e}},methods:{updatePage:function(e){this.page=e},update:function(){this.$apollo.queries.rebookedActivitiesTableGraph.refetch()}},apollo:{rebookedActivitiesTableGraph:{query:O["B"],fetchPolicy:"no-cache",client:"charts",variables:function(){return{filters:this.filters}},skip:function(){return""===this.dateStart||""===this.dateEnd||!this.pipelineFilter.id||0===this.ownersFilter.length||0===this.settings.activityTypes.length||0===this.settings.stages.length},watchLoading:function(e){this.isLoading=e}}}},io=to,ro=(i("fcc0"),i("8fea")),ao=Object(g["a"])(io,Za,eo,!1,null,"3f7f4623",null),oo=ao.exports;R()(ao,{VDataTable:ro["a"]});var no={name:"TableRebookedActivitiesModal",components:{TableRebookedActivitiesFilter:Qa,TableRebookedActivitiesData:oo,TableActivities:sr["a"]},mixins:[Lr],props:{filters:{type:Object,default:function(){return{filtersConfig:{activityTypes:[],stages:[],users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{},typeCompare:"none"},filtersTable:{users:[],pipelines:[],periodRange:{start:"",end:""},dealStatus:"",typeCompare:"none",fromReportStatus:"REBOOKEDACTIVITIES"}}}}}},so=no,lo=Object(g["a"])(so,Ma,xa,!1,null,"f7cff5f8",null),po=lo.exports,co={name:"TableRebookedActivitiesPreview",components:{TableRebookedActivitiesData:oo,TableRebookedActivitiesModal:po,TableRebookedActivitiesFilter:Qa},mixins:[kr],props:{defaultPeriod:{type:String,default:"THIS_MONTH"}},data:function(){return{chartId:"table-rebookedActivities",title:"Actividades",titleRegular:"reagendadas",filtersChartsDefault:{},initFilter:{dealsFilter:"ALL",activitiesFilter:"ALL",activityTypes:[],stages:[],users:[],pipeline:{},periodRange:{start:"",end:""},periodPredefined:["THIS_MONTH"],periodRangeToCompare:{period:"",start:"",end:""},ownerToCompare:{},dealStatus:"LOST",typeCompare:"none",fromReportStatus:"REBOOKEDACTIVITIES"}}},computed:{filtersConfig:function(){var e,t,i,r,a,o,n,s,l;return{activityTypes:(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.activityTypes)||this.filtersChartsDefault.activityTypes,stages:(null===(t=this.chart.filtersFull)||void 0===t?void 0:t.stages)||this.filtersChartsDefault.stages,users:this.usersGlobal||(null===(i=this.chart.filtersFull)||void 0===i?void 0:i.users)||this.initUsers,pipeline:(null===(r=this.chart.filtersFull)||void 0===r?void 0:r.pipeline)||this.initPipeline,periodRange:this.periodRangeGlobal||(null===(a=this.chart.filtersFull)||void 0===a?void 0:a.periodRange)||this.periodRange,periodPredefined:this.periodPredefinedGlobal||(null===(o=this.chart.filtersFull)||void 0===o?void 0:o.periodPredefined)||[this.defaultPeriod]||this.initFilter.periodPredefined,periodRangeToCompare:(null===(n=this.chart.filtersFull)||void 0===n?void 0:n.periodRangeToCompare)||this.initFilter.periodRangeToCompare,ownerToCompare:(null===(s=this.chart.filtersFull)||void 0===s?void 0:s.ownerToCompare)||this.initFilter.ownerToCompare,typeCompare:(null===(l=this.chart.filtersFull)||void 0===l?void 0:l.typeCompare)||this.initFilter.typeCompare}},filtersTable:function(){var e,t=this.getPeriod(this.initFilter.periodPredefined[0]).get(),i=Object(p["a"])(t,2),r=i[0],a=i[1];return{users:this.usersGlobal||this.users||this.initUsers,pipelines:this.pipelines||[this.initPipeline],periodRange:this.periodRangeGlobal||(null===(e=this.chart.filtersFull)||void 0===e?void 0:e.periodRange)||{start:r,end:a},dealStatus:this.initFilter.dealsFilter,activitiesStatus:this.initFilter.activitiesFilter,activityTypes:this.filtersChartsDefault.activityTypes||this.initFilter.activityTypes,fromReportStatus:this.initFilter.fromReportStatus}}}},uo=co,fo=(i("af59"),Object(g["a"])(uo,Ba,Da,!1,null,"f28d74e4",null)),ho=fo.exports,vo={name:"DashboardGeneralV2",components:{CardConvertionRatePreview:n["a"],CardOpportunitySalePreview:s["a"],CardClosedDealsPreview:Z,CardClosedDealsBySalesmanPreview:Be,CardAverageDaysInPipelinePreview:De["a"],CardWonDealsEarningValuePreview:Me["a"],CardTotalIncomeGoalPreview:xe["a"],CardSentEmailsPreview:Ae["a"],CardLostDealsPreview:Ee["a"],CardConvertionRatioPreview:pt,CardBookedActivitiesInDayPreview:ct["a"],CardCompletedActivitiesPreview:ut["a"],CardEffectiveActivitiesPreview:ft["a"],CardRebookedActivitiesPreview:ht["a"],CardExpiredActivitiesPreview:vt["a"],CardIneffectiveActivitiesPreview:mt["a"],CardOpenEmailsPreview:gt["a"],CardOpenRateEmailsPreview:Ct["a"],CardTotalOpenDealsPreview:Rt["a"],CardNewDealsPreview:Tt["a"],CardAdvancedDealsPreview:yt["a"],CardRottenDealsPreview:Pt["a"],LineThroughTimeConvertionRatePreview:St["a"],LineOpportunitySalesPreview:bt["a"],LineTotalIncomeGoalPreview:Ft["a"],LineSalesGrowthMonthlyPreview:Ot["a"],LineSentEmailsByWeekPreview:ei,LineOpportunitySalesByWeekPreview:ti["a"],LineSalesCycleByMonthPreview:ii["a"],LineThroughTimeLostRatePreview:ri["a"],BarStageConvertionRatePreview:ai["a"],BarWonDealsEarningValuePreview:oi["a"],BarOpportunitySalesPreview:ni["a"],BarActivityTypeByStagePreview:si["a"],BarDealDurationByStagePreview:ji,BarActivitiesBySalesmanPreview:vr,BarActivitiesByWeekPreview:mr["a"],BarUncompletedActivitiesByStagePreview:gr["a"],BarExpiredActivitiesByStagePreview:Cr["a"],BarSalesCycleByStagePreview:Rr["a"],BarLostDealsByStagePreview:Tr["a"],DonutLostReasonPreview:yr["a"],TableActivityTypeByStagePreview:aa,TableLostOpportunitiesByStagePreview:_a,TableRebookedActivitiesPreview:ho},mixins:[o["a"]],data:function(){return{defaultPeriod:"THIS_MONTH"}}},mo=vo,go=(i("57db"),Object(g["a"])(mo,r,a,!1,null,"3f51b148",null));t["default"]=go.exports;R()(go,{VCol:y["a"],VRow:S["a"]})}}]);
//# sourceMappingURL=chunk-52b5a5c5.9c1144f5.js.map