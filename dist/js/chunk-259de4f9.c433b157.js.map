{"version":3,"sources":["webpack:///./node_modules/core-js/internals/same-value.js","webpack:///./src/graphql/mutations/companiesMutations.js","webpack:///./node_modules/core-js/modules/es.string.includes.js","webpack:///./src/graphql/mutations/contactsMutations.js","webpack:///./src/components/profile/ListContacts.vue?2e0a","webpack:///src/components/profile/ListContacts.vue","webpack:///./src/components/profile/ListContacts.vue?9323","webpack:///./src/components/profile/ListContacts.vue?3135","webpack:///./node_modules/core-js/internals/not-a-regexp.js","webpack:///./src/mixins/permissionGroupMixin.js","webpack:///./src/mixins/companiesMixin.js","webpack:///./node_modules/core-js/modules/es.string.search.js","webpack:///./src/components/profile/ListContacts.vue?6700","webpack:///./node_modules/core-js/internals/correct-is-regexp-logic.js","webpack:///./node_modules/core-js/modules/es.array.includes.js"],"names":["module","exports","Object","is","x","y","CREATE_COMPANY","gql","DELETE_COMPANIES","TRASH_COMPANIES","RESTORE_COMPANIES","UPDATE_COMPANY","FUSE_COMPANIES","UPDATE_OWNER_COMPANIES","$","notARegExp","requireObjectCoercible","correctIsRegExpLogic","target","proto","forced","includes","searchString","String","this","indexOf","arguments","length","undefined","CREATE_CONTACT","UPDATE_CONTACT","DELETE_CONTACTS","TRASH_CONTACTS","RESTORE_CONTACTS","FUSE_CONTACTS","UPDATE_OWNER_CONTACTS","render","_vm","_h","$createElement","_c","_self","attrs","staticClass","_v","scopedSlots","_u","key","fn","ref","on","_g","directives","name","rawName","value","canEditCompany","canEditCompanyOthers","item","isDelete","expression","$event","isShowAddContact","model","callback","$$v","class","isDense","updateContact","deleteContact","staticStyle","cancel","_e","disabledAddButton","isLoading","addContact","contactsSelected","_l","contact","index","id","goContact","_s","_b","isLoadingRemove","stopPropagation","disconnectContact","onMenu","onTooltip","canEditContact","owner","canEditContactOthers","edit","$set","refInFor","isValidateFormName","rules","general","cancelEdit","isLoadingChangeName","updateName","idx","modalError","modalHandlerError","staticRenderFns","components","FieldSelectContactSimple","mixins","rulesMixin","props","type","required","itemId","default","typeItem","ownerId","Array","data","UPDATE","UPDATE_OTHERS","PERMISSIONS_CONTACTS","PERMISSIONS_COMPANIES","search","contacts","listContacts","isNewContact","contactNew","userCurrent","created","formatListContacts","watch","handler","list","deep","isLoadingUpdateCompany","$refs","formContact","reset","computed","ability","menuProps","readOnly","methods","map","$router","push","formatContacts","keys","updateCompany","updateContacts","splice","$apollo","getIndexField","findIndex","text","valueBefore","apollo","query","component","VBtn","VCard","VCardText","VCardTitle","VDivider","VForm","VIcon","VListItem","VListItemAction","VListItemContent","VList","VListItemTitle","VMenu","VSpacer","VTextField","VTooltip","isRegExp","it","TypeError","permissionGroupMixin","membersGroup","canGroup","method","permission","permissionGroup","ownerCopyId","authorId","can","subject","ALL","GROUP","GET_USER_LOGGED","update","companiesMixin","address","website","socialMedias","phones","customForm","tags","deal","companyInput","mutate","mutation","variables","then","$emit","catch","error","isOpen","fixRegExpWellKnownSymbolLogic","anObject","sameValue","regExpExec","SEARCH","nativeSearch","maybeCallNative","regexp","O","searcher","call","RegExp","string","res","done","rx","S","previousLastIndex","lastIndex","result","wellKnownSymbol","MATCH","METHOD_NAME","error1","error2","$includes","addToUnscopables","el"],"mappings":"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","file":"js/chunk-259de4f9.c433b157.js","sourcesContent":["// `SameValue` abstract operation\n// https://tc39.es/ecma262/#sec-samevalue\n// eslint-disable-next-line es/no-object-is -- safe\nmodule.exports = Object.is || function is(x, y) {\n  // eslint-disable-next-line no-self-compare -- NaN check\n  return x === y ? x !== 0 || 1 / x === 1 / y : x != x && y != y;\n};\n","import gql from 'graphql-tag';\n\nexport const CREATE_COMPANY = gql`\n  mutation createCompany($input: companyCreateInput!) {\n    createCompany(companyInput: $input) {\n      id\n      name\n      address\n      website\n      phones\n      socialMedias\n      owner {\n        id\n        user {\n          id\n          name\n        }\n      }\n      tags {\n        id\n        name\n        color\n        order\n      }\n      contacts {\n        id\n        name\n      }\n    }\n  }\n`;\n\nexport const DELETE_COMPANIES = gql`\n  mutation deletedCompanies($input: [DeleteCompanyInput!]!) {\n    deletedCompanies(companies: $input) {\n      id\n      name\n    }\n  }\n`;\n\nexport const TRASH_COMPANIES = gql`\n  mutation trashCompanies($input: [DeleteCompanyInput!]!) {\n    trashCompanies(companies: $input) {\n      id\n    }\n  }\n`;\n\nexport const RESTORE_COMPANIES = gql`\n  mutation restoreCompanies($input: [DeleteCompanyInput!]!) {\n    restoreCompanies(companies: $input) {\n      id\n    }\n  }\n`;\n\nexport const UPDATE_COMPANY = gql`\n  mutation updateCompany($companyInput: companyUpdateInput!) {\n    updateCompany(companyInput: $companyInput) {\n      id\n      name\n      address\n      website\n      phones\n      customForms\n      socialMedias\n      tags {\n        id\n        name\n        color\n        order\n      }\n      owner {\n        id\n        user {\n          id\n          name\n        }\n      }\n      contacts {\n        id\n        name\n        owner {\n          id\n        }\n      }\n      deals {\n        id\n        title\n        value\n        status\n        contact {\n          id\n          name\n        }\n        company {\n          id\n          name\n        }\n        stage {\n          id\n        }\n        pipeline {\n          id\n          stages {\n            id\n          }\n        }\n        owner {\n          id\n        }\n      }\n    }\n  }\n`;\n\nexport const FUSE_COMPANIES = gql`\n  mutation FuseCompanies($input: CompaniesToFuse!) {\n    fuseCompanies(fuse: $input) {\n      id\n      name\n    }\n  }\n`;\n\nexport const UPDATE_OWNER_COMPANIES = gql`\n  mutation assignCompanies($companyListAssign: CompanyListAssign!) {\n    assignCompanies(companyListAssign: $companyListAssign)\n  }\n`;\n","'use strict';\nvar $ = require('../internals/export');\nvar notARegExp = require('../internals/not-a-regexp');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar correctIsRegExpLogic = require('../internals/correct-is-regexp-logic');\n\n// `String.prototype.includes` method\n// https://tc39.es/ecma262/#sec-string.prototype.includes\n$({ target: 'String', proto: true, forced: !correctIsRegExpLogic('includes') }, {\n  includes: function includes(searchString /* , position = 0 */) {\n    return !!~String(requireObjectCoercible(this))\n      .indexOf(notARegExp(searchString), arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","import gql from 'graphql-tag';\n\nexport const CREATE_CONTACT = gql`\n  mutation CreateContact($input: contactCreateInput!) {\n    createContact(contactInput: $input) {\n      id\n      name\n      email\n      phones\n      isClient\n      socialMedias\n      birthday\n      owner {\n        id\n        user {\n          id\n          name\n          lastName\n        }\n      }\n      tags {\n        id\n        name\n        color\n        order\n      }\n      companies {\n        id\n        name\n      }\n      isClient\n    }\n  }\n`;\n\nexport const UPDATE_CONTACT = gql`\n  mutation updateContact($contactInput: contactUpdateInput) {\n    updateContact(contactInput: $contactInput) {\n      id\n      name\n      email\n      phones\n      isClient\n      socialMedias\n      birthday\n      customForms\n      owner {\n        id\n        user {\n          id\n          name\n        }\n      }\n      enterprise {\n        id\n        name\n      }\n      tags {\n        id\n        name\n        color\n        order\n      }\n      companies {\n        id\n        name\n        owner {\n          id\n        }\n      }\n      deals {\n        id\n        title\n        value\n        status\n        contact {\n          id\n          name\n        }\n        company {\n          id\n          name\n        }\n        stage {\n          id\n        }\n        pipeline {\n          id\n          stages {\n            id\n          }\n        }\n        owner {\n          id\n        }\n      }\n      createdAt\n    }\n  }\n`;\n\nexport const DELETE_CONTACTS = gql`\n  mutation deletedContacts($input: [DeleteContactInput!]!) {\n    deletedContacts(contacts: $input) {\n      id\n      name\n    }\n  }\n`;\n\nexport const TRASH_CONTACTS = gql`\n  mutation trashContacts($input: [DeleteContactInput!]!) {\n    trashContacts(contacts: $input) {\n      id\n      name\n    }\n  }\n`;\n\nexport const RESTORE_CONTACTS = gql`\n  mutation restoreContacts($input: [DeleteContactInput!]!) {\n    restoreContacts(contacts: $input) {\n      id\n      name\n    }\n  }\n`;\n\nexport const FUSE_CONTACTS = gql`\n  mutation FuseContacts($input: ContactsToFuse!) {\n    fuseContacts(fuse: $input) {\n      id\n      name\n    }\n  }\n`;\n\nexport const UPDATE_OWNER_CONTACTS = gql`\n  mutation assignContacts($contactListAssign: ContactListAssign!) {\n    assignContacts(contactListAssign: $contactListAssign)\n  }\n`;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',{attrs:{\"tile\":\"\",\"flat\":\"\"}},[_c('v-divider'),_c('v-card-title',{staticClass:\"contacts-title py-1\"},[_c('v-icon',{staticClass:\"mr-4\",attrs:{\"color\":\"primary\"}},[_vm._v(\"mdi-account\")]),_vm._v(\" Contactos \"),_c('v-spacer'),_c('v-menu',{staticClass:\"mt-2\",attrs:{\"close-on-content-click\":false},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-btn',_vm._g({directives:[{name:\"show\",rawName:\"v-show\",value:((_vm.canEditCompany || _vm.canEditCompanyOthers) && !_vm.item.isDelete),expression:\"(canEditCompany || canEditCompanyOthers) && !item.isDelete\"}],attrs:{\"icon\":\"\"},on:{\"click\":function($event){_vm.isShowAddContact = !_vm.isShowAddContact}}},on),[_c('v-icon',[_vm._v(\"mdi-plus\")])],1)]}}]),model:{value:(_vm.isShowAddContact),callback:function ($$v) {_vm.isShowAddContact=$$v},expression:\"isShowAddContact\"}},[_c('v-card',{staticClass:\"pa-4\",attrs:{\"width\":\"18em\"}},[_c('v-form',{ref:\"formContact\"},[_c('FieldSelectContactSimple',{attrs:{\"inputProps\":{ class: 'no-icon full-width', isDense: true },\"resetHandler\":_vm.isShowAddContact},on:{\"outData\":_vm.updateContact,\"deleteData\":_vm.deleteContact}})],1),_c('div',{staticClass:\"d-flex justify-space-around pt-2 ml-2\"},[_c('v-btn',{staticStyle:{\"width\":\"45%\"},attrs:{\"color\":\"primary\",\"outlined\":\"\",\"small\":\"\"},on:{\"click\":_vm.cancel}},[_vm._v(\" Cancelar \")]),((_vm.canEditCompany || _vm.canEditCompanyOthers) && !_vm.item.isDelete)?_c('v-btn',{staticStyle:{\"width\":\"45%\"},attrs:{\"color\":\"secondary\",\"small\":\"\",\"disabled\":_vm.disabledAddButton,\"loading\":_vm.isLoading},on:{\"click\":_vm.addContact}},[_vm._v(\" Guardar \")]):_vm._e()],1)],1)],1)],1),_c('v-divider'),_c('v-card-text',{staticClass:\"pa-0\"},[_c('v-card',{attrs:{\"flat\":\"\",\"max-height\":\"20em\"}},[(_vm.contactsSelected.length === 0)?_c('div',{staticClass:\"pa-10 text-center\"},[_c('span',[_vm._v(\" No tiene contactos \")])]):_vm._l((_vm.listContacts),function(contact,index){return [_c('v-list-item',{key:contact.id,staticClass:\"Contact\",attrs:{\"outlined\":\"\"}},[_c('v-list-item-content',[_c('v-list-item-title',{staticClass:\"Contact__title\"},[[_c('div',{staticClass:\"Contact__box\",on:{\"click\":function($event){return _vm.goContact(contact.id)}}},[_c('v-icon',[_vm._v(\"mdi-account\")]),_c('span',{staticClass:\"Contact__box_name\"},[_vm._v(\" \"+_vm._s(contact.name)+\" \")])],1)]],2)],1),_c('v-list-item-action',{staticClass:\"Contact__edit\"},[_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [(_vm.canEditCompany || _vm.canEditCompanyOthers)?_c('v-btn',_vm._g(_vm._b({staticClass:\"mr-2 mt-2\",attrs:{\"color\":\"grey\",\"outlined\":\"\",\"x-small\":\"\",\"loading\":_vm.isLoadingRemove},on:{\"click\":function($event){$event.stopPropagation();return _vm.disconnectContact(contact.id)}}},'v-btn',attrs,false),on),[_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"mdi-connection\")])],1):_vm._e()]}}],null,true)},[_c('span',[_vm._v(\"Desvincular\")])]),_c('v-menu',{attrs:{\"close-on-content-click\":false},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar onMenu = ref.on;\nreturn [_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar onTooltip = ref.on;\nreturn [(\n                        (_vm.canEditContact(contact.owner) ||\n                          _vm.canEditContactOthers(contact.owner)) &&\n                          (_vm.canEditCompany || _vm.canEditCompanyOthers) &&\n                          !_vm.item.isDelete\n                      )?_c('v-btn',_vm._g({staticClass:\"mt-2\",attrs:{\"color\":\"secondary\",\"x-small\":\"\"},on:{\"click\":function($event){$event.stopPropagation();contact.edit = true}}},{ onMenu: onMenu, onTooltip: onTooltip }),[_c('v-icon',{attrs:{\"small\":\"\",\"color\":\"white\"}},[_vm._v(\"mdi-pencil\")])],1):_vm._e()]}}],null,true)},[_c('span',[_vm._v(\"Cambiar nombre\")])])]}}],null,true),model:{value:(contact.edit),callback:function ($$v) {_vm.$set(contact, \"edit\", $$v)},expression:\"contact.edit\"}},[_c('v-card',{staticClass:\"pa-4\",attrs:{\"width\":\"18em\"}},[_c('v-form',{ref:(\"form-\" + index),refInFor:true,attrs:{\"lazy-validation\":\"\"},model:{value:(_vm.isValidateFormName),callback:function ($$v) {_vm.isValidateFormName=$$v},expression:\"isValidateFormName\"}},[_c('v-text-field',{attrs:{\"label\":\"Nombre\",\"maxlength\":\"50\",\"dense\":\"\",\"outlined\":\"\",\"hide-details\":\"auto\",\"rules\":_vm.rules.general},model:{value:(contact.name),callback:function ($$v) {_vm.$set(contact, \"name\", $$v)},expression:\"contact.name\"}}),_c('div',{staticClass:\"d-flex justify-center mt-1\"},[_c('v-btn',{staticClass:\"mr-2\",staticStyle:{\"width\":\"45%\"},attrs:{\"x-small\":\"\",\"color\":\"primary\",\"outlined\":\"\"},on:{\"click\":function($event){return _vm.cancelEdit(contact.id)}}},[_vm._v(\" Cancelar \")]),(\n                        (_vm.canEditContact(contact.owner) ||\n                          _vm.canEditContactOthers(contact.owner)) &&\n                          (_vm.canEditCompany || _vm.canEditCompanyOthers) &&\n                          !_vm.item.isDelete\n                      )?_c('v-btn',{staticStyle:{\"width\":\"45%\"},attrs:{\"x-small\":\"\",\"color\":\"secondary\",\"loading\":_vm.isLoadingChangeName},on:{\"click\":function($event){return _vm.updateName({\n                          id: contact.id,\n                          name: contact.name,\n                          idx: index,\n                        })}}},[_vm._v(\" Guardar \")]):_vm._e()],1)],1)],1)],1)],1)],1)]})],2)],1),_c('BaseModalError',{attrs:{\"modalHandler\":_vm.modalError},on:{\"close\":_vm.modalHandlerError}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-card tile flat>\n    <v-divider />\n    <v-card-title class=\"contacts-title py-1\">\n      <v-icon color=\"primary\" class=\"mr-4\">mdi-account</v-icon>\n      Contactos\n      <v-spacer></v-spacer>\n      <v-menu\n        v-model=\"isShowAddContact\"\n        class=\"mt-2\"\n        :close-on-content-click=\"false\"\n      >\n        <template v-slot:activator=\"{ on }\">\n          <v-btn\n            v-show=\"(canEditCompany || canEditCompanyOthers) && !item.isDelete\"\n            icon\n            @click=\"isShowAddContact = !isShowAddContact\"\n            v-on=\"on\"\n          >\n            <v-icon>mdi-plus</v-icon>\n          </v-btn>\n        </template>\n        <v-card class=\"pa-4\" width=\"18em\">\n          <v-form ref=\"formContact\">\n            <FieldSelectContactSimple\n              :inputProps=\"{ class: 'no-icon full-width', isDense: true }\"\n              :resetHandler=\"isShowAddContact\"\n              @outData=\"updateContact\"\n              @deleteData=\"deleteContact\"\n            />\n          </v-form>\n          <div class=\"d-flex justify-space-around pt-2 ml-2\">\n            <v-btn\n              style=\"width:45%\"\n              color=\"primary\"\n              outlined\n              small\n              @click=\"cancel\"\n            >\n              Cancelar\n            </v-btn>\n            <v-btn\n              style=\"width:45%\"\n              v-if=\"(canEditCompany || canEditCompanyOthers) && !item.isDelete\"\n              color=\"secondary\"\n              small\n              @click=\"addContact\"\n              :disabled=\"disabledAddButton\"\n              :loading=\"isLoading\"\n            >\n              Guardar\n            </v-btn>\n          </div>\n        </v-card>\n      </v-menu>\n    </v-card-title>\n    <v-divider></v-divider>\n    <v-card-text class=\"pa-0\">\n      <v-card flat max-height=\"20em\">\n        <div v-if=\"contactsSelected.length === 0\" class=\"pa-10 text-center\">\n          <span>\n            No tiene contactos\n          </span>\n        </div>\n        <template v-else v-for=\"(contact, index) in listContacts\">\n          <v-list-item class=\"Contact\" :key=\"contact.id\" outlined>\n            <v-list-item-content>\n              <v-list-item-title class=\"Contact__title\">\n                <template>\n                  <div class=\"Contact__box\" @click=\"goContact(contact.id)\">\n                    <v-icon>mdi-account</v-icon>\n                    <span class=\"Contact__box_name\">\n                      {{ contact.name }}\n                    </span>\n                  </div>\n                </template>\n              </v-list-item-title>\n            </v-list-item-content>\n            <v-list-item-action class=\"Contact__edit\">\n              <v-tooltip bottom>\n                <template v-slot:activator=\"{ on, attrs }\">\n                  <v-btn\n                    v-if=\"canEditCompany || canEditCompanyOthers\"\n                    color=\"grey\"\n                    outlined\n                    x-small\n                    class=\"mr-2 mt-2\"\n                    @click.stop=\"disconnectContact(contact.id)\"\n                    v-bind=\"attrs\"\n                    v-on=\"on\"\n                    :loading=\"isLoadingRemove\"\n                  >\n                    <v-icon small>mdi-connection</v-icon>\n                  </v-btn>\n                </template>\n                <span>Desvincular</span>\n              </v-tooltip>\n              <v-menu v-model=\"contact.edit\" :close-on-content-click=\"false\">\n                <template v-slot:activator=\"{ on: onMenu }\">\n                  <v-tooltip bottom>\n                    <template v-slot:activator=\"{ on: onTooltip }\">\n                      <v-btn\n                        v-if=\"\n                          (canEditContact(contact.owner) ||\n                            canEditContactOthers(contact.owner)) &&\n                            (canEditCompany || canEditCompanyOthers) &&\n                            !item.isDelete\n                        \"\n                        color=\"secondary\"\n                        x-small\n                        class=\"mt-2\"\n                        @click.stop=\"contact.edit = true\"\n                        v-on=\"{ onMenu, onTooltip }\"\n                      >\n                        <v-icon small color=\"white\">mdi-pencil</v-icon>\n                      </v-btn>\n                    </template>\n                    <span>Cambiar nombre</span>\n                  </v-tooltip>\n                </template>\n                <v-card class=\"pa-4\" width=\"18em\">\n                  <v-form\n                    :ref=\"`form-${index}`\"\n                    v-model=\"isValidateFormName\"\n                    lazy-validation\n                  >\n                    <v-text-field\n                      v-model=\"contact.name\"\n                      label=\"Nombre\"\n                      maxlength=\"50\"\n                      dense\n                      outlined\n                      hide-details=\"auto\"\n                      :rules=\"rules.general\"\n                    ></v-text-field>\n\n                    <div class=\"d-flex justify-center mt-1\">\n                      <v-btn\n                        x-small\n                        color=\"primary\"\n                        style=\"width:45%\"\n                        outlined\n                        class=\"mr-2\"\n                        @click=\"cancelEdit(contact.id)\"\n                      >\n                        Cancelar\n                      </v-btn>\n                      <v-btn\n                        v-if=\"\n                          (canEditContact(contact.owner) ||\n                            canEditContactOthers(contact.owner)) &&\n                            (canEditCompany || canEditCompanyOthers) &&\n                            !item.isDelete\n                        \"\n                        style=\"width:45%\"\n                        x-small\n                        color=\"secondary\"\n                        :loading=\"isLoadingChangeName\"\n                        @click=\"\n                          updateName({\n                            id: contact.id,\n                            name: contact.name,\n                            idx: index,\n                          })\n                        \"\n                      >\n                        Guardar\n                      </v-btn>\n                    </div>\n                  </v-form>\n                </v-card>\n              </v-menu>\n            </v-list-item-action>\n          </v-list-item>\n        </template>\n      </v-card>\n    </v-card-text>\n    <BaseModalError :modalHandler=\"modalError\" @close=\"modalHandlerError\" />\n  </v-card>\n</template>\n\n<script>\nimport { subject } from '@casl/ability';\nimport ability from '@/services/ability';\nimport { permissionGroupMixin } from '@/mixins/permissionGroupMixin';\nimport { UPDATE, UPDATE_OTHERS } from '@/constants/methods';\nimport {\n  PERMISSIONS_CONTACTS,\n  PERMISSIONS_COMPANIES,\n} from '@/constants/permissions';\n// Mutations\nimport { UPDATE_CONTACT } from '@/graphql/mutations/contactsMutations';\n// Mixins\nimport { rulesMixin } from '@/mixins/rulesMixin';\n// Constants\nimport { GET_USER_LOGGED } from '@/graphql/local-state/queries';\nimport { modalsAlertsMixin } from '@/mixins/alerts/modalsAlertsMixin';\nimport { companiesMixin } from '@/mixins/companiesMixin';\n\nexport default {\n  name: 'ListContacts',\n  components: {\n    FieldSelectContactSimple: () =>\n      import('@/components/fields/FieldSelectContactSimple.vue'),\n  },\n  mixins: [rulesMixin, permissionGroupMixin, modalsAlertsMixin, companiesMixin],\n  props: {\n    item: {\n      type: Object,\n      required: true,\n    },\n    itemId: {\n      type: String,\n      default: '',\n      required: true,\n    },\n    typeItem: {\n      type: String,\n      required: true,\n      default: 'CONTACT',\n    },\n    ownerId: {\n      type: String,\n      default: '',\n    },\n    contactsSelected: {\n      type: Array,\n      default: () => [],\n    },\n  },\n  data() {\n    return {\n      UPDATE,\n      UPDATE_OTHERS,\n      PERMISSIONS_CONTACTS,\n      PERMISSIONS_COMPANIES,\n      search: '',\n      contact: '',\n      contacts: {},\n      isLoading: false,\n      listContacts: [],\n      isNewContact: false,\n      isLoadingRemove: false,\n      isShowAddContact: false,\n      isValidateFormName: true,\n      isLoadingChangeName: false,\n      contactNew: {\n        id: '',\n        name: '',\n      },\n      userCurrent: {},\n    };\n  },\n  created() {\n    // Update list contacts\n    this.listContacts = this.formatListContacts(this.contactsSelected);\n  },\n  watch: {\n    // Update list contacts\n    contactsSelected: {\n      handler(list) {\n        this.listContacts = this.formatListContacts(list);\n      },\n      deep: true,\n    },\n    // Control new contact and assign value\n    contact(value) {\n      if (value && value.id) {\n        this.isNewContact = false;\n        this.contactNew = { id: value.id, name: '' };\n      } else if (value) {\n        this.isNewContact = true;\n        this.contactNew = { id: '', name: value };\n      } else {\n        this.contactNew = { id: '', name: '' };\n      }\n    },\n    isLoadingUpdateCompany(value) {\n      if (!value) {\n        this.isLoading = false;\n        // Reset variables\n        this.contact = '';\n        if (this.isShowAddContact) {\n          this.$refs.formContact.reset();\n        }\n        this.isShowAddContact = false;\n        this.isLoadingRemove = false;\n        this.contactNew = {\n          id: '',\n          name: '',\n        };\n      }\n    },\n  },\n  computed: {\n    canEditCompany() {\n      return ability.can(\n        UPDATE,\n        subject(PERMISSIONS_COMPANIES, { authorId: this.ownerId || '' }),\n      );\n    },\n    canEditCompanyOthers() {\n      if (!this.canEditCompany) {\n        return (\n          ability.can(UPDATE_OTHERS, PERMISSIONS_COMPANIES) &&\n          !ability.can(\n            UPDATE_OTHERS,\n            subject(PERMISSIONS_COMPANIES, {\n              authorId: this.ownerId || '',\n            }),\n          )\n        );\n      }\n      return ability.can(\n        UPDATE,\n        subject(PERMISSIONS_COMPANIES, { authorId: this.ownerId || '' }),\n      );\n    },\n    // Hide the submenu when search is empty\n    menuProps() {\n      return !this.search ? { value: false } : {};\n    },\n    readOnly() {\n      if (\n        this.contact === null ||\n        this.contact === undefined ||\n        this.contact === ''\n      ) {\n        return false;\n      }\n      return true;\n    },\n    disabledAddButton() {\n      if (this.contactNew.id || this.contactNew.name) return false;\n      return true;\n    },\n  },\n  methods: {\n    canEditContact(owner) {\n      return ability.can(\n        UPDATE,\n        subject(PERMISSIONS_CONTACTS, { authorId: owner.id || '' }),\n      );\n    },\n    canEditContactOthers(owner) {\n      if (!this.canEditContact(owner)) {\n        return (\n          ability.can(UPDATE_OTHERS, PERMISSIONS_CONTACTS) &&\n          !ability.can(\n            UPDATE_OTHERS,\n            subject(PERMISSIONS_CONTACTS, {\n              authorId: owner.id || '',\n            }),\n          )\n        );\n      }\n      return ability.can(\n        UPDATE_OTHERS,\n        subject(PERMISSIONS_CONTACTS, { authorId: owner.id || '' }),\n      );\n    },\n    updateContact(index, value) {\n      this.contactNew = value;\n    },\n    deleteContact() {\n      this.contactNew = {\n        id: '',\n        name: '',\n      };\n    },\n    // Format list contacts\n    formatListContacts(list) {\n      return list.map((contact) => {\n        return {\n          id: contact.id,\n          name: contact.name,\n          edit: false,\n          owner: contact.owner,\n        };\n      });\n    },\n    // Reedirect to contact by ID\n    goContact(id) {\n      this.$router.push({ name: 'contact', params: { id } }, () => {});\n    },\n    // Cancel add contact and reset\n    cancel() {\n      // Reset contact new\n      this.contact = '';\n      this.contactNew = {\n        id: '',\n        name: '',\n      };\n      // Hide add contact\n      this.isShowAddContact = false;\n    },\n    // Format contacts to send in Mutation\n    formatContacts(contacts) {\n      return contacts.map((contact) => {\n        return { id: contact.id };\n      });\n    },\n    // Mutation to add contact\n    addContact() {\n      if (this.canEditCompany) {\n        // Check a contact if is new or selected of the list\n        // const result = this.checkContact(this.contactNew);\n        // Is empty?\n        if (Object.keys(this.contactNew).length !== 0) {\n          // Active loading\n          this.isLoading = true;\n          // Mutation update company\n          this.updateCompany({ id: this.itemId, contact: this.contactNew });\n        }\n      }\n    },\n    // Remove relation contact of the company by id\n    disconnectContact(id) {\n      if (this.canEditCompany) {\n        this.isLoadingRemove = true;\n        // Assign list contact and remove the reactive\n        const listContacts = JSON.parse(JSON.stringify(this.contactsSelected));\n        // Format list contacts to save\n        const updateContacts = this.formatContacts(listContacts);\n        // Get index to remove\n        const index = updateContacts.findIndex((item) => item.id === id);\n        // Remove contact of the list\n        updateContacts.splice(index, 1);\n        // Mutation to update company and remove the contact\n        this.updateCompany({\n          id: this.itemId,\n          contact: { disconnect: { id } },\n        });\n      }\n    },\n    // Update name's contact\n    updateName({ id, name, idx }) {\n      if (this.canEditContact) {\n        // Validate array of forms with input name\n        this.$refs[`form-${idx}`][0].validate();\n        // Is valid?\n        if (this.isValidateFormName) {\n          // Active loading\n          this.isLoadingChangeName = true;\n          // Mutation to update name's contact\n          this.$apollo\n            .mutate({\n              // Query\n              mutation: UPDATE_CONTACT,\n              // Parameters\n              variables: {\n                contactInput: {\n                  id,\n                  name,\n                },\n              },\n            })\n            .then(({ data: { updateContact } }) => {\n              this.$emit('updateCompanyContact', updateContact, idx);\n              // Desactive loading\n              this.isLoadingChangeName = false;\n              // Reset validation\n              this.isValidateFormName = false;\n            })\n            .catch(() => {\n              // Desactive loading\n              this.isLoadingChangeName = false;\n              // Reset validation\n              this.isValidateFormName = false;\n              const error =\n                'No se pudo actualizar el nombre, intente de nuevo o contacte a soporte';\n              this.modalHandlerError({ isOpen: true, error });\n            });\n        }\n      }\n    },\n    // Get index of list contact by id\n    getIndexField(id) {\n      return this.listContacts.findIndex((contact) => contact.id === id);\n    },\n    // Name to search in combobox\n    text(value) {\n      return `${value.name}`;\n    },\n    // Cancel edit\n    cancelEdit(id) {\n      // Search index into list contacts\n      const index = this.getIndexField(id);\n      // Close edit\n      this.listContacts[index].edit = false;\n      // Find the value before\n      const valueBefore = this.contactsSelected.find(\n        (contactBefore) => contactBefore.id === id,\n      ).name;\n      // Reset value to the before\n      this.listContacts[index].name = valueBefore;\n    },\n  },\n  apollo: {\n    userCurrent: {\n      query: GET_USER_LOGGED,\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import '{ .Contact .contacts-title} from ../../../../scss/components/list.contacts';\n</style>\n","import mod from \"-!../../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/@vue/cli-plugin-babel/node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ListContacts.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/@vue/cli-plugin-babel/node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ListContacts.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ListContacts.vue?vue&type=template&id=adb643ac&scoped=true&\"\nimport script from \"./ListContacts.vue?vue&type=script&lang=js&\"\nexport * from \"./ListContacts.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ListContacts.vue?vue&type=style&index=0&id=adb643ac&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"adb643ac\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemAction } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VTooltip } from 'vuetify/lib/components/VTooltip';\ninstallComponents(component, {VBtn,VCard,VCardText,VCardTitle,VDivider,VForm,VIcon,VListItem,VListItemAction,VListItemContent,VListItemTitle,VMenu,VSpacer,VTextField,VTooltip})\n","var isRegExp = require('../internals/is-regexp');\n\nmodule.exports = function (it) {\n  if (isRegExp(it)) {\n    throw TypeError(\"The method doesn't accept regular expressions\");\n  } return it;\n};\n","import { subject } from '@casl/ability';\nimport ability from '@/services/ability';\nimport { ALL, GROUP } from '@/constants/methods';\nimport { GET_USER_LOGGED } from '@/graphql/local-state/queries';\n\nexport const permissionGroupMixin = {\n  data() {\n    return {\n      membersGroup: [],\n    };\n  },\n  methods: {\n    canGroup(method, permission, permissionGroup, owner) {\n      const ownerCopyId = owner.authorId;\n      if (ownerCopyId) {\n        return (\n          ability.can(method, subject(permission, { authorId: ownerCopyId })) ||\n          (ability.can(ALL, permissionGroup) &&\n            ability.can(method, permission)) ||\n          (ability.can(GROUP, permissionGroup) &&\n            this.membersGroup.includes(ownerCopyId) &&\n            ability.can(method, permission))\n        );\n      }\n      return false;\n    },\n  },\n  apollo: {\n    membersGroup: {\n      query: GET_USER_LOGGED,\n      update({ userCurrent }) {\n        return userCurrent.membersGroup;\n      },\n    },\n  },\n};\n","import { UPDATE_COMPANY } from '@/graphql/mutations/companiesMutations';\n// import { GET_COMPANY } from '@/graphql/querys/companiesQuery';\n\nexport const companiesMixin = {\n  data() {\n    return {\n      isLoadingUpdateCompany: false,\n    };\n  },\n  methods: {\n    updateCompany({\n      id,\n      name,\n      address,\n      website,\n      socialMedias,\n      phones,\n      customForm,\n      contact,\n      tags,\n      owner,\n      deal,\n    }) {\n      this.isLoadingUpdateCompany = true;\n      const companyInput = {};\n      companyInput.id = id;\n      if (name) {\n        companyInput.name = name;\n      }\n      if (address) {\n        companyInput.address = address;\n      }\n      if (website) {\n        companyInput.website = website;\n      }\n      if (socialMedias) {\n        companyInput.socialMedias = socialMedias;\n      }\n      if (phones) {\n        companyInput.phones = phones;\n      }\n      if (customForm) {\n        companyInput.customForm = customForm;\n      }\n      if (contact) {\n        companyInput.contact = contact;\n      }\n      if (tags) {\n        companyInput.tags = tags;\n      }\n      if (owner) {\n        companyInput.owner = owner;\n      }\n      if (deal) {\n        companyInput.deal = deal;\n      }\n      this.$apollo\n        .mutate({\n          // Query\n          mutation: UPDATE_COMPANY,\n          // Parameters\n          variables: {\n            companyInput,\n          },\n        })\n        .then(({ data: { updateCompany } }) => {\n          this.$emit('updateItem', updateCompany);\n          this.$emit('updateHistory');\n          // Close edit field\n          this.isLoadingUpdateCompany = false;\n        })\n        .catch(() => {\n          this.isLoadingUpdateCompany = false;\n          // Error\n          const error =\n            'No se pudo actualizar la empresa, intente de nuevo o contacte a soporte';\n          this.modalHandlerError({ isOpen: true, error });\n        });\n    },\n  },\n};\n","'use strict';\nvar fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');\nvar anObject = require('../internals/an-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar sameValue = require('../internals/same-value');\nvar regExpExec = require('../internals/regexp-exec-abstract');\n\n// @@search logic\nfixRegExpWellKnownSymbolLogic('search', function (SEARCH, nativeSearch, maybeCallNative) {\n  return [\n    // `String.prototype.search` method\n    // https://tc39.es/ecma262/#sec-string.prototype.search\n    function search(regexp) {\n      var O = requireObjectCoercible(this);\n      var searcher = regexp == undefined ? undefined : regexp[SEARCH];\n      return searcher !== undefined ? searcher.call(regexp, O) : new RegExp(regexp)[SEARCH](String(O));\n    },\n    // `RegExp.prototype[@@search]` method\n    // https://tc39.es/ecma262/#sec-regexp.prototype-@@search\n    function (string) {\n      var res = maybeCallNative(nativeSearch, this, string);\n      if (res.done) return res.value;\n\n      var rx = anObject(this);\n      var S = String(string);\n\n      var previousLastIndex = rx.lastIndex;\n      if (!sameValue(previousLastIndex, 0)) rx.lastIndex = 0;\n      var result = regExpExec(rx, S);\n      if (!sameValue(rx.lastIndex, previousLastIndex)) rx.lastIndex = previousLastIndex;\n      return result === null ? -1 : result.index;\n    }\n  ];\n});\n","export * from \"-!../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ListContacts.vue?vue&type=style&index=0&id=adb643ac&lang=scss&scoped=true&\"","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\n\nmodule.exports = function (METHOD_NAME) {\n  var regexp = /./;\n  try {\n    '/./'[METHOD_NAME](regexp);\n  } catch (error1) {\n    try {\n      regexp[MATCH] = false;\n      return '/./'[METHOD_NAME](regexp);\n    } catch (error2) { /* empty */ }\n  } return false;\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar $includes = require('../internals/array-includes').includes;\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\n// `Array.prototype.includes` method\n// https://tc39.es/ecma262/#sec-array.prototype.includes\n$({ target: 'Array', proto: true }, {\n  includes: function includes(el /* , fromIndex = 0 */) {\n    return $includes(this, el, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('includes');\n"],"sourceRoot":""}