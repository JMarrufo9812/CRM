{"version":3,"sources":["webpack:///./src/components/users/ModalGroup.vue?348d","webpack:///src/components/users/ModalGroup.vue","webpack:///./src/components/users/ModalGroup.vue?ba40","webpack:///./src/components/users/ModalGroup.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","model","value","modalHandler","callback","$$v","$set","expression","staticClass","_v","_s","isEdit","group","on","close","ref","isValidate","rules","general","newGroup","isError","error","permissions","length","permissionsu","permissionsSelected","isLoading","outData","staticRenderFns","name","mixins","rulesMixin","components","ListGroupPermissions","props","required","type","Object","default","Array","loadingPermissions","Boolean","data","show","watch","JSON","parse","stringify","isOpen","resetValues","methods","map","$refs","formGroup","validate","$emit","resetValidation","component","VAlert","VBtn","VCard","VCardActions","VCardText","VCardTitle","VDialog","VForm","VIcon","VTextField"],"mappings":"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","file":"js/chunk-745322de.b922f9bf.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-dialog',{attrs:{\"persistent\":\"\",\"max-width\":\"450px\",\"scrollable\":\"\"},model:{value:(_vm.modalHandler.isOpen),callback:function ($$v) {_vm.$set(_vm.modalHandler, \"isOpen\", $$v)},expression:\"modalHandler.isOpen\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"primary d-flex justify-space-between py-6\"},[_c('span',{staticClass:\"white--text ml-2\"},[_vm._v(\" \"+_vm._s(_vm.modalHandler.isEdit ? (\"Agregar usuarios a \" + (_vm.group.name)) : 'Agregar Grupo')+\" \")]),_c('div',[_c('v-icon',{staticClass:\"white--text\",on:{\"click\":_vm.close}},[_vm._v(\" mdi-close \")])],1)]),_c('v-card-text',{staticClass:\"pt-10\"},[_c('v-form',{ref:\"formGroup\",model:{value:(_vm.isValidate),callback:function ($$v) {_vm.isValidate=$$v},expression:\"isValidate\"}},[_c('v-text-field',{staticClass:\"mx-6\",attrs:{\"rules\":_vm.rules.general,\"label\":\"Nombre\",\"counter\":\"\",\"maxlength\":\"25\",\"outlined\":\"\",\"required\":\"\"},model:{value:(_vm.newGroup.name),callback:function ($$v) {_vm.$set(_vm.newGroup, \"name\", $$v)},expression:\"newGroup.name\"}}),_c('v-alert',{attrs:{\"dense\":\"\",\"outlined\":\"\",\"type\":\"error\",\"dismissible\":\"\"},model:{value:(_vm.isError.show),callback:function ($$v) {_vm.$set(_vm.isError, \"show\", $$v)},expression:\"isError.show\"}},[_vm._v(\" \"+_vm._s(_vm.isError.error)+\" \")]),_c('p',{staticClass:\"ml-6 black--text\"},[_vm._v(\" selecciona los permisos del nuevo grupo: \")]),_c('ListGroupPermissions',{attrs:{\"permissions\":_vm.permissions.length > 0 ? _vm.permissions : this.newGroup.permissionsu,\"isModal\":true},on:{\"emitPermissions\":_vm.permissionsSelected}})],1)],1),_c('v-card-actions',{staticClass:\"d-flex justify-space-between\"},[_c('v-btn',{staticClass:\"mr-8\",attrs:{\"large\":\"\",\"tile\":\"\",\"outlined\":\"\",\"color\":\"primary\"},on:{\"click\":_vm.close}},[_vm._v(\" cancelar \")]),_c('v-btn',{attrs:{\"large\":\"\",\"tile\":\"\",\"normal\":\"\",\"color\":\"secondary\",\"loading\":_vm.modalHandler.isLoading},on:{\"click\":_vm.outData}},[_vm._v(\" Guardar \")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-dialog\n    v-model=\"modalHandler.isOpen\"\n    persistent\n    max-width=\"450px\"\n    scrollable\n  >\n    <v-card>\n      <v-card-title class=\"primary d-flex justify-space-between py-6\">\n        <span class=\"white--text ml-2\">\n          {{\n            modalHandler.isEdit\n              ? `Agregar usuarios a ${group.name}`\n              : 'Agregar Grupo'\n          }}\n        </span>\n        <div>\n          <v-icon @click=\"close\" class=\"white--text\">\n            mdi-close\n          </v-icon>\n        </div>\n      </v-card-title>\n\n      <v-card-text class=\"pt-10\">\n        <v-form ref=\"formGroup\" v-model=\"isValidate\">\n          <v-text-field\n            v-model=\"newGroup.name\"\n            :rules=\"rules.general\"\n            label=\"Nombre\"\n            class=\"mx-6\"\n            counter\n            maxlength=\"25\"\n            outlined\n            required\n          ></v-text-field>\n          <v-alert\n            dense\n            outlined\n            type=\"error\"\n            v-model=\"isError.show\"\n            dismissible\n          >\n            {{ isError.error }}\n          </v-alert>\n          <p class=\"ml-6 black--text\">\n            selecciona los permisos del nuevo grupo:\n          </p>\n          <ListGroupPermissions\n            :permissions=\"\n              permissions.length > 0 ? permissions : this.newGroup.permissionsu\n            \"\n            :isModal=\"true\"\n            @emitPermissions=\"permissionsSelected\"\n          />\n        </v-form>\n      </v-card-text>\n      <v-card-actions class=\"d-flex justify-space-between\">\n        <v-btn class=\"mr-8\" large tile outlined color=\"primary\" @click=\"close\">\n          cancelar\n        </v-btn>\n        <v-btn\n          large\n          tile\n          normal\n          color=\"secondary\"\n          @click=\"outData\"\n          :loading=\"modalHandler.isLoading\"\n        >\n          Guardar\n        </v-btn>\n      </v-card-actions>\n    </v-card>\n  </v-dialog>\n</template>\n\n<script>\nimport { rulesMixin } from '@/mixins/rulesMixin';\n\nexport default {\n  name: 'ModalGroup',\n  mixins: [rulesMixin],\n  components: {\n    ListGroupPermissions: () =>\n      import('@/components/users/ListGroupPermissions.vue'),\n  },\n  props: {\n    // manejador de modal\n    modalHandler: {\n      required: true,\n      type: Object,\n      default: () => {\n        return { isOpen: false, isLoading: false };\n      },\n    },\n    // permisos para seleccionar\n    permissions: {\n      required: true,\n      type: [Array, Object],\n      default: () => {\n        return [];\n      },\n    },\n    // grupo a editar cuando se esta en ese modo\n    group: {\n      required: false,\n      type: Object,\n      default: () => {\n        return {};\n      },\n    },\n    loadingPermissions: {\n      required: true,\n      type: Boolean,\n    },\n  },\n  data() {\n    return {\n      // validacion de formulario\n      isValidate: true,\n      // manejador de error dentro del modal\n      isError: {\n        show: false,\n        error: '',\n      },\n      // objeto a enviar\n      newGroup: {\n        name: '',\n        permissions: [],\n      },\n    };\n  },\n  watch: {\n    permissions(value) {\n      if (value) {\n        this.newGroup.permissions = JSON.parse(JSON.stringify(value));\n      }\n    },\n    // manejador de modal\n    modalHandler({ isOpen }) {\n      if (!isOpen) {\n        // resete valores cuando se cierra el modal\n        this.resetValues();\n      }\n    },\n  },\n  methods: {\n    // rebibe los permisos seleccionados\n    permissionsSelected(type, data) {\n      // el tipe no tiene utilidad aqui solo pasamos los permisos\n      this.newGroup.permissions = data;\n    },\n    // emite los datos\n    outData() {\n      // modo editar\n      // modo crear\n      // le damos formato a los permisos que se enviaran\n      this.newGroup.permissions = this.newGroup.permissions.map(\n        ({ name, methods }) => {\n          return { name, methods };\n        },\n      );\n      this.$refs.formGroup.validate();\n      // validacion de permisos\n      if (this.newGroup.permissions.length === 0) {\n        // manejador de error\n        this.isError = {\n          show: true,\n          error: 'Selecciona mínimo un permiso',\n        };\n      } else if (this.isValidate) {\n        this.$emit('newGroup', this.newGroup);\n      }\n    },\n    // cierra el modal\n    close() {\n      this.$emit('close', { isOpen: false, isLoading: false });\n    },\n    // reseteamos valores y validaciones\n    resetValues() {\n      this.$refs.formGroup.resetValidation();\n      this.isError = {\n        show: false,\n        error: '',\n      };\n      this.newGroup = {\n        name: '',\n        permissions: [],\n      };\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/@vue/cli-plugin-babel/node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ModalGroup.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/@vue/cli-plugin-babel/node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ModalGroup.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ModalGroup.vue?vue&type=template&id=78f7b6ab&\"\nimport script from \"./ModalGroup.vue?vue&type=script&lang=js&\"\nexport * from \"./ModalGroup.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAlert } from 'vuetify/lib/components/VAlert';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VAlert,VBtn,VCard,VCardActions,VCardText,VCardTitle,VDialog,VForm,VIcon,VTextField})\n"],"sourceRoot":""}