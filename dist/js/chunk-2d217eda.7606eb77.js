(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d217eda"],{c98f:function(e,a,i){"use strict";i.r(a);var t=function(){var e=this,a=e.$createElement,i=e._self._c||a;return i("v-dialog",{attrs:{width:"570",scrollable:"",persistent:""},model:{value:e.modalHandler.isOpen,callback:function(a){e.$set(e.modalHandler,"isOpen",a)},expression:"modalHandler.isOpen"}},[i("v-card",[i("v-card-title",{staticClass:"primary d-flex justify-space-between py-6"},[i("span",{staticClass:"white--text ml-9"},[e._v(" Agregar usuario ")]),i("div",[i("v-icon",{staticClass:"white--text",on:{click:e.close}},[e._v(" mdi-close ")])],1)]),i("v-card-text",[i("v-form",{ref:"formUser",model:{value:e.isValidate,callback:function(a){e.isValidate=a},expression:"isValidate"}},[i("v-container",[i("v-row",[i("v-col",{attrs:{cols:"12",md:"7"}},[i("v-text-field",{attrs:{rules:e.rules.email.concat(e.rules.isRequired),loading:e.isLoadingCheckingUser,"error-messages":e.existEmail?"El usuario ya está registrado en la empresa":"",outlined:"",label:"Correo",required:"",maxlength:"50",counter:"","hide-details":"auto"},on:{input:function(a){return e.checkEmail(e.newUser.user.email)}},scopedSlots:e._u([{key:"append",fn:function(){return[e.existEmail?i("v-tooltip",{attrs:{right:"","max-width":"10%"},scopedSlots:e._u([{key:"activator",fn:function(a){var t=a.on,s=a.attrs;return[i("v-icon",e._g(e._b({},"v-icon",s,!1),t),[e._v(" mdi-information-outline ")])]}}],null,!1,1256888243)},[i("p",[e._v(" Si desea volver a enviar la solicitud puede cancelarla e intentar agregar de nuevo al usuario ")])]):e._e()]},proxy:!0}]),model:{value:e.newUser.user.email,callback:function(a){e.$set(e.newUser.user,"email",a)},expression:"newUser.user.email"}})],1),i("v-col",{attrs:{cols:"12",md:"5"}},[i("v-select",{attrs:{rules:e.rules.select,outlined:"",items:e.roles,"item-text":function(e){return e.name},"item-value":function(e){return e.id},label:"Rol",required:"","hide-details":"auto"},model:{value:e.newUser.role.id,callback:function(a){e.$set(e.newUser.role,"id",a)},expression:"newUser.role.id"}})],1),i("v-col",{attrs:{cols:"12",md:"7"}},[i("v-text-field",{attrs:{rules:e.rules.general,counter:"",maxlength:"25",outlined:"",label:"Puesto dentro de la empresa",required:"","hide-details":"auto"},model:{value:e.newUser.jobTitle,callback:function(a){e.$set(e.newUser,"jobTitle",a)},expression:"newUser.jobTitle"}})],1)],1)],1)],1)],1),i("v-divider"),i("v-card-actions",{staticClass:"d-flex justify-space-between"},[i("v-btn",{staticClass:"mr-3",attrs:{large:"",tile:"",outlined:"",color:"primary"},on:{click:e.close}},[e._v(" cancelar ")]),i("v-btn",{attrs:{large:"",tile:"",normal:"",color:"secondary",loading:e.modalHandler.isLoading},on:{click:e.outData}},[e._v(" Enviar invitación ")])],1)],1)],1)},s=[],r=i("f82a"),l=i("7592"),n={name:"ModalUser",mixins:[r["a"]],props:{modalHandler:{required:!0,type:Object,default:function(){return{isOpen:!1,isLoading:!1}}},roles:{required:!0,type:[Array,Object],default:function(){return[]}}},data:function(){return{isValidate:!0,isLoadingCheckingUser:!1,existEmail:!1,newUser:{user:{email:""},role:{id:""},jobTitle:""}}},watch:{modalHandler:function(e){var a=e.isOpen;a||this.resetValues()}},methods:{outData:function(){this.$refs.formUser.validate(),this.isValidate&&!this.existEmail&&this.$emit("newUser",this.newUser)},close:function(){this.$emit("close",{isOpen:!1,isLoading:!1}),this.resetValues()},resetValues:function(){this.$refs.formUser.resetValidation(),this.isLoadingCheckingUser=!1,this.existEmail=!1,this.newUser={user:{email:""},role:{id:""},jobTitle:""}},checkEmail:function(e){var a=this;e&&(this.isLoadingCheckingUser=!0,this.$apollo.query({query:l["a"],variables:{input:{email:e}}}).then((function(e){var i=e.data.checkExistentEmailUser;a.existEmail=i,a.isLoadingCheckingUser=!1})).catch((function(){a.isLoadingCheckingUser=!1})))}}},o=n,c=i("0c7c"),d=i("6544"),u=i.n(d),m=i("8336"),v=i("b0af"),f=i("99d9"),p=i("62ad"),h=i("a523"),g=i("169a"),w=i("ce7e"),b=i("4bd4"),x=i("132d"),U=i("0fd9"),V=i("b974"),k=i("8654"),C=i("3a2f"),y=Object(c["a"])(o,t,s,!1,null,null,null);a["default"]=y.exports;u()(y,{VBtn:m["a"],VCard:v["a"],VCardActions:f["a"],VCardText:f["c"],VCardTitle:f["d"],VCol:p["a"],VContainer:h["a"],VDialog:g["a"],VDivider:w["a"],VForm:b["a"],VIcon:x["a"],VRow:U["a"],VSelect:V["a"],VTextField:k["a"],VTooltip:C["a"]})}}]);
//# sourceMappingURL=chunk-2d217eda.7606eb77.js.map