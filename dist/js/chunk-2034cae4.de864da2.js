(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2034cae4"],{"7c05":function(e,r,a){"use strict";a.d(r,"b",(function(){return d})),a.d(r,"a",(function(){return u})),a.d(r,"c",(function(){return c}));var t,s,n,o=a("8785"),i=a("5184"),d=Object(i["a"])(t||(t=Object(o["a"])(["\n  mutation RecoverPassword($input: userEmailInput!) {\n    recoverPasswordUser(userInput: $input) {\n      success\n    }\n  }\n"]))),u=Object(i["a"])(s||(s=Object(o["a"])(["\n  mutation ConfirmRecoverPassword($input: userConfirmInput!) {\n    confirmRecoverPasswordUser(userInput: $input) {\n      id\n    }\n  }\n"]))),c=Object(i["a"])(n||(n=Object(o["a"])(["\n  mutation SetNewPassword($input: newPasswordInput!) {\n    setNewPasswordUser(userInput: $input) {\n      status\n      message\n    }\n  }\n"])))},d07a:function(e,r,a){"use strict";a.r(r);var t=function(){var e=this,r=e.$createElement,a=e._self._c||r;return a(e.dynamicComponent,{tag:"component",attrs:{isLoadingUpdatePassword:e.isLoadingUpdatePassword,info:e.error,isSamePassword:e.isSamePassword},on:{outData:e.updatePassword,cleanError:e.cleanError}})},s=[],n=a("3835"),o=(a("d3b7"),a("3ca3"),a("ddb0"),a("7c05")),i={name:"ResetPassword",components:{SucessSetPassword:function(){return a.e("chunk-2d0a30d6").then(a.bind(null,"0110"))},BaseError:function(){return a.e("chunk-74934c4e").then(a.bind(null,"6784a"))},BaseLoading:function(){return a.e("chunk-2d225fc3").then(a.bind(null,"e772"))},NewPasswordForm:function(){return a.e("chunk-49797797").then(a.bind(null,"6f90"))}},data:function(){return{isUpdatePassword:!1,isLoadingUpdatePassword:!1,isSamePassword:"",error:{icon:"",tittle:"",message:""},type:"",userId:""}},beforeMount:function(){var e=this;this.$route.query.id?this.$apollo.mutate({mutation:o["a"],variables:{input:{token:this.$route.query.id}},update:function(r,a){var t=a.data.confirmRecoverPasswordUser;e.userId=t.id,e.type="isValidToken"}}).catch((function(r){var a,t=r.graphQLErrors;e.type="isError";var s=null===(a=t[0])||void 0===a?void 0:a.statusCode;e.errorHandler(s)})):(this.type="isError",this.errorHandler())},computed:{dynamicComponent:function(){switch(this.type){case"isValidToken":return"NewPasswordForm";case"isError":return"BaseError";case"isUpdatePassword":return"SucessSetPassword";default:return"BaseLoading"}}},methods:{updatePassword:function(e){var r=this;this.isLoadingUpdatePassword=!0,this.$apollo.mutate({mutation:o["c"],variables:{input:{id:this.userId,password:e}}}).then((function(e){var a=e.data.setNewPasswordUser,t=a.status,s=a.message;200!==t||s.success||(r.isSamePassword="La contraseña no puede ser igual a la anterior"),200===t&&s.success?r.type="isUpdatePassword":r.errorHandler(t),r.isLoadingUpdatePassword=!1})).catch((function(e){var a=e.graphQLErrors,t=Object(n["a"])(a,1),s=t[0].statusCode;r.errorHandler(s),r.isLoadingUpdatePassword=!1}))},errorHandler:function(e){switch(e){case 400:this.error={icon:"mdi-shield-alert-outline",tittle:"¡Lo sentimos, el enlace ha expirado!",message:"Reenvia el correo para poder cambiar tu contraseña"};break;case 401:this.error={icon:"mdi-shield-alert-outline",tittle:"¡Lo sentimos, el enlace ha expirado!",message:"Reenvia el correo para poder cambiar tu contraseña"};break;case 404:this.error={icon:"mdi-shield-alert-outline",tittle:"El usuario no existe",message:"Es posible que el usuario que estar tratando de actualizar ya no se encuentre activo"};break;case 500:this.error={icon:"mdi-shield-alert-outline",tittle:"La contraseña no se ha podido actualizar",message:"Ha ocurrido un error de servidor intente de nuevo mas tarde o contacte a soporte"};break;default:this.error={icon:"mdi-shield-alert-outline",tittle:"¡Lo sentimos, ha ocurrido un error desconocido!",message:"Contacte con soporte"};break}},cleanError:function(){this.isSamePassword=""}}},d=i,u=a("0c7c"),c=Object(u["a"])(d,t,s,!1,null,null,null);r["default"]=c.exports}}]);
//# sourceMappingURL=chunk-2034cae4.de864da2.js.map