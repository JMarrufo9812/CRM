{"version":3,"sources":["webpack:///./src/components/activities/ModalActivityGeneral.vue?0728","webpack:///src/components/activities/ModalActivityGeneral.vue","webpack:///./src/components/activities/ModalActivityGeneral.vue?edd0","webpack:///./src/components/activities/ModalActivityGeneral.vue","webpack:///./src/graphql/mutations/activitiesMutations.js","webpack:///./src/graphql/querys/activitiesQuery.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","model","value","modalHandler","callback","$$v","$set","expression","staticClass","_v","_s","activity","title","on","close","_e","isExistActivity","isLoading","formatTime","start","end","owner","user","name","lastName","domProps","description","status","isLoadingIncomplete","$event","saveEventIncomplete","id","openModalActivityReschedule","isLoadingComplete","stopPropagation","preventDefault","changeStatus","apply","arguments","isOpenModal","saveComplete","cancelComplete","staticRenderFns","components","ModalEffectiveHistory","mixins","props","required","type","Object","default","data","watch","isOpen","$apollo","resetValues","methods","$emit","dateTimeStart","editEvent","item","isReschedule","changeModal","isEdit","openModalEffective","saveCompleteMutation","comments","component","VBtn","VCard","VCardActions","VCardText","VCardTitle","VDialog","VIcon","VListItem","VListItemContent","VList","VListItemIcon","VListItemTitle","VProgressCircular","VSheet","VSpacer","SET_TOKEN_CALENDAR","gql","SET_CALENDAR","REMOVE_TOKEN_CALENDAR","CREATE_ACTIVITY_TYPE","UPDATE_ACTIVITY_TYPE","DELETE_ACTIVITY_TYPE","CREATE_ACTIVITY","UPDATE_ACTIVITY","DELETE_ACTIVITIES","GET_CALENDAR_URI","GET_LIST_CALENDAR","GET_ACTIVITIES_TYPES","GET_ACTIVITY","GET_ACTIVITIES","FREE_BUSY"],"mappings":"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","file":"js/chunk-c09a22e6.2e19b39c.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-dialog',{attrs:{\"width\":\"400\",\"persistent\":\"\"},model:{value:(_vm.modalHandler.isOpen),callback:function ($$v) {_vm.$set(_vm.modalHandler, \"isOpen\", $$v)},expression:\"modalHandler.isOpen\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"primary white--text pl-10\"},[_c('v-icon',{staticClass:\"pr-4\",attrs:{\"color\":\"white\"}},[_vm._v(\"mdi-calendar-clock-outline\")]),_vm._v(\" \"+_vm._s(_vm.activity.title)+\" \"),_c('v-spacer'),_c('v-btn',{attrs:{\"icon\":\"\",\"color\":\"white\"},on:{\"click\":_vm.close}},[_c('v-icon',[_vm._v(\"mdi-close\")])],1)],1),(_vm.isLoading)?_c('v-card-text',{staticClass:\"text-center\"},[_c('v-sheet',{staticClass:\"pa-12\",attrs:{\"color\":\"white\"}},[_c('v-progress-circular',{attrs:{\"indeterminate\":\"\",\"color\":\"primary\"}})],1)],1):_vm._e(),(_vm.isExistActivity && !_vm.isLoading)?_c('v-card-text',{staticClass:\"pt-10\"},[_c('v-list-item',{attrs:{\"dense\":\"\"}},[_c('v-list-item-icon',[_c('v-icon',[_vm._v(\"mdi-calendar\")])],1),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(\" \"+_vm._s(_vm.formatTime(_vm.activity.start, _vm.activity.end))+\" \")])],1)],1),_c('v-list-item',{attrs:{\"dense\":\"\"}},[_c('v-list-item-icon',[_c('v-icon',[_vm._v(\"mdi-account\")])],1),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(\" \"+_vm._s(_vm.activity.owner ? _vm.activity.owner.user.name : '')+\" \"+_vm._s(_vm.activity.owner ? _vm.activity.owner.user.lastName : '')+\" \")])],1)],1),(_vm.activity.description)?_c('v-list-item',{attrs:{\"dense\":\"\"}},[_c('v-list-item-icon',[_c('v-icon',[_vm._v(\"mdi-card-text-outline\")])],1),_c('v-list-item-content',{domProps:{\"innerHTML\":_vm._s(_vm.activity.description)}})],1):_vm._e(),_c('v-list-item',{attrs:{\"dense\":\"\"}},[_c('v-list-item-icon',[_c('v-icon',{attrs:{\"color\":_vm.activity.status !== 'PENDING' ? 'success' : 'error'}},[_vm._v(\" \"+_vm._s(_vm.activity.status !== 'PENDING' ? 'mdi-check-circle' : 'mdi-checkbox-blank-circle-outline')+\" \")])],1),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(\" \"+_vm._s(_vm.activity.status !== 'PENDING' ? 'Completado' : 'Pendiente')+\" \")])],1)],1)],1):(!_vm.isLoading)?_c('v-card-text',[_c('p',{staticClass:\"pa-12 text-center\"},[_c('v-icon',{attrs:{\"large\":\"\"}},[_vm._v(\"mdi-calendar-remove\")]),_vm._v(\" Esta actividad ya no existe \")],1)]):_vm._e(),(_vm.isExistActivity && !_vm.isLoading)?_c('v-card-actions',{staticClass:\"pt-12\"},[(_vm.activity.status !== 'PENDING')?_c('v-btn',{attrs:{\"color\":\"error\",\"loading\":_vm.isLoadingIncomplete},on:{\"click\":function($event){return _vm.saveEventIncomplete(_vm.activity.id)}}},[_vm._v(\" Deshacer \")]):_vm._e(),(_vm.activity.status === 'PENDING')?_c('v-btn',{attrs:{\"color\":\"secondary\"},on:{\"click\":function($event){return _vm.openModalActivityReschedule()}}},[_vm._v(\" Reagendar \")]):_vm._e(),_c('v-spacer'),(_vm.activity.status === 'PENDING')?_c('v-btn',{attrs:{\"color\":\"success\",\"loading\":_vm.isLoadingComplete},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.changeStatus.apply(null, arguments)}}},[_vm._v(\" Completar \")]):_vm._e(),_c('ModalEffectiveHistory',{attrs:{\"isOpen\":_vm.isOpenModal,\"isLoading\":_vm.isLoadingComplete,\"reset\":!_vm.isLoadingComplete},on:{\"save\":_vm.saveComplete,\"cancel\":_vm.cancelComplete}})],1):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-dialog v-model=\"modalHandler.isOpen\" width=\"400\" persistent>\n    <v-card>\n      <v-card-title class=\"primary white--text pl-10\">\n        <v-icon color=\"white\" class=\"pr-4\">mdi-calendar-clock-outline</v-icon>\n        {{ activity.title }}\n        <v-spacer />\n        <v-btn icon color=\"white\" @click=\"close\">\n          <v-icon>mdi-close</v-icon>\n        </v-btn>\n      </v-card-title>\n      <v-card-text class=\"text-center\" v-if=\"isLoading\">\n        <v-sheet color=\"white\" class=\"pa-12\">\n          <v-progress-circular\n            indeterminate\n            color=\"primary\"\n          ></v-progress-circular>\n        </v-sheet>\n      </v-card-text>\n      <v-card-text v-if=\"isExistActivity && !isLoading\" class=\"pt-10\">\n        <v-list-item dense>\n          <v-list-item-icon>\n            <v-icon>mdi-calendar</v-icon>\n          </v-list-item-icon>\n          <v-list-item-content>\n            <v-list-item-title>\n              {{ formatTime(activity.start, activity.end) }}\n            </v-list-item-title>\n          </v-list-item-content>\n        </v-list-item>\n        <v-list-item dense>\n          <v-list-item-icon>\n            <v-icon>mdi-account</v-icon>\n          </v-list-item-icon>\n          <v-list-item-content>\n            <v-list-item-title>\n              {{ activity.owner ? activity.owner.user.name : '' }}\n              {{ activity.owner ? activity.owner.user.lastName : '' }}\n            </v-list-item-title>\n          </v-list-item-content>\n        </v-list-item>\n        <v-list-item dense v-if=\"activity.description\">\n          <v-list-item-icon>\n            <v-icon>mdi-card-text-outline</v-icon>\n          </v-list-item-icon>\n          <v-list-item-content\n            v-html=\"activity.description\"\n          ></v-list-item-content>\n        </v-list-item>\n        <v-list-item dense>\n          <v-list-item-icon>\n            <v-icon\n              :color=\"activity.status !== 'PENDING' ? 'success' : 'error'\"\n            >\n              {{\n                activity.status !== 'PENDING'\n                  ? 'mdi-check-circle'\n                  : 'mdi-checkbox-blank-circle-outline'\n              }}\n            </v-icon>\n          </v-list-item-icon>\n          <v-list-item-content>\n            <v-list-item-title>\n              {{ activity.status !== 'PENDING' ? 'Completado' : 'Pendiente' }}\n            </v-list-item-title>\n          </v-list-item-content>\n        </v-list-item>\n      </v-card-text>\n      <v-card-text v-else-if=\"!isLoading\">\n        <p class=\"pa-12 text-center\">\n          <v-icon large>mdi-calendar-remove</v-icon>\n          Esta actividad ya no existe\n        </p>\n      </v-card-text>\n\n      <v-card-actions class=\"pt-12\" v-if=\"isExistActivity && !isLoading\">\n        <v-btn\n          v-if=\"activity.status !== 'PENDING'\"\n          color=\"error\"\n          @click=\"saveEventIncomplete(activity.id)\"\n          :loading=\"isLoadingIncomplete\"\n        >\n          Deshacer\n        </v-btn>\n        <v-btn\n          color=\"secondary\"\n          v-if=\"activity.status === 'PENDING'\"\n          @click=\"openModalActivityReschedule()\"\n        >\n          Reagendar\n        </v-btn>\n        <v-spacer></v-spacer>\n        <v-btn\n          color=\"success\"\n          v-if=\"activity.status === 'PENDING'\"\n          @click.stop.prevent=\"changeStatus\"\n          :loading=\"isLoadingComplete\"\n        >\n          Completar\n        </v-btn>\n        <ModalEffectiveHistory\n          :isOpen=\"isOpenModal\"\n          :isLoading=\"isLoadingComplete\"\n          :reset=\"!isLoadingComplete\"\n          @save=\"saveComplete\"\n          @cancel=\"cancelComplete\"\n        ></ModalEffectiveHistory>\n      </v-card-actions>\n    </v-card>\n  </v-dialog>\n</template>\n\n<script>\nimport moment from 'moment';\nimport { GET_ACTIVITY } from '@/graphql/querys/activitiesQuery';\nimport { UPDATE_ACTIVITY } from '@/graphql/mutations/activitiesMutations';\nimport { modalMethodsMixin, modalApolloMixin } from '@/mixins/modalsMixin';\n\nexport default {\n  components: {\n    ModalEffectiveHistory: () =>\n      import('@/components/activities/ModalEffectiveHistory.vue'),\n  },\n  mixins: [modalMethodsMixin, modalApolloMixin],\n  props: {\n    modalHandler: {\n      required: true,\n      type: Object,\n      default: () => {\n        return { isOpen: false, isLoading: false, info: {} };\n      },\n    },\n  },\n  data() {\n    return {\n      activity: {},\n      isExistActivity: false,\n      isLoading: true,\n      isOpenModal: false,\n      isLoadingComplete: false,\n      isLoadingIncomplete: false,\n    };\n  },\n  watch: {\n    modalHandler({ isOpen, info }) {\n      if (isOpen) {\n        this.isLoading = true;\n        this.$apollo\n          .query({\n            query: GET_ACTIVITY,\n            variables: {\n              activityId: info,\n            },\n          })\n          .then(({ data: { activity } }) => {\n            this.isExistActivity = true;\n            this.activity = activity;\n            this.isLoading = false;\n          })\n          .catch(() => {\n            this.isLoading = false;\n            this.isExistActivity = false;\n          });\n      } else {\n        this.resetValues();\n      }\n    },\n  },\n  methods: {\n    close() {\n      this.$emit('close', { isOpen: false, isLoading: false, info: {} });\n    },\n    formatTime(dateTimeStart, dateTimeEnd) {\n      if (dateTimeStart) {\n        const newDateStart = moment(dateTimeStart.split(' ')[0]);\n        const newTimeStart = moment(dateTimeStart.split(' ')[1], ['h:mm:ss']);\n        const newTimeEnd = moment(dateTimeEnd.split(' ')[1], ['h:mm:ss']);\n        return `${newDateStart.format('LL')} ⋅ ${newTimeStart.format(\n          'h:mma',\n        )} - ${newTimeEnd.format('h:mma')}`;\n      }\n      return '';\n    },\n    editEvent(isReschedule) {\n      const item = this.activity;\n      item.isReschedule = isReschedule;\n\n      this.changeModal({\n        id: 'createActivity',\n        status: true,\n        isEdit: true,\n        item,\n      });\n    },\n    openModalActivityReschedule() {\n      this.editEvent(true);\n    },\n    openModalEffective() {\n      this.changeModal({\n        id: 'modalEffective',\n        status: true,\n      });\n    },\n    resetValues() {\n      this.activity = {};\n      this.isLoading = true;\n    },\n    changeStatus() {\n      const status = this.activity.status !== 'PENDING';\n      if (!status) {\n        this.isOpenModal = true;\n      } else {\n        this.saveEventIncomplete(this.activity.id);\n      }\n    },\n    saveCompleteMutation({ id, status, comments }) {\n      this.$apollo\n        .mutate({\n          mutation: UPDATE_ACTIVITY,\n          variables: {\n            activityInput: {\n              id,\n              status,\n              comments,\n            },\n          },\n        })\n        .then(({ data: { updateActivity } }) => {\n          this.isLoadingComplete = false;\n          this.isLoadingIncomplete = false;\n          this.isOpenModal = false;\n          this.activity = updateActivity;\n        })\n        .catch(() => {\n          // Error\n          this.isLoadingComplete = false;\n          this.isLoadingIncomplete = false;\n          this.isOpenModal = false;\n\n          const error =\n            'No se pudo actualizar el estado de la actividad, intente de nuevo o contacte a soporte';\n          this.modalHandlerError({ isOpen: true, error });\n        });\n    },\n    saveEventIncomplete(id) {\n      this.isLoadingIncomplete = true;\n      this.saveCompleteMutation({ id, status: 'PENDING' });\n    },\n    cancelComplete() {\n      this.isOpenModal = false;\n    },\n    saveComplete({ status, comments }) {\n      this.isLoadingComplete = true;\n      const { id } = this.activity;\n      if (status) {\n        this.saveCompleteMutation({ id, status: 'EFFECTIVE' });\n      } else {\n        this.saveCompleteMutation({\n          id,\n          status: 'INEFFECTIVE',\n          comments,\n        });\n      }\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/@vue/cli-plugin-babel/node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ModalActivityGeneral.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/@vue/cli-plugin-babel/node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ModalActivityGeneral.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ModalActivityGeneral.vue?vue&type=template&id=1526f51a&\"\nimport script from \"./ModalActivityGeneral.vue?vue&type=script&lang=js&\"\nexport * from \"./ModalActivityGeneral.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemIcon } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VProgressCircular } from 'vuetify/lib/components/VProgressCircular';\nimport { VSheet } from 'vuetify/lib/components/VSheet';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VCardTitle,VDialog,VIcon,VListItem,VListItemContent,VListItemIcon,VListItemTitle,VProgressCircular,VSheet,VSpacer})\n","import gql from 'graphql-tag';\n\nexport const SET_TOKEN_CALENDAR = gql`\n  mutation syncronizeGoogleCalendar($codeToken: String!) {\n    syncronizeGoogleCalendar(codeToken: $codeToken) {\n      success\n      email\n    }\n  }\n`;\n\nexport const SET_CALENDAR = gql`\n  mutation setCalendar($calendarId: String!) {\n    setPrimaryCalendar(calendarId: $calendarId) {\n      success\n      calendarSummary\n    }\n  }\n`;\n\nexport const REMOVE_TOKEN_CALENDAR = gql`\n  mutation desynchronizeGoogleCalendar {\n    desynchronizeGoogleCalendar\n  }\n`;\n\nexport const CREATE_ACTIVITY_TYPE = gql`\n  mutation createActivityType($activityTypeInput: activityTypeCreateInput!) {\n    createActivityType(activityTypeInput: $activityTypeInput) {\n      id\n      name\n      color\n      order\n    }\n  }\n`;\n\nexport const UPDATE_ACTIVITY_TYPE = gql`\n  mutation updateActivityType($activityTypeInput: activityTypeUpdateInput!) {\n    updateActivityType(activityTypeInput: $activityTypeInput) {\n      id\n      name\n      color\n      order\n    }\n  }\n`;\n\nexport const DELETE_ACTIVITY_TYPE = gql`\n  mutation deleteActivityType($activityTypeId: ID!) {\n    deleteActivityType(activityTypeId: $activityTypeId) {\n      id\n      name\n      color\n      order\n    }\n  }\n`;\n\nexport const CREATE_ACTIVITY = gql`\n  mutation createActivity($activityInput: activityCreateInput!) {\n    createActivity(activityInput: $activityInput) {\n      id\n      title\n      status\n      start\n      end\n      location\n      description\n      createdAt\n      isAllDay\n      deal {\n        id\n        title\n      }\n      contacts {\n        id\n        name\n      }\n      companies {\n        id\n        name\n      }\n      type {\n        id\n        name\n        color\n      }\n      owner {\n        id\n        user {\n          id\n          name\n          lastName\n        }\n      }\n      guests\n    }\n  }\n`;\n\nexport const UPDATE_ACTIVITY = gql`\n  mutation updateActivity($activityInput: activityUpdateInput!) {\n    updateActivity(activityInput: $activityInput) {\n      id\n      title\n      status\n      start\n      end\n      location\n      description\n      createdAt\n      isAllDay\n      deal {\n        id\n        title\n      }\n      contacts {\n        id\n        name\n      }\n      companies {\n        id\n        name\n      }\n      type {\n        id\n        name\n        color\n      }\n      owner {\n        id\n        user {\n          id\n          name\n          lastName\n        }\n      }\n      guests\n    }\n  }\n`;\n\nexport const DELETE_ACTIVITIES = gql`\n  mutation deleteActivities($activities: [deleteActivityInput!]!) {\n    deleteActivities(activities: $activities) {\n      id\n    }\n  }\n`;\n","import gql from 'graphql-tag';\n\nexport const GET_CALENDAR_URI = gql`\n  query getCalendarUri {\n    getCalendarUri\n  }\n`;\n\nexport const GET_LIST_CALENDAR = gql`\n  query listCalendar {\n    listCalendar {\n      id\n      kind\n      etag\n      summary\n      description\n      timeZone\n      colorId\n      backgroundColor\n      foregroundColor\n      accessRole\n      selected\n      primary\n    }\n  }\n`;\n\nexport const GET_ACTIVITIES_TYPES = gql`\n  query readActivityTypes {\n    activityTypes {\n      id\n      name\n      color\n      order\n      activitiesCount\n    }\n  }\n`;\n\nexport const GET_ACTIVITY = gql`\n  query GetActivity($activityId: ID!) {\n    activity(activityId: $activityId) {\n      id\n      title\n      start\n      end\n      status\n      location\n      description\n      guests\n      createdAt\n      isAllDay\n      companies {\n        id\n        name\n      }\n      contacts {\n        id\n        name\n      }\n      deal {\n        id\n        title\n      }\n      owner {\n        id\n        user {\n          id\n          name\n          lastName\n        }\n      }\n      type {\n        id\n        color\n        name\n        order\n      }\n    }\n  }\n`;\n\nexport const GET_ACTIVITY_TYPE = gql`\n  query readActivityType($activityTypeId: ID!) {\n    activityType(activityTypeId: activityTypeId) {\n      id\n      name\n      color\n      order\n    }\n  }\n`;\n\nexport const GET_ACTIVITIES = gql`\n  query readActivities($filters: FilterActivities) {\n    activities(filters: $filters) {\n      count\n      list {\n        id\n        title\n        status\n        start\n        end\n        location\n        description\n        createdAt\n        isAllDay\n        deal {\n          id\n          title\n        }\n        contacts {\n          id\n          name\n        }\n        companies {\n          id\n          name\n        }\n        type {\n          id\n          name\n          color\n        }\n        owner {\n          id\n          user {\n            id\n            name\n            lastName\n          }\n        }\n        guests\n      }\n    }\n  }\n`;\n\nexport const FREE_BUSY = gql`\n  query readFreeBusy($activityInput: activityFreeBusyInput!) {\n    activitiesFreeBusy(activityInput: $activityInput)\n  }\n`;\n"],"sourceRoot":""}