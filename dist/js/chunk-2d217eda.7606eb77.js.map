{"version":3,"sources":["webpack:///./src/components/users/ModalUser.vue?b3e0","webpack:///src/components/users/ModalUser.vue","webpack:///./src/components/users/ModalUser.vue?719d","webpack:///./src/components/users/ModalUser.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","model","value","modalHandler","callback","$$v","$set","expression","staticClass","_v","on","close","ref","isValidate","rules","email","concat","isRequired","isLoadingCheckingUser","existEmail","$event","checkEmail","newUser","user","scopedSlots","_u","key","fn","_g","_b","_e","proxy","select","roles","name","id","role","general","isLoading","outData","staticRenderFns","mixins","rulesMixin","props","required","type","Object","default","Array","data","jobTitle","watch","isOpen","resetValues","methods","$refs","formUser","validate","$emit","resetValidation","$apollo","component","VBtn","VCard","VCardActions","VCardText","VCardTitle","VCol","VContainer","VDialog","VDivider","VForm","VIcon","VRow","VSelect","VTextField","VTooltip"],"mappings":"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","file":"js/chunk-2d217eda.7606eb77.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-dialog',{attrs:{\"width\":\"570\",\"scrollable\":\"\",\"persistent\":\"\"},model:{value:(_vm.modalHandler.isOpen),callback:function ($$v) {_vm.$set(_vm.modalHandler, \"isOpen\", $$v)},expression:\"modalHandler.isOpen\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"primary d-flex justify-space-between py-6\"},[_c('span',{staticClass:\"white--text ml-9\"},[_vm._v(\" Agregar usuario \")]),_c('div',[_c('v-icon',{staticClass:\"white--text\",on:{\"click\":_vm.close}},[_vm._v(\" mdi-close \")])],1)]),_c('v-card-text',[_c('v-form',{ref:\"formUser\",model:{value:(_vm.isValidate),callback:function ($$v) {_vm.isValidate=$$v},expression:\"isValidate\"}},[_c('v-container',[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"7\"}},[_c('v-text-field',{attrs:{\"rules\":_vm.rules.email.concat( _vm.rules.isRequired),\"loading\":_vm.isLoadingCheckingUser,\"error-messages\":_vm.existEmail\n                    ? 'El usuario ya está registrado en la empresa'\n                    : '',\"outlined\":\"\",\"label\":\"Correo\",\"required\":\"\",\"maxlength\":\"50\",\"counter\":\"\",\"hide-details\":\"auto\"},on:{\"input\":function($event){return _vm.checkEmail(_vm.newUser.user.email)}},scopedSlots:_vm._u([{key:\"append\",fn:function(){return [(_vm.existEmail)?_c('v-tooltip',{attrs:{\"right\":\"\",\"max-width\":\"10%\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\n                    var on = ref.on;\n                    var attrs = ref.attrs;\nreturn [_c('v-icon',_vm._g(_vm._b({},'v-icon',attrs,false),on),[_vm._v(\" mdi-information-outline \")])]}}],null,false,1256888243)},[_c('p',[_vm._v(\" Si desea volver a enviar la solicitud puede cancelarla e intentar agregar de nuevo al usuario \")])]):_vm._e()]},proxy:true}]),model:{value:(_vm.newUser.user.email),callback:function ($$v) {_vm.$set(_vm.newUser.user, \"email\", $$v)},expression:\"newUser.user.email\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"5\"}},[_c('v-select',{attrs:{\"rules\":_vm.rules.select,\"outlined\":\"\",\"items\":_vm.roles,\"item-text\":function (roles) { return roles.name; },\"item-value\":function (roles) { return roles.id; },\"label\":\"Rol\",\"required\":\"\",\"hide-details\":\"auto\"},model:{value:(_vm.newUser.role.id),callback:function ($$v) {_vm.$set(_vm.newUser.role, \"id\", $$v)},expression:\"newUser.role.id\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"7\"}},[_c('v-text-field',{attrs:{\"rules\":_vm.rules.general,\"counter\":\"\",\"maxlength\":\"25\",\"outlined\":\"\",\"label\":\"Puesto dentro de la empresa\",\"required\":\"\",\"hide-details\":\"auto\"},model:{value:(_vm.newUser.jobTitle),callback:function ($$v) {_vm.$set(_vm.newUser, \"jobTitle\", $$v)},expression:\"newUser.jobTitle\"}})],1)],1)],1)],1)],1),_c('v-divider'),_c('v-card-actions',{staticClass:\"d-flex justify-space-between\"},[_c('v-btn',{staticClass:\"mr-3\",attrs:{\"large\":\"\",\"tile\":\"\",\"outlined\":\"\",\"color\":\"primary\"},on:{\"click\":_vm.close}},[_vm._v(\" cancelar \")]),_c('v-btn',{attrs:{\"large\":\"\",\"tile\":\"\",\"normal\":\"\",\"color\":\"secondary\",\"loading\":_vm.modalHandler.isLoading},on:{\"click\":_vm.outData}},[_vm._v(\" Enviar invitación \")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-dialog v-model=\"modalHandler.isOpen\" width=\"570\" scrollable persistent>\n    <v-card>\n      <v-card-title class=\"primary d-flex justify-space-between py-6\">\n        <span class=\"white--text ml-9\">\n          Agregar usuario\n        </span>\n        <div>\n          <v-icon @click=\"close\" class=\"white--text\">\n            mdi-close\n          </v-icon>\n        </div>\n      </v-card-title>\n      <v-card-text>\n        <v-form ref=\"formUser\" v-model=\"isValidate\">\n          <v-container>\n            <v-row>\n              <v-col cols=\"12\" md=\"7\">\n                <v-text-field\n                  v-model=\"newUser.user.email\"\n                  :rules=\"[...rules.email, ...rules.isRequired]\"\n                  @input=\"checkEmail(newUser.user.email)\"\n                  :loading=\"isLoadingCheckingUser\"\n                  :error-messages=\"\n                    existEmail\n                      ? 'El usuario ya está registrado en la empresa'\n                      : ''\n                  \"\n                  outlined\n                  label=\"Correo\"\n                  required\n                  maxlength=\"50\"\n                  counter\n                  hide-details=\"auto\"\n                >\n                  <template v-slot:append>\n                    <v-tooltip v-if=\"existEmail\" right max-width=\"10%\">\n                      <template v-slot:activator=\"{ on, attrs }\">\n                        <v-icon v-bind=\"attrs\" v-on=\"on\">\n                          mdi-information-outline\n                        </v-icon>\n                      </template>\n                      <p>\n                        Si desea volver a enviar la solicitud puede cancelarla e\n                        intentar agregar de nuevo al usuario\n                      </p>\n                    </v-tooltip>\n                  </template>\n                </v-text-field>\n              </v-col>\n              <v-col cols=\"12\" md=\"5\">\n                <v-select\n                  v-model=\"newUser.role.id\"\n                  :rules=\"rules.select\"\n                  outlined\n                  :items=\"roles\"\n                  :item-text=\"(roles) => roles.name\"\n                  :item-value=\"(roles) => roles.id\"\n                  label=\"Rol\"\n                  required\n                  hide-details=\"auto\"\n                ></v-select>\n              </v-col>\n              <v-col cols=\"12\" md=\"7\">\n                <v-text-field\n                  v-model=\"newUser.jobTitle\"\n                  :rules=\"rules.general\"\n                  counter\n                  maxlength=\"25\"\n                  outlined\n                  label=\"Puesto dentro de la empresa\"\n                  required\n                  hide-details=\"auto\"\n                ></v-text-field>\n              </v-col>\n            </v-row>\n          </v-container>\n        </v-form>\n      </v-card-text>\n      <v-divider></v-divider>\n      <v-card-actions class=\"d-flex justify-space-between\">\n        <v-btn class=\"mr-3\" large tile outlined color=\"primary\" @click=\"close\">\n          cancelar\n        </v-btn>\n        <v-btn\n          large\n          tile\n          normal\n          color=\"secondary\"\n          @click=\"outData\"\n          :loading=\"modalHandler.isLoading\"\n        >\n          Enviar invitación\n        </v-btn>\n      </v-card-actions>\n    </v-card>\n  </v-dialog>\n</template>\n\n<script>\nimport { rulesMixin } from '@/mixins/rulesMixin';\nimport { CHECK_EXIST_USER_EMAIL } from '@/graphql/querys/usersQuery';\n\nexport default {\n  name: 'ModalUser',\n  mixins: [rulesMixin],\n  props: {\n    modalHandler: {\n      required: true,\n      type: Object,\n      default: () => {\n        return { isOpen: false, isLoading: false };\n      },\n    },\n    roles: {\n      required: true,\n      type: [Array, Object],\n      default: () => {\n        return [];\n      },\n    },\n  },\n  data() {\n    return {\n      isValidate: true,\n      isLoadingCheckingUser: false,\n      existEmail: false,\n      newUser: {\n        user: {\n          email: '',\n        },\n        role: {\n          id: '',\n        },\n        jobTitle: '',\n      },\n    };\n  },\n  watch: {\n    modalHandler({ isOpen }) {\n      if (!isOpen) {\n        this.resetValues();\n      }\n    },\n  },\n  methods: {\n    outData() {\n      this.$refs.formUser.validate();\n      if (this.isValidate && !this.existEmail) {\n        this.$emit('newUser', this.newUser);\n      }\n    },\n    close() {\n      this.$emit('close', { isOpen: false, isLoading: false });\n      this.resetValues();\n    },\n    resetValues() {\n      this.$refs.formUser.resetValidation();\n      this.isLoadingCheckingUser = false;\n      this.existEmail = false;\n      this.newUser = {\n        user: {\n          email: '',\n        },\n        role: {\n          id: '',\n        },\n        jobTitle: '',\n      };\n    },\n    checkEmail(email) {\n      if (email) {\n        this.isLoadingCheckingUser = true;\n        this.$apollo\n          .query({\n            query: CHECK_EXIST_USER_EMAIL,\n            variables: {\n              input: {\n                email,\n              },\n            },\n          })\n          .then(({ data: { checkExistentEmailUser } }) => {\n            this.existEmail = checkExistentEmailUser;\n            this.isLoadingCheckingUser = false;\n          })\n          .catch(() => {\n            this.isLoadingCheckingUser = false;\n          });\n      }\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/@vue/cli-plugin-babel/node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ModalUser.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/@vue/cli-plugin-babel/node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ModalUser.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ModalUser.vue?vue&type=template&id=d9b19d70&\"\nimport script from \"./ModalUser.vue?vue&type=script&lang=js&\"\nexport * from \"./ModalUser.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VTooltip } from 'vuetify/lib/components/VTooltip';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VCardTitle,VCol,VContainer,VDialog,VDivider,VForm,VIcon,VRow,VSelect,VTextField,VTooltip})\n"],"sourceRoot":""}