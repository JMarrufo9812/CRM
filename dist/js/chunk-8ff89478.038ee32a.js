(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8ff89478"],{1681:function(t,e,s){},2569:function(t,e,s){"use strict";s.d(e,"a",(function(){return o}));var a=s("6675"),o={data:function(){return{isLoadingGet:!0,isErrorGetReasons:!1,infoError:{icon:"",title:"",message:""}}},watch:{lostReasons:function(t){t&&(this.isLoadingGet=!1)}},apollo:{lostReasons:{query:a["e"],fetchPolicy:"no-cache",variables:{filters:{orderBy:"desc"}},error:function(){this.isErrorGetReasons=!0,this.infoError={icon:"mdi-alert-outline",title:"Error",message:"No se ha podido cargar las razones de pérdida, contacte con soporte"}}}}}},"6df5":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-dialog",{attrs:{width:"430",persistent:""},model:{value:t.modalHandler.isOpen,callback:function(e){t.$set(t.modalHandler,"isOpen",e)},expression:"modalHandler.isOpen"}},[s("v-card",[s("v-card-title",{staticClass:"d-flex justify-space-between primary white--text py-4"},[s("span",[t._v(" Perder trato ")]),s("v-icon",{staticClass:"white--text",on:{click:t.close}},[t._v(" mdi-close ")])],1),s("v-card-text",{staticClass:"pt-6"},[s("v-form",{ref:"formOldReason",model:{value:t.isValidate,callback:function(e){t.isValidate=e},expression:"isValidate"}},[s("v-select",{directives:[{name:"show",rawName:"v-show",value:!t.isNewReason,expression:"!isNewReason"}],attrs:{items:t.lostReasons,"menu-props":{closeOnContentClick:!0},"item-text":function(t){var e=t.reason;return e},"item-value":function(t){var e=t.id;return e},label:"Motivo de pérdida",required:"",rules:t.rules.select,outlined:""},scopedSlots:t._u([{key:"no-data",fn:function(){return[s("span")]},proxy:!0},{key:"append-item",fn:function(){return[s("v-list-item",{on:{click:t.newReason}},[s("v-list-item-content",[s("v-list-item-title",{staticClass:"font-weight-medium"},[t._v(" Agregar nueva razón ")])],1)],1)]},proxy:!0}]),model:{value:t.lostInfo.lostReason.id,callback:function(e){t.$set(t.lostInfo.lostReason,"id",e)},expression:"lostInfo.lostReason.id"}})],1),s("v-form",{ref:"formNewReason",model:{value:t.isValidate,callback:function(e){t.isValidate=e},expression:"isValidate"}},[s("v-text-field",{directives:[{name:"show",rawName:"v-show",value:t.isNewReason,expression:"isNewReason"}],attrs:{label:"Nueva razón",outlined:"",counter:"",maxlength:"25",rules:t.rules.isRequired},model:{value:t.lostInfo.lostReason.reason,callback:function(e){t.$set(t.lostInfo.lostReason,"reason",e)},expression:"lostInfo.lostReason.reason"}})],1),s("v-textarea",{attrs:{label:"Comentarios",outlined:""},model:{value:t.lostInfo.comments,callback:function(e){t.$set(t.lostInfo,"comments",e)},expression:"lostInfo.comments"}})],1),s("v-card-actions",{staticClass:"pa-5 justify-center"},[s("v-btn",{staticClass:"mr-4",attrs:{width:"45%",large:"",tile:"",outlined:"",color:"primary"},on:{click:t.close}},[t._v(" Cancelar ")]),s("v-btn",{attrs:{width:"45%",large:"",tile:"",normal:"",color:"secondary",loading:t.modalHandler.isLoading},on:{click:t.outData}},[t._v(" Agregar ")])],1)],1)],1)},o=[],n=s("2569"),i=s("f82a"),r={name:"ModalLostDeal",mixins:[i["a"],n["a"]],props:{modalHandler:{required:!0,type:Object,default:function(){return{isOpen:!1,isLoading:!1}}}},data:function(){return{isValidate:!0,isNewReason:!1,reasonsMenu:!1,lostInfo:{lostReason:{},comments:""}}},watch:{modalHandler:function(t){var e=t.isOpen;e?this.$apollo.queries.lostReasons.refetch():this.resetValues()}},methods:{newReason:function(){delete this.lostInfo.lostReason.id,this.isNewReason=!0,this.reasonsMenu=!1},close:function(){this.$emit("close",{isOpen:!1,isLoading:!1})},outData:function(){this.isNewReason&&this.$refs.formNewReason.validate(),this.isNewReason||this.$refs.formOldReason.validate(),this.isValidate&&(this.lostInfo.comments.length>0&&(this.lostInfo.comments="Comentario de pérdida: ".concat(this.lostInfo.comments)),this.$emit("outData","LOST",this.lostInfo))},resetValues:function(){this.$refs.formNewReason.resetValidation(),this.$refs.formOldReason.resetValidation(),this.isNewReason=!1,this.lostInfo={lostReason:{},comments:""}}}},l=r,c=s("0c7c"),d=s("6544"),u=s.n(d),h=s("8336"),m=s("b0af"),f=s("99d9"),p=s("169a"),v=s("4bd4"),w=s("132d"),g=s("da13"),R=s("5d23"),x=s("b974"),I=s("8654"),V=s("a844"),y=Object(c["a"])(l,a,o,!1,null,null,null);e["default"]=y.exports;u()(y,{VBtn:h["a"],VCard:m["a"],VCardActions:f["a"],VCardText:f["c"],VCardTitle:f["d"],VDialog:p["a"],VForm:v["a"],VIcon:w["a"],VListItem:g["a"],VListItemContent:R["a"],VListItemTitle:R["c"],VSelect:x["a"],VTextField:I["a"],VTextarea:V["a"]})},a844:function(t,e,s){"use strict";s("1681");var a=s("8654"),o=s("58df");const n=Object(o["a"])(a["a"]);e["a"]=n.extend({name:"v-textarea",props:{autoGrow:Boolean,noResize:Boolean,rowHeight:{type:[Number,String],default:24,validator:t=>!isNaN(parseFloat(t))},rows:{type:[Number,String],default:5,validator:t=>!isNaN(parseInt(t,10))}},computed:{classes(){return{"v-textarea":!0,"v-textarea--auto-grow":this.autoGrow,"v-textarea--no-resize":this.noResizeHandle,...a["a"].options.computed.classes.call(this)}},noResizeHandle(){return this.noResize||this.autoGrow}},watch:{autoGrow(t){this.$nextTick(()=>{var e;t?this.calculateInputHeight():null==(e=this.$refs.input)||e.style.removeProperty("height")})},lazyValue(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)},rowHeight(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)}},mounted(){setTimeout(()=>{this.autoGrow&&this.calculateInputHeight()},0)},methods:{calculateInputHeight(){const t=this.$refs.input;if(!t)return;t.style.height="0";const e=t.scrollHeight,s=parseInt(this.rows,10)*parseFloat(this.rowHeight);t.style.height=Math.max(s,e)+"px"},genInput(){const t=a["a"].options.methods.genInput.call(this);return t.tag="textarea",delete t.data.attrs.type,t.data.attrs.rows=this.rows,t},onInput(t){a["a"].options.methods.onInput.call(this,t),this.autoGrow&&this.calculateInputHeight()},onKeyDown(t){this.isFocused&&13===t.keyCode&&t.stopPropagation(),this.$emit("keydown",t)}}})}}]);
//# sourceMappingURL=chunk-8ff89478.038ee32a.js.map