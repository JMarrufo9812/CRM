{"version":3,"sources":["webpack:///./src/components/activities/TypeActivities.vue?30a1","webpack:///./src/components/activities/ModalActivityType.vue?0282","webpack:///src/components/activities/ModalActivityType.vue","webpack:///./src/components/activities/ModalActivityType.vue?396b","webpack:///./src/components/activities/ModalActivityType.vue","webpack:///src/components/activities/TypeActivities.vue","webpack:///./src/components/activities/TypeActivities.vue?b20a","webpack:///./src/components/activities/TypeActivities.vue?9457","webpack:///./src/components/activities/TypeActivities.vue?8e28"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","on","openModalActivityType","activityTypes","length","staticStyle","listActivityTypes","changeOrder","_l","activityType","key","id","color","getBestColor","_s","name","scopedSlots","_u","fn","ref","_g","_b","activitiesCount","$event","openModalRemoveTypeActivity","editTypeActivity","isOpenDelete","configModalDelete","isLoadingDelete","itemSelected","removeTokenCalendar","updateTypeActivities","modalDelete","modalHandlerDelete","removeTypeActivity","modalError","modalHandlerError","staticRenderFns","model","value","modal","callback","$$v","$set","expression","formatTitle","close","isValidFormActivityType","rules","general","typeActivity","tabs","index","hex","isValidColorChoose","_e","isValidColorCustom","isLoadingActivityType","isEdit","updateTypeActivity","saveActivityType","titleActionButton","mixins","props","type","Array","default","data","modalId","colors","watch","handler","order","isColorDefault","reset","computed","get","set","valueColor","methods","some","changeModal","status","item","checkValidColor","undefined","$refs","formActivityType","validate","createActivityType","getColor","$apollo","resetValidation","component","VBtn","VCard","VCardActions","VCardText","VCardTitle","VChip","VChipGroup","VColorPicker","VDialog","VDivider","VForm","VIcon","VRow","VSpacer","VTab","VTabItem","VTabs","VTextField","components","ModalActivityType","draggable","BaseModalDeleteItem","isOpenModalSelectCalendar","isLoadingAddCalendar","isLoadingRemoveCalendar","title","subtitle","description","itemTypeActivitySelected","changeCalendar","selectedCalendar","getGmailUri","listCalendar","userCurrent","isLoading","isLoadingRemove","newValue","sendTokenCalendar","immediate","existIntegration","integrations","find","sortList","list","hasCalendarIntegration","hasCalendarComplete","calendar","keyItem","hasSelectCalendar","getCalendarIntegracionId","saveCalendar","setCalendar","sort","a","b","typeIndex","addCalendar","window","location","href","url","remove","queries","refetch","isOpen","message","nameItem","text","infoDelete","apollo","getCalendarUri","query","skip","fetchPolicy","VList","VListItem","VListItemAction","VListItemContent","VListItemTitle","VTooltip"],"mappings":"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","file":"js/chunk-3ba394e6.2a7a22bc.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"d-flex justify-center\"},[_c('v-card',{attrs:{\"tile\":\"\",\"flat\":\"\",\"width\":\"36rem\",\"height\":\"30em\"}},[_c('div',{staticClass:\"d-flex justify-space-between pa-4 primary\"},[_c('span',{staticClass:\"title-activities-types mt-2 white--text\"},[_vm._v(\" Tipos de actividades \")]),_c('v-btn',{attrs:{\"fab\":\"\",\"small\":\"\",\"color\":\"secondary\"},on:{\"click\":_vm.openModalActivityType}},[_c('v-icon',[_vm._v(\"mdi-plus\")])],1)],1),(_vm.activityTypes && _vm.activityTypes.length > 0)?_c('div',{staticStyle:{\"max-height\":\"85%\",\"overflow-y\":\"auto\"}},[_c('v-list',{attrs:{\"dense\":\"\"}},[_c('draggable',{attrs:{\"list\":_vm.listActivityTypes,\"handle\":\".handle\"},on:{\"change\":_vm.changeOrder}},[_c('transition-group',[_vm._l((_vm.listActivityTypes),function(activityType){return [_c('v-list-item',{key:activityType.id,staticClass:\"item-type-activity\",attrs:{\"dense\":\"\"}},[_c('v-list-item-action',[_c('v-btn',{staticClass:\"handle\",attrs:{\"small\":\"\",\"icon\":\"\"}},[_c('v-icon',[_vm._v(\"mdi-menu\")])],1)],1),_c('v-list-item-content',[_c('v-list-item-title',[_c('v-chip',{attrs:{\"color\":activityType.color,\"text-color\":_vm.getBestColor(activityType.color)}},[_vm._v(\" \"+_vm._s(activityType.name)+\" \")])],1)],1),_c('v-list-item-action',[_c('v-tooltip',{attrs:{\"top\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('div',_vm._g({},on),[_c('v-btn',_vm._b({attrs:{\"color\":\"primary\",\"x-small\":\"\",\"outlined\":\"\",\"disabled\":activityType.activitiesCount > 0},on:{\"click\":function($event){return _vm.openModalRemoveTypeActivity(activityType)}}},'v-btn',attrs,false),[_c('v-icon',{attrs:{\"small\":\"\",\"color\":\"primary\"}},[_vm._v(\" mdi-delete \")])],1)],1)]}}],null,true)},[_c('span',[(activityType.activitiesCount > 0)?[_vm._v(\" No se puede eliminar, tienes \"+_vm._s(activityType.activitiesCount)+\" \"+_vm._s(activityType.activitiesCount === 1 ? 'actividad' : 'actividades')+\" \")]:[_vm._v(\" Eliminar \")]],2)])],1),_c('v-list-item-action',[_c('v-tooltip',{attrs:{\"top\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({attrs:{\"color\":\"secondary\",\"x-small\":\"\"},on:{\"click\":function($event){return _vm.editTypeActivity(activityType)}}},'v-btn',attrs,false),on),[_c('v-icon',{attrs:{\"small\":\"\",\"color\":\"white\"}},[_vm._v(\"mdi-pencil\")])],1)]}}],null,true)},[_c('span',[_vm._v(\" Editar \")])])],1)],1)]})],2)],1)],1)],1):_c('div',{staticClass:\"d-flex flex-column align-center justify-center full-heigth\"},[_c('v-icon',{attrs:{\"large\":\"\"}},[_vm._v(\"mdi-calendar-remove\")]),_c('p',{staticClass:\"text-center pb-12\"},[_vm._v(\" No tienes tipos de actividades \")])],1)]),_c('BaseModalDeleteItem',{attrs:{\"dialog\":_vm.isOpenDelete,\"config\":_vm.configModalDelete,\"isLoading\":_vm.isLoadingDelete,\"item\":_vm.itemSelected},on:{\"update:dialog\":function($event){_vm.isOpenDelete=$event},\"remove\":_vm.removeTokenCalendar}}),_c('ModalActivityType',{attrs:{\"activityTypes\":_vm.listActivityTypes},on:{\"refetch\":_vm.updateTypeActivities}}),_c('BaseModalDelete',{attrs:{\"modalHandler\":_vm.modalDelete},on:{\"cancel\":_vm.modalHandlerDelete,\"confirm\":_vm.removeTypeActivity}}),_c('BaseModalError',{attrs:{\"modalHandler\":_vm.modalError},on:{\"close\":_vm.modalHandlerError}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-row',[_c('v-dialog',{attrs:{\"scrollable\":\"\",\"max-width\":\"430px\",\"persistent\":\"\"},model:{value:(_vm.modal.status),callback:function ($$v) {_vm.$set(_vm.modal, \"status\", $$v)},expression:\"modal.status\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"primary white--text\"},[_vm._v(\" \"+_vm._s(_vm.formatTitle)+\" \"),_c('v-spacer'),_c('v-btn',{attrs:{\"icon\":\"\",\"color\":\"white\"},on:{\"click\":_vm.close}},[_c('v-icon',[_vm._v(\"mdi-close\")])],1)],1),_c('v-divider'),_c('v-card-text',{staticClass:\"py-3\"},[_c('v-form',{ref:\"formActivityType\",model:{value:(_vm.isValidFormActivityType),callback:function ($$v) {_vm.isValidFormActivityType=$$v},expression:\"isValidFormActivityType\"}},[_c('v-text-field',{attrs:{\"outlined\":\"\",\"dense\":\"\",\"rules\":_vm.rules.general,\"hide-details\":\"auto\",\"label\":\"Nombre de tipo de actividad\",\"required\":\"\",\"maxlength\":\"30\",\"counter\":\"\"},model:{value:(_vm.typeActivity.name),callback:function ($$v) {_vm.$set(_vm.typeActivity, \"name\", $$v)},expression:\"typeActivity.name\"}})],1),_c('v-tabs',{attrs:{\"grow\":\"\"},model:{value:(_vm.tabs),callback:function ($$v) {_vm.tabs=$$v},expression:\"tabs\"}},[_c('v-tab',{attrs:{\"href\":\"#choose\"}},[_vm._v(\"Elige un color\")]),_c('v-tab',{attrs:{\"href\":\"#custom\"}},[_vm._v(\"Personalizar color\")]),_c('v-tab-item',{attrs:{\"value\":\"choose\"}},[_c('div',{staticClass:\"mt-3 d-flex justify-center\"},[_c('v-chip-group',{attrs:{\"column\":\"\"},model:{value:(_vm.typeActivity.color),callback:function ($$v) {_vm.$set(_vm.typeActivity, \"color\", $$v)},expression:\"typeActivity.color\"}},_vm._l((_vm.colors),function(color,index){return _c('v-chip',{key:index,attrs:{\"color\":color.hex,\"value\":color.hex,\"dark\":\"\"}},[_c('v-icon',{attrs:{\"color\":\"white\"}},[_vm._v(\" \"+_vm._s(color.hex === _vm.typeActivity.color ? 'mdi-check-bold' : 'mdi-invert-colors')+\" \")])],1)}),1)],1),(!_vm.isValidColorChoose)?_c('div',{staticClass:\"d-flex justify-center mt-2\"},[_c('span',{staticClass:\"error--text\"},[_vm._v(\"Debes seleccionar un color\")])]):_vm._e()]),_c('v-tab-item',{attrs:{\"value\":\"custom\"}},[_c('div',{staticClass:\"mt-3 d-flex justify-center\"},[_c('v-color-picker',{attrs:{\"flat\":\"\",\"dot-size\":\"30\",\"hide-mode-switch\":\"\",\"mode\":\"hexa\"},model:{value:(_vm.color),callback:function ($$v) {_vm.color=$$v},expression:\"color\"}})],1),(!_vm.isValidColorCustom)?_c('div',{staticClass:\"d-flex justify-center mt-2\"},[_c('span',{staticClass:\"error--text\"},[_vm._v(\"Debes seleccionar un color\")])]):_vm._e()])],1)],1),_c('v-divider'),_c('v-card-actions',[_c('v-btn',{attrs:{\"color\":\"secondary\",\"outlined\":\"\"},on:{\"click\":_vm.close}},[_vm._v(\" Cancelar \")]),_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"secondary\",\"loading\":_vm.isLoadingActivityType},on:{\"click\":function($event){_vm.modal.isEdit ? _vm.updateTypeActivity() : _vm.saveActivityType()}}},[_vm._v(\" \"+_vm._s(_vm.titleActionButton)+\" \")])],1)],1)],1),_c('BaseModalError',{attrs:{\"modalHandler\":_vm.modalError},on:{\"close\":_vm.modalHandlerError}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-row>\n    <v-dialog v-model=\"modal.status\" scrollable max-width=\"430px\" persistent>\n      <v-card>\n        <v-card-title class=\"primary white--text\">\n          {{ formatTitle }}\n          <v-spacer />\n          <v-btn icon color=\"white\" @click=\"close\">\n            <v-icon>mdi-close</v-icon>\n          </v-btn>\n        </v-card-title>\n        <v-divider></v-divider>\n        <v-card-text class=\"py-3\">\n          <v-form ref=\"formActivityType\" v-model=\"isValidFormActivityType\">\n            <v-text-field\n              v-model=\"typeActivity.name\"\n              outlined\n              dense\n              :rules=\"rules.general\"\n              hide-details=\"auto\"\n              label=\"Nombre de tipo de actividad\"\n              required\n              maxlength=\"30\"\n              counter\n            ></v-text-field>\n          </v-form>\n          <v-tabs grow v-model=\"tabs\">\n            <v-tab href=\"#choose\">Elige un color</v-tab>\n            <v-tab href=\"#custom\">Personalizar color</v-tab>\n            <v-tab-item value=\"choose\">\n              <div class=\"mt-3 d-flex justify-center\">\n                <v-chip-group column v-model=\"typeActivity.color\">\n                  <v-chip\n                    v-for=\"(color, index) in colors\"\n                    :key=\"index\"\n                    :color=\"color.hex\"\n                    :value=\"color.hex\"\n                    dark\n                  >\n                    <v-icon color=\"white\">\n                      {{\n                        color.hex === typeActivity.color\n                          ? 'mdi-check-bold'\n                          : 'mdi-invert-colors'\n                      }}\n                    </v-icon>\n                  </v-chip>\n                </v-chip-group>\n              </div>\n              <div\n                v-if=\"!isValidColorChoose\"\n                class=\"d-flex justify-center mt-2\"\n              >\n                <span class=\"error--text\">Debes seleccionar un color</span>\n              </div>\n            </v-tab-item>\n            <v-tab-item value=\"custom\">\n              <div class=\"mt-3 d-flex justify-center\">\n                <v-color-picker\n                  v-model=\"color\"\n                  flat\n                  dot-size=\"30\"\n                  hide-mode-switch\n                  mode=\"hexa\"\n                ></v-color-picker>\n              </div>\n              <div\n                v-if=\"!isValidColorCustom\"\n                class=\"d-flex justify-center mt-2\"\n              >\n                <span class=\"error--text\">Debes seleccionar un color</span>\n              </div>\n            </v-tab-item>\n          </v-tabs>\n        </v-card-text>\n        <v-divider></v-divider>\n        <v-card-actions>\n          <v-btn color=\"secondary\" outlined @click=\"close\">\n            Cancelar\n          </v-btn>\n          <v-spacer></v-spacer>\n          <v-btn\n            color=\"secondary\"\n            :loading=\"isLoadingActivityType\"\n            @click=\"modal.isEdit ? updateTypeActivity() : saveActivityType()\"\n          >\n            {{ titleActionButton }}\n          </v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n    <BaseModalError :modalHandler=\"modalError\" @close=\"modalHandlerError\" />\n  </v-row>\n</template>\n\n<script>\nimport { lexoRankMixin } from '@/mixins/lexoRankMixin';\nimport { rulesMixin } from '@/mixins/rulesMixin';\nimport { modalMethodsMixin, modalApolloMixin } from '@/mixins/modalsMixin';\nimport { modalsAlertsMixin } from '@/mixins/alerts/modalsAlertsMixin';\nimport {\n  CREATE_ACTIVITY_TYPE,\n  UPDATE_ACTIVITY_TYPE,\n} from '@/graphql/mutations/activitiesMutations';\n\nexport default {\n  name: 'ModalActivityType',\n  mixins: [\n    modalMethodsMixin,\n    modalApolloMixin,\n    rulesMixin,\n    lexoRankMixin,\n    modalsAlertsMixin,\n  ],\n  props: {\n    activityTypes: {\n      type: Array,\n      default: () => {\n        return [];\n      },\n    },\n  },\n  data() {\n    return {\n      isLoadingActivityType: false,\n      tabs: '',\n      modalId: 'createActivityType',\n      modal: {},\n      typeActivity: {\n        name: '',\n        color: '',\n      },\n      isValidColorChoose: true,\n      isValidColorCustom: true,\n      isValidFormActivityType: true,\n      hex: '#FFFFFF',\n      colors: [\n        {\n          name: 'Verde',\n          hex: '#08a742',\n        },\n        {\n          name: 'Rojo',\n          hex: '#f94839',\n        },\n        {\n          name: 'Azul',\n          hex: '#317ae2',\n        },\n        {\n          name: 'Amarillo',\n          hex: '#fccf00',\n        },\n        {\n          name: 'Morado',\n          hex: '#721ea9',\n        },\n        {\n          name: 'Gris',\n          hex: '#dcdddd',\n        },\n      ],\n    };\n  },\n  watch: {\n    'typeActivity.color': {\n      handler() {\n        this.isValidColorChoose = true;\n      },\n    },\n    'modal.isEdit': {\n      handler(isEdit) {\n        if (isEdit) {\n          const { name, color, order } = this.modal.item;\n          this.typeActivity = {\n            name,\n            color,\n            order,\n          };\n\n          if (this.isColorDefault(color)) {\n            // Default tab color\n            this.tabs = 'choose';\n          } else {\n            // If the color is custom\n            this.tabs = 'custom';\n            this.hex = color;\n          }\n        } else {\n          this.reset();\n        }\n      },\n    },\n  },\n  computed: {\n    color: {\n      get() {\n        return this.hex;\n      },\n      set(valueColor) {\n        this.hex = valueColor;\n      },\n    },\n    formatTitle() {\n      return this.modal.isEdit\n        ? 'Editar tipo de actividad'\n        : 'Crear tipo de actividad';\n    },\n\n    titleActionButton() {\n      return this.modal.isEdit ? 'Actualizar' : 'Crear';\n    },\n  },\n  methods: {\n    isColorDefault(color) {\n      return this.colors.some((item) => item.hex === color);\n    },\n    close() {\n      this.changeModal({\n        id: this.modalId,\n        status: false,\n        isEdit: false,\n        item: null,\n      });\n    },\n    checkValidColor() {\n      if (this.tabs === 'choose') {\n        this.isValidColorChoose =\n          this.typeActivity.color !== undefined &&\n          this.typeActivity.color !== '';\n        this.isValidColorCustom = true;\n      } else {\n        this.isValidColorChoose = true;\n        this.isValidColorCustom = this.color !== undefined && this.color !== '';\n      }\n    },\n    saveActivityType() {\n      this.$refs.formActivityType.validate();\n      this.checkValidColor();\n      if (\n        this.isValidFormActivityType &&\n        this.isValidColorChoose &&\n        this.isValidColorCustom\n      ) {\n        this.createActivityType({\n          name: this.typeActivity.name,\n          color: this.getColor(),\n        });\n      }\n    },\n    getColor() {\n      if (this.tabs === 'choose') {\n        // Valid name and color default\n        if (\n          this.isValidFormActivityType &&\n          this.isValidColorChoose &&\n          this.isValidColorCustom\n        ) {\n          return this.typeActivity.color;\n        }\n        // Valid name and color custom\n      } else if (this.isValidFormActivityType && this.isValidColorCustom) {\n        return this.hex;\n      }\n      return '';\n    },\n    createActivityType({ name, color }) {\n      this.isLoadingActivityType = true;\n      const order = this.createNewOrder(this.activityTypes);\n      this.$apollo\n        .mutate({\n          // Query\n          mutation: CREATE_ACTIVITY_TYPE,\n          // Parameters\n          variables: {\n            activityTypeInput: {\n              name,\n              color,\n              order,\n            },\n          },\n        })\n        .then(() => {\n          // Result\n          this.$emit('refetch');\n          this.close();\n          this.reset();\n          this.isLoadingActivityType = false;\n        })\n        .catch(() => {\n          // Error\n          const error =\n            'No se pudo crear el tipo de actividad, intente de nuevo o contacte a soporte';\n          this.modalHandlerError({ isOpen: true, error });\n          this.isLoadingActivityType = false;\n        });\n    },\n    updateTypeActivity() {\n      this.isLoadingActivityType = true;\n\n      const { id } = this.modal.item;\n      const { name } = this.typeActivity;\n      const color = this.getColor();\n      this.$apollo\n        .mutate({\n          // Query\n          mutation: UPDATE_ACTIVITY_TYPE,\n          // Parameters\n          variables: {\n            activityTypeInput: {\n              id,\n              name,\n              color,\n            },\n          },\n        })\n        .then(() => {\n          // Result\n          this.$emit('refetch');\n          this.isLoadingActivityType = false;\n          this.close();\n        })\n        .catch(() => {\n          this.isLoadingActivityType = false;\n\n          // Error\n          const error =\n            'No se pudo actualizar el tipo de actividad, intente de nuevo o contacte a soporte';\n          this.modalHandlerError({ isOpen: true, error });\n        });\n    },\n    reset() {\n      this.typeActivity = {\n        name: '',\n        color: '',\n      };\n      this.isValidColorChoose = true;\n      this.isValidColorCustom = true;\n      this.tabs = 'choose';\n      if (this.$refs.formActivityType) {\n        this.$refs.formActivityType.resetValidation();\n      }\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped></style>\n","import mod from \"-!../../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/@vue/cli-plugin-babel/node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ModalActivityType.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/@vue/cli-plugin-babel/node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ModalActivityType.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ModalActivityType.vue?vue&type=template&id=e49620cc&scoped=true&\"\nimport script from \"./ModalActivityType.vue?vue&type=script&lang=js&\"\nexport * from \"./ModalActivityType.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e49620cc\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VChip } from 'vuetify/lib/components/VChip';\nimport { VChipGroup } from 'vuetify/lib/components/VChipGroup';\nimport { VColorPicker } from 'vuetify/lib/components/VColorPicker';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTab } from 'vuetify/lib/components/VTabs';\nimport { VTabItem } from 'vuetify/lib/components/VTabs';\nimport { VTabs } from 'vuetify/lib/components/VTabs';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VCardTitle,VChip,VChipGroup,VColorPicker,VDialog,VDivider,VForm,VIcon,VRow,VSpacer,VTab,VTabItem,VTabs,VTextField})\n","<template>\n  <div class=\"d-flex justify-center\">\n    <v-card tile flat width=\"36rem\" height=\"30em\">\n      <div class=\"d-flex justify-space-between pa-4 primary\">\n        <span class=\"title-activities-types mt-2 white--text\">\n          Tipos de actividades\n        </span>\n        <v-btn fab small color=\"secondary\" @click=\"openModalActivityType\">\n          <v-icon>mdi-plus</v-icon>\n        </v-btn>\n      </div>\n      <div\n        v-if=\"activityTypes && activityTypes.length > 0\"\n        style=\"max-height: 85%; overflow-y: auto;\"\n      >\n        <v-list dense>\n          <draggable\n            :list=\"listActivityTypes\"\n            handle=\".handle\"\n            @change=\"changeOrder\"\n          >\n            <transition-group>\n              <template v-for=\"activityType in listActivityTypes\">\n                <v-list-item\n                  :key=\"activityType.id\"\n                  dense\n                  class=\"item-type-activity\"\n                >\n                  <v-list-item-action>\n                    <v-btn small icon class=\"handle\">\n                      <v-icon>mdi-menu</v-icon>\n                    </v-btn>\n                  </v-list-item-action>\n                  <v-list-item-content>\n                    <v-list-item-title>\n                      <v-chip\n                        :color=\"activityType.color\"\n                        :text-color=\"getBestColor(activityType.color)\"\n                      >\n                        {{ activityType.name }}\n                      </v-chip>\n                    </v-list-item-title>\n                  </v-list-item-content>\n                  <v-list-item-action>\n                    <v-tooltip top>\n                      <template v-slot:activator=\"{ on, attrs }\">\n                        <div v-on=\"on\">\n                          <v-btn\n                            color=\"primary\"\n                            v-bind=\"attrs\"\n                            x-small\n                            outlined\n                            @click=\"openModalRemoveTypeActivity(activityType)\"\n                            :disabled=\"activityType.activitiesCount > 0\"\n                          >\n                            <v-icon small color=\"primary\">\n                              mdi-delete\n                            </v-icon>\n                          </v-btn>\n                        </div>\n                      </template>\n                      <span>\n                        <template v-if=\"activityType.activitiesCount > 0\">\n                          No se puede eliminar, tienes\n                          {{ activityType.activitiesCount }}\n                          {{\n                            activityType.activitiesCount === 1\n                              ? 'actividad'\n                              : 'actividades'\n                          }}\n                        </template>\n                        <template v-else>\n                          Eliminar\n                        </template>\n                      </span>\n                    </v-tooltip>\n                  </v-list-item-action>\n                  <v-list-item-action>\n                    <v-tooltip top>\n                      <template v-slot:activator=\"{ on, attrs }\">\n                        <v-btn\n                          v-on=\"on\"\n                          v-bind=\"attrs\"\n                          color=\"secondary\"\n                          x-small\n                          @click=\"editTypeActivity(activityType)\"\n                        >\n                          <v-icon small color=\"white\">mdi-pencil</v-icon>\n                        </v-btn>\n                      </template>\n                      <span>\n                        Editar\n                      </span>\n                    </v-tooltip>\n                  </v-list-item-action>\n                </v-list-item>\n              </template>\n            </transition-group>\n          </draggable>\n        </v-list>\n      </div>\n      <div\n        v-else\n        class=\"d-flex flex-column align-center justify-center full-heigth\"\n      >\n        <v-icon large>mdi-calendar-remove</v-icon>\n        <p class=\"text-center pb-12\">\n          No tienes tipos de actividades\n        </p>\n      </div>\n    </v-card>\n    <BaseModalDeleteItem\n      :dialog.sync=\"isOpenDelete\"\n      :config=\"configModalDelete\"\n      :isLoading=\"isLoadingDelete\"\n      :item=\"itemSelected\"\n      @remove=\"removeTokenCalendar\"\n    ></BaseModalDeleteItem>\n    <ModalActivityType\n      :activityTypes=\"listActivityTypes\"\n      @refetch=\"updateTypeActivities\"\n    ></ModalActivityType>\n    <BaseModalDelete\n      :modalHandler=\"modalDelete\"\n      @cancel=\"modalHandlerDelete\"\n      @confirm=\"removeTypeActivity\"\n    />\n    <BaseModalError :modalHandler=\"modalError\" @close=\"modalHandlerError\" />\n  </div>\n</template>\n\n<script>\nimport draggable from 'vuedraggable';\nimport { lexoRankMixin } from '@/mixins/lexoRankMixin';\nimport { tagsMixin } from '@/mixins/tagsMixin';\nimport { modalMethodsMixin, modalApolloMixin } from '@/mixins/modalsMixin';\nimport ModalActivityType from '@/components/activities/ModalActivityType.vue';\nimport {\n  SET_CALENDAR,\n  SET_TOKEN_CALENDAR,\n  REMOVE_TOKEN_CALENDAR,\n  DELETE_ACTIVITY_TYPE,\n  UPDATE_ACTIVITY_TYPE,\n} from '@/graphql/mutations/activitiesMutations';\nimport {\n  GET_CALENDAR_URI,\n  GET_LIST_CALENDAR,\n  GET_ACTIVITIES_TYPES,\n} from '@/graphql/querys/activitiesQuery';\nimport { GET_USER_LOGGED } from '@/graphql/local-state/queries';\nimport BaseModalDeleteItem from '@/components/ui/BaseModalDeleteItem.vue';\nimport { modalsAlertsMixin } from '@/mixins/alerts/modalsAlertsMixin';\n\nexport default {\n  name: 'TypeActivities',\n  mixins: [\n    modalMethodsMixin,\n    modalApolloMixin,\n    tagsMixin,\n    lexoRankMixin,\n    modalsAlertsMixin,\n  ],\n  components: {\n    ModalActivityType,\n    draggable,\n    BaseModalDeleteItem,\n  },\n  data() {\n    return {\n      isOpenModalSelectCalendar: false,\n      isLoadingAddCalendar: false,\n      isLoadingRemoveCalendar: false,\n      isLoadingDelete: false,\n      configModalDelete: {\n        title: 'Desvincular calendario',\n        subtitle: 'Estas por quitar tu calendario',\n        description: 'Se perderán tus datos de actividades, ¿estás seguro?',\n      },\n      itemSelected: {},\n      itemTypeActivitySelected: {},\n      isOpenDelete: false,\n      changeCalendar: false,\n      activityTypes: [],\n      selectedCalendar: '',\n      getGmailUri: '',\n      listCalendar: [],\n      userCurrent: {},\n      isLoading: false,\n      isLoadingRemove: false,\n    };\n  },\n  watch: {\n    '$route.query.code': {\n      handler(newValue) {\n        if (newValue) {\n          this.sendTokenCalendar();\n        }\n      },\n      immediate: true,\n    },\n    'userCurrent.integrations': {\n      handler(integrations) {\n        if (integrations?.length > 0) {\n          const existIntegration = integrations.some(\n            (integration) => integration.name === 'googleCalendar',\n          );\n          if (existIntegration) {\n            this.selectedCalendar = integrations.find(\n              (integration) => integration.name === 'googleCalendar',\n            ).keyItem;\n\n            if (this.selectedCalendar === '') {\n              this.isOpenModalSelectCalendar = true;\n            }\n          }\n        }\n      },\n    },\n  },\n  computed: {\n    listActivityTypes() {\n      if (this.activityTypes) {\n        const list = [...this.activityTypes];\n        return this.sortList(list);\n      }\n      return [];\n    },\n    hasCalendarIntegration() {\n      if (this.userCurrent.integrations) {\n        return this.userCurrent.integrations.some(\n          (integration) => integration.name === 'googleCalendar',\n        );\n      }\n      return true;\n    },\n    hasCalendarComplete() {\n      if (this.userCurrent.integrations) {\n        const calendar = this.userCurrent.integrations.find(\n          (integration) => integration.name === 'googleCalendar',\n        );\n        if (calendar && calendar.id && calendar.keyItem) {\n          return true;\n        }\n        return false;\n      }\n      return false;\n    },\n    hasSelectCalendar() {\n      if (this.userCurrent.integrations) {\n        return this.userCurrent.integrations.find(\n          (integration) => integration.name === 'googleCalendar',\n        ).keyItem;\n      }\n      return false;\n    },\n    getCalendarIntegracionId() {\n      if (this.hasCalendarIntegration) {\n        const id = this.userCurrent.integrations.find(\n          (integration) => integration.name === 'googleCalendar',\n        ).keyItem;\n\n        if (id) {\n          const item = this.listCalendar.find((list) => list.id === id);\n\n          return item?.summary || '';\n        }\n      }\n      return '';\n    },\n  },\n  methods: {\n    saveCalendar(selectedCalendar) {\n      this.selectedCalendar = selectedCalendar;\n      this.setCalendar();\n    },\n    sortList(list) {\n      return list.sort((a, b) => {\n        return a.order > b.order ? 1 : -1;\n      });\n    },\n    changeOrder({ moved }) {\n      const list = [...this.listActivityTypes];\n      const order = this.updateOrder(\n        moved.newIndex,\n        moved.oldIndex,\n        this.sortList(list),\n      );\n\n      const { id } = this.listActivityTypes[moved.newIndex];\n      const typeIndex = this.activityTypes.findIndex((type) => type.id === id);\n\n      this.activityTypes[typeIndex].order = order;\n\n      this.updateTypeActivity({ ...moved.element, order });\n    },\n    openModalActivityType() {\n      this.changeModal({\n        id: 'createActivityType',\n        status: true,\n      });\n    },\n    addCalendar() {\n      const url = this.getCalendarUri;\n      window.location.href = url;\n    },\n    sendTokenCalendar() {\n      const codeToken = this.$route.query.code;\n      this.$apollo\n        .mutate({\n          mutation: SET_TOKEN_CALENDAR,\n          variables: {\n            codeToken,\n          },\n          update: (store, { data: { syncronizeGoogleCalendar } }) => {\n            if (syncronizeGoogleCalendar.success) {\n              const data = store.readQuery({ query: GET_USER_LOGGED });\n              data.userCurrent.integrations.push({\n                __typename: 'Integration',\n                id: Math.random()\n                  .toString(36)\n                  .slice(2),\n                name: 'googleCalendar',\n                email: syncronizeGoogleCalendar.email,\n                keyItem: '',\n              });\n              store.writeQuery({ query: GET_USER_LOGGED, data });\n            }\n          },\n        })\n        .then(({ data: { syncronizeGoogleCalendar } }) => {\n          this.isLoadingAddEmail = false;\n          if (!syncronizeGoogleCalendar.success) {\n            this.$router.push({ name: 'settings-calendar' });\n          }\n        })\n        .catch(() => {});\n    },\n    remove() {\n      this.itemSelected = { name: this.getCalendarIntegracionId };\n      this.changeModal({ id: 'deleteTemplateEmail', status: true });\n    },\n    removeTokenCalendar() {\n      this.isLoadingDelete = true;\n      this.isLoadingRemoveCalendar = true;\n      this.$apollo\n        .mutate({\n          mutation: REMOVE_TOKEN_CALENDAR,\n          update: (store, { data: { desynchronizeGoogleCalendar } }) => {\n            if (desynchronizeGoogleCalendar) {\n              const data = store.readQuery({ query: GET_USER_LOGGED });\n              data.userCurrent.integrations = this.userCurrent.integrations.filter(\n                (integration) => integration.name !== 'googleCalendar',\n              );\n              store.writeQuery({ query: GET_USER_LOGGED, data });\n            }\n          },\n        })\n        .then(() => {\n          this.isLoadingRemoveCalendar = false;\n          this.isLoadingDelete = false;\n          this.changeModal({ id: 'deleteTemplateEmail', status: false });\n        })\n        .catch(() => {\n          this.isLoadingRemoveCalendar = false;\n          this.isLoadingDelete = false;\n        });\n    },\n    setCalendar() {\n      this.isLoadingAddCalendar = true;\n      const calendarId = this.selectedCalendar;\n\n      this.$apollo\n        .mutate({\n          // Query\n          mutation: SET_CALENDAR,\n          // Parameters\n          variables: {\n            calendarId,\n          },\n          update: (store, { data: { setPrimaryCalendar } }) => {\n            if (setPrimaryCalendar.success) {\n              const data = store.readQuery({ query: GET_USER_LOGGED });\n              const index = data.userCurrent.integrations.findIndex(\n                (integration) => integration.name === 'googleCalendar',\n              );\n              data.userCurrent.integrations[\n                index\n              ].keyItem = this.selectedCalendar;\n              store.writeQuery({ query: GET_USER_LOGGED, data });\n            }\n          },\n        })\n        .then(() => {\n          this.isLoadingAddCalendar = false;\n          this.changeCalendar = false;\n          this.isOpenModalSelectCalendar = false;\n        })\n        .catch(() => {\n          this.isLoadingAddCalendar = false;\n          this.changeCalendar = false;\n          this.isOpenModalSelectCalendar = false;\n        });\n    },\n    updateTypeActivities() {\n      this.$apollo.queries.activityTypes.refetch();\n    },\n    updateTypeActivity(typeActivity) {\n      const { id, order } = typeActivity;\n      this.$apollo\n        .mutate({\n          // Query\n          mutation: UPDATE_ACTIVITY_TYPE,\n          // Parameters\n          variables: {\n            activityTypeInput: {\n              id,\n              order,\n            },\n          },\n        })\n        .then(() => {\n          // Result\n          // console.log(data);\n          this.updateTypeActivities();\n        })\n        .catch(() => {});\n    },\n    openModalRemoveTypeActivity(activityType) {\n      this.modalHandlerDelete({\n        isOpen: true,\n        isLoading: false,\n        message: {\n          nameItem: `El tipo de actividad ${activityType.name}`,\n          text: 'será eliminado',\n        },\n        infoDelete: {\n          data: activityType,\n        },\n      });\n    },\n    removeTypeActivity({ isOpen, isLoading, message, infoDelete }) {\n      this.modalHandlerDelete({ isOpen, isLoading, message, infoDelete });\n      const { id } = infoDelete.data;\n      this.$apollo\n        .mutate({\n          // Query\n          mutation: DELETE_ACTIVITY_TYPE,\n          // Parameters\n          variables: {\n            activityTypeId: id,\n          },\n        })\n        .then(() => {\n          this.modalHandlerDelete({\n            isOpen: false,\n            isLoading,\n            message,\n            infoDelete,\n          });\n          this.updateTypeActivities();\n        })\n        .catch(() => {\n          this.modalHandlerDelete({\n            isOpen: false,\n            isLoading,\n            message,\n            infoDelete,\n          });\n          const error =\n            'No se pudo eliminar el tipo de actividad, intente de nuevo o contacte a soporte';\n          this.modalHandlerError({ isOpen: true, error });\n        });\n    },\n    editTypeActivity(typeActivity) {\n      this.changeModal({\n        id: 'createActivityType',\n        status: true,\n        item: typeActivity,\n        isEdit: true,\n      });\n    },\n  },\n  apollo: {\n    getCalendarUri: {\n      query: GET_CALENDAR_URI,\n    },\n    listCalendar: {\n      query: GET_LIST_CALENDAR,\n      skip() {\n        return !this.hasCalendarIntegration;\n      },\n    },\n    userCurrent: {\n      query: GET_USER_LOGGED,\n    },\n    activityTypes: {\n      fetchPolicy: 'no-cache',\n      query: GET_ACTIVITIES_TYPES,\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import '{ .settings-calendar-box, .full-heigth, .title-activities-types, .item-type-activity } from ../../../../scss/views/settings.calendar';\n</style>\n","import mod from \"-!../../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/@vue/cli-plugin-babel/node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./TypeActivities.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/@vue/cli-plugin-babel/node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./TypeActivities.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TypeActivities.vue?vue&type=template&id=3d1481e2&scoped=true&\"\nimport script from \"./TypeActivities.vue?vue&type=script&lang=js&\"\nexport * from \"./TypeActivities.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TypeActivities.vue?vue&type=style&index=0&id=3d1481e2&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3d1481e2\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VChip } from 'vuetify/lib/components/VChip';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemAction } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VTooltip } from 'vuetify/lib/components/VTooltip';\ninstallComponents(component, {VBtn,VCard,VChip,VIcon,VList,VListItem,VListItemAction,VListItemContent,VListItemTitle,VTooltip})\n","export * from \"-!../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./TypeActivities.vue?vue&type=style&index=0&id=3d1481e2&lang=scss&scoped=true&\""],"sourceRoot":""}